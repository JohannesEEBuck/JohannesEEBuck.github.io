/*!
 * jQuery JavaScript Library v1.12.0
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2016-01-08T19:56Z
 */

/*!
 * Sizzle CSS Selector Engine v2.2.1
 * http://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2015-10-17
 */

/*! jQuery UI - v1.11.4 - 2016-04-12
* http://jqueryui.com
* Includes: core.js, widget.js, mouse.js, position.js, draggable.js, resizable.js, button.js, datepicker.js, dialog.js, menu.js, selectmenu.js, slider.js, tooltip.js, effect.js, effect-blind.js, effect-bounce.js, effect-clip.js, effect-drop.js, effect-explode.js, effect-fade.js, effect-fold.js, effect-highlight.js, effect-puff.js, effect-pulsate.js, effect-scale.js, effect-shake.js, effect-size.js, effect-slide.js, effect-transfer.js
* Copyright jQuery Foundation and other contributors; Licensed MIT */

/*!
 * jQuery UI Core 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */

/*!
 * jQuery UI Widget 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/jQuery.widget/
 */

/*!
 * jQuery UI Mouse 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/mouse/
 */

/*!
 * jQuery UI Position 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/position/
 */

/*!
 * jQuery UI Draggable 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/draggable/
 */

/*!
 * jQuery UI Resizable 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/resizable/
 */

/*!
 * jQuery UI Button 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/button/
 */

/*!
 * jQuery UI Datepicker 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/datepicker/
 */

/*!
 * jQuery UI Dialog 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/dialog/
 */

/*!
 * jQuery UI Menu 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/menu/
 */

/*!
 * jQuery UI Selectmenu 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/selectmenu
 */

/*!
 * jQuery UI Slider 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/slider/
 */

/*!
 * jQuery UI Tooltip 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/tooltip/
 */

/*!
 * jQuery UI Effects 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/effects-core/
 */

/*!
 * jQuery Color Animations v2.1.2
 * https://github.com/jquery/jquery-color
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * Date: Wed Jan 16 08:47:09 2013 -0600
 */

/*!
 * jQuery UI Effects Blind 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/blind-effect/
 */

/*!
 * jQuery UI Effects Bounce 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/bounce-effect/
 */

/*!
 * jQuery UI Effects Clip 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/clip-effect/
 */

/*!
 * jQuery UI Effects Drop 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/drop-effect/
 */

/*!
 * jQuery UI Effects Explode 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/explode-effect/
 */

/*!
 * jQuery UI Effects Fade 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/fade-effect/
 */

/*!
 * jQuery UI Effects Fold 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/fold-effect/
 */

/*!
 * jQuery UI Effects Highlight 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/highlight-effect/
 */

/*!
 * jQuery UI Effects Size 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/size-effect/
 */

/*!
 * jQuery UI Effects Scale 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/scale-effect/
 */

/*!
 * jQuery UI Effects Puff 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/puff-effect/
 */

/*!
 * jQuery UI Effects Pulsate 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/pulsate-effect/
 */

/*!
 * jQuery UI Effects Shake 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/shake-effect/
 */

/*!
 * jQuery UI Effects Slide 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/slide-effect/
 */

/*!
 * jQuery UI Effects Transfer 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/transfer-effect/
 */

/*
	Masked Input plugin for jQuery
	Copyright (c) 2007-2013 Josh Bush (digitalbush.com)
	Licensed under the MIT license (http://digitalbush.com/projects/masked-input-plugin/#license)
	Version: 1.3.1
*/

/*
The jQuery UI Month Picker Version 3.0.0
https://github.com/KidSysco/jquery-ui-month-picker/

Copyright (C) 2007 Free Software Foundation, Inc. <http://fsf.org/>
This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program.  If not, see 
<http://www.gnu.org/licenses/gpl-3.0.txt>.

*/

/*
 Leaflet, a JavaScript library for mobile-friendly interactive maps. http://leafletjs.com
 (c) 2010-2013, Vladimir Agafonkin
 (c) 2010-2011, CloudMade
*/

/**
 * Title: jqPlot Charts
 *
 * Pure JavaScript plotting plugin for jQuery.
 *
 * About: Version
 *
 * version: 1.0.8
 * revision: 1250
 *
 * About: Copyright & License
 *
 * Copyright (c) 2009-2013 Chris Leonello
 * jqPlot is currently available for use in all personal or commercial projects
 * under both the MIT and GPL version 2.0 licenses. This means that you can
 * choose the license that best suits your project and use it accordingly.
 *
 * See <GPL Version 2> and <MIT License> contained within this distribution for further information.
 *
 * The author would appreciate an email letting him know of any substantial
 * use of jqPlot.  You can reach the author at: chris at jqplot dot com
 * or see http://www.jqplot.com/info.php.  This is, of course, not required.
 *
 * If you are feeling kind and generous, consider supporting the project by
 * making a donation at: http://www.jqplot.com/donate.php.
 *
 * sprintf functions contained in jqplot.sprintf.js by Ash Searle:
 *
 *     version 2007.04.27
 *     author Ash Searle
 *     http://hexmen.com/blog/2007/03/printf-sprintf/
 *     http://hexmen.com/js/sprintf.js
 *     The author (Ash Searle) has placed this code in the public domain:
 *     "This code is unrestricted: you are free to use it however you like."
 *
 *
 * About: Introduction
 *
 * jqPlot requires jQuery (1.4+ required for certain features). jQuery 1.4.2 is included in the distribution.
 * To use jqPlot include jQuery, the jqPlot jQuery plugin, the jqPlot css file and optionally
 * the excanvas script for IE support in your web page:
 *
 * > <!--[if lt IE 9]><script language="javascript" type="text/javascript" src="excanvas.js"></script><![endif]-->
 * > <script language="javascript" type="text/javascript" src="jquery-1.4.4.min.js"></script>
 * > <script language="javascript" type="text/javascript" src="jquery.jqplot.min.js"></script>
 * > <link rel="stylesheet" type="text/css" href="jquery.jqplot.css" />
 *
 * jqPlot can be customized by overriding the defaults of any of the objects which make
 * up the plot. The general usage of jqplot is:
 *
 * > chart = $.jqplot('targetElemId', [dataArray,...], {optionsObject});
 *
 * The options available to jqplot are detailed in <jqPlot Options> in the jqPlotOptions.txt file.
 *
 * An actual call to $.jqplot() may look like the
 * examples below:
 *
 * > chart = $.jqplot('chartdiv',  [[[1, 2],[3,5.12],[5,13.1],[7,33.6],[9,85.9],[11,219.9]]]);
 *
 * or
 *
 * > dataArray = [34,12,43,55,77];
 * > chart = $.jqplot('targetElemId', [dataArray, ...], {title:'My Plot', axes:{yaxis:{min:20, max:100}}});
 *
 * For more inforrmation, see <jqPlot Usage>.
 *
 * About: Usage
 *
 * See <jqPlot Usage>
 *
 * About: Available Options
 *
 * See <jqPlot Options> for a list of options available thorugh the options object (not complete yet!)
 *
 * About: Options Usage
 *
 * See <Options Tutorial>
 *
 * About: Changes
 *
 * See <Change Log>
 *
 */

// Copyright (c) 2009 - 2010 Faruk Ates.

/**
    * Copyright (c) 2010 Scott Prahl
    * The next three routines are currently available for use in all personal
    * or commercial projects under both the MIT and GPL version 2.0 licenses.
    * This means that you can choose the license that best suits your project
    * and use it accordingly.
    */

/**
     * @description
     * <p>Object with extended date parsing and formatting capabilities.
     * This library borrows many concepts and ideas from the Date Instance
     * Methods by Ken Snyder along with some parts of Ken's actual code.</p>
     *
     * <p>jsDate takes a different approach by not extending the built-in
     * Date Object, improving date parsing, allowing for multiple formatting
     * syntaxes and multiple and more easily expandable localization.</p>
     *
     * @author Chris Leonello
     * @date #date#
     * @version #VERSION#
     * @copyright (c) 2010-2013 Chris Leonello
     * jsDate is currently available for use in all personal or commercial projects
     * under both the MIT and GPL version 2.0 licenses. This means that you can
     * choose the license that best suits your project and use it accordingly.
     *
     * <p>Ken's original Date Instance Methods and copyright notice:</p>
     * <pre>
     * Ken Snyder (ken d snyder at gmail dot com)
     * 2008-09-10
     * version 2.0.2 (http://kendsnyder.com/sandbox/date/)
     * Creative Commons Attribution License 3.0 (http://creativecommons.org/licenses/by/3.0/)
     * </pre>
     *
     * @class
     * @name jsDate
     * @param  {String | Number | Array | Date&nbsp;Object | Options&nbsp;Object} arguments Optional arguments, either a parsable date/time string,
     * a JavaScript timestamp, an array of numbers of form [year, month, day, hours, minutes, seconds, milliseconds],
     * a Date object, or an options object of form {syntax: "perl", date:some Date} where all options are optional.
     */

/**
 * jqPlot
 * Pure JavaScript plotting plugin using jQuery
 *
 * Version: 1.0.8
 * Revision: 1250
 *
 * Copyright (c) 2009-2013 Chris Leonello
 * jqPlot is currently available for use in all personal or commercial projects 
 * under both the MIT (http://www.opensource.org/licenses/mit-license.php) and GPL 
 * version 2.0 (http://www.gnu.org/licenses/gpl-2.0.html) licenses. This means that you can 
 * choose the license that best suits your project and use it accordingly. 
 *
 * Although not required, the author would appreciate an email letting him 
 * know of any substantial use of jqPlot.  You can reach the author at: 
 * chris at jqplot dot com or see http://www.jqplot.com/info.php .
 *
 * If you are feeling kind and generous, consider supporting the project by
 * making a donation at: http://www.jqplot.com/donate.php .
 *
 * sprintf functions contained in jqplot.sprintf.js by Ash Searle:
 *
 *     version 2007.04.27
 *     author Ash Searle
 *     http://hexmen.com/blog/2007/03/printf-sprintf/
 *     http://hexmen.com/js/sprintf.js
 *     The author (Ash Searle) has placed this code in the public domain:
 *     "This code is unrestricted: you are free to use it however you like."
 * 
 */

/**
 * Suvorov Roman windj007@gmail.com (c) 2012
 * 
 */

/**
 * jqPlot
 * Pure JavaScript plotting plugin using jQuery
 *
 * Version: 1.0.8
 * Revision: 1250
 *
 * Copyright (c) 2009-2013 Chris Leonello
 * jqPlot is currently available for use in all personal or commercial projects
 * under both the MIT (http://www.opensource.org/licenses/mit-license.php) and GPL
 * version 2.0 (http://www.gnu.org/licenses/gpl-2.0.html) licenses. This means that you can
 * choose the license that best suits your project and use it accordingly.
 *
 * Although not required, the author would appreciate an email letting him
 * know of any substantial use of jqPlot.  You can reach the author at:
 * chris at jqplot dot com or see http://www.jqplot.com/info.php .
 *
 * If you are feeling kind and generous, consider supporting the project by
 * making a donation at: http://www.jqplot.com/donate.php .
 *
 * sprintf functions contained in jqplot.sprintf.js by Ash Searle:
 *
 *     version 2007.04.27
 *     author Ash Searle
 *     http://hexmen.com/blog/2007/03/printf-sprintf/
 *     http://hexmen.com/js/sprintf.js
 *     The author (Ash Searle) has placed this code in the public domain:
 *     "This code is unrestricted: you are free to use it however you like."
 *
 */

function stringToDate(t,e,i){var n=e.toLowerCase(),r=n.split(i),o=t.split(i),s=r.indexOf("mm"),a=r.indexOf("dd"),l=r.indexOf("yyyy"),h=parseInt(o[s]);return h-=1,new Date(o[l],h,o[a])}function toDate(t,e,i){if("[object Date]"!==Object.prototype.toString.call(t)){if("string"===$.type(t)){return stringToDate(t,void 0!==e&&"string"===$.type(e)?e:"dd/mm/yyyy",void 0!==i&&"string"===$.type(i)?i:"/")}return new Date(t)}return new Date(t.getTime())}function monthDiff(t,e,i,n){var r=toDate(t,i,n),o=toDate(e,i,n),s=12*(o.getFullYear()-r.getFullYear());return s+=o.getMonth()-r.getMonth()}function getMaxClockIndex(t){var e=0;return void 0!==t&&t&&$.each(t,function(t,i){i.angle.length-1>e&&(e=i.angle.length-1)}),e}function isValidNumeric(t){return!isNaN(parseFloat(t))&&isFinite(t)}function initTheme(t){setTheme(getUrlParam("theme"),t)}function setTheme(t,e){e||(e="body"),$(e).addClass(t)}function getUrlParam(t,e){return(null==urlParams||e)&&(urlParams={},window.location.search.replace(/[?&;]+([^=]+)=([^&;]*)/gi,function(t,e,i){urlParams[e]=i})),urlParams[t]}function formatQuarterHtml(t,e,i){return formatQuarter(t,e,i,!0)}function formatQuarter(t,e,i,n){var r=toDate(t,e,i);switch(r.getMonth()){case 0:case 1:case 2:return n?'<span data-i18n="1st_quarter">'+$.i18n.t("1st_quarter")+"</span>"+r.getFullYear():$.i18n.t("1st_quarter")+r.getFullYear();case 3:case 4:case 5:return n?'<span data-i18n="2nd_quarter">'+$.i18n.t("2nd_quarter")+"</span>"+r.getFullYear():$.i18n.t("2nd_quarter")+r.getFullYear();case 6:case 7:case 8:return n?'<span data-i18n="3rd_quarter">'+$.i18n.t("3rd_quarter")+"</span>"+r.getFullYear():$.i18n.t("3rd_quarter")+r.getFullYear();case 9:case 10:case 11:return n?'<span data-i18n="4th_quarter">'+$.i18n.t("4th_quarter")+"</span><span>"+r.getFullYear()+"</span>":$.i18n.t("4th_quarter")+r.getFullYear()}}function C3Chart(t,e,i,n,r,o,s,a,l,h){this.bcc=e,this.c3=C3Chart.prototype.c3,void 0===this.c3&&(this.c3=window.c3),void 0!==this.c3&&(this.c3Chart=this.c3.generate({bindto:t,data:{x:"x",xFormat:"%d/%m/%Y",columns:i},size:o,grid:{x:{lines:n}},axis:{x:{type:"timeseries",tick:{fit:!0,format:"%m-%Y",culling:{max:(toDate(a,l,h).getFullYear()-toDate(s,l,h).getFullYear()+1)/2}},min:toDate(s,l,h),max:toDate(a,l,h)},y:{tick:{format:d3.format(".0f")}}},regions:r,legend:{item:{onclick:function(t){return!1}}},tooltip:{format:{title:function(t){return formatQuarterHtml(t)},value:function(t,e,i){return t.toFixed(5)}}},color:{pattern:["#00989A","#F68B21","#E34A21","#3BBFBD","#7B9522","#C9CF5C"]}}),this.c3Chart.ygrids([{value:0}]),this.localizeNames())}function DataSetLoader(){this.loaded=!1,this.error=!1,this.xmlDoc=null,this.dataSet=null,this.file="files/BCC_HD.xml",this.onerror=function(t,e){console.error("state="+t.readyState+" status="+t.status+" for file : "+e)},this.onready=function(t,e,i){console.log("state="+e.readyState+" status="+e.status+" for file : "+i)}}function xmlToJson(t){var e={};if(1==t.nodeType){if(t.attributes.length>0){e["@attributes"]={};for(var i=0;i<t.attributes.length;i++){var n=t.attributes.item(i);e["@attributes"][n.nodeName]=n.nodeValue}}}else 3==t.nodeType&&(e=t.nodeValue);if(t.hasChildNodes())for(var r=0;r<t.childNodes.length;r++){var o=t.childNodes.item(r),s=o.nodeName;if(void 0===e[s])e[s]=xmlToJson(o);else{if(void 0===e[s].push){var a=e[s];e[s]=[],e[s].push(a)}e[s].push(xmlToJson(o))}}return e}function initDataSetInfo(t){for(var e={},i=0;i<t.DataSet.Data.length;i++)initCountryData(t.DataSet.Data[i],e);return e}function initCountryData(t,e){for(var i=t.Country["@attributes"],n=[],r=[],o=["x"],s=[],a=[],l=[],h=[i.code+"_GDP"],u=[i.code.toUpperCase()],c=[],d=[],p=[],f=0;f<t.Observations.Observation.length;f++){for(var g=t.Observations.Observation[f],m=0;m<g.Theta.obs.length;m++)n.push(g.Theta.obs[m]["@attributes"].angle),r.push(g.Theta.obs[m]["@attributes"].date);o.push(g.fullDate["#text"]);var v=null,y=null;g.GDP&&(v=g.GDP["#text"]),h.push(v),g.GDP_GC&&(y=g.GDP_GC["#text"]),u.push(y),s.push([toDate(g.fullDate["#text"]).getTime(),y?Number(y):y]),l.push(l?Number(y):l),a.push(v?Number(v):v);var _=[];if("1"==g.A["#text"]&&(d.push(new Array("A",g.fullDate["#text"])),_.push("A")),"1"==g.B["#text"]&&(d.push(new Array("B",g.fullDate["#text"])),_.push("B")),"1"==g.C["#text"]&&(d.push(new Array("C",g.fullDate["#text"])),_.push("C")),"1"==g.D["#text"]&&(d.push(new Array("D",g.fullDate["#text"])),_.push("D")),"1"==g.Alpha["#text"]&&_.push("α"),"1"==g.Beta["#text"]&&_.push("β"),_.length>0){var x="";$.each(_,function(t,e){x=0==x.length?i.code+": "+e:x+" & "+e,p.push({tp:e,date:toDate(g.fullDate["#text"]),index:a.length-1})}),c.push({value:g.fullDate["#text"],text:x})}}var b={};b.angle=n,b.gdp=a,b.gdpgc=l,b.date=r,b.dates=o,b.ser1=h,b.ser2=u,b.serie=s,b.label=c,b.region=d,b.description=i.description,b.code=i.code,b.tps=p,e[i.code]=b}function i18NextBCC(t,e,i,n,r,o,s){this.$=t,this.i18next=e,this.i18nextBrowserLanguageDetector=i,this.i18nextLocalStorageCache=n,this.i18nextXHRBackend=r,this.i18nextSprintfPostProcessor=o,this.jqueryI18next=s,this.onChangedFunction=function(e){t(document.body).localize()}}function TimerLoop(t,e,i,n,r,o,s){if(this.loop=!1,this.started=!1,this.hiddenPause=!1,this.fast=!1,this.selector=e,this.backward=!!o,this.isPaused=!!r,this.interval=null,this.onPosChange=t,this.minTimerPos=i,this.maxTimerPos=n,this.timerPos=s?this.maxTimerPos:this.minTimerPos,r||this.goForward(!0),visProp=this.getHiddenProp(),visProp){var a=visProp.replace(/[H|h]idden/,"")+"visibilitychange";document.addEventListener(a,this.visChange.bind(this))}$(e).children(".playerControl").length<=0&&this.addPlayer()}function CycleClock(t,e){this.fontSize=e.fontSize?e.fontSize:16,this.innerDist=void 0!==e.innerDist?e.innerDist:15,this.separatorsColor=e.separatorsColor?e.separatorsColor:"#FFFFFF",this.backgroundColor=e.backgroundColor,this.noCriseColor=e.noCriseColor,this.noCriseMirrorColor=e.noCriseMirrorColor?e.noCriseMirrorColor:this.noCriseColor,this.crise1Color=e.crise1Color?e.crise1Color:"#EEE9F5",this.crise1MirrorColor=e.crise1MirrorColor?e.crise1MirrorColor:this.crise1Color,this.crise2Color=e.crise2Color?e.crise2Color:"#d3c9e7",this.crise2MirrorColor=e.crise2MirrorColor?e.crise2MirrorColor:this.crise2Color,this.radius=e.radius?e.radius:70,this.bindToElem(t,e.width,e.height),"function"!=typeof this.canvas.getContext&&"undefined"!=typeof G_vmlCanvasManager&&G_vmlCanvasManager.initElement(this.canvas);var i=$(this.canvas);i.hasClass("clock_canvas")||i.addClass("clock_canvas"),e.width&&i.attr("width",e.width),e.height&&i.attr("height",e.height)}function ClocksNavList(t,e,i){this.selector=t,this.addCountrySelector=e,this.maxClock=i}function MonthRangeSelector(t,e,i,n){this.rangeSelectSelector=t,this.fromInputSelector=e,this.toInputSelector=i,this.range=n,this.toInputSelector&&($(this.toInputSelector).val($.datepicker.formatDate("mm/yy",this.range.clock.max.date)),$(this.toInputSelector).MonthPicker({ShowIcon:!1,UseInputMask:!0,StartYear:this.range.clock.max.date.getFullYear(),MaxMonth:this.range.clock.max.date,MinMonth:new Date(new Date(this.range.clock.min.date).setMonth(this.range.clock.min.date.getMonth()+6)),i18n:$.datepicker.regional[$.i18n.language.substr(0,2)]})),$(this.fromInputSelector).val($.datepicker.formatDate("mm/yy",this.range.clock.min.date)),$(this.fromInputSelector).MonthPicker({ShowIcon:!1,UseInputMask:!0,StartYear:this.range.clock.min.date.getFullYear(),MinMonth:this.range.clock.min.date,MaxMonth:new Date(new Date(this.range.clock.max.date).setMonth(this.range.clock.max.date.getMonth()-6)),i18n:$.datepicker.regional[$.i18n.language.substr(0,2)]}),this.toInputSelector&&$(this.toInputSelector).change(function(){var t=$(this.toInputSelector).MonthPicker("Validate");(!t||t.getTime()<this.range.initial.clock.min.date.getTime()||t.getTime()>this.range.initial.clock.max.date.getTime())&&$(this).MonthPicker("SetSelectedMonth",this.range.clock.max.date)}.bind(this)),$(this.fromInputSelector).change(function(){var t=$(this.fromInputSelector).MonthPicker("Validate");(!t||t.getTime()<this.range.initial.clock.min.date.getTime()||t.getTime()>this.range.initial.clock.max.date.getTime())&&$(this).MonthPicker("SetSelectedMonth",this.range.clock.min.date)}.bind(this))}function CycleClockHelp(t){this.pie=CycleClockHelp.prototype.c3.generate({bindto:t,data:{columns:[["α-A",90],["A-B",45],["B-β",45],["β-C",45],["C-D",45],["D-α",90]],type:"pie",colors:{"α-A":"#8BD1D1","A-B":"#FAA61A","B-β":"#F26522","β-C":"#F89F6C","C-D":"#FEDEB3","D-α":"#3BBFBD"},order:null},pie:{label:{show:!1}},legend:{show:!1},tooltip:{contents:function(t,e,i,n){var n=n(t[0]),r="";switch(t[0].id){case"α-A":case"A-B":case"B-β":r+=$.i18n.t("right_quadrands_description")+"<br/>";break;case"β-C":case"C-D":case"D-α":r+=$.i18n.t("left_quadrands_description")+"<br/>"}switch(t[0].id){case"α-A":r+="<br/>"+$.i18n.t("quadrant_upright_description");break;case"A-B":r+="<br/>"+$.i18n.t("quadrant_bottomright_slowdown_description");break;case"B-β":r+="<br/>"+$.i18n.t("quadrant_bottomright_recession_description");break;case"β-C":r+="<br/>"+$.i18n.t("quadrant_bottomleft_recession_description");break;case"C-D":r+="<br/>"+$.i18n.t("quadrant_bottomleft_slowdown_description");break;case"D-α":r+="<br/>"+$.i18n.t("quadrant_bottomleft_description")}return'<table class="c3-tooltip"><tbody><tr class="c3-tooltip-name-'+t[0].id+'"><td class="name"><span style="background-color:'+n+'"></span>'+t[0].id+'</td><td class="value">'+r+"</td></tr></tbody></table>"}}})}function BCC(t,e,i,n){this.navList=n,this.clocks={},this.dataset=t,this.dataSetInfo=initDataSetInfo(this.dataset),this.range=this.getInitialRange(this.dataSetInfo);var r=this.dataset.DataSet.Data[0].Country["@attributes"].code,o=this.getCountrySeriesData(r);$(".on_script_load").show(),$(".on_loading").hide(),"undefined"==typeof SVGRect?(this.navList.maxClock=2,this.chart=initJqChart(e,this,this.dataset,this.dataSetInfo,this.dataset,this.dataSetInfo,2)):this.chart=new C3Chart("#"+e,this,o,this.dataSetInfo[r].label,this.getRegions(r),{height:200},this.range.clock.min.date.setDate(30),this.range.clock.max.date.setDate(30)),this.chartPos=this.range.chart.max.pos-1,this.timer=new TimerLoop(this.onTimerPosChanged.bind(this),i,this.range.clock.min.pos,this.range.clock.max.pos,!0,!1,!0),this.timeSlider=this.initTimeSlider(),this.initMonthRangeSelectors(this.range),$(document.body).localize(),this.cycleClockHelp=new CycleClockHelp("#pie")}function getQuarterBeginDate(t,e,i){var n=toDate(t,e,i);n.setDate(1),n.setMonth(3*Math.floor(n.getMonth()/3));var r=new Date(0);return r.setFullYear(n.getFullYear()),r.setMonth(n.getMonth()),r.setDate(n.getDate()),r}function getQuarterEndDate(t,e,i){var n=toDate(t,e,i);n.setMonth(3*Math.floor(n.getMonth()/3)+2),n.setMonth(n.getMonth()+1),n.setDate(0);var r=new Date(0);return r.setFullYear(n.getFullYear()),r.setMonth(n.getMonth()),r.setDate(n.getDate()),r}function haveTP(t,e){for(var i=0;i<t.length;i++)if(t[i].tp===e)return!0;return!1}function getTP(t,e){for(var i=0;i<t.length;i++)if(t[i].tp===e)return t[i]}function BCCMapApp(t,e,i,n,r,o,s){var a=t.DataSet.Data[0].Country["@attributes"].code,l=e[a].date.length-1;if(isNaN(e[a].angle[l]))for(var h=l;h>0;h--)if(!isNaN(e[a].angle[h])){l=h;break}var u=e[a].date[0],c=e[a].date[l];this.selectedDate=c,this.bccmap=new BCCMap(i,e,this.selectedDate),this.initEAClock(o),this.bccMapControls=new BCCMapControls(this.bccmap,this.eaClock,n,r,s,e,c,u,"dd/mm/yyyy","/"),$.datepicker.setDefaults($.datepicker.regional[$.i18n.language.substr(0,2)]),$(document.body).localize()}function BCCMap(t,e,i,n,r){this.geojsonLayer=null,this.selectedDate=toDate(i,n,r),this.dataSetInfo=e,this.map=$(t),this.initLeaflet(t,"resources/map/CNTR_RG_10M_2014_CLIP_EU.geojson")}function isBccCoverage(t){return t&&t.CNTR_ID&&isEAMember(t)}function isEAMember(t){return t&&t.CNTR_ID&&$.inArray(t.CNTR_ID,void 0!==eaMembers&&eaMembers?eaMembers:["BE","DE","IE","GR","EL","ES","FR","IT","CY","LU","MT","NL","AT","PT","SI","SK","FI","EE","LV","LT"])>=0}function isEUMember(t){return t&&t.EU_TERR&&"Y"==t.EU_TERR}function isEUCandidate(t){return t&&t.CC_TERR&&"Y"==t.CC_TERR}function isEFTAMember(t){return t&&t.EFTA_TERR&&"Y"==t.EFTA_TERR}function isEstatCoverage(t){return isEUMember(t)||isEFTAMember(t)||isEUCandidate(t)}function BCCMapControls(t,e,i,n,r,o,s,a,l,h){this.bccMap=t,this.eaClock=e,this.maxDate=toDate(s,l,h),this.minDate=toDate(a,l,h),this.monthPicker=$(i),this.currentMonthSelector=n,this.initTimer(r,o),this.initMonthPicker(),this.onDateChanged=function(t){$(this.currentMonthSelector).text($.datepicker.formatDate("M yy",t,$.datepicker.regional[$.i18n.language.substr(0,2)])),this.bccMap.setDate(t);var e=$.inArray("01/"+$.datepicker.formatDate("mm/yy",t),this.bccMap.dataSetInfo.EA.date);if(e>=0){var i=this.bccMap.dataSetInfo.EA.angle[e];this.eaClock.updateClock(i),this.bccMap.updateMapCountryClock()}this.timer.timerPos=e}.bind(this),this.eaClock.drawClock(),this.setDate(this.maxDate)}function Tree(){"use strict";function t(t){var e,i,r,o,s,a,l=n.dyn_tree,h=n.stat_desc.static_tree,u=n.stat_desc.extra_bits,c=n.stat_desc.extra_base,d=n.stat_desc.max_length,p=0;for(o=0;o<=MAX_BITS;o++)t.bl_count[o]=0;for(l[2*t.heap[t.heap_max]+1]=0,e=t.heap_max+1;e<HEAP_SIZE;e++)i=t.heap[e],o=l[2*l[2*i+1]+1]+1,o>d&&(o=d,p++),l[2*i+1]=o,i>n.max_code||(t.bl_count[o]++,s=0,i>=c&&(s=u[i-c]),a=l[2*i],t.opt_len+=a*(o+s),h&&(t.static_len+=a*(h[2*i+1]+s)));if(0!==p){do{for(o=d-1;0===t.bl_count[o];)o--;t.bl_count[o]--,t.bl_count[o+1]+=2,t.bl_count[d]--,p-=2}while(p>0);for(o=d;0!==o;o--)for(i=t.bl_count[o];0!==i;)(r=t.heap[--e])>n.max_code||(l[2*r+1]!=o&&(t.opt_len+=(o-l[2*r+1])*l[2*r],l[2*r+1]=o),i--)}}function e(t,e){var i=0;do{i|=1&t,t>>>=1,i<<=1}while(--e>0);return i>>>1}function i(t,i,n){var r,o,s,a=[],l=0;for(r=1;r<=MAX_BITS;r++)a[r]=l=l+n[r-1]<<1;for(o=0;o<=i;o++)0!==(s=t[2*o+1])&&(t[2*o]=e(a[s]++,s))}var n=this;n.build_tree=function(e){var r,o,s,a=n.dyn_tree,l=n.stat_desc.static_tree,h=n.stat_desc.elems,u=-1;for(e.heap_len=0,e.heap_max=HEAP_SIZE,r=0;r<h;r++)0!==a[2*r]?(e.heap[++e.heap_len]=u=r,e.depth[r]=0):a[2*r+1]=0;for(;e.heap_len<2;)s=e.heap[++e.heap_len]=u<2?++u:0,a[2*s]=1,e.depth[s]=0,e.opt_len--,l&&(e.static_len-=l[2*s+1]);for(n.max_code=u,r=Math.floor(e.heap_len/2);r>=1;r--)e.pqdownheap(a,r);s=h;do{r=e.heap[1],e.heap[1]=e.heap[e.heap_len--],e.pqdownheap(a,1),o=e.heap[1],e.heap[--e.heap_max]=r,e.heap[--e.heap_max]=o,a[2*s]=a[2*r]+a[2*o],e.depth[s]=Math.max(e.depth[r],e.depth[o])+1,a[2*r+1]=a[2*o+1]=s,e.heap[1]=s++,e.pqdownheap(a,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],t(e),i(a,n.max_code,e.bl_count)}}function StaticTree(t,e,i,n,r){var o=this;o.static_tree=t,o.extra_bits=e,o.extra_base=i,o.elems=n,o.max_length=r}function Config(t,e,i,n,r){var o=this;o.good_length=t,o.max_lazy=e,o.nice_length=i,o.max_chain=n,o.func=r}function smaller(t,e,i,n){var r=t[2*e],o=t[2*i];return r<o||r==o&&n[e]<=n[i]}function Deflate(){function t(){var t;for(O=2*E,N[z-1]=0,t=0;t<z-1;t++)N[t]=0;Q=config_table[tt].max_lazy,it=config_table[tt].good_length,nt=config_table[tt].nice_length,K=config_table[tt].max_chain,Z=0,U=0,$=0,Y=J=MIN_MATCH-1,G=0,F=0}function e(){var t;for(t=0;t<L_CODES;t++)rt[2*t]=0;for(t=0;t<D_CODES;t++)ot[2*t]=0;for(t=0;t<BL_CODES;t++)st[2*t]=0;rt[2*END_BLOCK]=1,at.opt_len=at.static_len=0,pt=gt=0}function i(){lt.dyn_tree=rt,lt.stat_desc=StaticTree.static_l_desc,ht.dyn_tree=ot,ht.stat_desc=StaticTree.static_d_desc,ut.dyn_tree=st,ut.stat_desc=StaticTree.static_bl_desc,vt=0,yt=0,mt=8,e()}function n(t,e){var i,n,r=-1,o=t[1],s=0,a=7,l=4;for(0===o&&(a=138,l=3),t[2*(e+1)+1]=65535,i=0;i<=e;i++)n=o,o=t[2*(i+1)+1],++s<a&&n==o||(s<l?st[2*n]+=s:0!==n?(n!=r&&st[2*n]++,st[2*REP_3_6]++):s<=10?st[2*REPZ_3_10]++:st[2*REPZ_11_138]++,s=0,r=n,0===o?(a=138,l=3):n==o?(a=6,l=3):(a=7,l=4))}function r(){var t;for(n(rt,lt.max_code),n(ot,ht.max_code),ut.build_tree(at),t=BL_CODES-1;t>=3&&0===st[2*Tree.bl_order[t]+1];t--);return at.opt_len+=3*(t+1)+5+5+4,t}function o(t){at.pending_buf[at.pending++]=t}function s(t){o(255&t),o(t>>>8&255)}function a(t){o(t>>8&255),o(255&t)}function l(t,e){var i,n=e;yt>Buf_size-n?(i=t,vt|=i<<yt&65535,s(vt),vt=i>>>Buf_size-yt,yt+=n-Buf_size):(vt|=t<<yt&65535,yt+=n)}function h(t,e){var i=2*t;l(65535&e[i],65535&e[i+1])}function u(t,e){var i,n,r=-1,o=t[1],s=0,a=7,u=4;for(0===o&&(a=138,u=3),i=0;i<=e;i++)if(n=o,o=t[2*(i+1)+1],!(++s<a&&n==o)){if(s<u)do{h(n,st)}while(0!=--s);else 0!==n?(n!=r&&(h(n,st),s--),h(REP_3_6,st),l(s-3,2)):s<=10?(h(REPZ_3_10,st),l(s-3,3)):(h(REPZ_11_138,st),l(s-11,7));s=0,r=n,0===o?(a=138,u=3):n==o?(a=6,u=3):(a=7,u=4)}}function c(t,e,i){var n;for(l(t-257,5),l(e-1,5),l(i-4,4),n=0;n<i;n++)l(st[2*Tree.bl_order[n]+1],3);u(rt,t-1),u(ot,e-1)}function d(){16==yt?(s(vt),vt=0,yt=0):yt>=8&&(o(255&vt),vt>>>=8,yt-=8)}function p(){l(STATIC_TREES<<1,3),h(END_BLOCK,StaticTree.static_ltree),d(),1+mt+10-yt<9&&(l(STATIC_TREES<<1,3),h(END_BLOCK,StaticTree.static_ltree),d()),mt=7}function f(t,e){var i,n,r;if(at.pending_buf[ft+2*pt]=t>>>8&255,at.pending_buf[ft+2*pt+1]=255&t,at.pending_buf[ct+pt]=255&e,pt++,0===t?rt[2*e]++:(gt++,t--,rt[2*(Tree._length_code[e]+LITERALS+1)]++,ot[2*Tree.d_code(t)]++),0==(8191&pt)&&tt>2){for(i=8*pt,n=Z-U,r=0;r<D_CODES;r++)i+=ot[2*r]*(5+Tree.extra_dbits[r]);if(i>>>=3,gt<Math.floor(pt/2)&&i<Math.floor(n/2))return!0}return pt==dt-1}function g(t,e){var i,n,r,o,s=0;if(0!==pt)do{i=at.pending_buf[ft+2*s]<<8&65280|255&at.pending_buf[ft+2*s+1],n=255&at.pending_buf[ct+s],s++,0===i?h(n,t):(r=Tree._length_code[n],h(r+LITERALS+1,t),o=Tree.extra_lbits[r],0!==o&&(n-=Tree.base_length[r],l(n,o)),i--,r=Tree.d_code(i),h(r,e),0!==(o=Tree.extra_dbits[r])&&(i-=Tree.base_dist[r],l(i,o)))}while(s<pt);h(END_BLOCK,t),mt=t[2*END_BLOCK+1]}function m(){yt>8?s(vt):yt>0&&o(255&vt),vt=0,yt=0}function v(t,e,i){m(),mt=8,i&&(s(e),s(~e)),at.pending_buf.set(j.subarray(t,t+e),at.pending),at.pending+=e}function y(t,e,i){l((STORED_BLOCK<<1)+(i?1:0),3),v(t,e,!0)}function _(t,i,n){var o,s,a=0;tt>0?(lt.build_tree(at),ht.build_tree(at),a=r(),o=at.opt_len+3+7>>>3,(s=at.static_len+3+7>>>3)<=o&&(o=s)):o=s=i+5,i+4<=o&&-1!=t?y(t,i,n):s==o?(l((STATIC_TREES<<1)+(n?1:0),3),g(StaticTree.static_ltree,StaticTree.static_dtree)):(l((DYN_TREES<<1)+(n?1:0),3),c(lt.max_code+1,ht.max_code+1,a+1),g(rt,ot)),e(),n&&m()}function x(t){_(U>=0?U:-1,Z-U,t),U=Z,D.flush_pending()}function b(){var t,e,i,n;do{if(0===(n=O-$-Z)&&0===Z&&0===$)n=E;else if(-1==n)n--;else if(Z>=E+E-MIN_LOOKAHEAD){j.set(j.subarray(E,E+E),0),V-=E,Z-=E,U-=E,t=z,i=t;do{e=65535&N[--i],N[i]=e>=E?e-E:0}while(0!=--t);t=E,i=t;do{e=65535&R[--i],R[i]=e>=E?e-E:0}while(0!=--t);n+=E}if(0===D.avail_in)return;t=D.read_buf(j,Z+$,n),($+=t)>=MIN_MATCH&&(F=255&j[Z],F=(F<<W^255&j[Z+1])&H)}while($<MIN_LOOKAHEAD&&0!==D.avail_in)}function w(t){var e,i=65535;for(i>A-5&&(i=A-5);;){if($<=1){if(b(),0===$&&t==Z_NO_FLUSH)return NeedMore;if(0===$)break}if(Z+=$,$=0,e=U+i,(0===Z||Z>=e)&&($=Z-e,Z=e,x(!1),0===D.avail_out))return NeedMore;if(Z-U>=E-MIN_LOOKAHEAD&&(x(!1),0===D.avail_out))return NeedMore}return x(t==Z_FINISH),0===D.avail_out?t==Z_FINISH?FinishStarted:NeedMore:t==Z_FINISH?FinishDone:BlockDone}function k(t){var e,i,n=K,r=Z,o=J,s=Z>E-MIN_LOOKAHEAD?Z-(E-MIN_LOOKAHEAD):0,a=nt,l=I,h=Z+MAX_MATCH,u=j[r+o-1],c=j[r+o];J>=it&&(n>>=2),a>$&&(a=$);do{if(e=t,j[e+o]==c&&j[e+o-1]==u&&j[e]==j[r]&&j[++e]==j[r+1]){r+=2,e++;do{}while(j[++r]==j[++e]&&j[++r]==j[++e]&&j[++r]==j[++e]&&j[++r]==j[++e]&&j[++r]==j[++e]&&j[++r]==j[++e]&&j[++r]==j[++e]&&j[++r]==j[++e]&&r<h);if(i=MAX_MATCH-(h-r),r=h-MAX_MATCH,i>o){if(V=t,o=i,i>=a)break;u=j[r+o-1],c=j[r+o]}}}while((t=65535&R[t&l])>s&&0!=--n);return o<=$?o:$}function C(t){for(var e,i=0;;){if($<MIN_LOOKAHEAD){if(b(),$<MIN_LOOKAHEAD&&t==Z_NO_FLUSH)return NeedMore;if(0===$)break}if($>=MIN_MATCH&&(F=(F<<W^255&j[Z+(MIN_MATCH-1)])&H,i=65535&N[F],R[Z&I]=N[F],N[F]=Z),0!==i&&(Z-i&65535)<=E-MIN_LOOKAHEAD&&et!=Z_HUFFMAN_ONLY&&(Y=k(i)),Y>=MIN_MATCH)if(e=f(Z-V,Y-MIN_MATCH),$-=Y,Y<=Q&&$>=MIN_MATCH){Y--;do{Z++,F=(F<<W^255&j[Z+(MIN_MATCH-1)])&H,i=65535&N[F],R[Z&I]=N[F],N[F]=Z}while(0!=--Y);Z++}else Z+=Y,Y=0,F=255&j[Z],F=(F<<W^255&j[Z+1])&H;else e=f(0,255&j[Z]),$--,Z++;if(e&&(x(!1),0===D.avail_out))return NeedMore}return x(t==Z_FINISH),0===D.avail_out?t==Z_FINISH?FinishStarted:NeedMore:t==Z_FINISH?FinishDone:BlockDone}function T(t){for(var e,i,n=0;;){if($<MIN_LOOKAHEAD){if(b(),$<MIN_LOOKAHEAD&&t==Z_NO_FLUSH)return NeedMore;if(0===$)break}if($>=MIN_MATCH&&(F=(F<<W^255&j[Z+(MIN_MATCH-1)])&H,n=65535&N[F],R[Z&I]=N[F],N[F]=Z),J=Y,X=V,Y=MIN_MATCH-1,0!==n&&J<Q&&(Z-n&65535)<=E-MIN_LOOKAHEAD&&(et!=Z_HUFFMAN_ONLY&&(Y=k(n)),Y<=5&&(et==Z_FILTERED||Y==MIN_MATCH&&Z-V>4096)&&(Y=MIN_MATCH-1)),J>=MIN_MATCH&&Y<=J){i=Z+$-MIN_MATCH,e=f(Z-1-X,J-MIN_MATCH),$-=J-1,J-=2;do{++Z<=i&&(F=(F<<W^255&j[Z+(MIN_MATCH-1)])&H,n=65535&N[F],R[Z&I]=N[F],N[F]=Z)}while(0!=--J);if(G=0,Y=MIN_MATCH-1,Z++,e&&(x(!1),0===D.avail_out))return NeedMore}else if(0!==G){if(e=f(0,255&j[Z-1]),e&&x(!1),Z++,$--,0===D.avail_out)return NeedMore}else G=1,Z++,$--}return 0!==G&&(e=f(0,255&j[Z-1]),G=0),x(t==Z_FINISH),0===D.avail_out?t==Z_FINISH?FinishStarted:NeedMore:t==Z_FINISH?FinishDone:BlockDone}function S(e){return e.total_in=e.total_out=0,e.msg=null,at.pending=0,at.pending_out=0,M=BUSY_STATE,L=Z_NO_FLUSH,i(),t(),Z_OK}var D,M,A,P,L,E,q,I,j,O,R,N,F,z,B,H,W,U,Y,X,G,Z,V,$,J,K,Q,tt,et,it,nt,rt,ot,st,at=this,lt=new Tree,ht=new Tree,ut=new Tree;at.depth=[];var ct,dt,pt,ft,gt,mt,vt,yt;at.bl_count=[],at.heap=[],rt=[],ot=[],st=[],at.pqdownheap=function(t,e){for(var i=at.heap,n=i[e],r=e<<1;r<=at.heap_len&&(r<at.heap_len&&smaller(t,i[r+1],i[r],at.depth)&&r++,!smaller(t,n,i[r],at.depth));)i[e]=i[r],e=r,r<<=1;i[e]=n},at.deflateInit=function(t,e,i,n,r,o){return n||(n=Z_DEFLATED),r||(r=DEF_MEM_LEVEL),o||(o=Z_DEFAULT_STRATEGY),t.msg=null,e==Z_DEFAULT_COMPRESSION&&(e=6),r<1||r>MAX_MEM_LEVEL||n!=Z_DEFLATED||i<9||i>15||e<0||e>9||o<0||o>Z_HUFFMAN_ONLY?Z_STREAM_ERROR:(t.dstate=at,q=i,E=1<<q,I=E-1,B=r+7,z=1<<B,H=z-1,W=Math.floor((B+MIN_MATCH-1)/MIN_MATCH),j=new Uint8Array(2*E),R=[],N=[],dt=1<<r+6,at.pending_buf=new Uint8Array(4*dt),A=4*dt,ft=Math.floor(dt/2),ct=3*dt,tt=e,et=o,P=255&n,S(t))},at.deflateEnd=function(){return M!=INIT_STATE&&M!=BUSY_STATE&&M!=FINISH_STATE?Z_STREAM_ERROR:(at.pending_buf=null,N=null,R=null,j=null,at.dstate=null,M==BUSY_STATE?Z_DATA_ERROR:Z_OK)},at.deflateParams=function(t,e,i){var n=Z_OK;return e==Z_DEFAULT_COMPRESSION&&(e=6),e<0||e>9||i<0||i>Z_HUFFMAN_ONLY?Z_STREAM_ERROR:(config_table[tt].func!=config_table[e].func&&0!==t.total_in&&(n=t.deflate(Z_PARTIAL_FLUSH)),tt!=e&&(tt=e,Q=config_table[tt].max_lazy,it=config_table[tt].good_length,nt=config_table[tt].nice_length,K=config_table[tt].max_chain),et=i,n)},at.deflateSetDictionary=function(t,e,i){var n,r=i,o=0;if(!e||M!=INIT_STATE)return Z_STREAM_ERROR;if(r<MIN_MATCH)return Z_OK;for(r>E-MIN_LOOKAHEAD&&(r=E-MIN_LOOKAHEAD,o=i-r),j.set(e.subarray(o,o+r),0),Z=r,U=r,F=255&j[0],F=(F<<W^255&j[1])&H,n=0;n<=r-MIN_MATCH;n++)F=(F<<W^255&j[n+(MIN_MATCH-1)])&H,R[n&I]=N[F],N[F]=n;return Z_OK},at.deflate=function(t,e){var i,n,r,o,s;if(e>Z_FINISH||e<0)return Z_STREAM_ERROR;if(!t.next_out||!t.next_in&&0!==t.avail_in||M==FINISH_STATE&&e!=Z_FINISH)return t.msg=z_errmsg[Z_NEED_DICT-Z_STREAM_ERROR],Z_STREAM_ERROR;if(0===t.avail_out)return t.msg=z_errmsg[Z_NEED_DICT-Z_BUF_ERROR],Z_BUF_ERROR;if(D=t,o=L,L=e,M==INIT_STATE&&(n=Z_DEFLATED+(q-8<<4)<<8,r=(tt-1&255)>>1,r>3&&(r=3),n|=r<<6,0!==Z&&(n|=PRESET_DICT),n+=31-n%31,M=BUSY_STATE,a(n)),0!==at.pending){if(D.flush_pending(),0===D.avail_out)return L=-1,Z_OK}else if(0===D.avail_in&&e<=o&&e!=Z_FINISH)return D.msg=z_errmsg[Z_NEED_DICT-Z_BUF_ERROR],Z_BUF_ERROR;if(M==FINISH_STATE&&0!==D.avail_in)return t.msg=z_errmsg[Z_NEED_DICT-Z_BUF_ERROR],Z_BUF_ERROR;if(0!==D.avail_in||0!==$||e!=Z_NO_FLUSH&&M!=FINISH_STATE){switch(s=-1,config_table[tt].func){case STORED:s=w(e);break;case FAST:s=C(e);break;case SLOW:s=T(e)}if(s!=FinishStarted&&s!=FinishDone||(M=FINISH_STATE),s==NeedMore||s==FinishStarted)return 0===D.avail_out&&(L=-1),Z_OK;if(s==BlockDone){if(e==Z_PARTIAL_FLUSH)p();else if(y(0,0,!1),e==Z_FULL_FLUSH)for(i=0;i<z;i++)N[i]=0;if(D.flush_pending(),0===D.avail_out)return L=-1,Z_OK}}return e!=Z_FINISH?Z_OK:Z_STREAM_END}}function ZStream(){var t=this;t.next_in_index=0,t.next_out_index=0,t.avail_in=0,t.total_in=0,t.avail_out=0,t.total_out=0}function Deflater(t){var e=this,i=new ZStream,n=512,r=Z_NO_FLUSH,o=new Uint8Array(n);void 0===t&&(t=Z_DEFAULT_COMPRESSION),i.deflateInit(t),i.next_out=o,e.append=function(t,e){var s,a=[],l=0,h=0,u=0;if(t.length){i.next_in_index=0,i.next_in=t,i.avail_in=t.length;do{if(i.next_out_index=0,i.avail_out=n,i.deflate(r)!=Z_OK)throw"deflating: "+i.msg;i.next_out_index&&(i.next_out_index==n?a.push(new Uint8Array(o)):a.push(new Uint8Array(o.subarray(0,i.next_out_index)))),u+=i.next_out_index,e&&i.next_in_index>0&&i.next_in_index!=l&&(e(i.next_in_index),l=i.next_in_index)}while(i.avail_in>0||0===i.avail_out);return s=new Uint8Array(u),a.forEach(function(t){s.set(t,h),h+=t.length}),s}},e.flush=function(){var t,e,r=[],s=0,a=0;do{if(i.next_out_index=0,i.avail_out=n,(t=i.deflate(Z_FINISH))!=Z_STREAM_END&&t!=Z_OK)throw"deflating: "+i.msg;n-i.avail_out>0&&r.push(new Uint8Array(o.subarray(0,i.next_out_index))),a+=i.next_out_index}while(i.avail_in>0||0===i.avail_out);return i.deflateEnd(),e=new Uint8Array(a),r.forEach(function(t){e.set(t,s),s+=t.length}),e}}function JqChart(t,e,i,n,r,o,s,a){if(this.bcc=e,this.dataSetInfo=i,("undefined"===o||!o||o<=0)&&(o=r.length),void 0!==$.jqplot){this.cursorTooltipData=null,this.cursorLine=null,this.countryInSeries=[],this.countries=n,this.id=t,this.series=r,this.yMin=0,this.yMax=0,this.xMin=0,this.xMax=0;for(var l=0,h=0,u=0,c=0,d=[],p=0;p<o&&p<r.length;p++)d.push({label:this.countries[p]+"_GDP_GC",show:0===p,showLabel:0===p});for(var p=0;p<this.series.length;p++)for(var f=0;f<this.series[p].length;f++)this.series[p][f].length>1&&(this.series[p][f][1]>h&&(h=this.series[p][f][1]),this.series[p][f][1]<l&&(l=this.series[p][f][1]),this.series[p][f][0]>c&&(c=this.series[p][f][0]),this.series[p][f][0]<u&&(u=this.series[p][f][0]));this.yMin=Number(l.toFixed(2))-.01,this.yMax=Number(h.toFixed(2))+.01,this.xMin=Number(u.toFixed(2))-.01,this.xMax=Number(c.toFixed(2))+.01,s&&s.getTime()>this.xMin&&(this.xMin=s.getTime()),a&&a.getTime()<this.xMax&&(this.xMax=a.getTime()),$.jqplot.config.enablePlugins=!0,this.countryInSeries.push(this.countries[0]);for(var g=[],p=0;p<o&&p<r.length;p++)g.push(this.series[p]);this.jqPlots=$.jqplot(this.id,g,{seriesDefaults:{lineWidth:.5,markerRenderer:$.jqplot.MarkerRenderer,markerOptions:{size:5},selection:{show:!0,selectedMarkerOptions:{size:25,shadow:!0,style:"circle"},onSelect:function(t,e,i,n){return!1},onDeselect:function(t,e,i,n){return!1}}},series:d,axes:{xaxis:{min:this.xMin,max:this.xMax,renderer:$.jqplot.DateAxisRenderer,tickOptions:{formatString:"%b&nbsp;%#d",showGridline:!1},tickInterval:"3 month",rendererOptions:{tickRenderer:$.jqplot.AxisTickRenderer,tickOptions:{showLabel:!0,size:5,markSize:10,formatter:function(t,e){var i=new Date(e);return i&&i.getMonth()>=0&&i.getMonth()<3&&i.getYear()%2==0?$.datepicker.formatDate("mm-yy",i):""}}}},yaxis:{min:this.yMin,max:this.yMax,tickOptions:{formatString:"%.2f",showGridline:!1}}},highlighter:{show:!0,showTooltip:!1,sizeAdjust:4},legend:{renderer:$.jqplot.EnhancedLegendRenderer,show:!0,rendererOptions:{numberRows:1,seriesToggle:!1},location:"s",placement:"outsideGrid"},grid:{background:"#FFFFFF",shadow:!1,drawBorder:!1,gridLineColor:"#000000"},canvasOverlay:{show:!0,objects:[]},cursor:{show:!0,showTooltip:!0,tooltipLocation:"e",tooltipOffset:26,followMouse:!0,style:"e-resize"}}),$("#"+t).bind("jqplotMouseMove",onMouseMove),$("#"+t).bind("jqplotMouseLeave",onMouseLeave),this.loadCountryRegions(this.countries[0],!1,!0)}}function initJqChart(t,e,i,n,r,o,s){for(var a=[],l=[],h=0;h<i.DataSet.Data.length;h++){var u=i.DataSet.Data[h].Country["@attributes"].code;a.push(n[u].serie),l.push(u)}return new JqChart(t,e,n,l,a,r,o,s)}function onMouseMove(t,e,i,n,r){var o,s;if(r.series.length>0){for(var a=0;a<r.series[0].data.length;a++)r.series[0].data[a].length>0&&(r.series[0].data[a][0]<i.xaxis&&(!o||r.series[0].data[a][0]>o)&&(o=r.series[0].data[a][0]),r.series[0].data[a][0]>i.xaxis&&(!s||r.series[0].data[a][0]<s)&&(s=r.series[0].data[a][0]));var l=i.xaxis-o<s-i.xaxis?o:s;if(l!=this.cursorLine||!this.cursorTooltipData){this.cursorLine=l;for(var h="",a=0;a<r.series.length;a++)if(r.series[a].show){for(var u,c=r.series[a].label,d=r.series[a].color,p=0;p<r.series[a].data.length;p++)r.series[a].data[p].length>1&&r.series[a].data[p][0]==l&&(u=r.series[a].data[p][1]);h=h+'\t<tr class="tooltip-name-'+c+'">\t\t<td class="name">\t\t\t<span style="background-color:'+d+'"/>'+c+'</td>\t\t<td class="value">'+u+"</td>\t</tr>"}this.cursorTooltipData=h}$("#"+chart.id+" .jqplot-cursor-tooltip").html('<table class="tooltip"><tbody>\t<tr>\t\t<th colspan="2">'+$.datepicker.formatDate("dd/mm/yy",new Date(l))+"</th>\t</tr>"+this.cursorTooltipData+"</tbody></table>")}}function onMouseLeave(t,e,i,n,r){chart.cursorLine=null,chart.cursorTooltipData=null,chart.removeOverlayByName("cursorLine",!0)}function PdfGenerator(t,e,i,n,r,o,s,a){if(this.from=toDate(n,s,a),this.to=toDate(r,s,a),this.bcc=t,this.screenPdfSizeFactor=5,this.page=1,this.genDate=new Date,this.thetaIndex=void 0,o&&!isNaN(o.getTime())){for(h=e.DataSet.Data[0].Observations.Observation.length-1;h>=-1;h--){for(var l=e.DataSet.Data[0].Observations.Observation[h].Theta.obs.length-1;l>=0;l--)if(h>=0&&e.DataSet.Data[0].Observations.Observation[h].Theta.obs.length>0&&!isNaN(e.DataSet.Data[0].Observations.Observation[h].Theta.obs[l]["@attributes"].angle)&&toDate(e.DataSet.Data[0].Observations.Observation[h].Theta.obs[l]["@attributes"].date).getTime()<=o.getTime()){this.thetaIndex=l;break}if(void 0!==this.thetaIndex)break}h>=0?this.clockObservationIndex=h:(this.clockObservationIndex=e.DataSet.Data[0].Observations.Observation.length-1,this.thetaIndex=e.DataSet.Data[0].Observations.Observation[this.clockObservationIndex].Theta.obs.length-1)}else{var h;for(h=e.DataSet.Data[0].Observations.Observation.length-1;h>=-1&&!(h>=0&&e.DataSet.Data[0].Observations.Observation[h].Theta.obs.length>0&&!isNaN(e.DataSet.Data[0].Observations.Observation[h].Theta.obs[e.DataSet.Data[0].Observations.Observation[h].Theta.obs.length-1]["@attributes"].angle)&&toDate(e.DataSet.Data[0].Observations.Observation[h].Theta.obs[e.DataSet.Data[0].Observations.Observation[h].Theta.obs.length-1]["@attributes"].date).getTime()>r.getTime());h--);this.clockObservationIndex=h>=0?h:e.DataSet.Data[0].Observations.Observation.length-1}this.clockDate=o&&!isNaN(o.getTime())?o:e.DataSet.Data[0].Observations.Observation[this.clockObservationIndex].Theta.obs[this.thetaIndex]["@attributes"].date,this.dataSet=e,this.dataSetInfo=i,
this.eurostatLogo="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAeAB4AAD/4QCKRXhpZgAATU0AKgAAAAgABwEaAAUAAAABAAAAYgEbAAUAAAABAAAAagEoAAMAAAABAAIAAAExAAIAAAAQAAAAclEQAAEAAAABAQAAAFERAAQAAAABAAAAAFESAAQAAAABAAAAAAAAAAAAAAB4AAAAAQAAAHgAAAABcGFpbnQubmV0IDQuMC45AP/bAEMAAgEBAgEBAgICAgICAgIDBQMDAwMDBgQEAwUHBgcHBwYHBwgJCwkICAoIBwcKDQoKCwwMDAwHCQ4PDQwOCwwMDP/bAEMBAgICAwMDBgMDBgwIBwgMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDP/AABEIACgA8AMBIgACEQEDEQH/xAAfAAABBQEBAQEBAQAAAAAAAAAAAQIDBAUGBwgJCgv/xAC1EAACAQMDAgQDBQUEBAAAAX0BAgMABBEFEiExQQYTUWEHInEUMoGRoQgjQrHBFVLR8CQzYnKCCQoWFxgZGiUmJygpKjQ1Njc4OTpDREVGR0hJSlNUVVZXWFlaY2RlZmdoaWpzdHV2d3h5eoOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4eLj5OXm5+jp6vHy8/T19vf4+fr/xAAfAQADAQEBAQEBAQEBAAAAAAAAAQIDBAUGBwgJCgv/xAC1EQACAQIEBAMEBwUEBAABAncAAQIDEQQFITEGEkFRB2FxEyIygQgUQpGhscEJIzNS8BVictEKFiQ04SXxFxgZGiYnKCkqNTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqCg4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2dri4+Tl5ufo6ery8/T19vf4+fr/2gAMAwEAAhEDEQA/AP38opskiwxszMqqoySTgAV+Z/7Z3/Bxp4c+E/jS98N/Cnw3a+OJdPdoZ9dvbpotNaRSQRAiDfOmf+Wm9AcHbuBDV6uU5LjcyqOlg4czW/RL1b0/V9DzsyzbC4Cn7TFT5U9urfolqfplRX40+Cf+DnTx1aa9C3iT4Z+E7/S8gSx6beXFpcAdyryGVfwK8+o61+m37Fv7b3gb9u34Vf8ACUeCrq4/0WQW+o6ddoI7zTJiN2yRQSCCOVdSVYA4OQwHbm/CuZ5bD2uKp2j3TTXztt8zkyziLAY+fs8PP3uzTT+V9/kewUV+XX7Lv/Bw/rX7Q/7RfgnwLN8LdL0uHxZrFvpb3ia48rWwlcLvCGEbsZzjIzX6W/ETxS3gb4f65rSwrcNo+n3F8Ii20SmKNn255xnbjOK5c0yHG5dVjRxcOWUtVqn1t0bOnL84wmOpyq4aV1HfRrz6pGxRX5jfshf8HBesftPftL+DfAFx8MNN0eHxVqC2L3setvM1uCrHcEMIDdOmRXqv/BUn/gr9qX/BOz4veHvC9l4FsfFUeuaONUa4n1RrRoj50kWwKI3z/q85yOtdtThHNYYuOBlT/eSTklzR2Xne3TuckOJsulhpYyM/ci7N2e78rXPuSivy6+Mf/ByDp/hP4J+Ebrw34NsNT8f+ILFr3U7KW/ZtP8P/AL10jjdlVXmkZEVyg2BVkU7iTivqP9nL/gpBpXiH/gm7ovx9+KD6X4Yt7yO9a6gsA7I8kN9cW0UMCOxZ5JBCuFz1JOQoJGeM4VzPDUo1q1KylLkSum3LXZLWzs7Pr00aLwvEWX4io6VKpdxjzN6pJabt9rq/bqfUVFfjb8YP+DnDxpe69MvgD4c+F9N0tHKxP4gmnvriZc8MywvCqEj+EM+D/Ea1PgH/AMHNmuL4jtbf4n/D3R5tKmcLPe+GZZYJrVc/fEE7yCTH93zU9c9j6kvD3O1S9p7JenMr/nb8Tz48a5S6ns/aP1s7fl+h+v1FYHw0+KXh/wCMPw60rxZ4b1S11bw7rVsLyzvYm/dyxnuc4KkEEMrAFSCCAQRX5sfth/8AByDpnw68f33h/wCE3hWx8WW+mTNBLr2qXDpZ3TqcN5EUeGePPSRnXOOFIwx8LK8hx+YVpUMLTblHe+iXq3s/Lc9fMM5weCpKtiJ2Utra39LfnsfqNRX4v+AP+DnH4jWGqRt4q+HPgnVrLd+8TSp7rT5SM9mkecZA9V59q+7Na/4K4eDtU/4J5eIvj94N0i48R2/hma1tL7w/dXYsLq2uZbq3gaKSQJKF2i4WQMFYOAOmTj0Mw4NzbByhGrT+NqKaaa5m7JN30u+9l5nFg+KctxUZSp1PhTk0007LVvzt5XZg/Gn/AILxfBH4D/FrxF4L1y08dNrHhfUJdNvGtdLikhMsbFW2MZgSuRwSBX2lX8sf7THxn/4aK/aC8ZeO/wCzf7H/AOEu1e41X7D9o+0fZPNcv5fmbV34zjO1c+gr92v+Cbf/AAVqsf2+fD3xI1bVPCMHw80z4b21pd3dzPrn2+OSGZbp3kYmCLy1jW1JJ+bIbtjn6Divgn6hg6WJwsHov3l2nZvlSSW7u21pc8Xhziz65iqmHxElv7lk1dLmbu+miT1sfYVFfk3+0T/wczjTfFd1Y/C3wDa6jpdu5SPVfEFxJGbzB+8ttHgopAOC0m45GVUgiuZ+G3/Bzv4qtdajHjD4YeH77TmbDto9/NazRr6gS+YrEc8ZXPqOteVDw/zyVL2ipfJyin91/wAHqejLjTKY1PZ+0+dnb77H7FV8W6T/AMF4vgjrPxltfAsNp46/tq61pdCRm0uIQfaGnEAJbzs7N564zjt2qx+0V/wWU8J/C39h/wAJ/HDwb4em8caP4o12PQW06fUP7LuNOmMFxLIspEUwEiG32lQMMHDKxXBb8LfD/wAZv7C/aSsfiF/Zvm/Y/EsfiL7B9o279t0LjyfM2nGcbd23329q9bhPgl42nWqY6Ely6R1SfMr3TW+mm9jzeJOLFhJ0oYOad9ZaN+67Wae2uu1z+pyvj39uj/gst4F/YM+NUXgfxF4W8WaxqEumw6mJ9NFv5ISRpFC/vJFO4GM54xyK6/8A4Jlf8FC/+HjHwn1/xR/wiH/CHf2Hq/8AZf2b+1f7Q8/9zHLv3+TFt/1mMYPTOecV+W3/AAcdf8pBbP8A7FKx/wDR1zXncL8Nwr5xLLsyi1yp3SfVW6p+fc7+IM9lSytY7AS+Jqza6a9H6H1t/wARNfwn/wChB+In/fNn/wDHqP8AiJr+E/8A0IPxE/75s/8A49X4q2tu15cxwpt3ysEXc4Rck4GSSAB7k4Fey3XhSx/Ze0nxd4V+I3gmG+8Va7pVu+kXH2ks2lb1E29gkg5DLGnAB/1vzMvyv9hnnDnD2XShh40pVa9SzjSjUiqkoKcI1JxjOUbxpKalOzvbZNtI+KwfFWc4hSm5xjCO8nH3U7NxTaTs5WsvPyP1Il/4OYfhXDFHI/w9+I6xzAmNmS0AcA4JB87nkEcdxTP+Imv4T/8AQg/ET/vmz/8Aj1fk7qn7Rs3jnQfAXh/xNpGm3nh3wXNtdYI3jutQgZlLpLIrqWIAbaQVxuOSetXPil8P7j4vWfi74peFPDFr4d8D2+pRQyWi3an7FNMjOyKGblQ4wMBf9ZHtQA7V82lkeWYarTpZ5hHh1NySqe2i6fM6qp0ad24ydWtFqaioNR1jzN2OmXE2ZVIylgqyqOKT5fZ2lbl5pytZpRg1a7d3vax+q3/ETX8J/wDoQfiJ/wB82f8A8er6u/YD/b88N/8ABQj4b614m8M6Lrmi2mi6l/ZksWpiLzJH8pJNy+W7DbhwOTnINfzR1+13/Bsp/wAmn+Pv+xtP/pHb118Y8G5Zl2WSxWFi1JNLVt7s6uF+KMfjsfHD4iScWn0S2R7t/wAFsvjRqXwS/wCCdHji60eWS31DXvI0FZ0ODDHcyBJu+eYRKoI5BcHtX4w/8E1vFfwP+H3x4k8Q/Ha1u9W8P6TaF9O0pNPN7Be3ZYAGdM4aNF3HY2QzFc5AIP7Jf8Fz/hdqPxR/4Ju+NBpcMlxc+H5rTWnhjXLPDDMvnH6JEzyH2jNfkr/wSQ8O/ADx98dtT8M/H3TrOXTdas0Gh395q11p1taXavzG8kMsYHmIxw0h2gxgcFudeCpUYcOYiTUn7z5vZ257Wjtfyv8AK9tTPiuNWWeUIrl+FcvP8F7ve3nb8L6H0t+3p+2L+xP+0z+zvr+l+HPC7+H/ABta2clx4e1DTPCqabIl2o3JFI8e0NFIRsYOGADlgAwBHj3/AAb4fGDVPAH/AAUP0fw3azS/2b470290+9gz+7cwW0l3HIR/eUwFQeoEjDoxr7a/ad/Yh/YJ/ZN+Fdz4s8T+E9PuLeNA1rYad4u1C41DVGJACW8Rvl3nnOchQASSBzXL/wDBL7xx+xz8VP2utIX4L/Bn4jeHfHGi2V3qEOraleSyWmnwmFoJWkB1GYfMs/ljMbfNIOh5BTzPCf2HiaOFo15U2pe9NRai7aa82ydnonrtqOeX4n+16FXEVaMZpx0hzJtX7cu7V1rbTyPzb/4Jn/8AKQX4N/8AY26f/wCjlr+jX9oD/kg/jb/sAX3/AKTyV/Nf+yB46tf2e/20Ph7r3iRXs7Hwp4qs5tVzy1rHFcqJmwM5KAMcDrtxX7wfttf8FEvhF8Mf2SvFurw+PfCeu3WsaHc2+j2OmarDd3GpzTRPHEESNmbZvPzPjCgEnpio8RMHXr5lhXRg5XVlZX15iuB8VRo4DEKrJRs76u2lj8UP+CTf/KR34Q/9h+P/ANAevp//AIOa/wDk7LwD/wBikP8A0suK+YP+CTf/ACkd+EP/AGH4/wD0B6+n/wDg5r/5Oy8A/wDYpD/0suK+nx3/ACVWG/69S/Nnz+E/5Jyv/wBfI/odd/wRn/4I8/DX9pT9nGH4nfFCx1DxEuuXlxb6ZpaXs1laxQQuYWkdoWSRnMqyYw4UBBwSTjhf+C/Uej/s6zfCn4A+BtPk0HwB4X0ifxLDpwuprhGnu7y5XczzM8jFGS4I3McfaGA4wB+gv/BC/wD5RY/C3/uLf+ne9r4i/wCDm74MalZ/Gj4e/ERYpJNH1HRW8OSSAfJBPBPNcKrehdblyOefKb0r5XKs2r4niydHFVG4RnUUItvlTjzJWW17X13Posyy2lh+G41cPBKUowcmlq07N3e9r202PZv+CEn/AATr+Hd3+yTp3xO8XeE9F8UeJPGVxctanWLJLuPTrSGaS3VY45FKqztHI5cDJV1GcdfOf+DhT9gPwJ8Kvhf4d+Kngnw/pXha8fV00bV7PTLdLW1vFlikkjn8pAFWRWiKkqAW8zJztzXqn/BBL9vXwNf/ALIun/DHxF4l0nQfFHgq4ukt4NTvUtzqNpNM9wskTSEBtjSuhRSSqopxgivOf+DiX9uTwT46+Ffh74T+Fdc0zxFrH9rx61q0unzrcw6fHFFLHHEzqSvmO0u7aDlVj5A3rnnwss2/1talzW53ffl9nrbyta1vO3U2xEct/wBWk1y35V2vz6X873vfy8jmf+CJXxS8VfEr9gj9pX4V6V9svNQ0zw9dXnhqOI5kS5vbK6iMUfdcyxRMoH8Ujngk5+BP2RPj1Y/srftF6D401jwZpPji10GWQy6NqnyRyMUZAwJVgsiE7lLIwDLnGcEfeX/BELVtS/Y//Y0+O3x+vNAvNc0q1+xWdlYRTC3a+W2ZzcuHKt8qC5j+bBH7uQdRxf8Ah7+0P+yr/wAFav2im8P+OvhLB8MfEWtW0k9v4mg8QLayahdKyYhfZHHE8jqXIeUMSYwoyWFfSfW1h8dmH7hzw8mueUGrp8i5tLpve7a1Tv8ALwvqzr4PBfvlCsk+VSTs1zPl1s100T0asR/tFf8ABQP9k3/gpV8P9M8O+ONL8SfCHXLG7jng1+HQoL37MuGDQiWAmRom3chowMhTjI4+uP8Agl//AME7/hf8Dfhb4ouvCnjq2+MHgP4jLaPLBfWttdaeZLV5GU7BuXeGf5lYAq0a5GVGPhP/AIKff8EUfB37F/wRvviD4V+Jks1naywxw6Frywm81ASSKn+jzR7BIyhtxXyvuKzbhjB6D/g2S8f+IYP2gviD4WjmuG8KXXh4arcQliYYr2O5giiYD+FmjlmBI+8I1znaMeLmmDw9XIKmIybETVGLu4S2umno2uZNOzVm1fTuerl+KrU85hQzSjH2slZSjvZprVJ8rTV1qk7Hxb/wUT0Kx8L/ALdnxb07TLO107T7LxTfw29rawrDDAgmYBURQAqgdABgV+/n7SH7Dvhz4r/sx+OPh74Mi8P/AAvk8b28FteappOgwj91HMsjCSKNofMBj82MZcbRKx55B/A7/gph/wApBfjJ/wBjbqH/AKOav13/AOC4X7T8Fh/wTn10+BfE2l6gPEWpWWjahPpd8kzRWk4lkZSYydolWEoc43Kzj1rp4oo4mv8A2VTw8nFytruk/wB202tnZ62e5hw/UoUf7RqVo3S6bNr37pPdX2utj5D/AGfPhd+yD/wTk+OWoax46+MOjfHHULO2a0tNJs/B73FpYTl13TlxLNbyuqhlALfLliPmC48h/wCCtP7bXwS/a8uPDC/Cj4dyeF77SZJn1LV5dLtdNkv0cLsi2QM3mKpBbdIQQSQBgknZ/wCCHP7CPwx/bd+J3jOP4kXFxeL4XtbSew0KG+NodUErSiWRmQiUpF5cYIQrzOuSOAe1/wCC73w4+BP7PGj+B/h/8K9B8L6T4mtby4vdbXTSJrq2iCKkUVzMzNJuZizBGbICliBuBPqUZYWnxBDD1J1auIS1k7KCXLfaKStZ9mrvds86pHETyWVenGnToN6JXc2+a27bd/nt0se9/wDBuf4A0H4o/sY+ONL8TaLpPiLS7bxqbuGz1SzjvLeKb7Dbr5ipICofaSNwGcHHSvzO8C6FY3H/AAUJ0fTJLO1k02T4iQWrWjQqYGiOpKpjKY27NvG3GMcV+pH/AAbKf8mn+Pv+xtP/AKR29fl34R1K30f/AIKKaXeXlxDa2lr8RoppppnEccKLqYLMzHhVABJJ4AFLKJS/tjNIp9Fb7mVmcY/2Zl8rdX+aP6TvAvwz8N/C7TprPwz4f0Pw7aXEnnSwaZYRWccr4A3MsagFsADJ5wBX4f8A/Bx1/wApBbP/ALFKx/8AR1zX7leGPGmj+N7SS40XVtN1e3hfy3ksrpLhEbAO0lCQDgg496/DX/g46/5SC2f/AGKVj/6Oua+F8OHN53epe/JLffofX8dcqyn3NuZbfM+Lvg14a0Lxf8TdH0/xNq7aDoNxOPtt8ED+REPmY4LDqARxuOSMKxwpd8Z9SmvfiTq0EniS98XQ6dcy2dvqty+9ruNJGw6ne/yMSzD5jkNnjOBzVlOtreQySQx3McbhmhkLBJQDkq20hsHocEHngg817Z8RPBNn+01N4l8W/DnwjpvhPwz4J0m3bULaXUgJZNrLCr4klPzMgDcBR8jAl3wX/Q87zCGV57Rx+PlJYaVNw5pexVGlUdSEYXlJqqp1nNQSjeD5VzJOzPzLB0HicFOhQSdRS5rLnc5RUW3orxtC13ez1dtDw+vTPgBpej+MdH8UaP4k8d6h4R0mHTJb22tU+eDVboGPZCUMiguWSMjI2/u8l02jPKaR8KfEOt3+iW8Ol3EbeI5RDpslwRbw3TligCySEJywI5I/lXofju30T4E/D7xb8M/Eng3T7j4hWergrrsF88qwJFhVQBZdvKyTH7ox+73ozYMeXF2cYfFU4ZRl9VyxNSUWvZOjKpThGrGM63LVfLy037smoykm7RXNtWVYWpTk8XXjanFO/NzqMm4tqF463luldK2rdjxs9eOnav2u/wCDZT/k0/x9/wBjaf8A0jt6/FGv2u/4NlP+TT/H3/Y2n/0jt66PEb/kST/xR/M9Lgb/AJG0fSX5H6Q31jDqdlNbXMMVxb3CNFLFKgdJUYYKsDwQQSCD1r8uv2w/+DbjS/G3ie81z4OeKLPwuLx2lbQNaWSSxgY84hnjDSRp/sMkhGeGAAWiivwzKM8xuWVHUwc+W+63T9U/z3P17MsowmPgoYqF7bPZr0aPDfBP/BtH8ZdW1tY9e8X/AA80XTVk2ST21xdXs5X+8kXkxq30Z1P0r9QP2BP+Cdvgf/gnz8OZ9J8NCbVNc1Qq+r67dxqt1qDL91QBxHEuTtjBOMkksxLEorvzji/M8yp+xxM/c7JWT9er++xw5Xwzl+Aqe1oQ97u3dr06L8z5H/b3/wCDeyH4/fGPWPHHw18V6b4ZuvEl017qOj6pbubRbhzullhljBZA7ZYxlCAzNhgMKOL/AGcP+DaCbSPGH274peONM1LSrUFotM0KKZftj4+XzZpAjIgbqqLuYdHQ80UVvT44zmnhlhY1dErJ2XNb1tf57+ZnU4Ryudd4iVPVu9ru1/S9vlsdf+yF/wAG+msfsw/tL+DfH9x8T9N1iHwrqC3z2UeiPC1wArDaHMxC9euDXqv/AAVJ/wCCQOpf8FE/i94e8UWXjqx8Kx6Ho40trefS2u2mPnSS7wwkTH+sxjB6UUVz1OLs1ni446VT95FOKfLHZ+VrdextDhnLo4aWDjD3JO7V3uvO9z6E/YI/ZeuP2Mf2TfCfw1utYh1+fw39s3X8VubdJ/PvJ7kYQsxG0TBepztz3xXR/tL/ALNfhL9rX4O6p4H8aae19ouqKDujbZPaSryk8L4OyRDyDgg8ghlJBKK8Spjq8sS8Y5fvHJyutPebvdW217HrQwlGNBYZR9xLls9dErW130Pya+Mf/Bs18RtG1y4fwH468I69pOS0Sax5+n3ijPCkRxyxsQOrblzjoOlanwD/AODZjxdf+Iraf4nePPD+m6OjK81p4cEt3dzr3TzZo40ibtuCyjjoaKK+ul4h526Xs/aK/flV/wDL8D5pcE5SqntOR+l3b/P8T9XfAnwA8H/Db4J23w50jQbG38GWunPpX9mMvmRS27qVkWTdkuXDMXLZLFmJJJNfl5+0v/wbO6ld+LLq++EnjjR4NJupDJFpXiUTRtYgnOxbmFJDIoycbow2AASxy1FFeHlPEmYZdVlVw1TWWsr6pvu79fPc9bMsiwWOpxp4iGkdraNeSt08tjzPwd/wbUfGrV9SVda8VfDrR7IPteSK7urqbH95UECqfoXU1+nf/BO7/gnR4S/4J4fDC80nQ7mfWvEGuPHLrWt3EYikvmQMI0SMEiOJNz7Vyxy7Esc8FFdmccYZnmVL2GImuTqkrJ+vV+l7HNlfDGX4Cp7ahH3u7d7enQ+XP+Ch3/BAmf8Aal+Pmt/ETwP41sNBvvEzrcahpeq2rvbi4CBWkjmjJYB9oJQocMWIbBCro/sWf8ELG+E/7P3xc8A/E7xBpOu2XxNj0zyJdFWRZNJmsmunSdXlUZYNOhA24IVlOQxyUUnxhmrwkcF7T3Y8ttFdcrTjra+jSBcL5csS8V7P3ne+rs+ZNPTbVNnzZr//AAbR/GDQvGLt4b+IXw/uNLik/wBHvbqa9sbzb0JMUcEqqcdhKc+terf8Qy+lf8KKt9PX4hFfiFJqEVzc6s2ns2nw2wjkD2sUAkUkl2jYyuxJ8rAVAxFFFdtbxAzuaivapW7RWvrp+Gxy0+C8pg3+7bv3b09Nfx3Ppv8A4JZf8E5fFX/BOnS/E2i33jrSfFnhzxBKl6lvDpD2k9rdqFQuHMrAo0YAK7c5VSCOQfmP9r//AINxr34n/GbxB4q+HPjnSNJ0/wARXsuoPpOsWsgFjLK+90jmi3bo9zMVBQFRhct96iivPw/FmZ0MZPHU5rnnbm91Wdtrq1vnudtbhvAVcNHCTh7kdtXdX873+R9V/wDBJn9gDXf+CenwU8QeGfEGvaTr15rmsf2oJNPjkWKEeRFHsy4BPMZOcDg14f8A8FU/+CNPjr9vP9pu38ceHPFHhPR9Pi0S20wwakbjzi8ckzFv3cbDaRIMc54NFFY4fiXHUcfLMoSXtZbuytrbpt0NK2Q4Org44CSfs47K7/P5nzX/AMQyvxZ/6H74d/8AfV5/8Zq1Y/8ABth8ZtLtp4bb4leBbeG6GJo4p75FmGGXDAQ4PDMOezEdzRRXs1PELOKkeWcotdnFM8qPBGVRd4xl/wCBM6rxZ/wQX/aG8a+C/DHh/UPit4Dk0vwaSdHjR71GsyduSGEOScqCCxJXkLtHFcjff8G0nxg1S5aa6+IngG4mYAGSWW9diAAAMmHPAAA9gKKK4Mt4uxmXw9ngYU6cbydo04xV5yc5vRLWU25Sf2pNyd27m2I4RwFeXNW5pPRayb0SsuvRJJdloQ/8QyvxZ/6H74d/99Xn/wAZr7//AOCSH7AfiT/gnv8ABbxL4Z8TazoetXeta2dTil0wymONPIij2t5iKd2UJ4GMEUUU804yzPMcO8LipJxdnoktjbLuF8Bga6xGHi1JX6t7n//Z",this.fileName="bcc_report_"+$.datepicker.formatDate("dd/mm/yy",this.genDate)+".pdf"}function hexToRgb(t){var e=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;t=t.replace(e,function(t,e,i,n){return e+e+i+i+n+n});var i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return i?{r:parseInt(i[1],16),g:parseInt(i[2],16),b:parseInt(i[3],16)}:null}function initBCCApp(t,e,i,n){localStorage.clear();var r=getUrlParam("lng");initTheme(),"map"==getUrlParam("view")&&(t(".alt_view").hide(),t("#bccMap").show()),n.onChangedFunction=function(e){t.datepicker.setDefaults(t.datepicker.regional[e]),t(document.body).localize()},n.initI18Next(),i.onready=function(t,e,i,n){bcc=new BCC(t,"countriesChart","#playerClock",new ClocksNavList("#navlist","#addCountry",maxCountryNumber)),bcc.addCountry(t.DataSet.Data[0].Country["@attributes"].code,!0),setGeneratorCountriesOptions(),bccMapApp=new BCCMapApp(t,bcc.dataSetInfo,"#eu_map","#monthpicker","#current_month","#ea_clock","#mapPlayer"),applyRangeSelection(),r&&changeLanguage(r.toLowerCase())},i.loadDataSet("files/BCC_HD.xml"),loadEACountryList("files/ea_countries.json"),t.datepicker.setDefaults(t.datepicker.regional[t.i18n.language.substr(0,2)]),initLngChanger(),initShareButton()}function loadEACountryList(t){$.getJSON(t,function(t){eaMembers=t}).fail(function(t){console.log("could not get external ea countries list"),console.log(t)})}function initLngChanger(){$(document).on("click",".lngtooltip",function(){$(this).tooltip({items:".lngtooltip",content:function(){var t="<div class='lang_tooltip'>",e=$.i18n.language.substr(0,2).toUpperCase();return"EN"!=e&&(t+='<a class="lng_changer language-en" href="javascript:changeLanguage(\'en\');" title="English"></a>'),"FR"!=e&&(t+='<a class="lng_changer language-fr" href="javascript:changeLanguage(\'fr\');" title="Français"></a>'),"DE"!=e&&(t+='<a class="lng_changer language-de" href="javascript:changeLanguage(\'de\');" title="Deutsch"></a>'),t+="</div>"},close:function(t,e){var i=this;e.tooltip.hover(function(){$(this).stop(!0).fadeTo(400,1)},function(){$(this).fadeOut("400",function(){$(this).remove()})}),e.tooltip.on("remove",function(){$(i).tooltip("destroy")})}}),$(this).tooltip("open")})}function initShareButton(){$(document).on("click",".sharetooltip",function(){$(this).tooltip({items:".sharetooltip",content:function(){return'<div class="sharetooltip-content"><a id="facebook" onclick="return fbs_click();"><img src="resources/img/share/bt_fb.svg" alt="facebook"></a><br><a id="twitter" onclick="return twitter_click();"><img src="resources/img/share/bt_twitter.svg" alt="twitter"></a><br></div>'},close:function(t,e){var i=this;e.tooltip.hover(function(){$(this).stop(!0).fadeTo(400,1)},function(){$(this).fadeOut("400",function(){$(this).remove()})}),e.tooltip.on("remove",function(){$(i).tooltip("destroy")})}}),$(this).tooltip("open")})}function applyRangeSelection(){bcc.monthRangeSelector.applyRangeSelection(function(t,e){var i=bcc.updateRangeDate(t,e,!0);bccMapApp.bccMapControls.updateRange(i.clock.min.pos,i.clock.max.pos,i.clock.min.date,i.clock.max.date)}.bind(this))}function changeLanguage(t){"fr"!==t&&"en"!==t&&"de"!==t||($(".lngtooltip").removeClass("language-"+$.i18n.language),$.i18n.changeLanguage(t,function(){document.documentElement.setAttribute("lang",t),bcc.updateClocks(bcc.timer.timerPos),$(".lngtooltip").addClass("language-"+$.i18n.language);var e=bcc.dataSetInfo[bcc.dataset.DataSet.Data[0].Country["@attributes"].code],i=e.date[bccMapApp.bccMapControls.timer.timerPos];i=toDate(i,"dd/mm/yyyy","/"),$(bccMapApp.bccMapControls.currentMonthSelector).text($.datepicker.formatDate("M yy",i,$.datepicker.regional[$.i18n.language.substr(0,2)])),$("#monthpicker").MonthPicker({i18n:$.datepicker.regional[$.i18n.language.substr(0,2)]}),$("#monthpicker").MonthPicker("SetSelectedMonth",i),bcc.chart.localizeNames()}))}function goToMapView(){bcc.timer.pause(),bccMapApp.bccMapControls.timer.pause(),bccMapApp.bccMapControls.timer.setPos(bcc.timer.timerPos),toggleViews(),bccMapApp.bccmap.leafletMap._onResize()}function goToBCCView(){bccMapApp.bccMapControls.timer.pause(),bcc.timer.pause(),bcc.timer.setPos(bccMapApp.bccMapControls.timer.timerPos),toggleViews()}function toggleViews(){$("#bcc_view").toggle("slide",{direction:"left"},500),$("#bccMap").toggle("slide",{direction:"right"},500)}function showSettings(){$(".hiddenPanel").hide(),$("#settingsPanel").show()}function showEmbedPanel(){$(".hiddenPanel").hide(),$("#embedCopyCode").html('<iframe src="'+document.location.protocol+"//"+document.location.host+document.location.pathname+'" height="837" width="1451"></iframe>'),$("#embedPanel").show()}function showReportGenerator(){require(["pdfGenerator"],function(t){$(".hiddenPanel").hide(),resetGeneratePanel(),setDefaultGenSettions(),$("#generatePanel").show()})}function showInfo(){$(".hiddenPanel").hide(),$("#infoPanel").show()}function downloadReport(){var t=bcc.genMonthRangeSelector.getValues(),e=new PdfGenerator(bcc,bcc.dataset,bcc.dataSetInfo,t.from,t.to,$("#genClockTimeSelect_month_picker").MonthPicker("Validate")),i=getSelectedGenerationCountries();if(i&&i.length>0){var n=getSelectedGenRCountry();e.downloadReport(i,n),$("#generateCountriesSelect, #genRCS, #generateReportButton, #cancelReportButton, #genRange_select_label, #genRangeselect, #genCustomeRange_selection, #genClockTimeSelect").hide(),$("#generate_succes_msg, #okReportButton").show()}}function resetGeneratePanel(){$("#generateCountriesSelect, #genRCS, #generateReportButton, #cancelReportButton, #genRange_select_label, #genRangeselect, #genClockTimeSelect").show(),$("#generate_succes_msg, #okReportButton").hide()}function setDefaultGenSettions(){var t=bcc.navList.getSelectedCountry(),e=bcc.navList.getShownCountries();$("#generateForm select#genRCSelect")[0].value=t;for(var i=$("#generateForm #generateCountriesSelect input[type=checkbox]"),n=0;n<i.length;n++)$.inArray(i[n].value,e)>=0?i[n].checked=!0:i[n].checked=!1;var r,o,s=bcc.monthRangeSelector.getValue();"custom"==s&&(r=bcc.monthRangeSelector.getCustomFromValue(),o=bcc.monthRangeSelector.getCustomToValue()),bcc.genMonthRangeSelector.setValue(s,r,o),updateGenRCSelectOptions(),$("#genCustomeRange_selection").css("display","custom"===s?"block":"none"),updateGenClockTimeSelect()}function toggleClockTimeSelector(){$("#range_select").toggle()}function applyCustomRangeSelection(t,e){$("#range_select .selected").removeClass("selected"),$(t).addClass("selected"),$("#range_selector").val(e),"custom"==e?showSettings():applyRangeSelection()}function updateGenClockTimeSelect(){var t,e=new Date(bcc.range.clock.max.date);switch($("#genRange_select")[0].value){case"5":t=new Date(bcc.range.clock.max.date),t.setFullYear(t.getFullYear()-5);break;case"10":t=new Date(bcc.range.clock.max.date),t.setFullYear(t.getFullYear()-10);break;case"15":t=new Date(bcc.range.clock.max.date),t.setFullYear(t.getFullYear()-15);break;case"custom":t=toDate("01/"+$("#genFrom_month_picker")[0].value,"dd/mm/yyyy","/"),e=toDate("01/"+$("#genTo_month_picker")[0].value,"dd/mm/yyyy","/");break;default:t=new Date(bcc.range.clock.min.date)}$("#genClockTimeSelect_month_picker").MonthPicker("Validate").getTime()<t.getTime()&&$("#genClockTimeSelect_month_picker").val($.datepicker.formatDate("mm/yy",t)),$("#genClockTimeSelect_month_picker").MonthPicker("Validate").getTime()>e.getTime()&&$("#genClockTimeSelect_month_picker").val($.datepicker.formatDate("mm/yy",e)),$("#genClockTimeSelect_month_picker").MonthPicker({ShowIcon:!1,UseInputMask:!0,MaxMonth:e,MinMonth:t,i18n:$.datepicker.regional[$.i18n.language.substr(0,2)]})}function setGeneratorCountriesOptions(){$("#generateForm #generateCountriesSelect .genCSelect").remove(),$("#generateForm #genRCS select#genRCSelect option").remove();var t=$("#generateForm #generateCountriesSelect"),e=$("#generateForm #genRCS #genRCSelect"),i=bcc.getCountryCodes();for(var n in i)t.append('<span class="genCSelect" style="display: inline-block"><input id="genCSelect_'+i[n]+'" type="checkbox" name="'+$.i18n.t("country:"+i[n])+'" value="'+i[n]+'" onchange="genCSelectChanged(this);"><label for="genCSelect_'+i[n]+'" data-i18n="country:'+i[n]+'">'+$.i18n.t("country:"+i[n])+"</label></span>"),e.append('<option value="'+i[n]+'" data-i18n="country:'+i[n]+'">'+$.i18n.t("country:"+i[n])+"</option>")}function genCSelectChanged(t){var e,i=[];$("#generateCountriesSelect span.genCSelect>input").each(function(t,n){e||(e=n),n.checked&&i.push(n.value)}),i.length<=0&&e?e.checked=!0:i.length>maxCountryNumber&&(t.checked=!1),updateGenRCSelectOptions()}function updateGenRCSelectOptions(){var t=$("select#genRCSelect")[0],e=t.value,i=!1,n="",r=[];$("#generateCountriesSelect span.genCSelect>input").each(function(t,o){o.checked&&(r.push(o.value),o.value===e&&(i=!0),n=n+'<option value="'+o.value+'" data-i18n="country:'+o.value+'">'+$.i18n.t("country:"+o.value)+"</option>")}),$(t).html(n),t.value=i?e:r[0]}function getSelectedGenRCountry(){var t=$("#generateForm select#genRCSelect");return t.length>0?t[0].value:void 0}function getSelectedGenerationCountries(){for(var t=$("#generateForm #generateCountriesSelect input[type=checkbox]"),e=[],i=0;i<t.length;i++)t[i].checked&&e.push(t[i].value);return e}function addCountry(t,e){bcc.addCountry(t,e)}function simulateMouseEvent(t,e){var i,n=extend(defaultOptions,arguments[2]||{}),r=null;for(var o in eventMatchers)if(eventMatchers[o].test(e)){r=o;break}if(!r)throw new SyntaxError("Only HTMLEvents and MouseEvents interfaces are supported");if(document.createEvent)i=document.createEvent(r),"HTMLEvents"==r?i.initEvent(e,n.bubbles,n.cancelable):i.initMouseEvent(e,n.bubbles,n.cancelable,document.defaultView,n.button,n.pointerX,n.pointerY,n.pointerX,n.pointerY,n.ctrlKey,n.altKey,n.shiftKey,n.metaKey,n.button,t),t.dispatchEvent(i);else{n.clientX=n.pointerX,n.clientY=n.pointerY;i=extend(document.createEventObject(),n),t.fireEvent("on"+e,i)}return t}function extend(t,e){for(var i in e)t[i]=e[i];return t}function fbs_click(){return u=location.href,t=document.title,window.open("https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(u)+"&t="+encodeURIComponent(t),"sharer","toolbar=0,status=0,width=626,height=436"),!1}function gplus_click(){return u=location.href,t=document.title,window.open("https://plus.google.com/share?url="+encodeURIComponent(u),"sharer_google","toolbar=0,status=0,width=626,height=436"),!1}function twitter_click(){return u=location.href,t=document.title,window.open("https://twitter.com/intent/tweet?url="+encodeURIComponent(u)+"&amp;text="+encodeURIComponent(t),"sharer_twitter","toolbar=0,status=0,width=626,height=436"),!1}!function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){function i(t){var e=!!t&&"length"in t&&t.length,i=dt.type(t);return"function"!==i&&!dt.isWindow(t)&&("array"===i||0===e||"number"==typeof e&&e>0&&e-1 in t)}function n(t,e,i){if(dt.isFunction(e))return dt.grep(t,function(t,n){return!!e.call(t,n,t)!==i});if(e.nodeType)return dt.grep(t,function(t){return t===e!==i});if("string"==typeof e){if(wt.test(e))return dt.filter(e,t,i);e=dt.filter(e,t)}return dt.grep(t,function(t){return dt.inArray(t,e)>-1!==i})}function r(t,e){do{t=t[e]}while(t&&1!==t.nodeType);return t}function o(t){var e={};return dt.each(t.match(Dt)||[],function(t,i){e[i]=!0}),e}function s(){nt.addEventListener?(nt.removeEventListener("DOMContentLoaded",a),t.removeEventListener("load",a)):(nt.detachEvent("onreadystatechange",a),t.detachEvent("onload",a))}function a(){(nt.addEventListener||"load"===t.event.type||"complete"===nt.readyState)&&(s(),dt.ready())}function l(t,e,i){if(void 0===i&&1===t.nodeType){var n="data-"+e.replace(Et,"-$1").toLowerCase();if("string"==typeof(i=t.getAttribute(n))){try{i="true"===i||"false"!==i&&("null"===i?null:+i+""===i?+i:Lt.test(i)?dt.parseJSON(i):i)}catch(t){}dt.data(t,e,i)}else i=void 0}return i}function h(t){var e;for(e in t)if(("data"!==e||!dt.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function u(t,e,i,n){if(Pt(t)){var r,o,s=dt.expando,a=t.nodeType,l=a?dt.cache:t,h=a?t[s]:t[s]&&s;if(h&&l[h]&&(n||l[h].data)||void 0!==i||"string"!=typeof e)return h||(h=a?t[s]=it.pop()||dt.guid++:s),l[h]||(l[h]=a?{}:{toJSON:dt.noop}),"object"!=typeof e&&"function"!=typeof e||(n?l[h]=dt.extend(l[h],e):l[h].data=dt.extend(l[h].data,e)),o=l[h],n||(o.data||(o.data={}),o=o.data),void 0!==i&&(o[dt.camelCase(e)]=i),"string"==typeof e?null==(r=o[e])&&(r=o[dt.camelCase(e)]):r=o,r}}function c(t,e,i){if(Pt(t)){var n,r,o=t.nodeType,s=o?dt.cache:t,a=o?t[dt.expando]:dt.expando;if(s[a]){if(e&&(n=i?s[a]:s[a].data)){dt.isArray(e)?e=e.concat(dt.map(e,dt.camelCase)):e in n?e=[e]:(e=dt.camelCase(e),e=e in n?[e]:e.split(" ")),r=e.length;for(;r--;)delete n[e[r]];if(i?!h(n):!dt.isEmptyObject(n))return}(i||(delete s[a].data,h(s[a])))&&(o?dt.cleanData([t],!0):ct.deleteExpando||s!=s.window?delete s[a]:s[a]=void 0)}}}function d(t,e,i,n){var r,o=1,s=20,a=n?function(){return n.cur()}:function(){return dt.css(t,e,"")},l=a(),h=i&&i[3]||(dt.cssNumber[e]?"":"px"),u=(dt.cssNumber[e]||"px"!==h&&+l)&&It.exec(dt.css(t,e));if(u&&u[3]!==h){h=h||u[3],i=i||[],u=+l||1;do{o=o||".5",u/=o,dt.style(t,e,u+h)}while(o!==(o=a()/l)&&1!==o&&--s)}return i&&(u=+u||+l||0,r=i[1]?u+(i[1]+1)*i[2]:+i[2],n&&(n.unit=h,n.start=u,n.end=r)),r}function p(t){var e=Ht.split("|"),i=t.createDocumentFragment();if(i.createElement)for(;e.length;)i.createElement(e.pop());return i}function f(t,e){var i,n,r=0,o=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):void 0;if(!o)for(o=[],i=t.childNodes||t;null!=(n=i[r]);r++)!e||dt.nodeName(n,e)?o.push(n):dt.merge(o,f(n,e));return void 0===e||e&&dt.nodeName(t,e)?dt.merge([t],o):o}function g(t,e){for(var i,n=0;null!=(i=t[n]);n++)dt._data(i,"globalEval",!e||dt._data(e[n],"globalEval"))}function m(t){Nt.test(t.type)&&(t.defaultChecked=t.checked)}function v(t,e,i,n,r){for(var o,s,a,l,h,u,c,d=t.length,v=p(e),y=[],_=0;_<d;_++)if((s=t[_])||0===s)if("object"===dt.type(s))dt.merge(y,s.nodeType?[s]:s);else if(Ut.test(s)){for(l=l||v.appendChild(e.createElement("div")),h=(Ft.exec(s)||["",""])[1].toLowerCase(),c=Wt[h]||Wt._default,l.innerHTML=c[1]+dt.htmlPrefilter(s)+c[2],o=c[0];o--;)l=l.lastChild;if(!ct.leadingWhitespace&&Bt.test(s)&&y.push(e.createTextNode(Bt.exec(s)[0])),!ct.tbody)for(s="table"!==h||Yt.test(s)?"<table>"!==c[1]||Yt.test(s)?0:l:l.firstChild,o=s&&s.childNodes.length;o--;)dt.nodeName(u=s.childNodes[o],"tbody")&&!u.childNodes.length&&s.removeChild(u);for(dt.merge(y,l.childNodes),l.textContent="";l.firstChild;)l.removeChild(l.firstChild);l=v.lastChild}else y.push(e.createTextNode(s));for(l&&v.removeChild(l),ct.appendChecked||dt.grep(f(y,"input"),m),_=0;s=y[_++];)if(n&&dt.inArray(s,n)>-1)r&&r.push(s);else if(a=dt.contains(s.ownerDocument,s),l=f(v.appendChild(s),"script"),a&&g(l),i)for(o=0;s=l[o++];)zt.test(s.type||"")&&i.push(s);return l=null,v}function y(){return!0}function _(){return!1}function x(){try{return nt.activeElement}catch(t){}}function b(t,e,i,n,r,o){var s,a;if("object"==typeof e){"string"!=typeof i&&(n=n||i,i=void 0);for(a in e)b(t,a,i,n,e[a],o);return t}if(null==n&&null==r?(r=i,n=i=void 0):null==r&&("string"==typeof i?(r=n,n=void 0):(r=n,n=i,i=void 0)),!1===r)r=_;else if(!r)return t;return 1===o&&(s=r,r=function(t){return dt().off(t),s.apply(this,arguments)},r.guid=s.guid||(s.guid=dt.guid++)),t.each(function(){dt.event.add(this,e,r,n,i)})}function w(t,e){return dt.nodeName(t,"table")&&dt.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function k(t){return t.type=(null!==dt.find.attr(t,"type"))+"/"+t.type,t}function C(t){var e=ie.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function T(t,e){if(1===e.nodeType&&dt.hasData(t)){var i,n,r,o=dt._data(t),s=dt._data(e,o),a=o.events;if(a){delete s.handle,s.events={};for(i in a)for(n=0,r=a[i].length;n<r;n++)dt.event.add(e,i,a[i][n])}s.data&&(s.data=dt.extend({},s.data))}}function S(t,e){var i,n,r;if(1===e.nodeType){if(i=e.nodeName.toLowerCase(),!ct.noCloneEvent&&e[dt.expando]){r=dt._data(e);for(n in r.events)dt.removeEvent(e,n,r.handle);e.removeAttribute(dt.expando)}"script"===i&&e.text!==t.text?(k(e).text=t.text,C(e)):"object"===i?(e.parentNode&&(e.outerHTML=t.outerHTML),ct.html5Clone&&t.innerHTML&&!dt.trim(e.innerHTML)&&(e.innerHTML=t.innerHTML)):"input"===i&&Nt.test(t.type)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===i?e.defaultSelected=e.selected=t.defaultSelected:"input"!==i&&"textarea"!==i||(e.defaultValue=t.defaultValue)}}function D(t,e,i,n){e=ot.apply([],e);var r,o,s,a,l,h,u=0,c=t.length,d=c-1,p=e[0],g=dt.isFunction(p);if(g||c>1&&"string"==typeof p&&!ct.checkClone&&ee.test(p))return t.each(function(r){var o=t.eq(r);g&&(e[0]=p.call(this,r,o.html())),D(o,e,i,n)});if(c&&(h=v(e,t[0].ownerDocument,!1,t,n),r=h.firstChild,1===h.childNodes.length&&(h=r),r||n)){for(a=dt.map(f(h,"script"),k),s=a.length;u<c;u++)o=h,u!==d&&(o=dt.clone(o,!0,!0),s&&dt.merge(a,f(o,"script"))),i.call(t[u],o,u);if(s)for(l=a[a.length-1].ownerDocument,dt.map(a,C),u=0;u<s;u++)o=a[u],zt.test(o.type||"")&&!dt._data(o,"globalEval")&&dt.contains(l,o)&&(o.src?dt._evalUrl&&dt._evalUrl(o.src):dt.globalEval((o.text||o.textContent||o.innerHTML||"").replace(ne,"")));h=r=null}return t}function M(t,e,i){for(var n,r=e?dt.filter(e,t):t,o=0;null!=(n=r[o]);o++)i||1!==n.nodeType||dt.cleanData(f(n)),n.parentNode&&(i&&dt.contains(n.ownerDocument,n)&&g(f(n,"script")),n.parentNode.removeChild(n));return t}function A(t,e){var i=dt(e.createElement(t)).appendTo(e.body),n=dt.css(i[0],"display");return i.detach(),n}function P(t){var e=nt,i=ae[t];return i||(i=A(t,e),"none"!==i&&i||(se=(se||dt("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=(se[0].contentWindow||se[0].contentDocument).document,e.write(),e.close(),i=A(t,e),se.detach()),ae[t]=i),i}function L(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function E(t){if(t in we)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),i=be.length;i--;)if((t=be[i]+e)in we)return t}function q(t,e){for(var i,n,r,o=[],s=0,a=t.length;s<a;s++)n=t[s],n.style&&(o[s]=dt._data(n,"olddisplay"),i=n.style.display,e?(o[s]||"none"!==i||(n.style.display=""),""===n.style.display&&Ot(n)&&(o[s]=dt._data(n,"olddisplay",P(n.nodeName)))):(r=Ot(n),(i&&"none"!==i||!r)&&dt._data(n,"olddisplay",r?i:dt.css(n,"display"))));for(s=0;s<a;s++)n=t[s],n.style&&(e&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=e?o[s]||"":"none"));return t}function I(t,e,i){var n=ye.exec(e);return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):e}function j(t,e,i,n,r){for(var o=i===(n?"border":"content")?4:"width"===e?1:0,s=0;o<4;o+=2)"margin"===i&&(s+=dt.css(t,i+jt[o],!0,r)),n?("content"===i&&(s-=dt.css(t,"padding"+jt[o],!0,r)),"margin"!==i&&(s-=dt.css(t,"border"+jt[o]+"Width",!0,r))):(s+=dt.css(t,"padding"+jt[o],!0,r),"padding"!==i&&(s+=dt.css(t,"border"+jt[o]+"Width",!0,r)));return s}function O(e,i,n){var r=!0,o="width"===i?e.offsetWidth:e.offsetHeight,s=de(e),a=ct.boxSizing&&"border-box"===dt.css(e,"boxSizing",!1,s);if(nt.msFullscreenElement&&t.top!==t&&e.getClientRects().length&&(o=Math.round(100*e.getBoundingClientRect()[i])),o<=0||null==o){if(o=pe(e,i,s),(o<0||null==o)&&(o=e.style[i]),he.test(o))return o;r=a&&(ct.boxSizingReliable()||o===e.style[i]),o=parseFloat(o)||0}return o+j(e,i,n||(a?"border":"content"),r,s)+"px"}function R(t,e,i,n,r){return new R.prototype.init(t,e,i,n,r)}function N(){return t.setTimeout(function(){ke=void 0}),ke=dt.now()}function F(t,e){var i,n={height:t},r=0;for(e=e?1:0;r<4;r+=2-e)i=jt[r],n["margin"+i]=n["padding"+i]=t;return e&&(n.opacity=n.width=t),n}function z(t,e,i){for(var n,r=(W.tweeners[e]||[]).concat(W.tweeners["*"]),o=0,s=r.length;o<s;o++)if(n=r[o].call(i,e,t))return n}function B(t,e,i){var n,r,o,s,a,l,h,u=this,c={},d=t.style,p=t.nodeType&&Ot(t),f=dt._data(t,"fxshow");i.queue||(a=dt._queueHooks(t,"fx"),null==a.unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,u.always(function(){u.always(function(){a.unqueued--,dt.queue(t,"fx").length||a.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(i.overflow=[d.overflow,d.overflowX,d.overflowY],h=dt.css(t,"display"),"inline"===("none"===h?dt._data(t,"olddisplay")||P(t.nodeName):h)&&"none"===dt.css(t,"float")&&(ct.inlineBlockNeedsLayout&&"inline"!==P(t.nodeName)?d.zoom=1:d.display="inline-block")),i.overflow&&(d.overflow="hidden",ct.shrinkWrapBlocks()||u.always(function(){d.overflow=i.overflow[0],d.overflowX=i.overflow[1],d.overflowY=i.overflow[2]}));for(n in e)if(r=e[n],Te.exec(r)){if(delete e[n],o=o||"toggle"===r,r===(p?"hide":"show")){if("show"!==r||!f||void 0===f[n])continue;p=!0}c[n]=f&&f[n]||dt.style(t,n)}else h=void 0;if(dt.isEmptyObject(c))"inline"===("none"===h?P(t.nodeName):h)&&(d.display=h);else{f?"hidden"in f&&(p=f.hidden):f=dt._data(t,"fxshow",{}),o&&(f.hidden=!p),p?dt(t).show():u.done(function(){dt(t).hide()}),u.done(function(){var e;dt._removeData(t,"fxshow");for(e in c)dt.style(t,e,c[e])});for(n in c)s=z(p?f[n]:0,n,u),n in f||(f[n]=s.start,p&&(s.end=s.start,s.start="width"===n||"height"===n?1:0))}}function H(t,e){var i,n,r,o,s
;for(i in t)if(n=dt.camelCase(i),r=e[n],o=t[i],dt.isArray(o)&&(r=o[1],o=t[i]=o[0]),i!==n&&(t[n]=o,delete t[i]),(s=dt.cssHooks[n])&&"expand"in s){o=s.expand(o),delete t[n];for(i in o)i in t||(t[i]=o[i],e[i]=r)}else e[n]=r}function W(t,e,i){var n,r,o=0,s=W.prefilters.length,a=dt.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var e=ke||N(),i=Math.max(0,h.startTime+h.duration-e),n=i/h.duration||0,o=1-n,s=0,l=h.tweens.length;s<l;s++)h.tweens[s].run(o);return a.notifyWith(t,[h,o,i]),o<1&&l?i:(a.resolveWith(t,[h]),!1)},h=a.promise({elem:t,props:dt.extend({},e),opts:dt.extend(!0,{specialEasing:{},easing:dt.easing._default},i),originalProperties:e,originalOptions:i,startTime:ke||N(),duration:i.duration,tweens:[],createTween:function(e,i){var n=dt.Tween(t,h.opts,e,i,h.opts.specialEasing[e]||h.opts.easing);return h.tweens.push(n),n},stop:function(e){var i=0,n=e?h.tweens.length:0;if(r)return this;for(r=!0;i<n;i++)h.tweens[i].run(1);return e?(a.notifyWith(t,[h,1,0]),a.resolveWith(t,[h,e])):a.rejectWith(t,[h,e]),this}}),u=h.props;for(H(u,h.opts.specialEasing);o<s;o++)if(n=W.prefilters[o].call(h,t,u,h.opts))return dt.isFunction(n.stop)&&(dt._queueHooks(h.elem,h.opts.queue).stop=dt.proxy(n.stop,n)),n;return dt.map(u,z,h),dt.isFunction(h.opts.start)&&h.opts.start.call(t,h),dt.fx.timer(dt.extend(l,{elem:t,anim:h,queue:h.opts.queue})),h.progress(h.opts.progress).done(h.opts.done,h.opts.complete).fail(h.opts.fail).always(h.opts.always)}function U(t){return dt.attr(t,"class")||""}function Y(t){return function(e,i){"string"!=typeof e&&(i=e,e="*");var n,r=0,o=e.toLowerCase().match(Dt)||[];if(dt.isFunction(i))for(;n=o[r++];)"+"===n.charAt(0)?(n=n.slice(1)||"*",(t[n]=t[n]||[]).unshift(i)):(t[n]=t[n]||[]).push(i)}}function X(t,e,i,n){function r(a){var l;return o[a]=!0,dt.each(t[a]||[],function(t,a){var h=a(e,i,n);return"string"!=typeof h||s||o[h]?s?!(l=h):void 0:(e.dataTypes.unshift(h),r(h),!1)}),l}var o={},s=t===Ve;return r(e.dataTypes[0])||!o["*"]&&r("*")}function G(t,e){var i,n,r=dt.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&dt.extend(!0,t,i),t}function Z(t,e,i){for(var n,r,o,s,a=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(s in a)if(a[s]&&a[s].test(r)){l.unshift(s);break}if(l[0]in i)o=l[0];else{for(s in i){if(!l[0]||t.converters[s+" "+l[0]]){o=s;break}n||(n=s)}o=o||n}if(o)return o!==l[0]&&l.unshift(o),i[o]}function V(t,e,i,n){var r,o,s,a,l,h={},u=t.dataTypes.slice();if(u[1])for(s in t.converters)h[s.toLowerCase()]=t.converters[s];for(o=u.shift();o;)if(t.responseFields[o]&&(i[t.responseFields[o]]=e),!l&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=u.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(s=h[l+" "+o]||h["* "+o]))for(r in h)if(a=r.split(" "),a[1]===o&&(s=h[l+" "+a[0]]||h["* "+a[0]])){!0===s?s=h[r]:!0!==h[r]&&(o=a[0],u.unshift(a[1]));break}if(!0!==s)if(s&&t.throws)e=s(e);else try{e=s(e)}catch(t){return{state:"parsererror",error:s?t:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}function $(t){return t.style&&t.style.display||dt.css(t,"display")}function J(t){for(;t&&1===t.nodeType;){if("none"===$(t)||"hidden"===t.type)return!0;t=t.parentNode}return!1}function K(t,e,i,n){var r;if(dt.isArray(e))dt.each(e,function(e,r){i||ti.test(t)?n(t,r):K(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,i,n)});else if(i||"object"!==dt.type(e))n(t,e);else for(r in e)K(t+"["+r+"]",e[r],i,n)}function Q(){try{return new t.XMLHttpRequest}catch(t){}}function tt(){try{return new t.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function et(t){return dt.isWindow(t)?t:9===t.nodeType&&(t.defaultView||t.parentWindow)}var it=[],nt=t.document,rt=it.slice,ot=it.concat,st=it.push,at=it.indexOf,lt={},ht=lt.toString,ut=lt.hasOwnProperty,ct={},dt=function(t,e){return new dt.fn.init(t,e)},pt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ft=/^-ms-/,gt=/-([\da-z])/gi,mt=function(t,e){return e.toUpperCase()};dt.fn=dt.prototype={jquery:"1.12.0",constructor:dt,selector:"",length:0,toArray:function(){return rt.call(this)},get:function(t){return null!=t?t<0?this[t+this.length]:this[t]:rt.call(this)},pushStack:function(t){var e=dt.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t){return dt.each(this,t)},map:function(t){return this.pushStack(dt.map(this,function(e,i){return t.call(e,i,e)}))},slice:function(){return this.pushStack(rt.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,i=+t+(t<0?e:0);return this.pushStack(i>=0&&i<e?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:st,sort:it.sort,splice:it.splice},dt.extend=dt.fn.extend=function(){var t,e,i,n,r,o,s=arguments[0]||{},a=1,l=arguments.length,h=!1;for("boolean"==typeof s&&(h=s,s=arguments[a]||{},a++),"object"==typeof s||dt.isFunction(s)||(s={}),a===l&&(s=this,a--);a<l;a++)if(null!=(r=arguments[a]))for(n in r)t=s[n],i=r[n],s!==i&&(h&&i&&(dt.isPlainObject(i)||(e=dt.isArray(i)))?(e?(e=!1,o=t&&dt.isArray(t)?t:[]):o=t&&dt.isPlainObject(t)?t:{},s[n]=dt.extend(h,o,i)):void 0!==i&&(s[n]=i));return s},dt.extend({expando:"jQuery"+("1.12.0"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===dt.type(t)},isArray:Array.isArray||function(t){return"array"===dt.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){var e=t&&t.toString();return!dt.isArray(t)&&e-parseFloat(e)+1>=0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},isPlainObject:function(t){var e;if(!t||"object"!==dt.type(t)||t.nodeType||dt.isWindow(t))return!1;try{if(t.constructor&&!ut.call(t,"constructor")&&!ut.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}if(!ct.ownFirst)for(e in t)return ut.call(t,e);for(e in t);return void 0===e||ut.call(t,e)},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?lt[ht.call(t)]||"object":typeof t},globalEval:function(e){e&&dt.trim(e)&&(t.execScript||function(e){t.eval.call(t,e)})(e)},camelCase:function(t){return t.replace(ft,"ms-").replace(gt,mt)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var n,r=0;if(i(t))for(n=t.length;r<n&&!1!==e.call(t[r],r,t[r]);r++);else for(r in t)if(!1===e.call(t[r],r,t[r]))break;return t},trim:function(t){return null==t?"":(t+"").replace(pt,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(i(Object(t))?dt.merge(n,"string"==typeof t?[t]:t):st.call(n,t)),n},inArray:function(t,e,i){var n;if(e){if(at)return at.call(e,t,i);for(n=e.length,i=i?i<0?Math.max(0,n+i):i:0;i<n;i++)if(i in e&&e[i]===t)return i}return-1},merge:function(t,e){for(var i=+e.length,n=0,r=t.length;n<i;)t[r++]=e[n++];if(i!==i)for(;void 0!==e[n];)t[r++]=e[n++];return t.length=r,t},grep:function(t,e,i){for(var n=[],r=0,o=t.length,s=!i;r<o;r++)!e(t[r],r)!==s&&n.push(t[r]);return n},map:function(t,e,n){var r,o,s=0,a=[];if(i(t))for(r=t.length;s<r;s++)null!=(o=e(t[s],s,n))&&a.push(o);else for(s in t)null!=(o=e(t[s],s,n))&&a.push(o);return ot.apply([],a)},guid:1,proxy:function(t,e){var i,n,r;if("string"==typeof e&&(r=t[e],e=t,t=r),dt.isFunction(t))return i=rt.call(arguments,2),n=function(){return t.apply(e||this,i.concat(rt.call(arguments)))},n.guid=t.guid=t.guid||dt.guid++,n},now:function(){return+new Date},support:ct}),"function"==typeof Symbol&&(dt.fn[Symbol.iterator]=it[Symbol.iterator]),dt.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){lt["[object "+e+"]"]=e.toLowerCase()});var vt=function(t){function e(t,e,i,n){var r,o,s,a,h,c,d,p,f=e&&e.ownerDocument,g=e?e.nodeType:9;if(i=i||[],"string"!=typeof t||!t||1!==g&&9!==g&&11!==g)return i;if(!n&&((e?e.ownerDocument||e:N)!==P&&A(e),e=e||P,E)){if(11!==g&&(c=gt.exec(t)))if(r=c[1]){if(9===g){if(!(s=e.getElementById(r)))return i;if(s.id===r)return i.push(s),i}else if(f&&(s=f.getElementById(r))&&O(e,s)&&s.id===r)return i.push(s),i}else{if(c[2])return $.apply(i,e.getElementsByTagName(t)),i;if((r=c[3])&&_.getElementsByClassName&&e.getElementsByClassName)return $.apply(i,e.getElementsByClassName(r)),i}if(_.qsa&&!W[t+" "]&&(!q||!q.test(t))){if(1!==g)f=e,p=t;else if("object"!==e.nodeName.toLowerCase()){for((a=e.getAttribute("id"))?a=a.replace(vt,"\\$&"):e.setAttribute("id",a=R),d=k(t),o=d.length,h=ut.test(a)?"#"+a:"[id='"+a+"']";o--;)d[o]=h+" "+u(d[o]);p=d.join(","),f=mt.test(t)&&l(e.parentNode)||e}if(p)try{return $.apply(i,f.querySelectorAll(p)),i}catch(t){}finally{a===R&&e.removeAttribute("id")}}}return T(t.replace(ot,"$1"),e,i,n)}function i(){function t(i,n){return e.push(i+" ")>x.cacheLength&&delete t[e.shift()],t[i+" "]=n}var e=[];return t}function n(t){return t[R]=!0,t}function r(t){var e=P.createElement("div");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var i=t.split("|"),n=i.length;n--;)x.attrHandle[i[n]]=e}function s(t,e){var i=e&&t,n=i&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||Y)-(~t.sourceIndex||Y);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function a(t){return n(function(e){return e=+e,n(function(i,n){for(var r,o=t([],i.length,e),s=o.length;s--;)i[r=o[s]]&&(i[r]=!(n[r]=i[r]))})})}function l(t){return t&&void 0!==t.getElementsByTagName&&t}function h(){}function u(t){for(var e=0,i=t.length,n="";e<i;e++)n+=t[e].value;return n}function c(t,e,i){var n=e.dir,r=i&&"parentNode"===n,o=z++;return e.first?function(e,i,o){for(;e=e[n];)if(1===e.nodeType||r)return t(e,i,o)}:function(e,i,s){var a,l,h,u=[F,o];if(s){for(;e=e[n];)if((1===e.nodeType||r)&&t(e,i,s))return!0}else for(;e=e[n];)if(1===e.nodeType||r){if(h=e[R]||(e[R]={}),l=h[e.uniqueID]||(h[e.uniqueID]={}),(a=l[n])&&a[0]===F&&a[1]===o)return u[2]=a[2];if(l[n]=u,u[2]=t(e,i,s))return!0}}}function d(t){return t.length>1?function(e,i,n){for(var r=t.length;r--;)if(!t[r](e,i,n))return!1;return!0}:t[0]}function p(t,i,n){for(var r=0,o=i.length;r<o;r++)e(t,i[r],n);return n}function f(t,e,i,n,r){for(var o,s=[],a=0,l=t.length,h=null!=e;a<l;a++)(o=t[a])&&(i&&!i(o,n,r)||(s.push(o),h&&e.push(a)));return s}function g(t,e,i,r,o,s){return r&&!r[R]&&(r=g(r)),o&&!o[R]&&(o=g(o,s)),n(function(n,s,a,l){var h,u,c,d=[],g=[],m=s.length,v=n||p(e||"*",a.nodeType?[a]:a,[]),y=!t||!n&&e?v:f(v,d,t,a,l),_=i?o||(n?t:m||r)?[]:s:y;if(i&&i(y,_,a,l),r)for(h=f(_,g),r(h,[],a,l),u=h.length;u--;)(c=h[u])&&(_[g[u]]=!(y[g[u]]=c));if(n){if(o||t){if(o){for(h=[],u=_.length;u--;)(c=_[u])&&h.push(y[u]=c);o(null,_=[],h,l)}for(u=_.length;u--;)(c=_[u])&&(h=o?K(n,c):d[u])>-1&&(n[h]=!(s[h]=c))}}else _=f(_===s?_.splice(m,_.length):_),o?o(null,s,_,l):$.apply(s,_)})}function m(t){for(var e,i,n,r=t.length,o=x.relative[t[0].type],s=o||x.relative[" "],a=o?1:0,l=c(function(t){return t===e},s,!0),h=c(function(t){return K(e,t)>-1},s,!0),p=[function(t,i,n){var r=!o&&(n||i!==S)||((e=i).nodeType?l(t,i,n):h(t,i,n));return e=null,r}];a<r;a++)if(i=x.relative[t[a].type])p=[c(d(p),i)];else{if(i=x.filter[t[a].type].apply(null,t[a].matches),i[R]){for(n=++a;n<r&&!x.relative[t[n].type];n++);return g(a>1&&d(p),a>1&&u(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(ot,"$1"),i,a<n&&m(t.slice(a,n)),n<r&&m(t=t.slice(n)),n<r&&u(t))}p.push(i)}return d(p)}function v(t,i){var r=i.length>0,o=t.length>0,s=function(n,s,a,l,h){var u,c,d,p=0,g="0",m=n&&[],v=[],y=S,_=n||o&&x.find.TAG("*",h),b=F+=null==y?1:Math.random()||.1,w=_.length;for(h&&(S=s===P||s||h);g!==w&&null!=(u=_[g]);g++){if(o&&u){for(c=0,s||u.ownerDocument===P||(A(u),a=!E);d=t[c++];)if(d(u,s||P,a)){l.push(u);break}h&&(F=b)}r&&((u=!d&&u)&&p--,n&&m.push(u))}if(p+=g,r&&g!==p){for(c=0;d=i[c++];)d(m,v,s,a);if(n){if(p>0)for(;g--;)m[g]||v[g]||(v[g]=Z.call(l));v=f(v)}$.apply(l,v),h&&!n&&v.length>0&&p+i.length>1&&e.uniqueSort(l)}return h&&(F=b,S=y),m};return r?n(s):s}var y,_,x,b,w,k,C,T,S,D,M,A,P,L,E,q,I,j,O,R="sizzle"+1*new Date,N=t.document,F=0,z=0,B=i(),H=i(),W=i(),U=function(t,e){return t===e&&(M=!0),0},Y=1<<31,X={}.hasOwnProperty,G=[],Z=G.pop,V=G.push,$=G.push,J=G.slice,K=function(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1},Q="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",tt="[\\x20\\t\\r\\n\\f]",et="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",it="\\["+tt+"*("+et+")(?:"+tt+"*([*^$|!~]?=)"+tt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+et+"))|)"+tt+"*\\]",nt=":("+et+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+it+")*)|.*)\\)|)",rt=new RegExp(tt+"+","g"),ot=new RegExp("^"+tt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+tt+"+$","g"),st=new RegExp("^"+tt+"*,"+tt+"*"),at=new RegExp("^"+tt+"*([>+~]|"+tt+")"+tt+"*"),lt=new RegExp("="+tt+"*([^\\]'\"]*?)"+tt+"*\\]","g"),ht=new RegExp(nt),ut=new RegExp("^"+et+"$"),ct={ID:new RegExp("^#("+et+")"),CLASS:new RegExp("^\\.("+et+")"),TAG:new RegExp("^("+et+"|[*])"),ATTR:new RegExp("^"+it),PSEUDO:new RegExp("^"+nt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+tt+"*(even|odd|(([+-]|)(\\d*)n|)"+tt+"*(?:([+-]|)"+tt+"*(\\d+)|))"+tt+"*\\)|)","i"),bool:new RegExp("^(?:"+Q+")$","i"),needsContext:new RegExp("^"+tt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+tt+"*((?:-\\d)?\\d*)"+tt+"*\\)|)(?=[^-]|$)","i")},dt=/^(?:input|select|textarea|button)$/i,pt=/^h\d$/i,ft=/^[^{]+\{\s*\[native \w/,gt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,mt=/[+~]/,vt=/'|\\/g,yt=new RegExp("\\\\([\\da-f]{1,6}"+tt+"?|("+tt+")|.)","ig"),_t=function(t,e,i){var n="0x"+e-65536;return n!==n||i?e:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},xt=function(){A()};try{$.apply(G=J.call(N.childNodes),N.childNodes),G[N.childNodes.length].nodeType}catch(t){$={apply:G.length?function(t,e){V.apply(t,J.call(e))}:function(t,e){for(var i=t.length,n=0;t[i++]=e[n++];);t.length=i-1}}}_=e.support={},w=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},A=e.setDocument=function(t){var e,i,n=t?t.ownerDocument||t:N;return n!==P&&9===n.nodeType&&n.documentElement?(P=n,L=P.documentElement,E=!w(P),(i=P.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",xt,!1):i.attachEvent&&i.attachEvent("onunload",xt)),_.attributes=r(function(t){return t.className="i",!t.getAttribute("className")}),_.getElementsByTagName=r(function(t){return t.appendChild(P.createComment("")),!t.getElementsByTagName("*").length}),_.getElementsByClassName=ft.test(P.getElementsByClassName),_.getById=r(function(t){return L.appendChild(t).id=R,!P.getElementsByName||!P.getElementsByName(R).length}),_.getById?(x.find.ID=function(t,e){if(void 0!==e.getElementById&&E){var i=e.getElementById(t);return i?[i]:[]}},x.filter.ID=function(t){var e=t.replace(yt,_t);return function(t){return t.getAttribute("id")===e}}):(delete x.find.ID,x.filter.ID=function(t){var e=t.replace(yt,_t);return function(t){var i=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return i&&i.value===e}}),x.find.TAG=_.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):_.qsa?e.querySelectorAll(t):void 0}:function(t,e){var i,n=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;i=o[r++];)1===i.nodeType&&n.push(i);return n}return o},x.find.CLASS=_.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&E)return e.getElementsByClassName(t)},I=[],q=[],(_.qsa=ft.test(P.querySelectorAll))&&(r(function(t){L.appendChild(t).innerHTML="<a id='"+R+"'></a><select id='"+R+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&q.push("[*^$]="+tt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||q.push("\\["+tt+"*(?:value|"+Q+")"),t.querySelectorAll("[id~="+R+"-]").length||q.push("~="),t.querySelectorAll(":checked").length||q.push(":checked"),t.querySelectorAll("a#"+R+"+*").length||q.push(".#.+[+~]")}),r(function(t){var e=P.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&q.push("name"+tt+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||q.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),q.push(",.*:")})),(_.matchesSelector=ft.test(j=L.matches||L.webkitMatchesSelector||L.mozMatchesSelector||L.oMatchesSelector||L.msMatchesSelector))&&r(function(t){_.disconnectedMatch=j.call(t,"div"),j.call(t,"[s!='']:x"),I.push("!=",nt)}),q=q.length&&new RegExp(q.join("|")),I=I.length&&new RegExp(I.join("|")),e=ft.test(L.compareDocumentPosition),O=e||ft.test(L.contains)?function(t,e){var i=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},U=e?function(t,e){if(t===e)return M=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i||(i=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&i||!_.sortDetached&&e.compareDocumentPosition(t)===i?t===P||t.ownerDocument===N&&O(N,t)?-1:e===P||e.ownerDocument===N&&O(N,e)?1:D?K(D,t)-K(D,e):0:4&i?-1:1)}:function(t,e){if(t===e)return M=!0,0;var i,n=0,r=t.parentNode,o=e.parentNode,a=[t],l=[e];if(!r||!o)return t===P?-1:e===P?1:r?-1:o?1:D?K(D,t)-K(D,e):0;if(r===o)return s(t,e);for(i=t;i=i.parentNode;)a.unshift(i);for(i=e;i=i.parentNode;)l.unshift(i);for(;a[n]===l[n];)n++;return n?s(a[n],l[n]):a[n]===N?-1:l[n]===N?1:0},P):P},e.matches=function(t,i){return e(t,null,null,i)},e.matchesSelector=function(t,i){if((t.ownerDocument||t)!==P&&A(t),i=i.replace(lt,"='$1']"),_.matchesSelector&&E&&!W[i+" "]&&(!I||!I.test(i))&&(!q||!q.test(i)))try{var n=j.call(t,i);if(n||_.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(t){}return e(i,P,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==P&&A(t),O(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==P&&A(t);var i=x.attrHandle[e.toLowerCase()],n=i&&X.call(x.attrHandle,e.toLowerCase())?i(t,e,!E):void 0;return void 0!==n?n:_.attributes||!E?t.getAttribute(e):(n=t.getAttributeNode(e))&&n.specified?n.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,i=[],n=0,r=0;if(M=!_.detectDuplicates,D=!_.sortStable&&t.slice(0),t.sort(U),M){for(;e=t[r++];)e===t[r]&&(n=i.push(r));for(;n--;)t.splice(i[n],1)}return D=null,t},b=e.getText=function(t){var e,i="",n=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=b(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[n++];)i+=b(e);return i},x=e.selectors={cacheLength:50,createPseudo:n,match:ct,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(yt,_t),t[3]=(t[3]||t[4]||t[5]||"").replace(yt,_t),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,i=!t[6]&&t[2];return ct.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":i&&ht.test(i)&&(e=k(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(yt,_t).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=B[t+" "];return e||(e=new RegExp("(^|"+tt+")"+t+"("+tt+"|$)"))&&B(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,i,n){return function(r){var o=e.attr(r,t);return null==o?"!="===i:!i||(o+="","="===i?o===n:"!="===i?o!==n:"^="===i?n&&0===o.indexOf(n):"*="===i?n&&o.indexOf(n)>-1:"$="===i?n&&o.slice(-n.length)===n:"~="===i?(" "+o.replace(rt," ")+" ").indexOf(n)>-1:"|="===i&&(o===n||o.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,i,n,r){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===n&&0===r?function(t){return!!t.parentNode}:function(e,i,l){var h,u,c,d,p,f,g=o!==s?"nextSibling":"previousSibling",m=e.parentNode,v=a&&e.nodeName.toLowerCase(),y=!l&&!a,_=!1;if(m){if(o){for(;g;){for(d=e;d=d[g];)if(a?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;f=g="only"===t&&!f&&"nextSibling"}return!0}if(f=[s?m.firstChild:m.lastChild],s&&y){for(d=m,c=d[R]||(d[R]={}),u=c[d.uniqueID]||(c[d.uniqueID]={}),h=u[t]||[],p=h[0]===F&&h[1],_=p&&h[2],d=p&&m.childNodes[p];d=++p&&d&&d[g]||(_=p=0)||f.pop();)if(1===d.nodeType&&++_&&d===e){u[t]=[F,p,_];break}}else if(y&&(d=e,c=d[R]||(d[R]={}),u=c[d.uniqueID]||(c[d.uniqueID]={}),h=u[t]||[],p=h[0]===F&&h[1],_=p),!1===_)for(;(d=++p&&d&&d[g]||(_=p=0)||f.pop())&&((a?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++_||(y&&(c=d[R]||(d[R]={}),u=c[d.uniqueID]||(c[d.uniqueID]={}),u[t]=[F,_]),d!==e)););return(_-=r)===n||_%n==0&&_/n>=0}}},PSEUDO:function(t,i){var r,o=x.pseudos[t]||x.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[R]?o(i):o.length>1?(r=[t,t,"",i],x.setFilters.hasOwnProperty(t.toLowerCase())?n(function(t,e){for(var n,r=o(t,i),s=r.length;s--;)n=K(t,r[s]),t[n]=!(e[n]=r[s])}):function(t){return o(t,0,r)}):o}},pseudos:{not:n(function(t){var e=[],i=[],r=C(t.replace(ot,"$1"));return r[R]?n(function(t,e,i,n){for(var o,s=r(t,null,n,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))}):function(t,n,o){return e[0]=t,r(e,null,o,i),e[0]=null,!i.pop()}}),has:n(function(t){return function(i){return e(t,i).length>0}}),contains:n(function(t){return t=t.replace(yt,_t),function(e){return(e.textContent||e.innerText||b(e)).indexOf(t)>-1}}),lang:n(function(t){return ut.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(yt,_t).toLowerCase(),function(e){var i;do{if(i=E?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(i=i.toLowerCase())===t||0===i.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var i=t.location&&t.location.hash;return i&&i.slice(1)===e.id},root:function(t){return t===L},focus:function(t){return t===P.activeElement&&(!P.hasFocus||P.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return!1===t.disabled},disabled:function(t){return!0===t.disabled},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!x.pseudos.empty(t)},header:function(t){return pt.test(t.nodeName)},input:function(t){return dt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:a(function(){return[0]}),last:a(function(t,e){return[e-1]}),eq:a(function(t,e,i){return[i<0?i+e:i]}),even:a(function(t,e){for(var i=0;i<e;i+=2)t.push(i);return t}),odd:a(function(t,e){for(var i=1;i<e;i+=2)t.push(i);return t}),lt:a(function(t,e,i){for(var n=i<0?i+e:i;--n>=0;)t.push(n);return t}),gt:a(function(t,e,i){for(var n=i<0?i+e:i;++n<e;)t.push(n);return t})}},x.pseudos.nth=x.pseudos.eq;for(y in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[y]=function(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}(y);for(y in{submit:!0,reset:!0})x.pseudos[y]=function(t){return function(e){var i=e.nodeName.toLowerCase();return("input"===i||"button"===i)&&e.type===t}}(y);return h.prototype=x.filters=x.pseudos,x.setFilters=new h,k=e.tokenize=function(t,i){var n,r,o,s,a,l,h,u=H[t+" "];if(u)return i?0:u.slice(0);for(a=t,l=[],h=x.preFilter;a;){n&&!(r=st.exec(a))||(r&&(a=a.slice(r[0].length)||a),l.push(o=[])),n=!1,(r=at.exec(a))&&(n=r.shift(),o.push({value:n,type:r[0].replace(ot," ")}),a=a.slice(n.length));for(s in x.filter)!(r=ct[s].exec(a))||h[s]&&!(r=h[s](r))||(n=r.shift(),o.push({value:n,type:s,matches:r}),a=a.slice(n.length));if(!n)break}return i?a.length:a?e.error(t):H(t,l).slice(0)},C=e.compile=function(t,e){var i,n=[],r=[],o=W[t+" "];if(!o){for(e||(e=k(t)),i=e.length;i--;)o=m(e[i]),o[R]?n.push(o):r.push(o);o=W(t,v(r,n)),o.selector=t}return o},T=e.select=function(t,e,i,n){var r,o,s,a,h,c="function"==typeof t&&t,d=!n&&k(t=c.selector||t);if(i=i||[],1===d.length){if(o=d[0]=d[0].slice(0),o.length>2&&"ID"===(s=o[0]).type&&_.getById&&9===e.nodeType&&E&&x.relative[o[1].type]){if(!(e=(x.find.ID(s.matches[0].replace(yt,_t),e)||[])[0]))return i;c&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(r=ct.needsContext.test(t)?0:o.length;r--&&(s=o[r],!x.relative[a=s.type]);)if((h=x.find[a])&&(n=h(s.matches[0].replace(yt,_t),mt.test(o[0].type)&&l(e.parentNode)||e))){if(o.splice(r,1),!(t=n.length&&u(o)))return $.apply(i,n),i;break}}return(c||C(t,d))(n,e,!E,i,!e||mt.test(t)&&l(e.parentNode)||e),i},_.sortStable=R.split("").sort(U).join("")===R,_.detectDuplicates=!!M,A(),_.sortDetached=r(function(t){return 1&t.compareDocumentPosition(P.createElement("div"))}),r(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,i){if(!i)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),_.attributes&&r(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,i){if(!i&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),r(function(t){return null==t.getAttribute("disabled")})||o(Q,function(t,e,i){var n;if(!i)return!0===t[e]?e.toLowerCase():(n=t.getAttributeNode(e))&&n.specified?n.value:null}),e}(t);dt.find=vt,dt.expr=vt.selectors,dt.expr[":"]=dt.expr.pseudos,dt.uniqueSort=dt.unique=vt.uniqueSort,dt.text=vt.getText,dt.isXMLDoc=vt.isXML,dt.contains=vt.contains;var yt=function(t,e,i){for(var n=[],r=void 0!==i;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&dt(t).is(i))break;n.push(t)}return n},_t=function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i},xt=dt.expr.match.needsContext,bt=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,wt=/^.[^:#\[\.,]*$/;dt.filter=function(t,e,i){var n=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?dt.find.matchesSelector(n,t)?[n]:[]:dt.find.matches(t,dt.grep(e,function(t){return 1===t.nodeType}))},dt.fn.extend({find:function(t){var e,i=[],n=this,r=n.length;if("string"!=typeof t)return this.pushStack(dt(t).filter(function(){for(e=0;e<r;e++)if(dt.contains(n[e],this))return!0}));for(e=0;e<r;e++)dt.find(t,n[e],i);return i=this.pushStack(r>1?dt.unique(i):i),i.selector=this.selector?this.selector+" "+t:t,i},filter:function(t){return this.pushStack(n(this,t||[],!1))},not:function(t){return this.pushStack(n(this,t||[],!0))},is:function(t){return!!n(this,"string"==typeof t&&xt.test(t)?dt(t):t||[],!1).length}});var kt,Ct=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(dt.fn.init=function(t,e,i){var n,r;if(!t)return this;if(i=i||kt,"string"==typeof t){if(!(n="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:Ct.exec(t))||!n[1]&&e)return!e||e.jquery?(e||i).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof dt?e[0]:e,dt.merge(this,dt.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:nt,!0)),bt.test(n[1])&&dt.isPlainObject(e))for(n in e)dt.isFunction(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}if((r=nt.getElementById(n[2]))&&r.parentNode){if(r.id!==n[2])return kt.find(t);this.length=1,this[0]=r}return this.context=nt,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):dt.isFunction(t)?void 0!==i.ready?i.ready(t):t(dt):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),dt.makeArray(t,this))}).prototype=dt.fn,kt=dt(nt);var Tt=/^(?:parents|prev(?:Until|All))/,St={children:!0,contents:!0,next:!0,prev:!0};dt.fn.extend({has:function(t){var e,i=dt(t,this),n=i.length;return this.filter(function(){for(e=0;e<n;e++)if(dt.contains(this,i[e]))return!0})},closest:function(t,e){for(var i,n=0,r=this.length,o=[],s=xt.test(t)||"string"!=typeof t?dt(t,e||this.context):0;n<r;n++)for(i=this[n];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(s?s.index(i)>-1:1===i.nodeType&&dt.find.matchesSelector(i,t))){o.push(i);break}return this.pushStack(o.length>1?dt.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?dt.inArray(this[0],dt(t)):dt.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(dt.uniqueSort(dt.merge(this.get(),dt(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),dt.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return yt(t,"parentNode")},parentsUntil:function(t,e,i){return yt(t,"parentNode",i)},next:function(t){return r(t,"nextSibling")},prev:function(t){return r(t,"previousSibling")},nextAll:function(t){return yt(t,"nextSibling")},prevAll:function(t){return yt(t,"previousSibling")},nextUntil:function(t,e,i){return yt(t,"nextSibling",i)},prevUntil:function(t,e,i){return yt(t,"previousSibling",i)},siblings:function(t){return _t((t.parentNode||{}).firstChild,t)},children:function(t){return _t(t.firstChild)},contents:function(t){return dt.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:dt.merge([],t.childNodes)}},function(t,e){dt.fn[t]=function(i,n){var r=dt.map(this,e,i);return"Until"!==t.slice(-5)&&(n=i),n&&"string"==typeof n&&(r=dt.filter(n,r)),this.length>1&&(St[t]||(r=dt.uniqueSort(r)),Tt.test(t)&&(r=r.reverse())),this.pushStack(r)}});var Dt=/\S+/g;dt.Callbacks=function(t){t="string"==typeof t?o(t):dt.extend({},t);var e,i,n,r,s=[],a=[],l=-1,h=function(){for(r=t.once,n=e=!0;a.length;l=-1)for(i=a.shift();++l<s.length;)!1===s[l].apply(i[0],i[1])&&t.stopOnFalse&&(l=s.length,i=!1);t.memory||(i=!1),e=!1,r&&(s=i?[]:"")},u={add:function(){return s&&(i&&!e&&(l=s.length-1,a.push(i)),function e(i){dt.each(i,function(i,n){dt.isFunction(n)?t.unique&&u.has(n)||s.push(n):n&&n.length&&"string"!==dt.type(n)&&e(n)})}(arguments),i&&!e&&h()),this},remove:function(){return dt.each(arguments,function(t,e){for(var i;(i=dt.inArray(e,s,i))>-1;)s.splice(i,1),i<=l&&l--}),this},has:function(t){return t?dt.inArray(t,s)>-1:s.length>0},empty:function(){return s&&(s=[]),this},disable:function(){return r=a=[],s=i="",this},disabled:function(){return!s},lock:function(){return r=!0,i||u.disable(),this},locked:function(){return!!r},fireWith:function(t,i){return r||(i=i||[],i=[t,i.slice?i.slice():i],a.push(i),e||h()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!n}};return u},dt.extend({Deferred:function(t){var e=[["resolve","done",dt.Callbacks("once memory"),"resolved"],["reject","fail",dt.Callbacks("once memory"),"rejected"],["notify","progress",dt.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var t=arguments;return dt.Deferred(function(i){dt.each(e,function(e,o){var s=dt.isFunction(t[e])&&t[e];r[o[1]](function(){var t=s&&s.apply(this,arguments);t&&dt.isFunction(t.promise)?t.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[o[0]+"With"](this===n?i.promise():this,s?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?dt.extend(t,n):n}},r={};return n.pipe=n.then,dt.each(e,function(t,o){var s=o[2],a=o[3];n[o[1]]=s.add,a&&s.add(function(){i=a
},e[1^t][2].disable,e[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?n:this,arguments),this},r[o[0]+"With"]=s.fireWith}),n.promise(r),t&&t.call(r,r),r},when:function(t){var e,i,n,r=0,o=rt.call(arguments),s=o.length,a=1!==s||t&&dt.isFunction(t.promise)?s:0,l=1===a?t:dt.Deferred(),h=function(t,i,n){return function(r){i[t]=this,n[t]=arguments.length>1?rt.call(arguments):r,n===e?l.notifyWith(i,n):--a||l.resolveWith(i,n)}};if(s>1)for(e=new Array(s),i=new Array(s),n=new Array(s);r<s;r++)o[r]&&dt.isFunction(o[r].promise)?o[r].promise().progress(h(r,i,e)).done(h(r,n,o)).fail(l.reject):--a;return a||l.resolveWith(n,o),l.promise()}});var Mt;dt.fn.ready=function(t){return dt.ready.promise().done(t),this},dt.extend({isReady:!1,readyWait:1,holdReady:function(t){t?dt.readyWait++:dt.ready(!0)},ready:function(t){(!0===t?--dt.readyWait:dt.isReady)||(dt.isReady=!0,!0!==t&&--dt.readyWait>0||(Mt.resolveWith(nt,[dt]),dt.fn.triggerHandler&&(dt(nt).triggerHandler("ready"),dt(nt).off("ready"))))}}),dt.ready.promise=function(e){if(!Mt)if(Mt=dt.Deferred(),"complete"===nt.readyState)t.setTimeout(dt.ready);else if(nt.addEventListener)nt.addEventListener("DOMContentLoaded",a),t.addEventListener("load",a);else{nt.attachEvent("onreadystatechange",a),t.attachEvent("onload",a);var i=!1;try{i=null==t.frameElement&&nt.documentElement}catch(t){}i&&i.doScroll&&function e(){if(!dt.isReady){try{i.doScroll("left")}catch(i){return t.setTimeout(e,50)}s(),dt.ready()}}()}return Mt.promise(e)},dt.ready.promise();var At;for(At in dt(ct))break;ct.ownFirst="0"===At,ct.inlineBlockNeedsLayout=!1,dt(function(){var t,e,i,n;(i=nt.getElementsByTagName("body")[0])&&i.style&&(e=nt.createElement("div"),n=nt.createElement("div"),n.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(n).appendChild(e),void 0!==e.style.zoom&&(e.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",ct.inlineBlockNeedsLayout=t=3===e.offsetWidth,t&&(i.style.zoom=1)),i.removeChild(n))}),function(){var t=nt.createElement("div");ct.deleteExpando=!0;try{delete t.test}catch(t){ct.deleteExpando=!1}t=null}();var Pt=function(t){var e=dt.noData[(t.nodeName+" ").toLowerCase()],i=+t.nodeType||1;return(1===i||9===i)&&(!e||!0!==e&&t.getAttribute("classid")===e)},Lt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Et=/([A-Z])/g;dt.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(t){return!!(t=t.nodeType?dt.cache[t[dt.expando]]:t[dt.expando])&&!h(t)},data:function(t,e,i){return u(t,e,i)},removeData:function(t,e){return c(t,e)},_data:function(t,e,i){return u(t,e,i,!0)},_removeData:function(t,e){return c(t,e,!0)}}),dt.fn.extend({data:function(t,e){var i,n,r,o=this[0],s=o&&o.attributes;if(void 0===t){if(this.length&&(r=dt.data(o),1===o.nodeType&&!dt._data(o,"parsedAttrs"))){for(i=s.length;i--;)s[i]&&(n=s[i].name,0===n.indexOf("data-")&&(n=dt.camelCase(n.slice(5)),l(o,n,r[n])));dt._data(o,"parsedAttrs",!0)}return r}return"object"==typeof t?this.each(function(){dt.data(this,t)}):arguments.length>1?this.each(function(){dt.data(this,t,e)}):o?l(o,t,dt.data(o,t)):void 0},removeData:function(t){return this.each(function(){dt.removeData(this,t)})}}),dt.extend({queue:function(t,e,i){var n;if(t)return e=(e||"fx")+"queue",n=dt._data(t,e),i&&(!n||dt.isArray(i)?n=dt._data(t,e,dt.makeArray(i)):n.push(i)),n||[]},dequeue:function(t,e){e=e||"fx";var i=dt.queue(t,e),n=i.length,r=i.shift(),o=dt._queueHooks(t,e),s=function(){dt.dequeue(t,e)};"inprogress"===r&&(r=i.shift(),n--),r&&("fx"===e&&i.unshift("inprogress"),delete o.stop,r.call(t,s,o)),!n&&o&&o.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return dt._data(t,i)||dt._data(t,i,{empty:dt.Callbacks("once memory").add(function(){dt._removeData(t,e+"queue"),dt._removeData(t,i)})})}}),dt.fn.extend({queue:function(t,e){var i=2;return"string"!=typeof t&&(e=t,t="fx",i--),arguments.length<i?dt.queue(this[0],t):void 0===e?this:this.each(function(){var i=dt.queue(this,t,e);dt._queueHooks(this,t),"fx"===t&&"inprogress"!==i[0]&&dt.dequeue(this,t)})},dequeue:function(t){return this.each(function(){dt.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var i,n=1,r=dt.Deferred(),o=this,s=this.length,a=function(){--n||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)(i=dt._data(o[s],t+"queueHooks"))&&i.empty&&(n++,i.empty.add(a));return a(),r.promise(e)}}),function(){var t;ct.shrinkWrapBlocks=function(){if(null!=t)return t;t=!1;var e,i,n;return(i=nt.getElementsByTagName("body")[0])&&i.style?(e=nt.createElement("div"),n=nt.createElement("div"),n.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",i.appendChild(n).appendChild(e),void 0!==e.style.zoom&&(e.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",e.appendChild(nt.createElement("div")).style.width="5px",t=3!==e.offsetWidth),i.removeChild(n),t):void 0}}();var qt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,It=new RegExp("^(?:([+-])=|)("+qt+")([a-z%]*)$","i"),jt=["Top","Right","Bottom","Left"],Ot=function(t,e){return t=e||t,"none"===dt.css(t,"display")||!dt.contains(t.ownerDocument,t)},Rt=function(t,e,i,n,r,o,s){var a=0,l=t.length,h=null==i;if("object"===dt.type(i)){r=!0;for(a in i)Rt(t,e,a,i[a],!0,o,s)}else if(void 0!==n&&(r=!0,dt.isFunction(n)||(s=!0),h&&(s?(e.call(t,n),e=null):(h=e,e=function(t,e,i){return h.call(dt(t),i)})),e))for(;a<l;a++)e(t[a],i,s?n:n.call(t[a],a,e(t[a],i)));return r?t:h?e.call(t):l?e(t[0],i):o},Nt=/^(?:checkbox|radio)$/i,Ft=/<([\w:-]+)/,zt=/^$|\/(?:java|ecma)script/i,Bt=/^\s+/,Ht="abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video";!function(){var t=nt.createElement("div"),e=nt.createDocumentFragment(),i=nt.createElement("input");t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",ct.leadingWhitespace=3===t.firstChild.nodeType,ct.tbody=!t.getElementsByTagName("tbody").length,ct.htmlSerialize=!!t.getElementsByTagName("link").length,ct.html5Clone="<:nav></:nav>"!==nt.createElement("nav").cloneNode(!0).outerHTML,i.type="checkbox",i.checked=!0,e.appendChild(i),ct.appendChecked=i.checked,t.innerHTML="<textarea>x</textarea>",ct.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,e.appendChild(t),i=nt.createElement("input"),i.setAttribute("type","radio"),i.setAttribute("checked","checked"),i.setAttribute("name","t"),t.appendChild(i),ct.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,ct.noCloneEvent=!!t.addEventListener,t[dt.expando]=1,ct.attributes=!t.getAttribute(dt.expando)}();var Wt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ct.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]};Wt.optgroup=Wt.option,Wt.tbody=Wt.tfoot=Wt.colgroup=Wt.caption=Wt.thead,Wt.th=Wt.td;var Ut=/<|&#?\w+;/,Yt=/<tbody/i;!function(){var e,i,n=nt.createElement("div");for(e in{submit:!0,change:!0,focusin:!0})i="on"+e,(ct[e]=i in t)||(n.setAttribute(i,"t"),ct[e]=!1===n.attributes[i].expando);n=null}();var Xt=/^(?:input|select|textarea)$/i,Gt=/^key/,Zt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Vt=/^(?:focusinfocus|focusoutblur)$/,$t=/^([^.]*)(?:\.(.+)|)/;dt.event={global:{},add:function(t,e,i,n,r){var o,s,a,l,h,u,c,d,p,f,g,m=dt._data(t);if(m){for(i.handler&&(l=i,i=l.handler,r=l.selector),i.guid||(i.guid=dt.guid++),(s=m.events)||(s=m.events={}),(u=m.handle)||(u=m.handle=function(t){return void 0===dt||t&&dt.event.triggered===t.type?void 0:dt.event.dispatch.apply(u.elem,arguments)},u.elem=t),e=(e||"").match(Dt)||[""],a=e.length;a--;)o=$t.exec(e[a])||[],p=g=o[1],f=(o[2]||"").split(".").sort(),p&&(h=dt.event.special[p]||{},p=(r?h.delegateType:h.bindType)||p,h=dt.event.special[p]||{},c=dt.extend({type:p,origType:g,data:n,handler:i,guid:i.guid,selector:r,needsContext:r&&dt.expr.match.needsContext.test(r),namespace:f.join(".")},l),(d=s[p])||(d=s[p]=[],d.delegateCount=0,h.setup&&!1!==h.setup.call(t,n,f,u)||(t.addEventListener?t.addEventListener(p,u,!1):t.attachEvent&&t.attachEvent("on"+p,u))),h.add&&(h.add.call(t,c),c.handler.guid||(c.handler.guid=i.guid)),r?d.splice(d.delegateCount++,0,c):d.push(c),dt.event.global[p]=!0);t=null}},remove:function(t,e,i,n,r){var o,s,a,l,h,u,c,d,p,f,g,m=dt.hasData(t)&&dt._data(t);if(m&&(u=m.events)){for(e=(e||"").match(Dt)||[""],h=e.length;h--;)if(a=$t.exec(e[h])||[],p=g=a[1],f=(a[2]||"").split(".").sort(),p){for(c=dt.event.special[p]||{},p=(n?c.delegateType:c.bindType)||p,d=u[p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=o=d.length;o--;)s=d[o],!r&&g!==s.origType||i&&i.guid!==s.guid||a&&!a.test(s.namespace)||n&&n!==s.selector&&("**"!==n||!s.selector)||(d.splice(o,1),s.selector&&d.delegateCount--,c.remove&&c.remove.call(t,s));l&&!d.length&&(c.teardown&&!1!==c.teardown.call(t,f,m.handle)||dt.removeEvent(t,p,m.handle),delete u[p])}else for(p in u)dt.event.remove(t,p+e[h],i,n,!0);dt.isEmptyObject(u)&&(delete m.handle,dt._removeData(t,"events"))}},trigger:function(e,i,n,r){var o,s,a,l,h,u,c,d=[n||nt],p=ut.call(e,"type")?e.type:e,f=ut.call(e,"namespace")?e.namespace.split("."):[];if(a=u=n=n||nt,3!==n.nodeType&&8!==n.nodeType&&!Vt.test(p+dt.event.triggered)&&(p.indexOf(".")>-1&&(f=p.split("."),p=f.shift(),f.sort()),s=p.indexOf(":")<0&&"on"+p,e=e[dt.expando]?e:new dt.Event(p,"object"==typeof e&&e),e.isTrigger=r?2:3,e.namespace=f.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),i=null==i?[e]:dt.makeArray(i,[e]),h=dt.event.special[p]||{},r||!h.trigger||!1!==h.trigger.apply(n,i))){if(!r&&!h.noBubble&&!dt.isWindow(n)){for(l=h.delegateType||p,Vt.test(l+p)||(a=a.parentNode);a;a=a.parentNode)d.push(a),u=a;u===(n.ownerDocument||nt)&&d.push(u.defaultView||u.parentWindow||t)}for(c=0;(a=d[c++])&&!e.isPropagationStopped();)e.type=c>1?l:h.bindType||p,o=(dt._data(a,"events")||{})[e.type]&&dt._data(a,"handle"),o&&o.apply(a,i),(o=s&&a[s])&&o.apply&&Pt(a)&&(e.result=o.apply(a,i),!1===e.result&&e.preventDefault());if(e.type=p,!r&&!e.isDefaultPrevented()&&(!h._default||!1===h._default.apply(d.pop(),i))&&Pt(n)&&s&&n[p]&&!dt.isWindow(n)){u=n[s],u&&(n[s]=null),dt.event.triggered=p;try{n[p]()}catch(t){}dt.event.triggered=void 0,u&&(n[s]=u)}return e.result}},dispatch:function(t){t=dt.event.fix(t);var e,i,n,r,o,s=[],a=rt.call(arguments),l=(dt._data(this,"events")||{})[t.type]||[],h=dt.event.special[t.type]||{};if(a[0]=t,t.delegateTarget=this,!h.preDispatch||!1!==h.preDispatch.call(this,t)){for(s=dt.event.handlers.call(this,t,l),e=0;(r=s[e++])&&!t.isPropagationStopped();)for(t.currentTarget=r.elem,i=0;(o=r.handlers[i++])&&!t.isImmediatePropagationStopped();)t.rnamespace&&!t.rnamespace.test(o.namespace)||(t.handleObj=o,t.data=o.data,void 0!==(n=((dt.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,a))&&!1===(t.result=n)&&(t.preventDefault(),t.stopPropagation()));return h.postDispatch&&h.postDispatch.call(this,t),t.result}},handlers:function(t,e){var i,n,r,o,s=[],a=e.delegateCount,l=t.target;if(a&&l.nodeType&&("click"!==t.type||isNaN(t.button)||t.button<1))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==t.type)){for(n=[],i=0;i<a;i++)o=e[i],r=o.selector+" ",void 0===n[r]&&(n[r]=o.needsContext?dt(r,this).index(l)>-1:dt.find(r,this,null,[l]).length),n[r]&&n.push(o);n.length&&s.push({elem:l,handlers:n})}return a<e.length&&s.push({elem:this,handlers:e.slice(a)}),s},fix:function(t){if(t[dt.expando])return t;var e,i,n,r=t.type,o=t,s=this.fixHooks[r];for(s||(this.fixHooks[r]=s=Zt.test(r)?this.mouseHooks:Gt.test(r)?this.keyHooks:{}),n=s.props?this.props.concat(s.props):this.props,t=new dt.Event(o),e=n.length;e--;)i=n[e],t[i]=o[i];return t.target||(t.target=o.srcElement||nt),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,s.filter?s.filter(t,o):t},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var i,n,r,o=e.button,s=e.fromElement;return null==t.pageX&&null!=e.clientX&&(n=t.target.ownerDocument||nt,r=n.documentElement,i=n.body,t.pageX=e.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),t.pageY=e.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),!t.relatedTarget&&s&&(t.relatedTarget=s===t.target?e.toElement:s),t.which||void 0===o||(t.which=1&o?1:2&o?3:4&o?2:0),t}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==x()&&this.focus)try{return this.focus(),!1}catch(t){}},delegateType:"focusin"},blur:{trigger:function(){if(this===x()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(dt.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(t){return dt.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,i){var n=dt.extend(new dt.Event,i,{type:t,isSimulated:!0});dt.event.trigger(n,null,e),n.isDefaultPrevented()&&i.preventDefault()}},dt.removeEvent=nt.removeEventListener?function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i)}:function(t,e,i){var n="on"+e;t.detachEvent&&(void 0===t[n]&&(t[n]=null),t.detachEvent(n,i))},dt.Event=function(t,e){if(!(this instanceof dt.Event))return new dt.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?y:_):this.type=t,e&&dt.extend(this,e),this.timeStamp=t&&t.timeStamp||dt.now(),this[dt.expando]=!0},dt.Event.prototype={constructor:dt.Event,isDefaultPrevented:_,isPropagationStopped:_,isImmediatePropagationStopped:_,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=y,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=y,t&&!this.isSimulated&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=y,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},dt.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){dt.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,n=this,r=t.relatedTarget,o=t.handleObj;return r&&(r===n||dt.contains(n,r))||(t.type=o.origType,i=o.handler.apply(this,arguments),t.type=e),i}}}),ct.submit||(dt.event.special.submit={setup:function(){if(dt.nodeName(this,"form"))return!1;dt.event.add(this,"click._submit keypress._submit",function(t){var e=t.target,i=dt.nodeName(e,"input")||dt.nodeName(e,"button")?dt.prop(e,"form"):void 0;i&&!dt._data(i,"submit")&&(dt.event.add(i,"submit._submit",function(t){t._submitBubble=!0}),dt._data(i,"submit",!0))})},postDispatch:function(t){t._submitBubble&&(delete t._submitBubble,this.parentNode&&!t.isTrigger&&dt.event.simulate("submit",this.parentNode,t))},teardown:function(){if(dt.nodeName(this,"form"))return!1;dt.event.remove(this,"._submit")}}),ct.change||(dt.event.special.change={setup:function(){if(Xt.test(this.nodeName))return"checkbox"!==this.type&&"radio"!==this.type||(dt.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._justChanged=!0)}),dt.event.add(this,"click._change",function(t){this._justChanged&&!t.isTrigger&&(this._justChanged=!1),dt.event.simulate("change",this,t)})),!1;dt.event.add(this,"beforeactivate._change",function(t){var e=t.target;Xt.test(e.nodeName)&&!dt._data(e,"change")&&(dt.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||dt.event.simulate("change",this.parentNode,t)}),dt._data(e,"change",!0))})},handle:function(t){var e=t.target;if(this!==e||t.isSimulated||t.isTrigger||"radio"!==e.type&&"checkbox"!==e.type)return t.handleObj.handler.apply(this,arguments)},teardown:function(){return dt.event.remove(this,"._change"),!Xt.test(this.nodeName)}}),ct.focusin||dt.each({focus:"focusin",blur:"focusout"},function(t,e){var i=function(t){dt.event.simulate(e,t.target,dt.event.fix(t))};dt.event.special[e]={setup:function(){var n=this.ownerDocument||this,r=dt._data(n,e);r||n.addEventListener(t,i,!0),dt._data(n,e,(r||0)+1)},teardown:function(){var n=this.ownerDocument||this,r=dt._data(n,e)-1;r?dt._data(n,e,r):(n.removeEventListener(t,i,!0),dt._removeData(n,e))}}}),dt.fn.extend({on:function(t,e,i,n){return b(this,t,e,i,n)},one:function(t,e,i,n){return b(this,t,e,i,n,1)},off:function(t,e,i){var n,r;if(t&&t.preventDefault&&t.handleObj)return n=t.handleObj,dt(t.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return!1!==e&&"function"!=typeof e||(i=e,e=void 0),!1===i&&(i=_),this.each(function(){dt.event.remove(this,t,i,e)})},trigger:function(t,e){return this.each(function(){dt.event.trigger(t,e,this)})},triggerHandler:function(t,e){var i=this[0];if(i)return dt.event.trigger(t,e,i,!0)}});var Jt=/ jQuery\d+="(?:null|\d+)"/g,Kt=new RegExp("<(?:"+Ht+")[\\s/>]","i"),Qt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,te=/<script|<style|<link/i,ee=/checked\s*(?:[^=]|=\s*.checked.)/i,ie=/^true\/(.*)/,ne=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,re=p(nt),oe=re.appendChild(nt.createElement("div"));dt.extend({htmlPrefilter:function(t){return t.replace(Qt,"<$1></$2>")},clone:function(t,e,i){var n,r,o,s,a,l=dt.contains(t.ownerDocument,t);if(ct.html5Clone||dt.isXMLDoc(t)||!Kt.test("<"+t.nodeName+">")?o=t.cloneNode(!0):(oe.innerHTML=t.outerHTML,oe.removeChild(o=oe.firstChild)),!(ct.noCloneEvent&&ct.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||dt.isXMLDoc(t)))for(n=f(o),a=f(t),s=0;null!=(r=a[s]);++s)n[s]&&S(r,n[s]);if(e)if(i)for(a=a||f(t),n=n||f(o),s=0;null!=(r=a[s]);s++)T(r,n[s]);else T(t,o);return n=f(o,"script"),n.length>0&&g(n,!l&&f(t,"script")),n=a=r=null,o},cleanData:function(t,e){for(var i,n,r,o,s=0,a=dt.expando,l=dt.cache,h=ct.attributes,u=dt.event.special;null!=(i=t[s]);s++)if((e||Pt(i))&&(r=i[a],o=r&&l[r])){if(o.events)for(n in o.events)u[n]?dt.event.remove(i,n):dt.removeEvent(i,n,o.handle);l[r]&&(delete l[r],h||void 0===i.removeAttribute?i[a]=void 0:i.removeAttribute(a),it.push(r))}}}),dt.fn.extend({domManip:D,detach:function(t){return M(this,t,!0)},remove:function(t){return M(this,t)},text:function(t){return Rt(this,function(t){return void 0===t?dt.text(this):this.empty().append((this[0]&&this[0].ownerDocument||nt).createTextNode(t))},null,t,arguments.length)},append:function(){return D(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){w(this,t).appendChild(t)}})},prepend:function(){return D(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=w(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return D(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return D(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++){for(1===t.nodeType&&dt.cleanData(f(t,!1));t.firstChild;)t.removeChild(t.firstChild);t.options&&dt.nodeName(t,"select")&&(t.options.length=0)}return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return dt.clone(this,t,e)})},html:function(t){return Rt(this,function(t){var e=this[0]||{},i=0,n=this.length;if(void 0===t)return 1===e.nodeType?e.innerHTML.replace(Jt,""):void 0;if("string"==typeof t&&!te.test(t)&&(ct.htmlSerialize||!Kt.test(t))&&(ct.leadingWhitespace||!Bt.test(t))&&!Wt[(Ft.exec(t)||["",""])[1].toLowerCase()]){t=dt.htmlPrefilter(t);try{for(;i<n;i++)e=this[i]||{},1===e.nodeType&&(dt.cleanData(f(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return D(this,arguments,function(e){var i=this.parentNode;dt.inArray(this,t)<0&&(dt.cleanData(f(this)),i&&i.replaceChild(e,this))},t)}}),dt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){dt.fn[t]=function(t){for(var i,n=0,r=[],o=dt(t),s=o.length-1;n<=s;n++)i=n===s?this:this.clone(!0),dt(o[n])[e](i),st.apply(r,i.get());return this.pushStack(r)}});var se,ae={HTML:"block",BODY:"block"},le=/^margin/,he=new RegExp("^("+qt+")(?!px)[a-z%]+$","i"),ue=function(t,e,i,n){var r,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];r=i.apply(t,n||[]);for(o in e)t.style[o]=s[o];return r},ce=nt.documentElement;!function(){function e(){var e,u,c=nt.documentElement;c.appendChild(l),h.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",i=r=a=!1,n=s=!0,t.getComputedStyle&&(u=t.getComputedStyle(h),i="1%"!==(u||{}).top,a="2px"===(u||{}).marginLeft,r="4px"===(u||{width:"4px"}).width,h.style.marginRight="50%",n="4px"===(u||{marginRight:"4px"}).marginRight,e=h.appendChild(nt.createElement("div")),e.style.cssText=h.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",e.style.marginRight=e.style.width="0",h.style.width="1px",s=!parseFloat((t.getComputedStyle(e)||{}).marginRight),h.removeChild(e)),h.style.display="none",o=0===h.getClientRects().length,o&&(h.style.display="",h.innerHTML="<table><tr><td></td><td>t</td></tr></table>",e=h.getElementsByTagName("td"),e[0].style.cssText="margin:0;border:0;padding:0;display:none",(o=0===e[0].offsetHeight)&&(e[0].style.display="",e[1].style.display="none",o=0===e[0].offsetHeight)),c.removeChild(l)}var i,n,r,o,s,a,l=nt.createElement("div"),h=nt.createElement("div");h.style&&(h.style.cssText="float:left;opacity:.5",ct.opacity="0.5"===h.style.opacity,ct.cssFloat=!!h.style.cssFloat,h.style.backgroundClip="content-box",h.cloneNode(!0).style.backgroundClip="",ct.clearCloneStyle="content-box"===h.style.backgroundClip,l=nt.createElement("div"),l.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",h.innerHTML="",l.appendChild(h),ct.boxSizing=""===h.style.boxSizing||""===h.style.MozBoxSizing||""===h.style.WebkitBoxSizing,dt.extend(ct,{reliableHiddenOffsets:function(){return null==i&&e(),o},boxSizingReliable:function(){return null==i&&e(),r},pixelMarginRight:function(){return null==i&&e(),n},pixelPosition:function(){return null==i&&e(),i},reliableMarginRight:function(){return null==i&&e(),s},reliableMarginLeft:function(){return null==i&&e(),a}}))}();var de,pe,fe=/^(top|right|bottom|left)$/;t.getComputedStyle?(de=function(e){var i=e.ownerDocument.defaultView;return i.opener||(i=t),i.getComputedStyle(e)},pe=function(t,e,i){var n,r,o,s,a=t.style;return i=i||de(t),s=i?i.getPropertyValue(e)||i[e]:void 0,i&&(""!==s||dt.contains(t.ownerDocument,t)||(s=dt.style(t,e)),!ct.pixelMarginRight()&&he.test(s)&&le.test(e)&&(n=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=i.width,a.width=n,a.minWidth=r,a.maxWidth=o)),void 0===s?s:s+""}):ce.currentStyle&&(de=function(t){return t.currentStyle},pe=function(t,e,i){var n,r,o,s,a=t.style;return i=i||de(t),s=i?i[e]:void 0,null==s&&a&&a[e]&&(s=a[e]),he.test(s)&&!fe.test(e)&&(n=a.left,r=t.runtimeStyle,o=r&&r.left,o&&(r.left=t.currentStyle.left),a.left="fontSize"===e?"1em":s,s=a.pixelLeft+"px",a.left=n,o&&(r.left=o)),void 0===s?s:s+""||"auto"});var ge=/alpha\([^)]*\)/i,me=/opacity\s*=\s*([^)]*)/i,ve=/^(none|table(?!-c[ea]).+)/,ye=new RegExp("^("+qt+")(.*)$","i"),_e={position:"absolute",visibility:"hidden",display:"block"},xe={letterSpacing:"0",fontWeight:"400"},be=["Webkit","O","Moz","ms"],we=nt.createElement("div").style;dt.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=pe(t,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:ct.cssFloat?"cssFloat":"styleFloat"},style:function(t,e,i,n){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,s,a=dt.camelCase(e),l=t.style;if(e=dt.cssProps[a]||(dt.cssProps[a]=E(a)||a),s=dt.cssHooks[e]||dt.cssHooks[a],void 0===i)return s&&"get"in s&&void 0!==(r=s.get(t,!1,n))?r:l[e];if(o=typeof i,"string"===o&&(r=It.exec(i))&&r[1]&&(i=d(t,e,r),o="number"),null!=i&&i===i&&("number"===o&&(i+=r&&r[3]||(dt.cssNumber[a]?"":"px")),ct.clearCloneStyle||""!==i||0!==e.indexOf("background")||(l[e]="inherit"),!(s&&"set"in s&&void 0===(i=s.set(t,i,n)))))try{l[e]=i}catch(t){}}},css:function(t,e,i,n){var r,o,s,a=dt.camelCase(e);return e=dt.cssProps[a]||(dt.cssProps[a]=E(a)||a),s=dt.cssHooks[e]||dt.cssHooks[a],s&&"get"in s&&(o=s.get(t,!0,i)),void 0===o&&(o=pe(t,e,n)),"normal"===o&&e in xe&&(o=xe[e]),""===i||i?(r=parseFloat(o),!0===i||isFinite(r)?r||0:o):o}}),dt.each(["height","width"],function(t,e){dt.cssHooks[e]={get:function(t,i,n){if(i)return ve.test(dt.css(t,"display"))&&0===t.offsetWidth?ue(t,_e,function(){return O(t,e,n)}):O(t,e,n)},set:function(t,i,n){var r=n&&de(t);return I(t,i,n?j(t,e,n,ct.boxSizing&&"border-box"===dt.css(t,"boxSizing",!1,r),r):0)}}}),ct.opacity||(dt.cssHooks.opacity={get:function(t,e){return me.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(t,e){var i=t.style,n=t.currentStyle,r=dt.isNumeric(e)?"alpha(opacity="+100*e+")":"",o=n&&n.filter||i.filter||"";i.zoom=1,(e>=1||""===e)&&""===dt.trim(o.replace(ge,""))&&i.removeAttribute&&(i.removeAttribute("filter"),""===e||n&&!n.filter)||(i.filter=ge.test(o)?o.replace(ge,r):o+" "+r)}}),dt.cssHooks.marginRight=L(ct.reliableMarginRight,function(t,e){if(e)return ue(t,{display:"inline-block"},pe,[t,"marginRight"])}),dt.cssHooks.marginLeft=L(ct.reliableMarginLeft,function(t,e){if(e)return(parseFloat(pe(t,"marginLeft"))||(dt.contains(t.ownerDocument,t)?t.getBoundingClientRect().left-ue(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}):0))+"px"}),dt.each({margin:"",padding:"",border:"Width"},function(t,e){dt.cssHooks[t+e]={expand:function(i){for(var n=0,r={},o="string"==typeof i?i.split(" "):[i];n<4;n++)r[t+jt[n]+e]=o[n]||o[n-2]||o[0];return r}},le.test(t)||(dt.cssHooks[t+e].set=I)}),dt.fn.extend({css:function(t,e){return Rt(this,function(t,e,i){var n,r,o={},s=0;if(dt.isArray(e)){for(n=de(t),r=e.length;s<r;s++)o[e[s]]=dt.css(t,e[s],!1,n);return o}return void 0!==i?dt.style(t,e,i):dt.css(t,e)},t,e,arguments.length>1)},show:function(){return q(this,!0)},hide:function(){return q(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Ot(this)?dt(this).show():dt(this).hide()})}}),dt.Tween=R,R.prototype={constructor:R,init:function(t,e,i,n,r,o){this.elem=t,this.prop=i,this.easing=r||dt.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=o||(dt.cssNumber[i]?"":"px")},cur:function(){var t=R.propHooks[this.prop];return t&&t.get?t.get(this):R.propHooks._default.get(this)},run:function(t){var e,i=R.propHooks[this.prop];return this.options.duration?this.pos=e=dt.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):R.propHooks._default.set(this),this}},R.prototype.init.prototype=R.prototype,R.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=dt.css(t.elem,t.prop,""),e&&"auto"!==e?e:0)},set:function(t){dt.fx.step[t.prop]?dt.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[dt.cssProps[t.prop]]&&!dt.cssHooks[t.prop]?t.elem[t.prop]=t.now:dt.style(t.elem,t.prop,t.now+t.unit)}}},R.propHooks.scrollTop=R.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},dt.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},dt.fx=R.prototype.init,dt.fx.step={};var ke,Ce,Te=/^(?:toggle|show|hide)$/,Se=/queueHooks$/;dt.Animation=dt.extend(W,{tweeners:{"*":[function(t,e){var i=this.createTween(t,e);return d(i.elem,t,It.exec(e),i),i}]},tweener:function(t,e){dt.isFunction(t)?(e=t,t=["*"]):t=t.match(Dt);for(var i,n=0,r=t.length;n<r;n++)i=t[n],W.tweeners[i]=W.tweeners[i]||[],W.tweeners[i].unshift(e)},prefilters:[B],prefilter:function(t,e){e?W.prefilters.unshift(t):W.prefilters.push(t)}}),dt.speed=function(t,e,i){var n=t&&"object"==typeof t?dt.extend({},t):{complete:i||!i&&e||dt.isFunction(t)&&t,duration:t,easing:i&&e||e&&!dt.isFunction(e)&&e};return n.duration=dt.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in dt.fx.speeds?dt.fx.speeds[n.duration]:dt.fx.speeds._default,null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){dt.isFunction(n.old)&&n.old.call(this),n.queue&&dt.dequeue(this,n.queue)},n},dt.fn.extend({fadeTo:function(t,e,i,n){return this.filter(Ot).css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(t,e,i,n){var r=dt.isEmptyObject(t),o=dt.speed(e,i,n),s=function(){var e=W(this,dt.extend({},t),o);(r||dt._data(this,"finish"))&&e.stop(!0)};return s.finish=s,r||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(t,e,i){var n=function(t){var e=t.stop;delete t.stop,e(i)};return"string"!=typeof t&&(i=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",o=dt.timers,s=dt._data(this);if(r)s[r]&&s[r].stop&&n(s[r]);else for(r in s)s[r]&&s[r].stop&&Se.test(r)&&n(s[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(i),e=!1,o.splice(r,1));!e&&i||dt.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,i=dt._data(this),n=i[t+"queue"],r=i[t+"queueHooks"],o=dt.timers,s=n?n.length:0;for(i.finish=!0,dt.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<s;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete i.finish})}}),dt.each(["toggle","show","hide"],function(t,e){var i=dt.fn[e];dt.fn[e]=function(t,n,r){return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate(F(e,!0),t,n,r)}}),dt.each({slideDown:F("show"),slideUp:F("hide"),slideToggle:F("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){dt.fn[t]=function(t,i,n){return this.animate(e,t,i,n)}}),dt.timers=[],dt.fx.tick=function(){var t,e=dt.timers,i=0;for(ke=dt.now();i<e.length;i++)(t=e[i])()||e[i]!==t||e.splice(i--,1);e.length||dt.fx.stop(),ke=void 0},dt.fx.timer=function(t){dt.timers.push(t),t()?dt.fx.start():dt.timers.pop()},dt.fx.interval=13,dt.fx.start=function(){Ce||(Ce=t.setInterval(dt.fx.tick,dt.fx.interval))},dt.fx.stop=function(){t.clearInterval(Ce),Ce=null},dt.fx.speeds={slow:600,fast:200,_default:400},dt.fn.delay=function(e,i){
return e=dt.fx?dt.fx.speeds[e]||e:e,i=i||"fx",this.queue(i,function(i,n){var r=t.setTimeout(i,e);n.stop=function(){t.clearTimeout(r)}})},function(){var t,e=nt.createElement("input"),i=nt.createElement("div"),n=nt.createElement("select"),r=n.appendChild(nt.createElement("option"));i=nt.createElement("div"),i.setAttribute("className","t"),i.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",t=i.getElementsByTagName("a")[0],e.setAttribute("type","checkbox"),i.appendChild(e),t=i.getElementsByTagName("a")[0],t.style.cssText="top:1px",ct.getSetAttribute="t"!==i.className,ct.style=/top/.test(t.getAttribute("style")),ct.hrefNormalized="/a"===t.getAttribute("href"),ct.checkOn=!!e.value,ct.optSelected=r.selected,ct.enctype=!!nt.createElement("form").enctype,n.disabled=!0,ct.optDisabled=!r.disabled,e=nt.createElement("input"),e.setAttribute("value",""),ct.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),ct.radioValue="t"===e.value}();var De=/\r/g;dt.fn.extend({val:function(t){var e,i,n,r=this[0];{if(arguments.length)return n=dt.isFunction(t),this.each(function(i){var r;1===this.nodeType&&(r=n?t.call(this,i,dt(this).val()):t,null==r?r="":"number"==typeof r?r+="":dt.isArray(r)&&(r=dt.map(r,function(t){return null==t?"":t+""})),(e=dt.valHooks[this.type]||dt.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))});if(r)return(e=dt.valHooks[r.type]||dt.valHooks[r.nodeName.toLowerCase()])&&"get"in e&&void 0!==(i=e.get(r,"value"))?i:(i=r.value,"string"==typeof i?i.replace(De,""):null==i?"":i)}}}),dt.extend({valHooks:{option:{get:function(t){var e=dt.find.attr(t,"value");return null!=e?e:dt.trim(dt.text(t))}},select:{get:function(t){for(var e,i,n=t.options,r=t.selectedIndex,o="select-one"===t.type||r<0,s=o?null:[],a=o?r+1:n.length,l=r<0?a:o?r:0;l<a;l++)if(i=n[l],(i.selected||l===r)&&(ct.optDisabled?!i.disabled:null===i.getAttribute("disabled"))&&(!i.parentNode.disabled||!dt.nodeName(i.parentNode,"optgroup"))){if(e=dt(i).val(),o)return e;s.push(e)}return s},set:function(t,e){for(var i,n,r=t.options,o=dt.makeArray(e),s=r.length;s--;)if(n=r[s],dt.inArray(dt.valHooks.option.get(n),o)>=0)try{n.selected=i=!0}catch(t){n.scrollHeight}else n.selected=!1;return i||(t.selectedIndex=-1),r}}}}),dt.each(["radio","checkbox"],function(){dt.valHooks[this]={set:function(t,e){if(dt.isArray(e))return t.checked=dt.inArray(dt(t).val(),e)>-1}},ct.checkOn||(dt.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var Me,Ae,Pe=dt.expr.attrHandle,Le=/^(?:checked|selected)$/i,Ee=ct.getSetAttribute,qe=ct.input;dt.fn.extend({attr:function(t,e){return Rt(this,dt.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){dt.removeAttr(this,t)})}}),dt.extend({attr:function(t,e,i){var n,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===t.getAttribute?dt.prop(t,e,i):(1===o&&dt.isXMLDoc(t)||(e=e.toLowerCase(),r=dt.attrHooks[e]||(dt.expr.match.bool.test(e)?Ae:Me)),void 0!==i?null===i?void dt.removeAttr(t,e):r&&"set"in r&&void 0!==(n=r.set(t,i,e))?n:(t.setAttribute(e,i+""),i):r&&"get"in r&&null!==(n=r.get(t,e))?n:(n=dt.find.attr(t,e),null==n?void 0:n))},attrHooks:{type:{set:function(t,e){if(!ct.radioValue&&"radio"===e&&dt.nodeName(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}},removeAttr:function(t,e){var i,n,r=0,o=e&&e.match(Dt);if(o&&1===t.nodeType)for(;i=o[r++];)n=dt.propFix[i]||i,dt.expr.match.bool.test(i)?qe&&Ee||!Le.test(i)?t[n]=!1:t[dt.camelCase("default-"+i)]=t[n]=!1:dt.attr(t,i,""),t.removeAttribute(Ee?i:n)}}),Ae={set:function(t,e,i){return!1===e?dt.removeAttr(t,i):qe&&Ee||!Le.test(i)?t.setAttribute(!Ee&&dt.propFix[i]||i,i):t[dt.camelCase("default-"+i)]=t[i]=!0,i}},dt.each(dt.expr.match.bool.source.match(/\w+/g),function(t,e){var i=Pe[e]||dt.find.attr;qe&&Ee||!Le.test(e)?Pe[e]=function(t,e,n){var r,o;return n||(o=Pe[e],Pe[e]=r,r=null!=i(t,e,n)?e.toLowerCase():null,Pe[e]=o),r}:Pe[e]=function(t,e,i){if(!i)return t[dt.camelCase("default-"+e)]?e.toLowerCase():null}}),qe&&Ee||(dt.attrHooks.value={set:function(t,e,i){if(!dt.nodeName(t,"input"))return Me&&Me.set(t,e,i);t.defaultValue=e}}),Ee||(Me={set:function(t,e,i){var n=t.getAttributeNode(i);if(n||t.setAttributeNode(n=t.ownerDocument.createAttribute(i)),n.value=e+="","value"===i||e===t.getAttribute(i))return e}},Pe.id=Pe.name=Pe.coords=function(t,e,i){var n;if(!i)return(n=t.getAttributeNode(e))&&""!==n.value?n.value:null},dt.valHooks.button={get:function(t,e){var i=t.getAttributeNode(e);if(i&&i.specified)return i.value},set:Me.set},dt.attrHooks.contenteditable={set:function(t,e,i){Me.set(t,""!==e&&e,i)}},dt.each(["width","height"],function(t,e){dt.attrHooks[e]={set:function(t,i){if(""===i)return t.setAttribute(e,"auto"),i}}})),ct.style||(dt.attrHooks.style={get:function(t){return t.style.cssText||void 0},set:function(t,e){return t.style.cssText=e+""}});var Ie=/^(?:input|select|textarea|button|object)$/i,je=/^(?:a|area)$/i;dt.fn.extend({prop:function(t,e){return Rt(this,dt.prop,t,e,arguments.length>1)},removeProp:function(t){return t=dt.propFix[t]||t,this.each(function(){try{this[t]=void 0,delete this[t]}catch(t){}})}}),dt.extend({prop:function(t,e,i){var n,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&dt.isXMLDoc(t)||(e=dt.propFix[e]||e,r=dt.propHooks[e]),void 0!==i?r&&"set"in r&&void 0!==(n=r.set(t,i,e))?n:t[e]=i:r&&"get"in r&&null!==(n=r.get(t,e))?n:t[e]},propHooks:{tabIndex:{get:function(t){var e=dt.find.attr(t,"tabindex");return e?parseInt(e,10):Ie.test(t.nodeName)||je.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),ct.hrefNormalized||dt.each(["href","src"],function(t,e){dt.propHooks[e]={get:function(t){return t.getAttribute(e,4)}}}),ct.optSelected||(dt.propHooks.selected={get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null}}),dt.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){dt.propFix[this.toLowerCase()]=this}),ct.enctype||(dt.propFix.enctype="encoding");var Oe=/[\t\r\n\f]/g;dt.fn.extend({addClass:function(t){var e,i,n,r,o,s,a,l=0;if(dt.isFunction(t))return this.each(function(e){dt(this).addClass(t.call(this,e,U(this)))});if("string"==typeof t&&t)for(e=t.match(Dt)||[];i=this[l++];)if(r=U(i),n=1===i.nodeType&&(" "+r+" ").replace(Oe," ")){for(s=0;o=e[s++];)n.indexOf(" "+o+" ")<0&&(n+=o+" ");a=dt.trim(n),r!==a&&dt.attr(i,"class",a)}return this},removeClass:function(t){var e,i,n,r,o,s,a,l=0;if(dt.isFunction(t))return this.each(function(e){dt(this).removeClass(t.call(this,e,U(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(Dt)||[];i=this[l++];)if(r=U(i),n=1===i.nodeType&&(" "+r+" ").replace(Oe," ")){for(s=0;o=e[s++];)for(;n.indexOf(" "+o+" ")>-1;)n=n.replace(" "+o+" "," ");a=dt.trim(n),r!==a&&dt.attr(i,"class",a)}return this},toggleClass:function(t,e){var i=typeof t;return"boolean"==typeof e&&"string"===i?e?this.addClass(t):this.removeClass(t):dt.isFunction(t)?this.each(function(i){dt(this).toggleClass(t.call(this,i,U(this),e),e)}):this.each(function(){var e,n,r,o;if("string"===i)for(n=0,r=dt(this),o=t.match(Dt)||[];e=o[n++];)r.hasClass(e)?r.removeClass(e):r.addClass(e);else void 0!==t&&"boolean"!==i||(e=U(this),e&&dt._data(this,"__className__",e),dt.attr(this,"class",e||!1===t?"":dt._data(this,"__className__")||""))})},hasClass:function(t){var e,i,n=0;for(e=" "+t+" ";i=this[n++];)if(1===i.nodeType&&(" "+U(i)+" ").replace(Oe," ").indexOf(e)>-1)return!0;return!1}}),dt.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){dt.fn[e]=function(t,i){return arguments.length>0?this.on(e,null,t,i):this.trigger(e)}}),dt.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}});var Re=t.location,Ne=dt.now(),Fe=/\?/,ze=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;dt.parseJSON=function(e){if(t.JSON&&t.JSON.parse)return t.JSON.parse(e+"");var i,n=null,r=dt.trim(e+"");return r&&!dt.trim(r.replace(ze,function(t,e,r,o){return i&&e&&(n=0),0===n?t:(i=r||e,n+=!o-!r,"")}))?Function("return "+r)():dt.error("Invalid JSON: "+e)},dt.parseXML=function(e){var i,n;if(!e||"string"!=typeof e)return null;try{t.DOMParser?(n=new t.DOMParser,i=n.parseFromString(e,"text/xml")):(i=new t.ActiveXObject("Microsoft.XMLDOM"),i.async="false",i.loadXML(e))}catch(t){i=void 0}return i&&i.documentElement&&!i.getElementsByTagName("parsererror").length||dt.error("Invalid XML: "+e),i};var Be=/#.*$/,He=/([?&])_=[^&]*/,We=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Ue=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ye=/^(?:GET|HEAD)$/,Xe=/^\/\//,Ge=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Ze={},Ve={},$e="*/".concat("*"),Je=Re.href,Ke=Ge.exec(Je.toLowerCase())||[];dt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Je,type:"GET",isLocal:Ue.test(Ke[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":$e,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":dt.parseJSON,"text xml":dt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?G(G(t,dt.ajaxSettings),e):G(dt.ajaxSettings,t)},ajaxPrefilter:Y(Ze),ajaxTransport:Y(Ve),ajax:function(e,i){function n(e,i,n,r){var o,c,y,_,b,k=i;2!==x&&(x=2,l&&t.clearTimeout(l),u=void 0,a=r||"",w.readyState=e>0?4:0,o=e>=200&&e<300||304===e,n&&(_=Z(d,w,n)),_=V(d,_,w,o),o?(d.ifModified&&(b=w.getResponseHeader("Last-Modified"),b&&(dt.lastModified[s]=b),(b=w.getResponseHeader("etag"))&&(dt.etag[s]=b)),204===e||"HEAD"===d.type?k="nocontent":304===e?k="notmodified":(k=_.state,c=_.data,y=_.error,o=!y)):(y=k,!e&&k||(k="error",e<0&&(e=0))),w.status=e,w.statusText=(i||k)+"",o?g.resolveWith(p,[c,k,w]):g.rejectWith(p,[w,k,y]),w.statusCode(v),v=void 0,h&&f.trigger(o?"ajaxSuccess":"ajaxError",[w,d,o?c:y]),m.fireWith(p,[w,k]),h&&(f.trigger("ajaxComplete",[w,d]),--dt.active||dt.event.trigger("ajaxStop")))}"object"==typeof e&&(i=e,e=void 0),i=i||{};var r,o,s,a,l,h,u,c,d=dt.ajaxSetup({},i),p=d.context||d,f=d.context&&(p.nodeType||p.jquery)?dt(p):dt.event,g=dt.Deferred(),m=dt.Callbacks("once memory"),v=d.statusCode||{},y={},_={},x=0,b="canceled",w={readyState:0,getResponseHeader:function(t){var e;if(2===x){if(!c)for(c={};e=We.exec(a);)c[e[1].toLowerCase()]=e[2];e=c[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===x?a:null},setRequestHeader:function(t,e){var i=t.toLowerCase();return x||(t=_[i]=_[i]||t,y[t]=e),this},overrideMimeType:function(t){return x||(d.mimeType=t),this},statusCode:function(t){var e;if(t)if(x<2)for(e in t)v[e]=[v[e],t[e]];else w.always(t[w.status]);return this},abort:function(t){var e=t||b;return u&&u.abort(e),n(0,e),this}};if(g.promise(w).complete=m.add,w.success=w.done,w.error=w.fail,d.url=((e||d.url||Je)+"").replace(Be,"").replace(Xe,Ke[1]+"//"),d.type=i.method||i.type||d.method||d.type,d.dataTypes=dt.trim(d.dataType||"*").toLowerCase().match(Dt)||[""],null==d.crossDomain&&(r=Ge.exec(d.url.toLowerCase()),d.crossDomain=!(!r||r[1]===Ke[1]&&r[2]===Ke[2]&&(r[3]||("http:"===r[1]?"80":"443"))===(Ke[3]||("http:"===Ke[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=dt.param(d.data,d.traditional)),X(Ze,d,i,w),2===x)return w;h=dt.event&&d.global,h&&0==dt.active++&&dt.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Ye.test(d.type),s=d.url,d.hasContent||(d.data&&(s=d.url+=(Fe.test(s)?"&":"?")+d.data,delete d.data),!1===d.cache&&(d.url=He.test(s)?s.replace(He,"$1_="+Ne++):s+(Fe.test(s)?"&":"?")+"_="+Ne++)),d.ifModified&&(dt.lastModified[s]&&w.setRequestHeader("If-Modified-Since",dt.lastModified[s]),dt.etag[s]&&w.setRequestHeader("If-None-Match",dt.etag[s])),(d.data&&d.hasContent&&!1!==d.contentType||i.contentType)&&w.setRequestHeader("Content-Type",d.contentType),w.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+$e+"; q=0.01":""):d.accepts["*"]);for(o in d.headers)w.setRequestHeader(o,d.headers[o]);if(d.beforeSend&&(!1===d.beforeSend.call(p,w,d)||2===x))return w.abort();b="abort";for(o in{success:1,error:1,complete:1})w[o](d[o]);if(u=X(Ve,d,i,w)){if(w.readyState=1,h&&f.trigger("ajaxSend",[w,d]),2===x)return w;d.async&&d.timeout>0&&(l=t.setTimeout(function(){w.abort("timeout")},d.timeout));try{x=1,u.send(y,n)}catch(t){if(!(x<2))throw t;n(-1,t)}}else n(-1,"No Transport");return w},getJSON:function(t,e,i){return dt.get(t,e,i,"json")},getScript:function(t,e){return dt.get(t,void 0,e,"script")}}),dt.each(["get","post"],function(t,e){dt[e]=function(t,i,n,r){return dt.isFunction(i)&&(r=r||n,n=i,i=void 0),dt.ajax(dt.extend({url:t,type:e,dataType:r,data:i,success:n},dt.isPlainObject(t)&&t))}}),dt._evalUrl=function(t){return dt.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},dt.fn.extend({wrapAll:function(t){if(dt.isFunction(t))return this.each(function(e){dt(this).wrapAll(t.call(this,e))});if(this[0]){var e=dt(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(t){return dt.isFunction(t)?this.each(function(e){dt(this).wrapInner(t.call(this,e))}):this.each(function(){var e=dt(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)})},wrap:function(t){var e=dt.isFunction(t);return this.each(function(i){dt(this).wrapAll(e?t.call(this,i):t)})},unwrap:function(){return this.parent().each(function(){dt.nodeName(this,"body")||dt(this).replaceWith(this.childNodes)}).end()}}),dt.expr.filters.hidden=function(t){return ct.reliableHiddenOffsets()?t.offsetWidth<=0&&t.offsetHeight<=0&&!t.getClientRects().length:J(t)},dt.expr.filters.visible=function(t){return!dt.expr.filters.hidden(t)};var Qe=/%20/g,ti=/\[\]$/,ei=/\r?\n/g,ii=/^(?:submit|button|image|reset|file)$/i,ni=/^(?:input|select|textarea|keygen)/i;dt.param=function(t,e){var i,n=[],r=function(t,e){e=dt.isFunction(e)?e():null==e?"":e,n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=dt.ajaxSettings&&dt.ajaxSettings.traditional),dt.isArray(t)||t.jquery&&!dt.isPlainObject(t))dt.each(t,function(){r(this.name,this.value)});else for(i in t)K(i,t[i],e,r);return n.join("&").replace(Qe,"+")},dt.fn.extend({serialize:function(){return dt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=dt.prop(this,"elements");return t?dt.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!dt(this).is(":disabled")&&ni.test(this.nodeName)&&!ii.test(t)&&(this.checked||!Nt.test(t))}).map(function(t,e){var i=dt(this).val();return null==i?null:dt.isArray(i)?dt.map(i,function(t){return{name:e.name,value:t.replace(ei,"\r\n")}}):{name:e.name,value:i.replace(ei,"\r\n")}}).get()}}),dt.ajaxSettings.xhr=void 0!==t.ActiveXObject?function(){return this.isLocal?tt():nt.documentMode>8?Q():/^(get|post|head|put|delete|options)$/i.test(this.type)&&Q()||tt()}:Q;var ri=0,oi={},si=dt.ajaxSettings.xhr();t.attachEvent&&t.attachEvent("onunload",function(){for(var t in oi)oi[t](void 0,!0)}),ct.cors=!!si&&"withCredentials"in si,si=ct.ajax=!!si,si&&dt.ajaxTransport(function(e){if(!e.crossDomain||ct.cors){var i;return{send:function(n,r){var o,s=e.xhr(),a=++ri;if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(o in e.xhrFields)s[o]=e.xhrFields[o];e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(o in n)void 0!==n[o]&&s.setRequestHeader(o,n[o]+"");s.send(e.hasContent&&e.data||null),i=function(t,n){var o,l,h;if(i&&(n||4===s.readyState))if(delete oi[a],i=void 0,s.onreadystatechange=dt.noop,n)4!==s.readyState&&s.abort();else{h={},o=s.status,"string"==typeof s.responseText&&(h.text=s.responseText);try{l=s.statusText}catch(t){l=""}o||!e.isLocal||e.crossDomain?1223===o&&(o=204):o=h.text?200:404}h&&r(o,l,h,s.getAllResponseHeaders())},e.async?4===s.readyState?t.setTimeout(i):s.onreadystatechange=oi[a]=i:i()},abort:function(){i&&i(void 0,!0)}}}}),dt.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),dt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return dt.globalEval(t),t}}}),dt.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)}),dt.ajaxTransport("script",function(t){if(t.crossDomain){var e,i=nt.head||dt("head")[0]||nt.documentElement;return{send:function(n,r){e=nt.createElement("script"),e.async=!0,t.scriptCharset&&(e.charset=t.scriptCharset),e.src=t.url,e.onload=e.onreadystatechange=function(t,i){(i||!e.readyState||/loaded|complete/.test(e.readyState))&&(e.onload=e.onreadystatechange=null,e.parentNode&&e.parentNode.removeChild(e),e=null,i||r(200,"success"))},i.insertBefore(e,i.firstChild)},abort:function(){e&&e.onload(void 0,!0)}}}});var ai=[],li=/(=)\?(?=&|$)|\?\?/;dt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=ai.pop()||dt.expando+"_"+Ne++;return this[t]=!0,t}}),dt.ajaxPrefilter("json jsonp",function(e,i,n){var r,o,s,a=!1!==e.jsonp&&(li.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&li.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=dt.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(li,"$1"+r):!1!==e.jsonp&&(e.url+=(Fe.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return s||dt.error(r+" was not called"),s[0]},e.dataTypes[0]="json",o=t[r],t[r]=function(){s=arguments},n.always(function(){void 0===o?dt(t).removeProp(r):t[r]=o,e[r]&&(e.jsonpCallback=i.jsonpCallback,ai.push(r)),s&&dt.isFunction(o)&&o(s[0]),s=o=void 0}),"script"}),ct.createHTMLDocument=function(){if(!nt.implementation.createHTMLDocument)return!1;var t=nt.implementation.createHTMLDocument("");return t.body.innerHTML="<form></form><form></form>",2===t.body.childNodes.length}(),dt.parseHTML=function(t,e,i){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(i=e,e=!1),e=e||(ct.createHTMLDocument?nt.implementation.createHTMLDocument(""):nt);var n=bt.exec(t),r=!i&&[];return n?[e.createElement(n[1])]:(n=v([t],e,r),r&&r.length&&dt(r).remove(),dt.merge([],n.childNodes))};var hi=dt.fn.load;dt.fn.load=function(t,e,i){if("string"!=typeof t&&hi)return hi.apply(this,arguments);var n,r,o,s=this,a=t.indexOf(" ");return a>-1&&(n=dt.trim(t.slice(a,t.length)),t=t.slice(0,a)),dt.isFunction(e)?(i=e,e=void 0):e&&"object"==typeof e&&(r="POST"),s.length>0&&dt.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){o=arguments,s.html(n?dt("<div>").append(dt.parseHTML(t)).find(n):t)}).always(i&&function(t,e){s.each(function(){i.apply(s,o||[t.responseText,e,t])})}),this},dt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){dt.fn[e]=function(t){return this.on(e,t)}}),dt.expr.filters.animated=function(t){return dt.grep(dt.timers,function(e){return t===e.elem}).length},dt.offset={setOffset:function(t,e,i){var n,r,o,s,a,l,h,u=dt.css(t,"position"),c=dt(t),d={};"static"===u&&(t.style.position="relative"),a=c.offset(),o=dt.css(t,"top"),l=dt.css(t,"left"),h=("absolute"===u||"fixed"===u)&&dt.inArray("auto",[o,l])>-1,h?(n=c.position(),s=n.top,r=n.left):(s=parseFloat(o)||0,r=parseFloat(l)||0),dt.isFunction(e)&&(e=e.call(t,i,dt.extend({},a))),null!=e.top&&(d.top=e.top-a.top+s),null!=e.left&&(d.left=e.left-a.left+r),"using"in e?e.using.call(t,d):c.css(d)}},dt.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){dt.offset.setOffset(this,t,e)});var e,i,n={top:0,left:0},r=this[0],o=r&&r.ownerDocument;if(o)return e=o.documentElement,dt.contains(e,r)?(void 0!==r.getBoundingClientRect&&(n=r.getBoundingClientRect()),i=et(o),{top:n.top+(i.pageYOffset||e.scrollTop)-(e.clientTop||0),left:n.left+(i.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}):n},position:function(){if(this[0]){var t,e,i={top:0,left:0},n=this[0];return"fixed"===dt.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),dt.nodeName(t[0],"html")||(i=t.offset()),i.top+=dt.css(t[0],"borderTopWidth",!0)-t.scrollTop(),i.left+=dt.css(t[0],"borderLeftWidth",!0)-t.scrollLeft()),{top:e.top-i.top-dt.css(n,"marginTop",!0),left:e.left-i.left-dt.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&!dt.nodeName(t,"html")&&"static"===dt.css(t,"position");)t=t.offsetParent;return t||ce})}}),dt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var i=/Y/.test(e);dt.fn[t]=function(n){return Rt(this,function(t,n,r){var o=et(t);if(void 0===r)return o?e in o?o[e]:o.document.documentElement[n]:t[n];o?o.scrollTo(i?dt(o).scrollLeft():r,i?r:dt(o).scrollTop()):t[n]=r},t,n,arguments.length,null)}}),dt.each(["top","left"],function(t,e){dt.cssHooks[e]=L(ct.pixelPosition,function(t,i){if(i)return i=pe(t,e),he.test(i)?dt(t).position()[e]+"px":i})}),dt.each({Height:"height",Width:"width"},function(t,e){dt.each({padding:"inner"+t,content:e,"":"outer"+t},function(i,n){dt.fn[n]=function(n,r){var o=arguments.length&&(i||"boolean"!=typeof n),s=i||(!0===n||!0===r?"margin":"border");return Rt(this,function(e,i,n){var r;return dt.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+t],r["scroll"+t],e.body["offset"+t],r["offset"+t],r["client"+t])):void 0===n?dt.css(e,i,s):dt.style(e,i,n,s)},e,o?n:void 0,o,null)}})}),dt.fn.extend({bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)}}),dt.fn.size=function(){return this.length},dt.fn.andSelf=dt.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return dt});var ui=t.jQuery,ci=t.$;return dt.noConflict=function(e){return t.$===dt&&(t.$=ci),e&&t.jQuery===dt&&(t.jQuery=ui),dt},e||(t.jQuery=t.$=dt),dt}),function(){function t(t){return t&&(t.ownerDocument||t.document||t).documentElement}function e(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}function i(t,e){return e>t?-1:t>e?1:t>=e?0:NaN}function n(t){return null===t?NaN:+t}function r(t){return!isNaN(t)}function o(t){return{left:function(e,i,n,r){for(arguments.length<3&&(n=0),arguments.length<4&&(r=e.length);r>n;){var o=n+r>>>1;t(e[o],i)<0?n=o+1:r=o}return n},right:function(e,i,n,r){for(arguments.length<3&&(n=0),arguments.length<4&&(r=e.length);r>n;){var o=n+r>>>1;t(e[o],i)>0?r=o:n=o+1}return n}}}function s(t){return t.length}function a(t){for(var e=1;t*e%1;)e*=10;return e}function l(t,e){for(var i in e)Object.defineProperty(t.prototype,i,{value:e[i],enumerable:!1})}function h(){this._=Object.create(null)}function u(t){return(t+="")===_s||t[0]===xs?xs+t:t}function c(t){return(t+="")[0]===xs?t.slice(1):t}function d(t){return u(t)in this._}function p(t){return(t=u(t))in this._&&delete this._[t]}function f(){var t=[];for(var e in this._)t.push(c(e));return t}function g(){var t=0;for(var e in this._)++t;return t}function m(){for(var t in this._)return!1;return!0}function v(){this._=Object.create(null)}function y(t){return t}function _(t,e,i){return function(){var n=i.apply(e,arguments);return n===e?t:n}}function x(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var i=0,n=bs.length;n>i;++i){var r=bs[i]+e;if(r in t)return r}}function b(){}function w(){}function k(t){function e(){for(var e,n=i,r=-1,o=n.length;++r<o;)(e=n[r].on)&&e.apply(this,arguments);return t}var i=[],n=new h;return e.on=function(e,r){var o,s=n.get(e);return arguments.length<2?s&&s.on:(s&&(s.on=null,i=i.slice(0,o=i.indexOf(s)).concat(i.slice(o+1)),n.remove(e)),r&&i.push(n.set(e,{on:r})),t)},e}function C(){ls.event.preventDefault()}function T(){for(var t,e=ls.event;t=e.sourceEvent;)e=t;return e}function S(t){for(var e=new w,i=0,n=arguments.length;++i<n;)e[arguments[i]]=k(e);return e.of=function(i,n){return function(r){try{var o=r.sourceEvent=ls.event;r.target=t,ls.event=r,e[r.type].apply(i,n)}finally{ls.event=o}}},e}function D(t){return ks(t,Ds),t}function M(t){return"function"==typeof t?t:function(){return Cs(t,this)}}function A(t){return"function"==typeof t?t:function(){return Ts(t,this)}}function P(t,e){function i(){this.removeAttribute(t)}function n(){this.removeAttributeNS(t.space,t.local)}function r(){this.setAttribute(t,e)}function o(){this.setAttributeNS(t.space,t.local,e)}function s(){var i=e.apply(this,arguments);null==i?this.removeAttribute(t):this.setAttribute(t,i)}function a(){var i=e.apply(this,arguments);null==i?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,i)}return t=ls.ns.qualify(t),null==e?t.local?n:i:"function"==typeof e?t.local?a:s:t.local?o:r}function L(t){return t.trim().replace(/\s+/g," ")}function E(t){return new RegExp("(?:^|\\s+)"+ls.requote(t)+"(?:\\s+|$)","g")}function q(t){return(t+"").trim().split(/^|\s+/)}function I(t,e){function i(){for(var i=-1;++i<r;)t[i](this,e)}function n(){for(var i=-1,n=e.apply(this,arguments);++i<r;)t[i](this,n)}t=q(t).map(j);var r=t.length;return"function"==typeof e?n:i}function j(t){var e=E(t);return function(i,n){if(r=i.classList)return n?r.add(t):r.remove(t);var r=i.getAttribute("class")||"";n?(e.lastIndex=0,e.test(r)||i.setAttribute("class",L(r+" "+t))):i.setAttribute("class",L(r.replace(e," ")))}}function O(t,e,i){function n(){this.style.removeProperty(t)}function r(){this.style.setProperty(t,e,i)}function o(){var n=e.apply(this,arguments);null==n?this.style.removeProperty(t):this.style.setProperty(t,n,i)}return null==e?n:"function"==typeof e?o:r}function R(t,e){function i(){delete this[t]}function n(){this[t]=e}function r(){var i=e.apply(this,arguments);null==i?delete this[t]:this[t]=i}return null==e?i:"function"==typeof e?r:n}function N(t){function e(){var e=this.ownerDocument,i=this.namespaceURI;return i?e.createElementNS(i,t):e.createElement(t)}function i(){return this.ownerDocument.createElementNS(t.space,t.local)}return"function"==typeof t?t:(t=ls.ns.qualify(t)).local?i:e}function F(){var t=this.parentNode;t&&t.removeChild(this)}function z(t){return{__data__:t}}function B(t){return function(){return Ss(this,t)}}function H(t){return arguments.length||(t=i),function(e,i){return e&&i?t(e.__data__,i.__data__):!e-!i}}function W(t,e){for(var i=0,n=t.length;n>i;i++)for(var r,o=t[i],s=0,a=o.length;a>s;s++)(r=o[s])&&e(r,s,i);return t}function U(t){return ks(t,As),t}function Y(t){var e,i;return function(n,r,o){var s,a=t[o].update,l=a.length;for(o!=i&&(i=o,e=0),r>=e&&(e=r+1);!(s=a[e])&&++e<l;);return s}}function X(t,e,i){function n(){var e=this[s];e&&(this.removeEventListener(t,e,e.$),delete this[s])}function r(){var r=l(e,us(arguments));n.call(this),this.addEventListener(t,this[s]=r,r.$=i),r._=e}function o(){var e,i=new RegExp("^__on([^.]+)"+ls.requote(t)+"$");for(var n in this)if(e=n.match(i)){var r=this[n];this.removeEventListener(e[1],r,r.$),delete this[n]}}var s="__on"+t,a=t.indexOf("."),l=G;a>0&&(t=t.slice(0,a));var h=Ps.get(t);return h&&(t=h,l=Z),a?e?r:n:e?b:o}function G(t,e){return function(i){var n=ls.event;ls.event=i,e[0]=this.__data__;try{t.apply(this,e)}finally{ls.event=n}}}function Z(t,e){var i=G(t,e);return function(t){var e=this,n=t.relatedTarget;n&&(n===e||8&n.compareDocumentPosition(e))||i.call(e,t)}}function V(i){var n=".dragsuppress-"+ ++Es,r="click"+n,o=ls.select(e(i)).on("touchmove"+n,C).on("dragstart"+n,C).on("selectstart"+n,C);if(null==Ls&&(Ls=!("onselectstart"in i)&&x(i.style,"userSelect")),Ls){var s=t(i).style,a=s[Ls];s[Ls]="none"}return function(t){if(o.on(n,null),Ls&&(s[Ls]=a),t){var e=function(){o.on(r,null)};o.on(r,function(){C(),e()},!0),setTimeout(e,0)}}}function $(t,i){i.changedTouches&&(i=i.changedTouches[0]);var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();if(0>qs){var o=e(t);if(o.scrollX||o.scrollY){n=ls.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var s=n[0][0].getScreenCTM();qs=!(s.f||s.e),n.remove()}}return qs?(r.x=i.pageX,r.y=i.pageY):(r.x=i.clientX,r.y=i.clientY),r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}var a=t.getBoundingClientRect();return[i.clientX-a.left-t.clientLeft,i.clientY-a.top-t.clientTop]}function J(){return ls.event.changedTouches[0].identifier}function K(t){return t>0?1:0>t?-1:0}function Q(t,e,i){return(e[0]-t[0])*(i[1]-t[1])-(e[1]-t[1])*(i[0]-t[0])}function tt(t){return t>1?0:-1>t?Os:Math.acos(t)}function et(t){return t>1?Fs:-1>t?-Fs:Math.asin(t)}function it(t){return((t=Math.exp(t))-1/t)/2}function nt(t){return((t=Math.exp(t))+1/t)/2}function rt(t){return((t=Math.exp(2*t))-1)/(t+1)}function ot(t){return(t=Math.sin(t/2))*t}function st(){}function at(t,e,i){return this instanceof at?(this.h=+t,this.s=+e,void(this.l=+i)):arguments.length<2?t instanceof at?new at(t.h,t.s,t.l):bt(""+t,wt,at):new at(t,e,i)}function lt(t,e,i){function n(t){return t>360?t-=360:0>t&&(t+=360),60>t?o+(s-o)*t/60:180>t?s:240>t?o+(s-o)*(240-t)/60:o}function r(t){return Math.round(255*n(t))}var o,s;return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)?0:0>e?0:e>1?1:e,i=0>i?0:i>1?1:i,s=.5>=i?i*(1+e):i+e-i*e,o=2*i-s,new vt(r(t+120),r(t),r(t-120))}function ht(t,e,i){return this instanceof ht?(this.h=+t,this.c=+e,void(this.l=+i)):arguments.length<2?t instanceof ht?new ht(t.h,t.c,t.l):t instanceof ct?pt(t.l,t.a,t.b):pt((t=kt((t=ls.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new ht(t,e,i)}function ut(t,e,i){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new ct(i,Math.cos(t*=zs)*e,Math.sin(t)*e)}function ct(t,e,i){return this instanceof ct?(this.l=+t,this.a=+e,void(this.b=+i)):arguments.length<2?t instanceof ct?new ct(t.l,t.a,t.b):t instanceof ht?ut(t.h,t.c,t.l):kt((t=vt(t)).r,t.g,t.b):new ct(t,e,i)}function dt(t,e,i){var n=(t+16)/116,r=n+e/500,o=n-i/200;return r=ft(r)*Vs,n=ft(n)*$s,o=ft(o)*Js,new vt(mt(3.2404542*r-1.5371385*n-.4985314*o),mt(-.969266*r+1.8760108*n+.041556*o),mt(.0556434*r-.2040259*n+1.0572252*o))}function pt(t,e,i){return t>0?new ht(Math.atan2(i,e)*Bs,Math.sqrt(e*e+i*i),t):new ht(NaN,NaN,t)}function ft(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function gt(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function mt(t){return Math.round(255*(.00304>=t?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function vt(t,e,i){return this instanceof vt?(this.r=~~t,this.g=~~e,void(this.b=~~i)):arguments.length<2?t instanceof vt?new vt(t.r,t.g,t.b):bt(""+t,vt,lt):new vt(t,e,i)}function yt(t){return new vt(t>>16,t>>8&255,255&t)}function _t(t){return yt(t)+""}function xt(t){return 16>t?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function bt(t,e,i){var n,r,o,s=0,a=0,l=0;if(n=/([a-z]+)\((.*)\)/.exec(t=t.toLowerCase()))switch(r=n[2].split(","),n[1]){case"hsl":return i(parseFloat(r[0]),parseFloat(r[1])/100,parseFloat(r[2])/100);case"rgb":return e(Tt(r[0]),Tt(r[1]),Tt(r[2]))}return(o=ta.get(t))?e(o.r,o.g,o.b):(null==t||"#"!==t.charAt(0)||isNaN(o=parseInt(t.slice(1),16))||(4===t.length?(s=(3840&o)>>4,s|=s>>4,a=240&o,a|=a>>4,l=15&o,l|=l<<4):7===t.length&&(s=(16711680&o)>>16,a=(65280&o)>>8,l=255&o)),e(s,a,l))}
function wt(t,e,i){var n,r,o=Math.min(t/=255,e/=255,i/=255),s=Math.max(t,e,i),a=s-o,l=(s+o)/2;return a?(r=.5>l?a/(s+o):a/(2-s-o),n=t==s?(e-i)/a+(i>e?6:0):e==s?(i-t)/a+2:(t-e)/a+4,n*=60):(n=NaN,r=l>0&&1>l?0:n),new at(n,r,l)}function kt(t,e,i){t=Ct(t),e=Ct(e),i=Ct(i);var n=gt((.4124564*t+.3575761*e+.1804375*i)/Vs),r=gt((.2126729*t+.7151522*e+.072175*i)/$s);return ct(116*r-16,500*(n-r),200*(r-gt((.0193339*t+.119192*e+.9503041*i)/Js)))}function Ct(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Tt(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}function St(t){return"function"==typeof t?t:function(){return t}}function Dt(t){return function(e,i,n){return 2===arguments.length&&"function"==typeof i&&(n=i,i=null),Mt(e,i,t,n)}}function Mt(t,e,i,n){function r(){var t,e=l.status;if(!e&&Pt(l)||e>=200&&300>e||304===e){try{t=i.call(o,l)}catch(t){return void s.error.call(o,t)}s.load.call(o,t)}else s.error.call(o,l)}var o={},s=ls.dispatch("beforesend","progress","load","error"),a={},l=new XMLHttpRequest,h=null;return!this.XDomainRequest||"withCredentials"in l||!/^(http(s)?:)?\/\//.test(t)||(l=new XDomainRequest),"onload"in l?l.onload=l.onerror=r:l.onreadystatechange=function(){l.readyState>3&&r()},l.onprogress=function(t){var e=ls.event;ls.event=t;try{s.progress.call(o,l)}finally{ls.event=e}},o.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?a[t]:(null==e?delete a[t]:a[t]=e+"",o)},o.mimeType=function(t){return arguments.length?(e=null==t?null:t+"",o):e},o.responseType=function(t){return arguments.length?(h=t,o):h},o.response=function(t){return i=t,o},["get","post"].forEach(function(t){o[t]=function(){return o.send.apply(o,[t].concat(us(arguments)))}}),o.send=function(i,n,r){if(2===arguments.length&&"function"==typeof n&&(r=n,n=null),l.open(i,t,!0),null==e||"accept"in a||(a.accept=e+",*/*"),l.setRequestHeader)for(var u in a)l.setRequestHeader(u,a[u]);return null!=e&&l.overrideMimeType&&l.overrideMimeType(e),null!=h&&(l.responseType=h),null!=r&&o.on("error",r).on("load",function(t){r(null,t)}),s.beforesend.call(o,l),l.send(null==n?null:n),o},o.abort=function(){return l.abort(),o},ls.rebind(o,s,"on"),null==n?o:o.get(At(n))}function At(t){return 1===t.length?function(e,i){t(null==e?i:null)}:t}function Pt(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}function Lt(t,e,i){var n=arguments.length;2>n&&(e=0),3>n&&(i=Date.now());var r=i+e,o={c:t,t:r,n:null};return ia?ia.n=o:ea=o,ia=o,na||(ra=clearTimeout(ra),na=1,oa(Et)),o}function Et(){var t=qt(),e=It()-t;e>24?(isFinite(e)&&(clearTimeout(ra),ra=setTimeout(Et,e)),na=0):(na=1,oa(Et))}function qt(){for(var t=Date.now(),e=ea;e;)t>=e.t&&e.c(t-e.t)&&(e.c=null),e=e.n;return t}function It(){for(var t,e=ea,i=1/0;e;)e.c?(e.t<i&&(i=e.t),e=(t=e).n):e=t?t.n=e.n:ea=e.n;return ia=t,i}function jt(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}function Ot(t,e){var i=Math.pow(10,3*ys(8-e));return{scale:e>8?function(t){return t/i}:function(t){return t*i},symbol:t}}function Rt(t){var e=t.decimal,i=t.thousands,n=t.grouping,r=t.currency,o=n&&i?function(t,e){for(var r=t.length,o=[],s=0,a=n[0],l=0;r>0&&a>0&&(l+a+1>e&&(a=Math.max(1,e-l)),o.push(t.substring(r-=a,r+a)),!((l+=a+1)>e));)a=n[s=(s+1)%n.length];return o.reverse().join(i)}:y;return function(t){var i=aa.exec(t),n=i[1]||" ",s=i[2]||">",a=i[3]||"-",l=i[4]||"",h=i[5],u=+i[6],c=i[7],d=i[8],p=i[9],f=1,g="",m="",v=!1,y=!0;switch(d&&(d=+d.substring(1)),(h||"0"===n&&"="===s)&&(h=n="0",s="="),p){case"n":c=!0,p="g";break;case"%":f=100,m="%",p="f";break;case"p":f=100,m="%",p="r";break;case"b":case"o":case"x":case"X":"#"===l&&(g="0"+p.toLowerCase());case"c":y=!1;case"d":v=!0,d=0;break;case"s":f=-1,p="r"}"$"===l&&(g=r[0],m=r[1]),"r"!=p||d||(p="g"),null!=d&&("g"==p?d=Math.max(1,Math.min(21,d)):("e"==p||"f"==p)&&(d=Math.max(0,Math.min(20,d)))),p=la.get(p)||Nt;var _=h&&c;return function(t){var i=m;if(v&&t%1)return"";var r=0>t||0===t&&0>1/t?(t=-t,"-"):"-"===a?"":a;if(0>f){var l=ls.formatPrefix(t,d);t=l.scale(t),i=l.symbol+m}else t*=f;t=p(t,d);var x,b,w=t.lastIndexOf(".");if(0>w){var k=y?t.lastIndexOf("e"):-1;0>k?(x=t,b=""):(x=t.substring(0,k),b=t.substring(k))}else x=t.substring(0,w),b=e+t.substring(w+1);!h&&c&&(x=o(x,1/0));var C=g.length+x.length+b.length+(_?0:r.length),T=u>C?new Array(C=u-C+1).join(n):"";return _&&(x=o(T+x,T.length?u-b.length:1/0)),r+=g,t=x+b,("<"===s?r+t+T:">"===s?T+r+t:"^"===s?T.substring(0,C>>=1)+r+t+T.substring(C):r+(_?t:T+t))+i}}}function Nt(t){return t+""}function Ft(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function zt(t,e,i){function n(e){var i=t(e),n=o(i,1);return n-e>e-i?i:n}function r(i){return e(i=t(new ua(i-1)),1),i}function o(t,i){return e(t=new ua(+t),i),t}function s(t,n,o){var s=r(t),a=[];if(o>1)for(;n>s;)i(s)%o||a.push(new Date(+s)),e(s,1);else for(;n>s;)a.push(new Date(+s)),e(s,1);return a}function a(t,e,i){try{ua=Ft;var n=new Ft;return n._=t,s(n,e,i)}finally{ua=Date}}t.floor=t,t.round=n,t.ceil=r,t.offset=o,t.range=s;var l=t.utc=Bt(t);return l.floor=l,l.round=Bt(n),l.ceil=Bt(r),l.offset=Bt(o),l.range=a,t}function Bt(t){return function(e,i){try{ua=Ft;var n=new Ft;return n._=e,t(n,i)._}finally{ua=Date}}}function Ht(t){function e(t){function e(e){for(var i,r,o,s=[],a=-1,l=0;++a<n;)37===t.charCodeAt(a)&&(s.push(t.slice(l,a)),null!=(r=da[i=t.charAt(++a)])&&(i=t.charAt(++a)),(o=M[i])&&(i=o(e,null==r?"e"===i?" ":"0":r)),s.push(i),l=a+1);return s.push(t.slice(l,a)),s.join("")}var n=t.length;return e.parse=function(e){var n={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(i(n,t,e,0)!=e.length)return null;"p"in n&&(n.H=n.H%12+12*n.p);var r=null!=n.Z&&ua!==Ft,o=new(r?Ft:ua);return"j"in n?o.setFullYear(n.y,0,n.j):"W"in n||"U"in n?("w"in n||(n.w="W"in n?1:0),o.setFullYear(n.y,0,1),o.setFullYear(n.y,0,"W"in n?(n.w+6)%7+7*n.W-(o.getDay()+5)%7:n.w+7*n.U-(o.getDay()+6)%7)):o.setFullYear(n.y,n.m,n.d),o.setHours(n.H+(n.Z/100|0),n.M+n.Z%100,n.S,n.L),r?o._:o},e.toString=function(){return t},e}function i(t,e,i,n){for(var r,o,s,a=0,l=e.length,h=i.length;l>a;){if(n>=h)return-1;if(37===(r=e.charCodeAt(a++))){if(s=e.charAt(a++),!(o=A[s in da?e.charAt(a++):s])||(n=o(t,i,n))<0)return-1}else if(r!=i.charCodeAt(n++))return-1}return n}function n(t,e,i){w.lastIndex=0;var n=w.exec(e.slice(i));return n?(t.w=k.get(n[0].toLowerCase()),i+n[0].length):-1}function r(t,e,i){x.lastIndex=0;var n=x.exec(e.slice(i));return n?(t.w=b.get(n[0].toLowerCase()),i+n[0].length):-1}function o(t,e,i){S.lastIndex=0;var n=S.exec(e.slice(i));return n?(t.m=D.get(n[0].toLowerCase()),i+n[0].length):-1}function s(t,e,i){C.lastIndex=0;var n=C.exec(e.slice(i));return n?(t.m=T.get(n[0].toLowerCase()),i+n[0].length):-1}function a(t,e,n){return i(t,M.c.toString(),e,n)}function l(t,e,n){return i(t,M.x.toString(),e,n)}function h(t,e,n){return i(t,M.X.toString(),e,n)}function u(t,e,i){var n=_.get(e.slice(i,i+=2).toLowerCase());return null==n?-1:(t.p=n,i)}var c=t.dateTime,d=t.date,p=t.time,f=t.periods,g=t.days,m=t.shortDays,v=t.months,y=t.shortMonths;e.utc=function(t){function i(t){try{ua=Ft;var e=new ua;return e._=t,n(e)}finally{ua=Date}}var n=e(t);return i.parse=function(t){try{ua=Ft;var e=n.parse(t);return e&&e._}finally{ua=Date}},i.toString=n.toString,i},e.multi=e.utc.multi=le;var _=ls.map(),x=Ut(g),b=Yt(g),w=Ut(m),k=Yt(m),C=Ut(v),T=Yt(v),S=Ut(y),D=Yt(y);f.forEach(function(t,e){_.set(t.toLowerCase(),e)});var M={a:function(t){return m[t.getDay()]},A:function(t){return g[t.getDay()]},b:function(t){return y[t.getMonth()]},B:function(t){return v[t.getMonth()]},c:e(c),d:function(t,e){return Wt(t.getDate(),e,2)},e:function(t,e){return Wt(t.getDate(),e,2)},H:function(t,e){return Wt(t.getHours(),e,2)},I:function(t,e){return Wt(t.getHours()%12||12,e,2)},j:function(t,e){return Wt(1+ha.dayOfYear(t),e,3)},L:function(t,e){return Wt(t.getMilliseconds(),e,3)},m:function(t,e){return Wt(t.getMonth()+1,e,2)},M:function(t,e){return Wt(t.getMinutes(),e,2)},p:function(t){return f[+(t.getHours()>=12)]},S:function(t,e){return Wt(t.getSeconds(),e,2)},U:function(t,e){return Wt(ha.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return Wt(ha.mondayOfYear(t),e,2)},x:e(d),X:e(p),y:function(t,e){return Wt(t.getFullYear()%100,e,2)},Y:function(t,e){return Wt(t.getFullYear()%1e4,e,4)},Z:se,"%":function(){return"%"}},A={a:n,A:r,b:o,B:s,c:a,d:te,e:te,H:ie,I:ie,j:ee,L:oe,m:Qt,M:ne,p:u,S:re,U:Gt,w:Xt,W:Zt,x:l,X:h,y:$t,Y:Vt,Z:Jt,"%":ae};return e}function Wt(t,e,i){var n=0>t?"-":"",r=(n?-t:t)+"",o=r.length;return n+(i>o?new Array(i-o+1).join(e)+r:r)}function Ut(t){return new RegExp("^(?:"+t.map(ls.requote).join("|")+")","i")}function Yt(t){for(var e=new h,i=-1,n=t.length;++i<n;)e.set(t[i].toLowerCase(),i);return e}function Xt(t,e,i){pa.lastIndex=0;var n=pa.exec(e.slice(i,i+1));return n?(t.w=+n[0],i+n[0].length):-1}function Gt(t,e,i){pa.lastIndex=0;var n=pa.exec(e.slice(i));return n?(t.U=+n[0],i+n[0].length):-1}function Zt(t,e,i){pa.lastIndex=0;var n=pa.exec(e.slice(i));return n?(t.W=+n[0],i+n[0].length):-1}function Vt(t,e,i){pa.lastIndex=0;var n=pa.exec(e.slice(i,i+4));return n?(t.y=+n[0],i+n[0].length):-1}function $t(t,e,i){pa.lastIndex=0;var n=pa.exec(e.slice(i,i+2));return n?(t.y=Kt(+n[0]),i+n[0].length):-1}function Jt(t,e,i){return/^[+-]\d{4}$/.test(e=e.slice(i,i+5))?(t.Z=-e,i+5):-1}function Kt(t){return t+(t>68?1900:2e3)}function Qt(t,e,i){pa.lastIndex=0;var n=pa.exec(e.slice(i,i+2));return n?(t.m=n[0]-1,i+n[0].length):-1}function te(t,e,i){pa.lastIndex=0;var n=pa.exec(e.slice(i,i+2));return n?(t.d=+n[0],i+n[0].length):-1}function ee(t,e,i){pa.lastIndex=0;var n=pa.exec(e.slice(i,i+3));return n?(t.j=+n[0],i+n[0].length):-1}function ie(t,e,i){pa.lastIndex=0;var n=pa.exec(e.slice(i,i+2));return n?(t.H=+n[0],i+n[0].length):-1}function ne(t,e,i){pa.lastIndex=0;var n=pa.exec(e.slice(i,i+2));return n?(t.M=+n[0],i+n[0].length):-1}function re(t,e,i){pa.lastIndex=0;var n=pa.exec(e.slice(i,i+2));return n?(t.S=+n[0],i+n[0].length):-1}function oe(t,e,i){pa.lastIndex=0;var n=pa.exec(e.slice(i,i+3));return n?(t.L=+n[0],i+n[0].length):-1}function se(t){var e=t.getTimezoneOffset(),i=e>0?"-":"+",n=ys(e)/60|0,r=ys(e)%60;return i+Wt(n,"0",2)+Wt(r,"0",2)}function ae(t,e,i){fa.lastIndex=0;var n=fa.exec(e.slice(i,i+1));return n?i+n[0].length:-1}function le(t){for(var e=t.length,i=-1;++i<e;)t[i][0]=this(t[i][0]);return function(e){for(var i=0,n=t[i];!n[1](e);)n=t[++i];return n[0](e)}}function he(){}function ue(t,e,i){var n=i.s=t+e,r=n-t,o=n-r;i.t=t-o+(e-r)}function ce(t,e){t&&ya.hasOwnProperty(t.type)&&ya[t.type](t,e)}function de(t,e,i){var n,r=-1,o=t.length-i;for(e.lineStart();++r<o;)n=t[r],e.point(n[0],n[1],n[2]);e.lineEnd()}function pe(t,e){var i=-1,n=t.length;for(e.polygonStart();++i<n;)de(t[i],e,1);e.polygonEnd()}function fe(){function t(t,e){t*=zs,e=e*zs/2+Os/4;var i=t-n,s=i>=0?1:-1,a=s*i,l=Math.cos(e),h=Math.sin(e),u=o*h,c=r*l+u*Math.cos(a),d=u*s*Math.sin(a);xa.add(Math.atan2(d,c)),n=t,r=l,o=h}var e,i,n,r,o;ba.point=function(s,a){ba.point=t,n=(e=s)*zs,r=Math.cos(a=(i=a)*zs/2+Os/4),o=Math.sin(a)},ba.lineEnd=function(){t(e,i)}}function ge(t){var e=t[0],i=t[1],n=Math.cos(i);return[n*Math.cos(e),n*Math.sin(e),Math.sin(i)]}function me(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function ve(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function ye(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function _e(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function xe(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function be(t){return[Math.atan2(t[1],t[0]),et(t[2])]}function we(t,e){return ys(t[0]-e[0])<Is&&ys(t[1]-e[1])<Is}function ke(t,e){t*=zs;var i=Math.cos(e*=zs);Ce(i*Math.cos(t),i*Math.sin(t),Math.sin(e))}function Ce(t,e,i){++wa,Ca+=(t-Ca)/wa,Ta+=(e-Ta)/wa,Sa+=(i-Sa)/wa}function Te(){function t(t,r){t*=zs;var o=Math.cos(r*=zs),s=o*Math.cos(t),a=o*Math.sin(t),l=Math.sin(r),h=Math.atan2(Math.sqrt((h=i*l-n*a)*h+(h=n*s-e*l)*h+(h=e*a-i*s)*h),e*s+i*a+n*l);ka+=h,Da+=h*(e+(e=s)),Ma+=h*(i+(i=a)),Aa+=h*(n+(n=l)),Ce(e,i,n)}var e,i,n;qa.point=function(r,o){r*=zs;var s=Math.cos(o*=zs);e=s*Math.cos(r),i=s*Math.sin(r),n=Math.sin(o),qa.point=t,Ce(e,i,n)}}function Se(){qa.point=ke}function De(){function t(t,e){t*=zs;var i=Math.cos(e*=zs),s=i*Math.cos(t),a=i*Math.sin(t),l=Math.sin(e),h=r*l-o*a,u=o*s-n*l,c=n*a-r*s,d=Math.sqrt(h*h+u*u+c*c),p=n*s+r*a+o*l,f=d&&-tt(p)/d,g=Math.atan2(d,p);Pa+=f*h,La+=f*u,Ea+=f*c,ka+=g,Da+=g*(n+(n=s)),Ma+=g*(r+(r=a)),Aa+=g*(o+(o=l)),Ce(n,r,o)}var e,i,n,r,o;qa.point=function(s,a){e=s,i=a,qa.point=t,s*=zs;var l=Math.cos(a*=zs);n=l*Math.cos(s),r=l*Math.sin(s),o=Math.sin(a),Ce(n,r,o)},qa.lineEnd=function(){t(e,i),qa.lineEnd=Se,qa.point=ke}}function Me(t,e){function i(i,n){return i=t(i,n),e(i[0],i[1])}return t.invert&&e.invert&&(i.invert=function(i,n){return(i=e.invert(i,n))&&t.invert(i[0],i[1])}),i}function Ae(){return!0}function Pe(t,e,i,n,r){var o=[],s=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,i=t[0],n=t[e];if(we(i,n)){r.lineStart();for(var a=0;e>a;++a)r.point((i=t[a])[0],i[1]);return void r.lineEnd()}var l=new Ee(i,t,null,!0),h=new Ee(i,null,l,!1);l.o=h,o.push(l),s.push(h),l=new Ee(n,t,null,!1),h=new Ee(n,null,l,!0),l.o=h,o.push(l),s.push(h)}}),s.sort(e),Le(o),Le(s),o.length){for(var a=0,l=i,h=s.length;h>a;++a)s[a].e=l=!l;for(var u,c,d=o[0];;){for(var p=d,f=!0;p.v;)if((p=p.n)===d)return;u=p.z,r.lineStart();do{if(p.v=p.o.v=!0,p.e){if(f)for(var a=0,h=u.length;h>a;++a)r.point((c=u[a])[0],c[1]);else n(p.x,p.n.x,1,r);p=p.n}else{if(f){u=p.p.z;for(var a=u.length-1;a>=0;--a)r.point((c=u[a])[0],c[1])}else n(p.x,p.p.x,-1,r);p=p.p}p=p.o,u=p.z,f=!f}while(!p.v);r.lineEnd()}}}function Le(t){if(e=t.length){for(var e,i,n=0,r=t[0];++n<e;)r.n=i=t[n],i.p=r,r=i;r.n=i=t[0],i.p=r}}function Ee(t,e,i,n){this.x=t,this.z=e,this.o=i,this.e=n,this.v=!1,this.n=this.p=null}function qe(t,e,i,n){return function(r,o){function s(e,i){var n=r(e,i);t(e=n[0],i=n[1])&&o.point(e,i)}function a(t,e){var i=r(t,e);m.point(i[0],i[1])}function l(){y.point=a,m.lineStart()}function h(){y.point=s,m.lineEnd()}function u(t,e){g.push([t,e]);var i=r(t,e);x.point(i[0],i[1])}function c(){x.lineStart(),g=[]}function d(){u(g[0][0],g[0][1]),x.lineEnd();var t,e=x.clean(),i=_.buffer(),n=i.length;if(g.pop(),f.push(g),g=null,n)if(1&e){t=i[0];var r,n=t.length-1,s=-1;if(n>0){for(b||(o.polygonStart(),b=!0),o.lineStart();++s<n;)o.point((r=t[s])[0],r[1]);o.lineEnd()}}else n>1&&2&e&&i.push(i.pop().concat(i.shift())),p.push(i.filter(Ie))}var p,f,g,m=e(o),v=r.invert(n[0],n[1]),y={point:s,lineStart:l,lineEnd:h,polygonStart:function(){y.point=u,y.lineStart=c,y.lineEnd=d,p=[],f=[]},polygonEnd:function(){y.point=s,y.lineStart=l,y.lineEnd=h,p=ls.merge(p);var t=ze(v,f);p.length?(b||(o.polygonStart(),b=!0),Pe(p,Oe,t,i,o)):t&&(b||(o.polygonStart(),b=!0),o.lineStart(),i(null,null,1,o),o.lineEnd()),b&&(o.polygonEnd(),b=!1),p=f=null},sphere:function(){o.polygonStart(),o.lineStart(),i(null,null,1,o),o.lineEnd(),o.polygonEnd()}},_=je(),x=e(_),b=!1;return y}}function Ie(t){return t.length>1}function je(){var t,e=[];return{lineStart:function(){e.push(t=[])},point:function(e,i){t.push([e,i])},lineEnd:b,buffer:function(){var i=e;return e=[],t=null,i},rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))}}}function Oe(t,e){return((t=t.x)[0]<0?t[1]-Fs-Is:Fs-t[1])-((e=e.x)[0]<0?e[1]-Fs-Is:Fs-e[1])}function Re(t){var e,i=NaN,n=NaN,r=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,s){var a=o>0?Os:-Os,l=ys(o-i);ys(l-Os)<Is?(t.point(i,n=(n+s)/2>0?Fs:-Fs),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(a,n),t.point(o,n),e=0):r!==a&&l>=Os&&(ys(i-r)<Is&&(i-=r*Is),ys(o-a)<Is&&(o-=a*Is),n=Ne(i,n,o,s),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(a,n),e=0),t.point(i=o,n=s),r=a},lineEnd:function(){t.lineEnd(),i=n=NaN},clean:function(){return 2-e}}}function Ne(t,e,i,n){var r,o,s=Math.sin(t-i);return ys(s)>Is?Math.atan((Math.sin(e)*(o=Math.cos(n))*Math.sin(i)-Math.sin(n)*(r=Math.cos(e))*Math.sin(t))/(r*o*s)):(e+n)/2}function Fe(t,e,i,n){var r;if(null==t)r=i*Fs,n.point(-Os,r),n.point(0,r),n.point(Os,r),n.point(Os,0),n.point(Os,-r),n.point(0,-r),n.point(-Os,-r),n.point(-Os,0),n.point(-Os,r);else if(ys(t[0]-e[0])>Is){var o=t[0]<e[0]?Os:-Os;r=i*o/2,n.point(-o,r),n.point(0,r),n.point(o,r)}else n.point(e[0],e[1])}function ze(t,e){var i=t[0],n=t[1],r=[Math.sin(i),-Math.cos(i),0],o=0,s=0;xa.reset();for(var a=0,l=e.length;l>a;++a){var h=e[a],u=h.length;if(u)for(var c=h[0],d=c[0],p=c[1]/2+Os/4,f=Math.sin(p),g=Math.cos(p),m=1;;){m===u&&(m=0),t=h[m];var v=t[0],y=t[1]/2+Os/4,_=Math.sin(y),x=Math.cos(y),b=v-d,w=b>=0?1:-1,k=w*b,C=k>Os,T=f*_;if(xa.add(Math.atan2(T*w*Math.sin(k),g*x+T*Math.cos(k))),o+=C?b+w*Rs:b,C^d>=i^v>=i){var S=ve(ge(c),ge(t));xe(S);var D=ve(r,S);xe(D);var M=(C^b>=0?-1:1)*et(D[2]);(n>M||n===M&&(S[0]||S[1]))&&(s+=C^b>=0?1:-1)}if(!m++)break;d=v,f=_,g=x,c=t}}return(-Is>o||Is>o&&0>xa)^1&s}function Be(t){function e(t,e){return Math.cos(t)*Math.cos(e)>o}function i(t){var i,o,l,h,u;return{lineStart:function(){h=l=!1,u=1},point:function(c,d){var p,f=[c,d],g=e(c,d),m=s?g?0:r(c,d):g?r(c+(0>c?Os:-Os),d):0;if(!i&&(h=l=g)&&t.lineStart(),g!==l&&(p=n(i,f),(we(i,p)||we(f,p))&&(f[0]+=Is,f[1]+=Is,g=e(f[0],f[1]))),g!==l)u=0,g?(t.lineStart(),p=n(f,i),t.point(p[0],p[1])):(p=n(i,f),t.point(p[0],p[1]),t.lineEnd()),i=p;else if(a&&i&&s^g){var v;m&o||!(v=n(f,i,!0))||(u=0,s?(t.lineStart(),t.point(v[0][0],v[0][1]),t.point(v[1][0],v[1][1]),t.lineEnd()):(t.point(v[1][0],v[1][1]),t.lineEnd(),t.lineStart(),t.point(v[0][0],v[0][1])))}!g||i&&we(i,f)||t.point(f[0],f[1]),i=f,l=g,o=m},lineEnd:function(){l&&t.lineEnd(),i=null},clean:function(){return u|(h&&l)<<1}}}function n(t,e,i){var n=ge(t),r=ge(e),s=[1,0,0],a=ve(n,r),l=me(a,a),h=a[0],u=l-h*h;if(!u)return!i&&t;var c=o*l/u,d=-o*h/u,p=ve(s,a),f=_e(s,c);ye(f,_e(a,d));var g=p,m=me(f,g),v=me(g,g),y=m*m-v*(me(f,f)-1);if(!(0>y)){var _=Math.sqrt(y),x=_e(g,(-m-_)/v);if(ye(x,f),x=be(x),!i)return x;var b,w=t[0],k=e[0],C=t[1],T=e[1];w>k&&(b=w,w=k,k=b);var S=k-w,D=ys(S-Os)<Is,M=D||Is>S;if(!D&&C>T&&(b=C,C=T,T=b),M?D?C+T>0^x[1]<(ys(x[0]-w)<Is?C:T):C<=x[1]&&x[1]<=T:S>Os^(w<=x[0]&&x[0]<=k)){var A=_e(g,(-m+_)/v);return ye(A,f),[x,be(A)]}}}function r(e,i){var n=s?t:Os-t,r=0;return-n>e?r|=1:e>n&&(r|=2),-n>i?r|=4:i>n&&(r|=8),r}var o=Math.cos(t),s=o>0,a=ys(o)>Is;return qe(e,i,fi(t,6*zs),s?[0,-t]:[-Os,t-Os])}function He(t,e,i,n){return function(r){var o,s=r.a,a=r.b,l=s.x,h=s.y,u=a.x,c=a.y,d=0,p=1,f=u-l,g=c-h;if(o=t-l,f||!(o>0)){if(o/=f,0>f){if(d>o)return;p>o&&(p=o)}else if(f>0){if(o>p)return;o>d&&(d=o)}if(o=i-l,f||!(0>o)){if(o/=f,0>f){if(o>p)return;o>d&&(d=o)}else if(f>0){if(d>o)return;p>o&&(p=o)}if(o=e-h,g||!(o>0)){if(o/=g,0>g){if(d>o)return;p>o&&(p=o)}else if(g>0){if(o>p)return;o>d&&(d=o)}if(o=n-h,g||!(0>o)){if(o/=g,0>g){if(o>p)return;o>d&&(d=o)}else if(g>0){if(d>o)return;p>o&&(p=o)}return d>0&&(r.a={x:l+d*f,y:h+d*g}),1>p&&(r.b={x:l+p*f,y:h+p*g}),r}}}}}}function We(t,e,i,n){function r(n,r){return ys(n[0]-t)<Is?r>0?0:3:ys(n[0]-i)<Is?r>0?2:1:ys(n[1]-e)<Is?r>0?1:0:r>0?3:2}function o(t,e){return s(t.x,e.x)}function s(t,e){var i=r(t,1),n=r(e,1);return i!==n?i-n:0===i?e[1]-t[1]:1===i?t[0]-e[0]:2===i?t[1]-e[1]:e[0]-t[0]}return function(a){function l(t){for(var e=0,i=m.length,n=t[1],r=0;i>r;++r)for(var o,s=1,a=m[r],l=a.length,h=a[0];l>s;++s)o=a[s],h[1]<=n?o[1]>n&&Q(h,o,t)>0&&++e:o[1]<=n&&Q(h,o,t)<0&&--e,h=o;return 0!==e}function h(o,a,l,h){var u=0,c=0;if(null==o||(u=r(o,l))!==(c=r(a,l))||s(o,a)<0^l>0)do{h.point(0===u||3===u?t:i,u>1?n:e)}while((u=(u+l+4)%4)!==c);else h.point(a[0],a[1])}function u(r,o){return r>=t&&i>=r&&o>=e&&n>=o}function c(t,e){u(t,e)&&a.point(t,e)}function d(){A.point=f,m&&m.push(v=[]),C=!0,k=!1,b=w=NaN}function p(){g&&(f(y,_),x&&k&&D.rejoin(),g.push(D.buffer())),A.point=c,k&&a.lineEnd()}function f(t,e){t=Math.max(-ja,Math.min(ja,t)),e=Math.max(-ja,Math.min(ja,e));var i=u(t,e);if(m&&v.push([t,e]),C)y=t,_=e,x=i,C=!1,i&&(a.lineStart(),a.point(t,e));else if(i&&k)a.point(t,e);else{var n={a:{x:b,y:w},b:{x:t,y:e}};M(n)?(k||(a.lineStart(),a.point(n.a.x,n.a.y)),a.point(n.b.x,n.b.y),i||a.lineEnd(),T=!1):i&&(a.lineStart(),a.point(t,e),T=!1)}b=t,w=e,k=i}var g,m,v,y,_,x,b,w,k,C,T,S=a,D=je(),M=He(t,e,i,n),A={point:c,lineStart:d,lineEnd:p,polygonStart:function(){a=D,g=[],m=[],T=!0},polygonEnd:function(){a=S,g=ls.merge(g);var e=l([t,n]),i=T&&e,r=g.length;(i||r)&&(a.polygonStart(),i&&(a.lineStart(),h(null,null,1,a),a.lineEnd()),r&&Pe(g,o,e,h,a),a.polygonEnd()),g=m=v=null}};return A}}function Ue(t){var e=0,i=Os/3,n=si(t),r=n(e,i);return r.parallels=function(t){return arguments.length?n(e=t[0]*Os/180,i=t[1]*Os/180):[e/Os*180,i/Os*180]},r}function Ye(t,e){function i(t,e){var i=Math.sqrt(o-2*r*Math.sin(e))/r;return[i*Math.sin(t*=r),s-i*Math.cos(t)]}var n=Math.sin(t),r=(n+Math.sin(e))/2,o=1+n*(2*r-n),s=Math.sqrt(o)/r;return i.invert=function(t,e){var i=s-e;return[Math.atan2(t,i)/r,et((o-(t*t+i*i)*r*r)/(2*r))]},i}function Xe(){function t(t,e){Ra+=r*t-n*e,n=t,r=e}var e,i,n,r;Ha.point=function(o,s){Ha.point=t,e=n=o,i=r=s},Ha.lineEnd=function(){t(e,i)}}function Ge(t,e){Na>t&&(Na=t),t>za&&(za=t),Fa>e&&(Fa=e),e>Ba&&(Ba=e)}function Ze(){function t(t,e){s.push("M",t,",",e,o)}function e(t,e){s.push("M",t,",",e),a.point=i}function i(t,e){s.push("L",t,",",e)}function n(){a.point=t}function r(){s.push("Z")}var o=Ve(4.5),s=[],a={point:t,lineStart:function(){a.point=e},lineEnd:n,polygonStart:function(){a.lineEnd=r},polygonEnd:function(){a.lineEnd=n,a.point=t},pointRadius:function(t){return o=Ve(t),a},result:function(){if(s.length){var t=s.join("");return s=[],t}}};return a}function Ve(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function $e(t,e){Ca+=t,Ta+=e,++Sa}function Je(){function t(t,n){var r=t-e,o=n-i,s=Math.sqrt(r*r+o*o);Da+=s*(e+t)/2,Ma+=s*(i+n)/2,Aa+=s,$e(e=t,i=n)}var e,i;Ua.point=function(n,r){Ua.point=t,$e(e=n,i=r)}}function Ke(){Ua.point=$e}function Qe(){function t(t,e){var i=t-n,o=e-r,s=Math.sqrt(i*i+o*o);Da+=s*(n+t)/2,Ma+=s*(r+e)/2,Aa+=s,s=r*t-n*e,Pa+=s*(n+t),La+=s*(r+e),Ea+=3*s,$e(n=t,r=e)}var e,i,n,r;Ua.point=function(o,s){Ua.point=t,$e(e=n=o,i=r=s)},Ua.lineEnd=function(){t(e,i)}}function ti(t){function e(e,i){t.moveTo(e+s,i),t.arc(e,i,s,0,Rs)}function i(e,i){t.moveTo(e,i),a.point=n}function n(e,i){t.lineTo(e,i)}function r(){a.point=e}function o(){t.closePath()}var s=4.5,a={point:e,lineStart:function(){a.point=i},lineEnd:r,polygonStart:function(){a.lineEnd=o},polygonEnd:function(){a.lineEnd=r,a.point=e},pointRadius:function(t){return s=t,a},result:b};return a}function ei(t){function e(t){return(a?n:i)(t)}function i(e){return ri(e,function(i,n){i=t(i,n),e.point(i[0],i[1])})}function n(e){function i(i,n){i=t(i,n),e.point(i[0],i[1])}function n(){_=NaN,C.point=o,e.lineStart()}function o(i,n){var o=ge([i,n]),s=t(i,n);r(_,x,y,b,w,k,_=s[0],x=s[1],y=i,b=o[0],w=o[1],k=o[2],a,e),e.point(_,x)}function s(){C.point=i,e.lineEnd()}function l(){n(),C.point=h,C.lineEnd=u}function h(t,e){o(c=t,d=e),p=_,f=x,g=b,m=w,v=k,C.point=o}function u(){r(_,x,y,b,w,k,p,f,c,g,m,v,a,e),C.lineEnd=s,s()}var c,d,p,f,g,m,v,y,_,x,b,w,k,C={point:i,lineStart:n,lineEnd:s,polygonStart:function(){e.polygonStart(),C.lineStart=l},polygonEnd:function(){e.polygonEnd(),C.lineStart=n}};return C}function r(e,i,n,a,l,h,u,c,d,p,f,g,m,v){var y=u-e,_=c-i,x=y*y+_*_;if(x>4*o&&m--){var b=a+p,w=l+f,k=h+g,C=Math.sqrt(b*b+w*w+k*k),T=Math.asin(k/=C),S=ys(ys(k)-1)<Is||ys(n-d)<Is?(n+d)/2:Math.atan2(w,b),D=t(S,T),M=D[0],A=D[1],P=M-e,L=A-i,E=_*P-y*L;(E*E/x>o||ys((y*P+_*L)/x-.5)>.3||s>a*p+l*f+h*g)&&(r(e,i,n,a,l,h,M,A,S,b/=C,w/=C,k,m,v),v.point(M,A),r(M,A,S,b,w,k,u,c,d,p,f,g,m,v))}}var o=.5,s=Math.cos(30*zs),a=16;return e.precision=function(t){return arguments.length?(a=(o=t*t)>0&&16,e):Math.sqrt(o)},e}function ii(t){var e=ei(function(e,i){return t([e*Bs,i*Bs])});return function(t){return ai(e(t))}}function ni(t){this.stream=t}function ri(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function oi(t){return si(function(){return t})()}function si(t){function e(t){return t=a(t[0]*zs,t[1]*zs),[t[0]*d+l,h-t[1]*d]}function i(t){return(t=a.invert((t[0]-l)/d,(h-t[1])/d))&&[t[0]*Bs,t[1]*Bs]}function n(){a=Me(s=ui(v,_,x),o);var t=o(g,m);return l=p-t[0]*d,h=f+t[1]*d,r()}function r(){return u&&(u.valid=!1,u=null),e}var o,s,a,l,h,u,c=ei(function(t,e){return t=o(t,e),[t[0]*d+l,h-t[1]*d]}),d=150,p=480,f=250,g=0,m=0,v=0,_=0,x=0,b=Ia,w=y,k=null,C=null;return e.stream=function(t){return u&&(u.valid=!1),u=ai(b(s,c(w(t)))),u.valid=!0,u},e.clipAngle=function(t){return arguments.length?(b=null==t?(k=t,Ia):Be((k=+t)*zs),r()):k},e.clipExtent=function(t){return arguments.length?(C=t,w=t?We(t[0][0],t[0][1],t[1][0],t[1][1]):y,r()):C},e.scale=function(t){return arguments.length?(d=+t,n()):d},e.translate=function(t){return arguments.length?(p=+t[0],f=+t[1],n()):[p,f]},e.center=function(t){return arguments.length?(g=t[0]%360*zs,m=t[1]%360*zs,n()):[g*Bs,m*Bs]},e.rotate=function(t){return arguments.length?(v=t[0]%360*zs,_=t[1]%360*zs,x=t.length>2?t[2]%360*zs:0,n()):[v*Bs,_*Bs,x*Bs]},ls.rebind(e,c,"precision"),function(){return o=t.apply(this,arguments),e.invert=o.invert&&i,n()}}function ai(t){return ri(t,function(e,i){t.point(e*zs,i*zs)})}function li(t,e){return[t,e]}function hi(t,e){return[t>Os?t-Rs:-Os>t?t+Rs:t,e]}function ui(t,e,i){return t?e||i?Me(di(t),pi(e,i)):di(t):e||i?pi(e,i):hi}function ci(t){return function(e,i){return e+=t,[e>Os?e-Rs:-Os>e?e+Rs:e,i]}}function di(t){var e=ci(t);return e.invert=ci(-t),e}function pi(t,e){function i(t,e){var i=Math.cos(e),a=Math.cos(t)*i,l=Math.sin(t)*i,h=Math.sin(e),u=h*n+a*r;return[Math.atan2(l*o-u*s,a*n-h*r),et(u*o+l*s)]}var n=Math.cos(t),r=Math.sin(t),o=Math.cos(e),s=Math.sin(e);return i.invert=function(t,e){var i=Math.cos(e),a=Math.cos(t)*i,l=Math.sin(t)*i,h=Math.sin(e),u=h*o-l*s;return[Math.atan2(l*o+h*s,a*n+u*r),et(u*n-a*r)]},i}function fi(t,e){var i=Math.cos(t),n=Math.sin(t);return function(r,o,s,a){var l=s*e;null!=r?(r=gi(i,r),o=gi(i,o),(s>0?o>r:r>o)&&(r+=s*Rs)):(r=t+s*Rs,o=t-.5*l);for(var h,u=r;s>0?u>o:o>u;u-=l)a.point((h=be([i,-n*Math.cos(u),-n*Math.sin(u)]))[0],h[1])}}function gi(t,e){var i=ge(e);i[0]-=t,xe(i);var n=tt(-i[1]);return((-i[2]<0?-n:n)+2*Math.PI-Is)%(2*Math.PI)}function mi(t,e,i){var n=ls.range(t,e-Is,i).concat(e);return function(t){return n.map(function(e){return[t,e]})}}function vi(t,e,i){var n=ls.range(t,e-Is,i).concat(e);return function(t){return n.map(function(e){return[e,t]})}}function yi(t){return t.source}function _i(t){return t.target}function xi(t,e,i,n){var r=Math.cos(e),o=Math.sin(e),s=Math.cos(n),a=Math.sin(n),l=r*Math.cos(t),h=r*Math.sin(t),u=s*Math.cos(i),c=s*Math.sin(i),d=2*Math.asin(Math.sqrt(ot(n-e)+r*s*ot(i-t))),p=1/Math.sin(d),f=d?function(t){var e=Math.sin(t*=d)*p,i=Math.sin(d-t)*p,n=i*l+e*u,r=i*h+e*c,s=i*o+e*a;return[Math.atan2(r,n)*Bs,Math.atan2(s,Math.sqrt(n*n+r*r))*Bs]}:function(){return[t*Bs,e*Bs]};return f.distance=d,f}function bi(){function t(t,r){var o=Math.sin(r*=zs),s=Math.cos(r),a=ys((t*=zs)-e),l=Math.cos(a);Ya+=Math.atan2(Math.sqrt((a=s*Math.sin(a))*a+(a=n*o-i*s*l)*a),i*o+n*s*l),e=t,i=o,n=s}var e,i,n;Xa.point=function(r,o){e=r*zs,i=Math.sin(o*=zs),n=Math.cos(o),Xa.point=t},Xa.lineEnd=function(){Xa.point=Xa.lineEnd=b}}function wi(t,e){function i(e,i){var n=Math.cos(e),r=Math.cos(i),o=t(n*r);return[o*r*Math.sin(e),o*Math.sin(i)]}return i.invert=function(t,i){var n=Math.sqrt(t*t+i*i),r=e(n),o=Math.sin(r),s=Math.cos(r);return[Math.atan2(t*o,n*s),Math.asin(n&&i*o/n)]},i}function ki(t,e){function i(t,e){s>0?-Fs+Is>e&&(e=-Fs+Is):e>Fs-Is&&(e=Fs-Is);var i=s/Math.pow(r(e),o);return[i*Math.sin(o*t),s-i*Math.cos(o*t)]}var n=Math.cos(t),r=function(t){return Math.tan(Os/4+t/2)},o=t===e?Math.sin(t):Math.log(n/Math.cos(e))/Math.log(r(e)/r(t)),s=n*Math.pow(r(t),o)/o;return o?(i.invert=function(t,e){var i=s-e,n=K(o)*Math.sqrt(t*t+i*i);return[Math.atan2(t,i)/o,2*Math.atan(Math.pow(s/n,1/o))-Fs]},i):Ti}function Ci(t,e){function i(t,e){var i=o-e;return[i*Math.sin(r*t),o-i*Math.cos(r*t)]}var n=Math.cos(t),r=t===e?Math.sin(t):(n-Math.cos(e))/(e-t),o=n/r+t;return ys(r)<Is?li:(i.invert=function(t,e){var i=o-e;return[Math.atan2(t,i)/r,o-K(r)*Math.sqrt(t*t+i*i)]},i)}function Ti(t,e){return[t,Math.log(Math.tan(Os/4+e/2))]}function Si(t){var e,i=oi(t),n=i.scale,r=i.translate,o=i.clipExtent;return i.scale=function(){var t=n.apply(i,arguments);return t===i?e?i.clipExtent(null):i:t},i.translate=function(){var t=r.apply(i,arguments);return t===i?e?i.clipExtent(null):i:t},i.clipExtent=function(t){var s=o.apply(i,arguments);if(s===i){if(e=null==t){var a=Os*n(),l=r();o([[l[0]-a,l[1]-a],[l[0]+a,l[1]+a]])}}else e&&(s=null);return s},i.clipExtent(null)}function Di(t,e){return[Math.log(Math.tan(Os/4+e/2)),-t]}function Mi(t){return t[0]}function Ai(t){return t[1]}function Pi(t){for(var e=t.length,i=[0,1],n=2,r=2;e>r;r++){for(;n>1&&Q(t[i[n-2]],t[i[n-1]],t[r])<=0;)--n;i[n++]=r}return i.slice(0,n)}function Li(t,e){return t[0]-e[0]||t[1]-e[1]}function Ei(t,e,i){return(i[0]-e[0])*(t[1]-e[1])<(i[1]-e[1])*(t[0]-e[0])}function qi(t,e,i,n){var r=t[0],o=i[0],s=e[0]-r,a=n[0]-o,l=t[1],h=i[1],u=e[1]-l,c=n[1]-h,d=(a*(l-h)-c*(r-o))/(c*s-a*u);return[r+d*s,l+d*u]}function Ii(t){var e=t[0],i=t[t.length-1];return!(e[0]-i[0]||e[1]-i[1])}function ji(){nn(this),this.edge=this.site=this.circle=null}function Oi(t){var e=rl.pop()||new ji;return e.site=t,e}function Ri(t){Gi(t),el.remove(t),rl.push(t),nn(t)}function Ni(t){var e=t.circle,i=e.x,n=e.cy,r={x:i,y:n},o=t.P,s=t.N,a=[t];Ri(t);for(var l=o;l.circle&&ys(i-l.circle.x)<Is&&ys(n-l.circle.cy)<Is;)o=l.P,a.unshift(l),Ri(l),l=o;a.unshift(l),Gi(l);for(var h=s;h.circle&&ys(i-h.circle.x)<Is&&ys(n-h.circle.cy)<Is;)s=h.N,a.push(h),Ri(h),h=s;a.push(h),Gi(h);var u,c=a.length;for(u=1;c>u;++u)h=a[u],l=a[u-1],Qi(h.edge,l.site,h.site,r);l=a[0],h=a[c-1],h.edge=Ji(l.site,h.site,null,r),Xi(l),Xi(h)}function Fi(t){for(var e,i,n,r,o=t.x,s=t.y,a=el._;a;)if((n=zi(a,s)-o)>Is)a=a.L;else{if(!((r=o-Bi(a,s))>Is)){n>-Is?(e=a.P,i=a):r>-Is?(e=a,i=a.N):e=i=a;break}if(!a.R){e=a;break}a=a.R}var l=Oi(t);if(el.insert(e,l),e||i){if(e===i)return Gi(e),i=Oi(e.site),el.insert(l,i),l.edge=i.edge=Ji(e.site,l.site),Xi(e),void Xi(i);if(!i)return void(l.edge=Ji(e.site,l.site));Gi(e),Gi(i);var h=e.site,u=h.x,c=h.y,d=t.x-u,p=t.y-c,f=i.site,g=f.x-u,m=f.y-c,v=2*(d*m-p*g),y=d*d+p*p,_=g*g+m*m,x={x:(m*y-p*_)/v+u,y:(d*_-g*y)/v+c};Qi(i.edge,h,f,x),l.edge=Ji(h,t,null,x),i.edge=Ji(t,f,null,x),Xi(e),Xi(i)}}function zi(t,e){var i=t.site,n=i.x,r=i.y,o=r-e;if(!o)return n;var s=t.P;if(!s)return-1/0;i=s.site;var a=i.x,l=i.y,h=l-e;if(!h)return a;var u=a-n,c=1/o-1/h,d=u/h;return c?(-d+Math.sqrt(d*d-2*c*(u*u/(-2*h)-l+h/2+r-o/2)))/c+n:(n+a)/2}function Bi(t,e){var i=t.N;if(i)return zi(i,e);var n=t.site;return n.y===e?n.x:1/0}function Hi(t){this.site=t,this.edges=[]}function Wi(t){for(var e,i,n,r,o,s,a,l,h,u,c=t[0][0],d=t[1][0],p=t[0][1],f=t[1][1],g=tl,m=g.length;m--;)if((o=g[m])&&o.prepare())for(a=o.edges,l=a.length,s=0;l>s;)u=a[s].end(),n=u.x,r=u.y,h=a[++s%l].start(),e=h.x,i=h.y,(ys(n-e)>Is||ys(r-i)>Is)&&(a.splice(s,0,new tn(Ki(o.site,u,ys(n-c)<Is&&f-r>Is?{x:c,y:ys(e-c)<Is?i:f}:ys(r-f)<Is&&d-n>Is?{x:ys(i-f)<Is?e:d,y:f}:ys(n-d)<Is&&r-p>Is?{x:d,y:ys(e-d)<Is?i:p}:ys(r-p)<Is&&n-c>Is?{x:ys(i-p)<Is?e:c,y:p}:null),o.site,null)),++l)}function Ui(t,e){return e.angle-t.angle}function Yi(){nn(this),this.x=this.y=this.arc=this.site=this.cy=null}function Xi(t){var e=t.P,i=t.N;if(e&&i){var n=e.site,r=t.site,o=i.site;if(n!==o){var s=r.x,a=r.y,l=n.x-s,h=n.y-a,u=o.x-s,c=o.y-a,d=2*(l*c-h*u);if(!(d>=-js)){var p=l*l+h*h,f=u*u+c*c,g=(c*p-h*f)/d,m=(l*f-u*p)/d,c=m+a,v=ol.pop()||new Yi;v.arc=t,v.site=r,v.x=g+s,v.y=c+Math.sqrt(g*g+m*m),v.cy=c,t.circle=v;for(var y=null,_=nl._;_;)if(v.y<_.y||v.y===_.y&&v.x<=_.x){if(!_.L){y=_.P;break}_=_.L}else{if(!_.R){y=_;break}_=_.R}nl.insert(y,v),y||(il=v)}}}}function Gi(t){var e=t.circle;e&&(e.P||(il=e.N),nl.remove(e),ol.push(e),nn(e),t.circle=null)}function Zi(t){for(var e,i=Qa,n=He(t[0][0],t[0][1],t[1][0],t[1][1]),r=i.length;r--;)e=i[r],
(!Vi(e,t)||!n(e)||ys(e.a.x-e.b.x)<Is&&ys(e.a.y-e.b.y)<Is)&&(e.a=e.b=null,i.splice(r,1))}function Vi(t,e){var i=t.b;if(i)return!0;var n,r,o=t.a,s=e[0][0],a=e[1][0],l=e[0][1],h=e[1][1],u=t.l,c=t.r,d=u.x,p=u.y,f=c.x,g=c.y,m=(d+f)/2,v=(p+g)/2;if(g===p){if(s>m||m>=a)return;if(d>f){if(o){if(o.y>=h)return}else o={x:m,y:l};i={x:m,y:h}}else{if(o){if(o.y<l)return}else o={x:m,y:h};i={x:m,y:l}}}else if(n=(d-f)/(g-p),r=v-n*m,-1>n||n>1)if(d>f){if(o){if(o.y>=h)return}else o={x:(l-r)/n,y:l};i={x:(h-r)/n,y:h}}else{if(o){if(o.y<l)return}else o={x:(h-r)/n,y:h};i={x:(l-r)/n,y:l}}else if(g>p){if(o){if(o.x>=a)return}else o={x:s,y:n*s+r};i={x:a,y:n*a+r}}else{if(o){if(o.x<s)return}else o={x:a,y:n*a+r};i={x:s,y:n*s+r}}return t.a=o,t.b=i,!0}function $i(t,e){this.l=t,this.r=e,this.a=this.b=null}function Ji(t,e,i,n){var r=new $i(t,e);return Qa.push(r),i&&Qi(r,t,e,i),n&&Qi(r,e,t,n),tl[t.i].edges.push(new tn(r,t,e)),tl[e.i].edges.push(new tn(r,e,t)),r}function Ki(t,e,i){var n=new $i(t,null);return n.a=e,n.b=i,Qa.push(n),n}function Qi(t,e,i,n){t.a||t.b?t.l===i?t.b=n:t.a=n:(t.a=n,t.l=e,t.r=i)}function tn(t,e,i){var n=t.a,r=t.b;this.edge=t,this.site=e,this.angle=i?Math.atan2(i.y-e.y,i.x-e.x):t.l===e?Math.atan2(r.x-n.x,n.y-r.y):Math.atan2(n.x-r.x,r.y-n.y)}function en(){this._=null}function nn(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function rn(t,e){var i=e,n=e.R,r=i.U;r?r.L===i?r.L=n:r.R=n:t._=n,n.U=r,i.U=n,i.R=n.L,i.R&&(i.R.U=i),n.L=i}function on(t,e){var i=e,n=e.L,r=i.U;r?r.L===i?r.L=n:r.R=n:t._=n,n.U=r,i.U=n,i.L=n.R,i.L&&(i.L.U=i),n.R=i}function sn(t){for(;t.L;)t=t.L;return t}function an(t,e){var i,n,r,o=t.sort(ln).pop();for(Qa=[],tl=new Array(t.length),el=new en,nl=new en;;)if(r=il,o&&(!r||o.y<r.y||o.y===r.y&&o.x<r.x))(o.x!==i||o.y!==n)&&(tl[o.i]=new Hi(o),Fi(o),i=o.x,n=o.y),o=t.pop();else{if(!r)break;Ni(r.arc)}e&&(Zi(e),Wi(e));var s={cells:tl,edges:Qa};return el=nl=Qa=tl=null,s}function ln(t,e){return e.y-t.y||e.x-t.x}function hn(t,e,i){return(t.x-i.x)*(e.y-t.y)-(t.x-e.x)*(i.y-t.y)}function un(t){return t.x}function cn(t){return t.y}function dn(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function pn(t,e,i,n,r,o){if(!t(e,i,n,r,o)){var s=.5*(i+r),a=.5*(n+o),l=e.nodes;l[0]&&pn(t,l[0],i,n,s,a),l[1]&&pn(t,l[1],s,n,r,a),l[2]&&pn(t,l[2],i,a,s,o),l[3]&&pn(t,l[3],s,a,r,o)}}function fn(t,e,i,n,r,o,s){var a,l=1/0;return function t(h,u,c,d,p){if(!(u>o||c>s||n>d||r>p)){if(f=h.point){var f,g=e-h.x,m=i-h.y,v=g*g+m*m;if(l>v){var y=Math.sqrt(l=v);n=e-y,r=i-y,o=e+y,s=i+y,a=f}}for(var _=h.nodes,x=.5*(u+d),b=.5*(c+p),w=e>=x,k=i>=b,C=k<<1|w,T=C+4;T>C;++C)if(h=_[3&C])switch(3&C){case 0:t(h,u,c,x,b);break;case 1:t(h,x,c,d,b);break;case 2:t(h,u,b,x,p);break;case 3:t(h,x,b,d,p)}}}(t,n,r,o,s),a}function gn(t,e){t=ls.rgb(t),e=ls.rgb(e);var i=t.r,n=t.g,r=t.b,o=e.r-i,s=e.g-n,a=e.b-r;return function(t){return"#"+xt(Math.round(i+o*t))+xt(Math.round(n+s*t))+xt(Math.round(r+a*t))}}function mn(t,e){var i,n={},r={};for(i in t)i in e?n[i]=_n(t[i],e[i]):r[i]=t[i];for(i in e)i in t||(r[i]=e[i]);return function(t){for(i in n)r[i]=n[i](t);return r}}function vn(t,e){return t=+t,e=+e,function(i){return t*(1-i)+e*i}}function yn(t,e){var i,n,r,o=al.lastIndex=ll.lastIndex=0,s=-1,a=[],l=[];for(t+="",e+="";(i=al.exec(t))&&(n=ll.exec(e));)(r=n.index)>o&&(r=e.slice(o,r),a[s]?a[s]+=r:a[++s]=r),(i=i[0])===(n=n[0])?a[s]?a[s]+=n:a[++s]=n:(a[++s]=null,l.push({i:s,x:vn(i,n)})),o=ll.lastIndex;return o<e.length&&(r=e.slice(o),a[s]?a[s]+=r:a[++s]=r),a.length<2?l[0]?(e=l[0].x,function(t){return e(t)+""}):function(){return e}:(e=l.length,function(t){for(var i,n=0;e>n;++n)a[(i=l[n]).i]=i.x(t);return a.join("")})}function _n(t,e){for(var i,n=ls.interpolators.length;--n>=0&&!(i=ls.interpolators[n](t,e)););return i}function xn(t,e){var i,n=[],r=[],o=t.length,s=e.length,a=Math.min(t.length,e.length);for(i=0;a>i;++i)n.push(_n(t[i],e[i]));for(;o>i;++i)r[i]=t[i];for(;s>i;++i)r[i]=e[i];return function(t){for(i=0;a>i;++i)r[i]=n[i](t);return r}}function bn(t){return function(e){return 0>=e?0:e>=1?1:t(e)}}function wn(t){return function(e){return 1-t(1-e)}}function kn(t){return function(e){return.5*(.5>e?t(2*e):2-t(2-2*e))}}function Cn(t){return t*t}function Tn(t){return t*t*t}function Sn(t){if(0>=t)return 0;if(t>=1)return 1;var e=t*t,i=e*t;return 4*(.5>t?i:3*(t-e)+i-.75)}function Dn(t){return function(e){return Math.pow(e,t)}}function Mn(t){return 1-Math.cos(t*Fs)}function An(t){return Math.pow(2,10*(t-1))}function Pn(t){return 1-Math.sqrt(1-t*t)}function Ln(t,e){var i;return arguments.length<2&&(e=.45),arguments.length?i=e/Rs*Math.asin(1/t):(t=1,i=e/4),function(n){return 1+t*Math.pow(2,-10*n)*Math.sin((n-i)*Rs/e)}}function En(t){return t||(t=1.70158),function(e){return e*e*((t+1)*e-t)}}function qn(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function In(t,e){t=ls.hcl(t),e=ls.hcl(e);var i=t.h,n=t.c,r=t.l,o=e.h-i,s=e.c-n,a=e.l-r;return isNaN(s)&&(s=0,n=isNaN(n)?e.c:n),isNaN(o)?(o=0,i=isNaN(i)?e.h:i):o>180?o-=360:-180>o&&(o+=360),function(t){return ut(i+o*t,n+s*t,r+a*t)+""}}function jn(t,e){t=ls.hsl(t),e=ls.hsl(e);var i=t.h,n=t.s,r=t.l,o=e.h-i,s=e.s-n,a=e.l-r;return isNaN(s)&&(s=0,n=isNaN(n)?e.s:n),isNaN(o)?(o=0,i=isNaN(i)?e.h:i):o>180?o-=360:-180>o&&(o+=360),function(t){return lt(i+o*t,n+s*t,r+a*t)+""}}function On(t,e){t=ls.lab(t),e=ls.lab(e);var i=t.l,n=t.a,r=t.b,o=e.l-i,s=e.a-n,a=e.b-r;return function(t){return dt(i+o*t,n+s*t,r+a*t)+""}}function Rn(t,e){return e-=t,function(i){return Math.round(t+e*i)}}function Nn(t){var e=[t.a,t.b],i=[t.c,t.d],n=zn(e),r=Fn(e,i),o=zn(Bn(i,e,-r))||0;e[0]*i[1]<i[0]*e[1]&&(e[0]*=-1,e[1]*=-1,n*=-1,r*=-1),this.rotate=(n?Math.atan2(e[1],e[0]):Math.atan2(-i[0],i[1]))*Bs,this.translate=[t.e,t.f],this.scale=[n,o],this.skew=o?Math.atan2(r,o)*Bs:0}function Fn(t,e){return t[0]*e[0]+t[1]*e[1]}function zn(t){var e=Math.sqrt(Fn(t,t));return e&&(t[0]/=e,t[1]/=e),e}function Bn(t,e,i){return t[0]+=i*e[0],t[1]+=i*e[1],t}function Hn(t){return t.length?t.pop()+",":""}function Wn(t,e,i,n){if(t[0]!==e[0]||t[1]!==e[1]){var r=i.push("translate(",null,",",null,")");n.push({i:r-4,x:vn(t[0],e[0])},{i:r-2,x:vn(t[1],e[1])})}else(e[0]||e[1])&&i.push("translate("+e+")")}function Un(t,e,i,n){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),n.push({i:i.push(Hn(i)+"rotate(",null,")")-2,x:vn(t,e)})):e&&i.push(Hn(i)+"rotate("+e+")")}function Yn(t,e,i,n){t!==e?n.push({i:i.push(Hn(i)+"skewX(",null,")")-2,x:vn(t,e)}):e&&i.push(Hn(i)+"skewX("+e+")")}function Xn(t,e,i,n){if(t[0]!==e[0]||t[1]!==e[1]){var r=i.push(Hn(i)+"scale(",null,",",null,")");n.push({i:r-4,x:vn(t[0],e[0])},{i:r-2,x:vn(t[1],e[1])})}else(1!==e[0]||1!==e[1])&&i.push(Hn(i)+"scale("+e+")")}function Gn(t,e){var i=[],n=[];return t=ls.transform(t),e=ls.transform(e),Wn(t.translate,e.translate,i,n),Un(t.rotate,e.rotate,i,n),Yn(t.skew,e.skew,i,n),Xn(t.scale,e.scale,i,n),t=e=null,function(t){for(var e,r=-1,o=n.length;++r<o;)i[(e=n[r]).i]=e.x(t);return i.join("")}}function Zn(t,e){return e=(e-=t=+t)||1/e,function(i){return(i-t)/e}}function Vn(t,e){return e=(e-=t=+t)||1/e,function(i){return Math.max(0,Math.min(1,(i-t)/e))}}function $n(t){for(var e=t.source,i=t.target,n=Kn(e,i),r=[e];e!==n;)e=e.parent,r.push(e);for(var o=r.length;i!==n;)r.splice(o,0,i),i=i.parent;return r}function Jn(t){for(var e=[],i=t.parent;null!=i;)e.push(t),t=i,i=i.parent;return e.push(t),e}function Kn(t,e){if(t===e)return t;for(var i=Jn(t),n=Jn(e),r=i.pop(),o=n.pop(),s=null;r===o;)s=r,r=i.pop(),o=n.pop();return s}function Qn(t){t.fixed|=2}function tr(t){t.fixed&=-7}function er(t){t.fixed|=4,t.px=t.x,t.py=t.y}function ir(t){t.fixed&=-5}function nr(t,e,i){var n=0,r=0;if(t.charge=0,!t.leaf)for(var o,s=t.nodes,a=s.length,l=-1;++l<a;)null!=(o=s[l])&&(nr(o,e,i),t.charge+=o.charge,n+=o.charge*o.cx,r+=o.charge*o.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var h=e*i[t.point.index];t.charge+=t.pointCharge=h,n+=h*t.point.x,r+=h*t.point.y}t.cx=n/t.charge,t.cy=r/t.charge}function rr(t,e){return ls.rebind(t,e,"sort","children","value"),t.nodes=t,t.links=ur,t}function or(t,e){for(var i=[t];null!=(t=i.pop());)if(e(t),(r=t.children)&&(n=r.length))for(var n,r;--n>=0;)i.push(r[n])}function sr(t,e){for(var i=[t],n=[];null!=(t=i.pop());)if(n.push(t),(o=t.children)&&(r=o.length))for(var r,o,s=-1;++s<r;)i.push(o[s]);for(;null!=(t=n.pop());)e(t)}function ar(t){return t.children}function lr(t){return t.value}function hr(t,e){return e.value-t.value}function ur(t){return ls.merge(t.map(function(t){return(t.children||[]).map(function(e){return{source:t,target:e}})}))}function cr(t){return t.x}function dr(t){return t.y}function pr(t,e,i){t.y0=e,t.y=i}function fr(t){return ls.range(t.length)}function gr(t){for(var e=-1,i=t[0].length,n=[];++e<i;)n[e]=0;return n}function mr(t){for(var e,i=1,n=0,r=t[0][1],o=t.length;o>i;++i)(e=t[i][1])>r&&(n=i,r=e);return n}function vr(t){return t.reduce(yr,0)}function yr(t,e){return t+e[1]}function _r(t,e){return xr(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function xr(t,e){for(var i=-1,n=+t[0],r=(t[1]-n)/e,o=[];++i<=e;)o[i]=r*i+n;return o}function br(t){return[ls.min(t),ls.max(t)]}function wr(t,e){return t.value-e.value}function kr(t,e){var i=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=i,i._pack_prev=e}function Cr(t,e){t._pack_next=e,e._pack_prev=t}function Tr(t,e){var i=e.x-t.x,n=e.y-t.y,r=t.r+e.r;return.999*r*r>i*i+n*n}function Sr(t){function e(t){u=Math.min(t.x-t.r,u),c=Math.max(t.x+t.r,c),d=Math.min(t.y-t.r,d),p=Math.max(t.y+t.r,p)}if((i=t.children)&&(h=i.length)){var i,n,r,o,s,a,l,h,u=1/0,c=-1/0,d=1/0,p=-1/0;if(i.forEach(Dr),n=i[0],n.x=-n.r,n.y=0,e(n),h>1&&(r=i[1],r.x=r.r,r.y=0,e(r),h>2))for(o=i[2],Pr(n,r,o),e(o),kr(n,o),n._pack_prev=o,kr(o,r),r=n._pack_next,s=3;h>s;s++){Pr(n,r,o=i[s]);var f=0,g=1,m=1;for(a=r._pack_next;a!==r;a=a._pack_next,g++)if(Tr(a,o)){f=1;break}if(1==f)for(l=n._pack_prev;l!==a._pack_prev&&!Tr(l,o);l=l._pack_prev,m++);f?(m>g||g==m&&r.r<n.r?Cr(n,r=a):Cr(n=l,r),s--):(kr(n,o),r=o,e(o))}var v=(u+c)/2,y=(d+p)/2,_=0;for(s=0;h>s;s++)o=i[s],o.x-=v,o.y-=y,_=Math.max(_,o.r+Math.sqrt(o.x*o.x+o.y*o.y));t.r=_,i.forEach(Mr)}}function Dr(t){t._pack_next=t._pack_prev=t}function Mr(t){delete t._pack_next,delete t._pack_prev}function Ar(t,e,i,n){var r=t.children;if(t.x=e+=n*t.x,t.y=i+=n*t.y,t.r*=n,r)for(var o=-1,s=r.length;++o<s;)Ar(r[o],e,i,n)}function Pr(t,e,i){var n=t.r+i.r,r=e.x-t.x,o=e.y-t.y;if(n&&(r||o)){var s=e.r+i.r,a=r*r+o*o;s*=s,n*=n;var l=.5+(n-s)/(2*a),h=Math.sqrt(Math.max(0,2*s*(n+a)-(n-=a)*n-s*s))/(2*a);i.x=t.x+l*r+h*o,i.y=t.y+l*o-h*r}else i.x=t.x+n,i.y=t.y}function Lr(t,e){return t.parent==e.parent?1:2}function Er(t){var e=t.children;return e.length?e[0]:t.t}function qr(t){var e,i=t.children;return(e=i.length)?i[e-1]:t.t}function Ir(t,e,i){var n=i/(e.i-t.i);e.c-=n,e.s+=i,t.c+=n,e.z+=i,e.m+=i}function jr(t){for(var e,i=0,n=0,r=t.children,o=r.length;--o>=0;)e=r[o],e.z+=i,e.m+=i,i+=e.s+(n+=e.c)}function Or(t,e,i){return t.a.parent===e.parent?t.a:i}function Rr(t){return 1+ls.max(t,function(t){return t.y})}function Nr(t){return t.reduce(function(t,e){return t+e.x},0)/t.length}function Fr(t){var e=t.children;return e&&e.length?Fr(e[0]):t}function zr(t){var e,i=t.children;return i&&(e=i.length)?zr(i[e-1]):t}function Br(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function Hr(t,e){var i=t.x+e[3],n=t.y+e[0],r=t.dx-e[1]-e[3],o=t.dy-e[0]-e[2];return 0>r&&(i+=r/2,r=0),0>o&&(n+=o/2,o=0),{x:i,y:n,dx:r,dy:o}}function Wr(t){var e=t[0],i=t[t.length-1];return i>e?[e,i]:[i,e]}function Ur(t){return t.rangeExtent?t.rangeExtent():Wr(t.range())}function Yr(t,e,i,n){var r=i(t[0],t[1]),o=n(e[0],e[1]);return function(t){return o(r(t))}}function Xr(t,e){var i,n=0,r=t.length-1,o=t[n],s=t[r];return o>s&&(i=n,n=r,r=i,i=o,o=s,s=i),t[n]=e.floor(o),t[r]=e.ceil(s),t}function Gr(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:_l}function Zr(t,e,i,n){var r=[],o=[],s=0,a=Math.min(t.length,e.length)-1;for(t[a]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<=a;)r.push(i(t[s-1],t[s])),o.push(n(e[s-1],e[s]));return function(e){var i=ls.bisect(t,e,1,a)-1;return o[i](r[i](e))}}function Vr(t,e,i,n){function r(){var r=Math.min(t.length,e.length)>2?Zr:Yr,l=n?Vn:Zn;return s=r(t,e,l,i),a=r(e,t,l,_n),o}function o(t){return s(t)}var s,a;return o.invert=function(t){return a(t)},o.domain=function(e){return arguments.length?(t=e.map(Number),r()):t},o.range=function(t){return arguments.length?(e=t,r()):e},o.rangeRound=function(t){return o.range(t).interpolate(Rn)},o.clamp=function(t){return arguments.length?(n=t,r()):n},o.interpolate=function(t){return arguments.length?(i=t,r()):i},o.ticks=function(e){return Qr(t,e)},o.tickFormat=function(e,i){return to(t,e,i)},o.nice=function(e){return Jr(t,e),r()},o.copy=function(){return Vr(t,e,i,n)},r()}function $r(t,e){return ls.rebind(t,e,"range","rangeRound","interpolate","clamp")}function Jr(t,e){return Xr(t,Gr(Kr(t,e)[2])),Xr(t,Gr(Kr(t,e)[2])),t}function Kr(t,e){null==e&&(e=10);var i=Wr(t),n=i[1]-i[0],r=Math.pow(10,Math.floor(Math.log(n/e)/Math.LN10)),o=e/n*r;return.15>=o?r*=10:.35>=o?r*=5:.75>=o&&(r*=2),i[0]=Math.ceil(i[0]/r)*r,i[1]=Math.floor(i[1]/r)*r+.5*r,i[2]=r,i}function Qr(t,e){return ls.range.apply(ls,Kr(t,e))}function to(t,e,i){var n=Kr(t,e);if(i){var r=aa.exec(i);if(r.shift(),"s"===r[8]){var o=ls.formatPrefix(Math.max(ys(n[0]),ys(n[1])));return r[7]||(r[7]="."+eo(o.scale(n[2]))),r[8]="f",i=ls.format(r.join("")),function(t){return i(o.scale(t))+o.symbol}}r[7]||(r[7]="."+io(r[8],n)),i=r.join("")}else i=",."+eo(n[2])+"f";return ls.format(i)}function eo(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}function io(t,e){var i=eo(e[2]);return t in xl?Math.abs(i-eo(Math.max(ys(e[0]),ys(e[1]))))+ +("e"!==t):i-2*("%"===t)}function no(t,e,i,n){function r(t){return(i?Math.log(0>t?0:t):-Math.log(t>0?0:-t))/Math.log(e)}function o(t){return i?Math.pow(e,t):-Math.pow(e,-t)}function s(e){return t(r(e))}return s.invert=function(e){return o(t.invert(e))},s.domain=function(e){return arguments.length?(i=e[0]>=0,t.domain((n=e.map(Number)).map(r)),s):n},s.base=function(i){return arguments.length?(e=+i,t.domain(n.map(r)),s):e},s.nice=function(){var e=Xr(n.map(r),i?Math:wl);return t.domain(e),n=e.map(o),s},s.ticks=function(){var t=Wr(n),s=[],a=t[0],l=t[1],h=Math.floor(r(a)),u=Math.ceil(r(l)),c=e%1?2:e;if(isFinite(u-h)){if(i){for(;u>h;h++)for(var d=1;c>d;d++)s.push(o(h)*d);s.push(o(h))}else for(s.push(o(h));h++<u;)for(var d=c-1;d>0;d--)s.push(o(h)*d);for(h=0;s[h]<a;h++);for(u=s.length;s[u-1]>l;u--);s=s.slice(h,u)}return s},s.tickFormat=function(t,i){if(!arguments.length)return bl;arguments.length<2?i=bl:"function"!=typeof i&&(i=ls.format(i));var n=Math.max(1,e*t/s.ticks().length);return function(t){var s=t/o(Math.round(r(t)));return e-.5>s*e&&(s*=e),n>=s?i(t):""}},s.copy=function(){return no(t.copy(),e,i,n)},$r(s,t)}function ro(t,e,i){function n(e){return t(r(e))}var r=oo(e),o=oo(1/e);return n.invert=function(e){return o(t.invert(e))},n.domain=function(e){return arguments.length?(t.domain((i=e.map(Number)).map(r)),n):i},n.ticks=function(t){return Qr(i,t)},n.tickFormat=function(t,e){return to(i,t,e)},n.nice=function(t){return n.domain(Jr(i,t))},n.exponent=function(s){return arguments.length?(r=oo(e=s),o=oo(1/e),t.domain(i.map(r)),n):e},n.copy=function(){return ro(t.copy(),e,i)},$r(n,t)}function oo(t){return function(e){return 0>e?-Math.pow(-e,t):Math.pow(e,t)}}function so(t,e){function i(i){return o[((r.get(i)||("range"===e.t?r.set(i,t.push(i)):NaN))-1)%o.length]}function n(e,i){return ls.range(t.length).map(function(t){return e+i*t})}var r,o,s;return i.domain=function(n){if(!arguments.length)return t;t=[],r=new h;for(var o,s=-1,a=n.length;++s<a;)r.has(o=n[s])||r.set(o,t.push(o));return i[e.t].apply(i,e.a)},i.range=function(t){return arguments.length?(o=t,s=0,e={t:"range",a:arguments},i):o},i.rangePoints=function(r,a){arguments.length<2&&(a=0);var l=r[0],h=r[1],u=t.length<2?(l=(l+h)/2,0):(h-l)/(t.length-1+a);return o=n(l+u*a/2,u),s=0,e={t:"rangePoints",a:arguments},i},i.rangeRoundPoints=function(r,a){arguments.length<2&&(a=0);var l=r[0],h=r[1],u=t.length<2?(l=h=Math.round((l+h)/2),0):(h-l)/(t.length-1+a)|0;return o=n(l+Math.round(u*a/2+(h-l-(t.length-1+a)*u)/2),u),s=0,e={t:"rangeRoundPoints",a:arguments},i},i.rangeBands=function(r,a,l){arguments.length<2&&(a=0),arguments.length<3&&(l=a);var h=r[1]<r[0],u=r[h-0],c=r[1-h],d=(c-u)/(t.length-a+2*l);return o=n(u+d*l,d),h&&o.reverse(),s=d*(1-a),e={t:"rangeBands",a:arguments},i},i.rangeRoundBands=function(r,a,l){arguments.length<2&&(a=0),arguments.length<3&&(l=a);var h=r[1]<r[0],u=r[h-0],c=r[1-h],d=Math.floor((c-u)/(t.length-a+2*l));return o=n(u+Math.round((c-u-(t.length-a)*d)/2),d),h&&o.reverse(),s=Math.round(d*(1-a)),e={t:"rangeRoundBands",a:arguments},i},i.rangeBand=function(){return s},i.rangeExtent=function(){return Wr(e.a[0])},i.copy=function(){return so(t,e)},i.domain(t)}function ao(t,e){function o(){var i=0,n=e.length;for(a=[];++i<n;)a[i-1]=ls.quantile(t,i/n);return s}function s(t){return isNaN(t=+t)?void 0:e[ls.bisect(a,t)]}var a;return s.domain=function(e){return arguments.length?(t=e.map(n).filter(r).sort(i),o()):t},s.range=function(t){return arguments.length?(e=t,o()):e},s.quantiles=function(){return a},s.invertExtent=function(i){return i=e.indexOf(i),0>i?[NaN,NaN]:[i>0?a[i-1]:t[0],i<a.length?a[i]:t[t.length-1]]},s.copy=function(){return ao(t,e)},o()}function lo(t,e,i){function n(e){return i[Math.max(0,Math.min(s,Math.floor(o*(e-t))))]}function r(){return o=i.length/(e-t),s=i.length-1,n}var o,s;return n.domain=function(i){return arguments.length?(t=+i[0],e=+i[i.length-1],r()):[t,e]},n.range=function(t){return arguments.length?(i=t,r()):i},n.invertExtent=function(e){return e=i.indexOf(e),e=0>e?NaN:e/o+t,[e,e+1/o]},n.copy=function(){return lo(t,e,i)},r()}function ho(t,e){function i(i){return i>=i?e[ls.bisect(t,i)]:void 0}return i.domain=function(e){return arguments.length?(t=e,i):t},i.range=function(t){return arguments.length?(e=t,i):e},i.invertExtent=function(i){return i=e.indexOf(i),[t[i-1],t[i]]},i.copy=function(){return ho(t,e)},i}function uo(t){function e(t){return+t}return e.invert=e,e.domain=e.range=function(i){return arguments.length?(t=i.map(e),e):t},e.ticks=function(e){return Qr(t,e)},e.tickFormat=function(e,i){return to(t,e,i)},e.copy=function(){return uo(t)},e}function co(){return 0}function po(t){return t.innerRadius}function fo(t){return t.outerRadius}function go(t){return t.startAngle}function mo(t){return t.endAngle}function vo(t){return t&&t.padAngle}function yo(t,e,i,n){return(t-i)*e-(e-n)*t>0?0:1}function _o(t,e,i,n,r){var o=t[0]-e[0],s=t[1]-e[1],a=(r?n:-n)/Math.sqrt(o*o+s*s),l=a*s,h=-a*o,u=t[0]+l,c=t[1]+h,d=e[0]+l,p=e[1]+h,f=(u+d)/2,g=(c+p)/2,m=d-u,v=p-c,y=m*m+v*v,_=i-n,x=u*p-d*c,b=(0>v?-1:1)*Math.sqrt(Math.max(0,_*_*y-x*x)),w=(x*v-m*b)/y,k=(-x*m-v*b)/y,C=(x*v+m*b)/y,T=(-x*m+v*b)/y,S=w-f,D=k-g,M=C-f,A=T-g;return S*S+D*D>M*M+A*A&&(w=C,k=T),[[w-l,k-h],[w*i/_,k*i/_]]}function xo(t){function e(e){function s(){h.push("M",o(t(u),a))}for(var l,h=[],u=[],c=-1,d=e.length,p=St(i),f=St(n);++c<d;)r.call(this,l=e[c],c)?u.push([+p.call(this,l,c),+f.call(this,l,c)]):u.length&&(s(),u=[]);return u.length&&s(),h.length?h.join(""):null}var i=Mi,n=Ai,r=Ae,o=bo,s=o.key,a=.7;return e.x=function(t){return arguments.length?(i=t,e):i},e.y=function(t){return arguments.length?(n=t,e):n},e.defined=function(t){return arguments.length?(r=t,e):r},e.interpolate=function(t){return arguments.length?(s="function"==typeof t?o=t:(o=Ml.get(t)||bo).key,e):s},e.tension=function(t){return arguments.length?(a=t,e):a},e}function bo(t){return t.length>1?t.join("L"):t+"Z"}function wo(t){return t.join("L")+"Z"}function ko(t){for(var e=0,i=t.length,n=t[0],r=[n[0],",",n[1]];++e<i;)r.push("H",(n[0]+(n=t[e])[0])/2,"V",n[1]);return i>1&&r.push("H",n[0]),r.join("")}function Co(t){for(var e=0,i=t.length,n=t[0],r=[n[0],",",n[1]];++e<i;)r.push("V",(n=t[e])[1],"H",n[0]);return r.join("")}function To(t){for(var e=0,i=t.length,n=t[0],r=[n[0],",",n[1]];++e<i;)r.push("H",(n=t[e])[0],"V",n[1]);return r.join("")}function So(t,e){return t.length<4?bo(t):t[1]+Ao(t.slice(1,-1),Po(t,e))}function Do(t,e){return t.length<3?wo(t):t[0]+Ao((t.push(t[0]),t),Po([t[t.length-2]].concat(t,[t[1]]),e))}function Mo(t,e){return t.length<3?bo(t):t[0]+Ao(t,Po(t,e))}function Ao(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return bo(t);var i=t.length!=e.length,n="",r=t[0],o=t[1],s=e[0],a=s,l=1;if(i&&(n+="Q"+(o[0]-2*s[0]/3)+","+(o[1]-2*s[1]/3)+","+o[0]+","+o[1],r=t[1],l=2),e.length>1){a=e[1],o=t[l],l++,n+="C"+(r[0]+s[0])+","+(r[1]+s[1])+","+(o[0]-a[0])+","+(o[1]-a[1])+","+o[0]+","+o[1];for(var h=2;h<e.length;h++,l++)o=t[l],a=e[h],n+="S"+(o[0]-a[0])+","+(o[1]-a[1])+","+o[0]+","+o[1]}if(i){var u=t[l];n+="Q"+(o[0]+2*a[0]/3)+","+(o[1]+2*a[1]/3)+","+u[0]+","+u[1]}return n}function Po(t,e){for(var i,n=[],r=(1-e)/2,o=t[0],s=t[1],a=1,l=t.length;++a<l;)i=o,o=s,s=t[a],n.push([r*(s[0]-i[0]),r*(s[1]-i[1])]);return n}function Lo(t){if(t.length<3)return bo(t);var e=1,i=t.length,n=t[0],r=n[0],o=n[1],s=[r,r,r,(n=t[1])[0]],a=[o,o,o,n[1]],l=[r,",",o,"L",jo(Ll,s),",",jo(Ll,a)];for(t.push(t[i-1]);++e<=i;)n=t[e],s.shift(),s.push(n[0]),a.shift(),a.push(n[1]),Oo(l,s,a);return t.pop(),l.push("L",n),l.join("")}function Eo(t){if(t.length<4)return bo(t);for(var e,i=[],n=-1,r=t.length,o=[0],s=[0];++n<3;)e=t[n],o.push(e[0]),s.push(e[1]);for(i.push(jo(Ll,o)+","+jo(Ll,s)),--n;++n<r;)e=t[n],o.shift(),o.push(e[0]),s.shift(),s.push(e[1]),Oo(i,o,s);return i.join("")}function qo(t){for(var e,i,n=-1,r=t.length,o=r+4,s=[],a=[];++n<4;)i=t[n%r],s.push(i[0]),a.push(i[1]);for(e=[jo(Ll,s),",",jo(Ll,a)],--n;++n<o;)i=t[n%r],s.shift(),s.push(i[0]),a.shift(),a.push(i[1]),Oo(e,s,a);return e.join("")}function Io(t,e){var i=t.length-1;if(i)for(var n,r,o=t[0][0],s=t[0][1],a=t[i][0]-o,l=t[i][1]-s,h=-1;++h<=i;)n=t[h],r=h/i,n[0]=e*n[0]+(1-e)*(o+r*a),n[1]=e*n[1]+(1-e)*(s+r*l);return Lo(t)}function jo(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function Oo(t,e,i){t.push("C",jo(Al,e),",",jo(Al,i),",",jo(Pl,e),",",jo(Pl,i),",",jo(Ll,e),",",jo(Ll,i))}function Ro(t,e){return(e[1]-t[1])/(e[0]-t[0])}function No(t){for(var e=0,i=t.length-1,n=[],r=t[0],o=t[1],s=n[0]=Ro(r,o);++e<i;)n[e]=(s+(s=Ro(r=o,o=t[e+1])))/2;return n[e]=s,n}function Fo(t){for(var e,i,n,r,o=[],s=No(t),a=-1,l=t.length-1;++a<l;)e=Ro(t[a],t[a+1]),ys(e)<Is?s[a]=s[a+1]=0:(i=s[a]/e,n=s[a+1]/e,(r=i*i+n*n)>9&&(r=3*e/Math.sqrt(r),s[a]=r*i,s[a+1]=r*n));for(a=-1;++a<=l;)r=(t[Math.min(l,a+1)][0]-t[Math.max(0,a-1)][0])/(6*(1+s[a]*s[a])),o.push([r||0,s[a]*r||0]);return o}function zo(t){return t.length<3?bo(t):t[0]+Ao(t,Fo(t))}function Bo(t){for(var e,i,n,r=-1,o=t.length;++r<o;)e=t[r],i=e[0],n=e[1]-Fs,e[0]=i*Math.cos(n),e[1]=i*Math.sin(n);return t}function Ho(t){function e(e){function l(){g.push("M",a(t(v),c),u,h(t(m.reverse()),c),"Z")}for(var d,p,f,g=[],m=[],v=[],y=-1,_=e.length,x=St(i),b=St(r),w=i===n?function(){return p}:St(n),k=r===o?function(){return f}:St(o);++y<_;)s.call(this,d=e[y],y)?(m.push([p=+x.call(this,d,y),f=+b.call(this,d,y)]),v.push([+w.call(this,d,y),+k.call(this,d,y)])):m.length&&(l(),m=[],v=[]);return m.length&&l(),g.length?g.join(""):null}var i=Mi,n=Mi,r=0,o=Ai,s=Ae,a=bo,l=a.key,h=a,u="L",c=.7;return e.x=function(t){return arguments.length?(i=n=t,e):n},e.x0=function(t){return arguments.length?(i=t,e):i},e.x1=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(r=o=t,e):o},e.y0=function(t){return arguments.length?(r=t,e):r},e.y1=function(t){return arguments.length?(o=t,e):o},e.defined=function(t){return arguments.length?(s=t,e):s},e.interpolate=function(t){return arguments.length?(l="function"==typeof t?a=t:(a=Ml.get(t)||bo).key,h=a.reverse||a,u=a.closed?"M":"L",e):l},e.tension=function(t){return arguments.length?(c=t,e):c},e}function Wo(t){return t.radius}function Uo(t){return[t.x,t.y]}function Yo(t){return function(){var e=t.apply(this,arguments),i=e[0],n=e[1]-Fs;return[i*Math.cos(n),i*Math.sin(n)]}}function Xo(){return 64}function Go(){return"circle"}function Zo(t){var e=Math.sqrt(t/Os);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}function Vo(t){return function(){var e,i,n;(e=this[t])&&(n=e[i=e.active])&&(n.timer.c=null,n.timer.t=NaN,--e.count?delete e[i]:delete this[t],e.active+=.5,n.event&&n.event.interrupt.call(this,this.__data__,n.index))}}function $o(t,e,i){return ks(t,Nl),t.namespace=e,t.id=i,t}function Jo(t,e,i,n){var r=t.id,o=t.namespace;return W(t,"function"==typeof i?function(t,s,a){t[o][r].tween.set(e,n(i.call(t,t.__data__,s,a)))}:(i=n(i),function(t){t[o][r].tween.set(e,i)}))}function Ko(t){return null==t&&(t=""),function(){this.textContent=t}}function Qo(t){return null==t?"__transition__":"__transition_"+t+"__"}function ts(t,e,i,n,r){function o(t){var e=g.delay;return u.t=e+l,t>=e?s(t-e):void(u.c=s)}function s(i){var r=f.active,o=f[r];o&&(o.timer.c=null,o.timer.t=NaN,--f.count,delete f[r],o.event&&o.event.interrupt.call(t,t.__data__,o.index));for(var s in f)if(n>+s){var h=f[s];h.timer.c=null,h.timer.t=NaN,--f.count,delete f[s]}u.c=a,Lt(function(){return u.c&&a(i||1)&&(u.c=null,u.t=NaN),1},0,l),f.active=n,g.event&&g.event.start.call(t,t.__data__,e),p=[],g.tween.forEach(function(i,n){(n=n.call(t,t.__data__,e))&&p.push(n)}),d=g.ease,c=g.duration}function a(r){for(var o=r/c,s=d(o),a=p.length;a>0;)p[--a].call(t,s);return o>=1?(g.event&&g.event.end.call(t,t.__data__,e),--f.count?delete f[n]:delete t[i],1):void 0}var l,u,c,d,p,f=t[i]||(t[i]={active:0,count:0}),g=f[n];g||(l=r.time,u=Lt(o,0,l),g=f[n]={tween:new h,time:l,timer:u,delay:r.delay,duration:r.duration,ease:r.ease,index:e},r=null,++f.count)}function es(t,e,i){t.attr("transform",function(t){var n=e(t);return"translate("+(isFinite(n)?n:i(t))+",0)"})}function is(t,e,i){t.attr("transform",function(t){var n=e(t);return"translate(0,"+(isFinite(n)?n:i(t))+")"})}function ns(t){return t.toISOString()}function rs(t,e,i){function n(e){return t(e)}function r(t,i){var n=t[1]-t[0],r=n/i,o=ls.bisect(Gl,r);return o==Gl.length?[e.year,Kr(t.map(function(t){return t/31536e6}),i)[2]]:o?e[r/Gl[o-1]<Gl[o]/r?o-1:o]:[$l,Kr(t,i)[2]]}return n.invert=function(e){return os(t.invert(e))},n.domain=function(e){return arguments.length?(t.domain(e),n):t.domain().map(os)},n.nice=function(t,e){function i(i){return!isNaN(i)&&!t.range(i,os(+i+1),e).length}var o=n.domain(),s=Wr(o),a=null==t?r(s,10):"number"==typeof t&&r(s,t);return a&&(t=a[0],e=a[1]),n.domain(Xr(o,e>1?{floor:function(e){for(;i(e=t.floor(e));)e=os(e-1);return e},ceil:function(e){for(;i(e=t.ceil(e));)e=os(+e+1);return e}}:t))},n.ticks=function(t,e){var i=Wr(n.domain()),o=null==t?r(i,10):"number"==typeof t?r(i,t):!t.range&&[{range:t},e];return o&&(t=o[0],e=o[1]),t.range(i[0],os(+i[1]+1),1>e?1:e)},n.tickFormat=function(){return i},n.copy=function(){return rs(t.copy(),e,i)},$r(n,t)}function os(t){return new Date(t)}function ss(t){return JSON.parse(t.responseText)}function as(t){var e=cs.createRange();return e.selectNode(cs.body),e.createContextualFragment(t.responseText)}var ls={version:"3.5.13"},hs=[].slice,us=function(t){return hs.call(t)},cs=this.document;if(cs)try{us(cs.documentElement.childNodes)[0].nodeType}catch(t){us=function(t){for(var e=t.length,i=new Array(e);e--;)i[e]=t[e];return i}}if(Date.now||(Date.now=function(){return+new Date}),cs)try{cs.createElement("DIV").style.setProperty("opacity",0,"")}catch(t){var ds=this.Element.prototype,ps=ds.setAttribute,fs=ds.setAttributeNS,gs=this.CSSStyleDeclaration.prototype,ms=gs.setProperty;ds.setAttribute=function(t,e){ps.call(this,t,e+"")},ds.setAttributeNS=function(t,e,i){fs.call(this,t,e,i+"")},gs.setProperty=function(t,e,i){ms.call(this,t,e+"",i)}}ls.ascending=i,ls.descending=function(t,e){return t>e?-1:e>t?1:e>=t?0:NaN},ls.min=function(t,e){var i,n,r=-1,o=t.length;if(1===arguments.length){for(;++r<o;)if(null!=(n=t[r])&&n>=n){i=n;break}for(;++r<o;)null!=(n=t[r])&&i>n&&(i=n)}else{for(;++r<o;)if(null!=(n=e.call(t,t[r],r))&&n>=n){i=n;break}for(;++r<o;)null!=(n=e.call(t,t[r],r))&&i>n&&(i=n)}return i},ls.max=function(t,e){var i,n,r=-1,o=t.length;if(1===arguments.length){for(;++r<o;)if(null!=(n=t[r])&&n>=n){i=n;break}for(;++r<o;)null!=(n=t[r])&&n>i&&(i=n)}else{for(;++r<o;)if(null!=(n=e.call(t,t[r],r))&&n>=n){i=n;break}for(;++r<o;)null!=(n=e.call(t,t[r],r))&&n>i&&(i=n)}return i},ls.extent=function(t,e){var i,n,r,o=-1,s=t.length;if(1===arguments.length){for(;++o<s;)if(null!=(n=t[o])&&n>=n){i=r=n;break}for(;++o<s;)null!=(n=t[o])&&(i>n&&(i=n),n>r&&(r=n))}else{for(;++o<s;)if(null!=(n=e.call(t,t[o],o))&&n>=n){i=r=n;break}for(;++o<s;)null!=(n=e.call(t,t[o],o))&&(i>n&&(i=n),n>r&&(r=n))}return[i,r]},ls.sum=function(t,e){var i,n=0,o=t.length,s=-1;if(1===arguments.length)for(;++s<o;)r(i=+t[s])&&(n+=i);else for(;++s<o;)r(i=+e.call(t,t[s],s))&&(n+=i);return n},ls.mean=function(t,e){var i,o=0,s=t.length,a=-1,l=s;if(1===arguments.length)for(;++a<s;)r(i=n(t[a]))?o+=i:--l;else for(;++a<s;)r(i=n(e.call(t,t[a],a)))?o+=i:--l;return l?o/l:void 0},ls.quantile=function(t,e){var i=(t.length-1)*e+1,n=Math.floor(i),r=+t[n-1],o=i-n;return o?r+o*(t[n]-r):r},ls.median=function(t,e){var o,s=[],a=t.length,l=-1;if(1===arguments.length)for(;++l<a;)r(o=n(t[l]))&&s.push(o);else for(;++l<a;)r(o=n(e.call(t,t[l],l)))&&s.push(o);return s.length?ls.quantile(s.sort(i),.5):void 0},ls.variance=function(t,e){var i,o,s=t.length,a=0,l=0,h=-1,u=0;if(1===arguments.length)for(;++h<s;)r(i=n(t[h]))&&(o=i-a,a+=o/++u,l+=o*(i-a));else for(;++h<s;)r(i=n(e.call(t,t[h],h)))&&(o=i-a,a+=o/++u,l+=o*(i-a));return u>1?l/(u-1):void 0},ls.deviation=function(){var t=ls.variance.apply(this,arguments);return t?Math.sqrt(t):t};var vs=o(i);ls.bisectLeft=vs.left,ls.bisect=ls.bisectRight=vs.right,ls.bisector=function(t){return o(1===t.length?function(e,n){return i(t(e),n)}:t)},ls.shuffle=function(t,e,i){(o=arguments.length)<3&&(i=t.length,2>o&&(e=0));for(var n,r,o=i-e;o;)r=Math.random()*o--|0,n=t[o+e],t[o+e]=t[r+e],t[r+e]=n;return t},ls.permute=function(t,e){for(var i=e.length,n=new Array(i);i--;)n[i]=t[e[i]];return n},ls.pairs=function(t){for(var e=0,i=t.length-1,n=t[0],r=new Array(0>i?0:i);i>e;)r[e]=[n,n=t[++e]];return r},ls.zip=function(){if(!(n=arguments.length))return[];for(var t=-1,e=ls.min(arguments,s),i=new Array(e);++t<e;)for(var n,r=-1,o=i[t]=new Array(n);++r<n;)o[r]=arguments[r][t];return i},ls.transpose=function(t){return ls.zip.apply(ls,t)},ls.keys=function(t){var e=[];for(var i in t)e.push(i);return e},ls.values=function(t){var e=[];for(var i in t)e.push(t[i]);return e},ls.entries=function(t){var e=[];for(var i in t)e.push({key:i,value:t[i]});return e},ls.merge=function(t){for(var e,i,n,r=t.length,o=-1,s=0;++o<r;)s+=t[o].length;for(i=new Array(s);--r>=0;)for(n=t[r],e=n.length;--e>=0;)i[--s]=n[e];return i};var ys=Math.abs;ls.range=function(t,e,i){if(arguments.length<3&&(i=1,arguments.length<2&&(e=t,t=0)),(e-t)/i==1/0)throw new Error("infinite range");var n,r=[],o=a(ys(i)),s=-1;if(t*=o,e*=o,0>(i*=o))for(;(n=t+i*++s)>e;)r.push(n/o);else for(;(n=t+i*++s)<e;)r.push(n/o);return r},ls.map=function(t,e){var i=new h;if(t instanceof h)t.forEach(function(t,e){i.set(t,e)});else if(Array.isArray(t)){var n,r=-1,o=t.length;if(1===arguments.length)for(;++r<o;)i.set(r,t[r]);else for(;++r<o;)i.set(e.call(t,n=t[r],r),n)}else for(var s in t)i.set(s,t[s]);return i};var _s="__proto__",xs="\0";l(h,{has:d,get:function(t){return this._[u(t)]},set:function(t,e){return this._[u(t)]=e},remove:p,keys:f,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:c(e),value:this._[e]});return t},size:g,empty:m,forEach:function(t){for(var e in this._)t.call(this,c(e),this._[e])}}),ls.nest=function(){function t(e,s,a){if(a>=o.length)return n?n.call(r,s):i?s.sort(i):s;for(var l,u,c,d,p=-1,f=s.length,g=o[a++],m=new h;++p<f;)(d=m.get(l=g(u=s[p])))?d.push(u):m.set(l,[u]);return e?(u=e(),c=function(i,n){u.set(i,t(e,n,a))}):(u={},c=function(i,n){u[i]=t(e,n,a)}),m.forEach(c),u}function e(t,i){if(i>=o.length)return t;var n=[],r=s[i++];return t.forEach(function(t,r){
n.push({key:t,values:e(r,i)})}),r?n.sort(function(t,e){return r(t.key,e.key)}):n}var i,n,r={},o=[],s=[];return r.map=function(e,i){return t(i,e,0)},r.entries=function(i){return e(t(ls.map,i,0),0)},r.key=function(t){return o.push(t),r},r.sortKeys=function(t){return s[o.length-1]=t,r},r.sortValues=function(t){return i=t,r},r.rollup=function(t){return n=t,r},r},ls.set=function(t){var e=new v;if(t)for(var i=0,n=t.length;n>i;++i)e.add(t[i]);return e},l(v,{has:d,add:function(t){return this._[u(t+="")]=!0,t},remove:p,values:f,size:g,empty:m,forEach:function(t){for(var e in this._)t.call(this,c(e))}}),ls.behavior={},ls.rebind=function(t,e){for(var i,n=1,r=arguments.length;++n<r;)t[i=arguments[n]]=_(t,e,e[i]);return t};var bs=["webkit","ms","moz","Moz","o","O"];ls.dispatch=function(){for(var t=new w,e=-1,i=arguments.length;++e<i;)t[arguments[e]]=k(t);return t},w.prototype.on=function(t,e){var i=t.indexOf("."),n="";if(i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),t)return arguments.length<2?this[t].on(n):this[t].on(n,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(n,null);return this}},ls.event=null,ls.requote=function(t){return t.replace(ws,"\\$&")};var ws=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,ks={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var i in e)t[i]=e[i]},Cs=function(t,e){return e.querySelector(t)},Ts=function(t,e){return e.querySelectorAll(t)},Ss=function(t,e){var i=t.matches||t[x(t,"matchesSelector")];return(Ss=function(t,e){return i.call(t,e)})(t,e)};"function"==typeof Sizzle&&(Cs=function(t,e){return Sizzle(t,e)[0]||null},Ts=Sizzle,Ss=Sizzle.matchesSelector),ls.selection=function(){return ls.select(cs.documentElement)};var Ds=ls.selection.prototype=[];Ds.select=function(t){var e,i,n,r,o=[];t=M(t);for(var s=-1,a=this.length;++s<a;){o.push(e=[]),e.parentNode=(n=this[s]).parentNode;for(var l=-1,h=n.length;++l<h;)(r=n[l])?(e.push(i=t.call(r,r.__data__,l,s)),i&&"__data__"in r&&(i.__data__=r.__data__)):e.push(null)}return D(o)},Ds.selectAll=function(t){var e,i,n=[];t=A(t);for(var r=-1,o=this.length;++r<o;)for(var s=this[r],a=-1,l=s.length;++a<l;)(i=s[a])&&(n.push(e=us(t.call(i,i.__data__,a,r))),e.parentNode=i);return D(n)};var Ms={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};ls.ns={prefix:Ms,qualify:function(t){var e=t.indexOf(":"),i=t;return e>=0&&"xmlns"!==(i=t.slice(0,e))&&(t=t.slice(e+1)),Ms.hasOwnProperty(i)?{space:Ms[i],local:t}:t}},Ds.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var i=this.node();return t=ls.ns.qualify(t),t.local?i.getAttributeNS(t.space,t.local):i.getAttribute(t)}for(e in t)this.each(P(e,t[e]));return this}return this.each(P(t,e))},Ds.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var i=this.node(),n=(t=q(t)).length,r=-1;if(e=i.classList){for(;++r<n;)if(!e.contains(t[r]))return!1}else for(e=i.getAttribute("class");++r<n;)if(!E(t[r]).test(e))return!1;return!0}for(e in t)this.each(I(e,t[e]));return this}return this.each(I(t,e))},Ds.style=function(t,i,n){var r=arguments.length;if(3>r){if("string"!=typeof t){2>r&&(i="");for(n in t)this.each(O(n,t[n],i));return this}if(2>r){var o=this.node();return e(o).getComputedStyle(o,null).getPropertyValue(t)}n=""}return this.each(O(t,i,n))},Ds.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(R(e,t[e]));return this}return this.each(R(t,e))},Ds.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},Ds.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},Ds.append=function(t){return t=N(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},Ds.insert=function(t,e){return t=N(t),e=M(e),this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)})},Ds.remove=function(){return this.each(F)},Ds.data=function(t,e){function i(t,i){var n,r,o,s=t.length,c=i.length,d=Math.min(s,c),p=new Array(c),f=new Array(c),g=new Array(s);if(e){var m,v=new h,y=new Array(s);for(n=-1;++n<s;)(r=t[n])&&(v.has(m=e.call(r,r.__data__,n))?g[n]=r:v.set(m,r),y[n]=m);for(n=-1;++n<c;)(r=v.get(m=e.call(i,o=i[n],n)))?!0!==r&&(p[n]=r,r.__data__=o):f[n]=z(o),v.set(m,!0);for(n=-1;++n<s;)n in y&&!0!==v.get(y[n])&&(g[n]=t[n])}else{for(n=-1;++n<d;)r=t[n],o=i[n],r?(r.__data__=o,p[n]=r):f[n]=z(o);for(;c>n;++n)f[n]=z(i[n]);for(;s>n;++n)g[n]=t[n]}f.update=p,f.parentNode=p.parentNode=g.parentNode=t.parentNode,a.push(f),l.push(p),u.push(g)}var n,r,o=-1,s=this.length;if(!arguments.length){for(t=new Array(s=(n=this[0]).length);++o<s;)(r=n[o])&&(t[o]=r.__data__);return t}var a=U([]),l=D([]),u=D([]);if("function"==typeof t)for(;++o<s;)i(n=this[o],t.call(n,n.parentNode.__data__,o));else for(;++o<s;)i(n=this[o],t);return l.enter=function(){return a},l.exit=function(){return u},l},Ds.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},Ds.filter=function(t){var e,i,n,r=[];"function"!=typeof t&&(t=B(t));for(var o=0,s=this.length;s>o;o++){r.push(e=[]),e.parentNode=(i=this[o]).parentNode;for(var a=0,l=i.length;l>a;a++)(n=i[a])&&t.call(n,n.__data__,a,o)&&e.push(n)}return D(r)},Ds.order=function(){for(var t=-1,e=this.length;++t<e;)for(var i,n=this[t],r=n.length-1,o=n[r];--r>=0;)(i=n[r])&&(o&&o!==i.nextSibling&&o.parentNode.insertBefore(i,o),o=i);return this},Ds.sort=function(t){t=H.apply(this,arguments);for(var e=-1,i=this.length;++e<i;)this[e].sort(t);return this.order()},Ds.each=function(t){return W(this,function(e,i,n){t.call(e,e.__data__,i,n)})},Ds.call=function(t){var e=us(arguments);return t.apply(e[0]=this,e),this},Ds.empty=function(){return!this.node()},Ds.node=function(){for(var t=0,e=this.length;e>t;t++)for(var i=this[t],n=0,r=i.length;r>n;n++){var o=i[n];if(o)return o}return null},Ds.size=function(){var t=0;return W(this,function(){++t}),t};var As=[];ls.selection.enter=U,ls.selection.enter.prototype=As,As.append=Ds.append,As.empty=Ds.empty,As.node=Ds.node,As.call=Ds.call,As.size=Ds.size,As.select=function(t){for(var e,i,n,r,o,s=[],a=-1,l=this.length;++a<l;){n=(r=this[a]).update,s.push(e=[]),e.parentNode=r.parentNode;for(var h=-1,u=r.length;++h<u;)(o=r[h])?(e.push(n[h]=i=t.call(r.parentNode,o.__data__,h,a)),i.__data__=o.__data__):e.push(null)}return D(s)},As.insert=function(t,e){return arguments.length<2&&(e=Y(this)),Ds.insert.call(this,t,e)},ls.select=function(e){var i;return"string"==typeof e?(i=[Cs(e,cs)],i.parentNode=cs.documentElement):(i=[e],i.parentNode=t(e)),D([i])},ls.selectAll=function(t){var e;return"string"==typeof t?(e=us(Ts(t,cs)),e.parentNode=cs.documentElement):(e=us(t),e.parentNode=null),D([e])},Ds.on=function(t,e,i){var n=arguments.length;if(3>n){if("string"!=typeof t){2>n&&(e=!1);for(i in t)this.each(X(i,t[i],e));return this}if(2>n)return(n=this.node()["__on"+t])&&n._;i=!1}return this.each(X(t,e,i))};var Ps=ls.map({mouseenter:"mouseover",mouseleave:"mouseout"});cs&&Ps.forEach(function(t){"on"+t in cs&&Ps.remove(t)});var Ls,Es=0;ls.mouse=function(t){return $(t,T())};var qs=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;ls.touch=function(t,e,i){if(arguments.length<3&&(i=e,e=T().changedTouches),e)for(var n,r=0,o=e.length;o>r;++r)if((n=e[r]).identifier===i)return $(t,n)},ls.behavior.drag=function(){function t(){this.on("mousedown.drag",o).on("touchstart.drag",s)}function i(t,e,i,o,s){return function(){function a(){var t,i,n=e(d,g);n&&(t=n[0]-_[0],i=n[1]-_[1],f|=t|i,_=n,p({type:"drag",x:n[0]+h[0],y:n[1]+h[1],dx:t,dy:i}))}function l(){e(d,g)&&(v.on(o+m,null).on(s+m,null),y(f),p({type:"dragend"}))}var h,u=this,c=ls.event.target,d=u.parentNode,p=n.of(u,arguments),f=0,g=t(),m=".drag"+(null==g?"":"-"+g),v=ls.select(i(c)).on(o+m,a).on(s+m,l),y=V(c),_=e(d,g);r?(h=r.apply(u,arguments),h=[h.x-_[0],h.y-_[1]]):h=[0,0],p({type:"dragstart"})}}var n=S(t,"drag","dragstart","dragend"),r=null,o=i(b,ls.mouse,e,"mousemove","mouseup"),s=i(J,ls.touch,y,"touchmove","touchend");return t.origin=function(e){return arguments.length?(r=e,t):r},ls.rebind(t,n,"on")},ls.touches=function(t,e){return arguments.length<2&&(e=T().touches),e?us(e).map(function(e){var i=$(t,e);return i.identifier=e.identifier,i}):[]};var Is=1e-6,js=Is*Is,Os=Math.PI,Rs=2*Os,Ns=Rs-Is,Fs=Os/2,zs=Os/180,Bs=180/Os,Hs=Math.SQRT2;ls.interpolateZoom=function(t,e){var i,n,r=t[0],o=t[1],s=t[2],a=e[0],l=e[1],h=e[2],u=a-r,c=l-o,d=u*u+c*c;if(js>d)n=Math.log(h/s)/Hs,i=function(t){return[r+t*u,o+t*c,s*Math.exp(Hs*t*n)]};else{var p=Math.sqrt(d),f=(h*h-s*s+4*d)/(2*s*2*p),g=(h*h-s*s-4*d)/(2*h*2*p),m=Math.log(Math.sqrt(f*f+1)-f),v=Math.log(Math.sqrt(g*g+1)-g);n=(v-m)/Hs,i=function(t){var e=t*n,i=nt(m),a=s/(2*p)*(i*rt(Hs*e+m)-it(m));return[r+a*u,o+a*c,s*i/nt(Hs*e+m)]}}return i.duration=1e3*n,i},ls.behavior.zoom=function(){function t(t){t.on(L,c).on(Us+".zoom",p).on("dblclick.zoom",f).on(I,d)}function i(t){return[(t[0]-T.x)/T.k,(t[1]-T.y)/T.k]}function n(t){return[t[0]*T.k+T.x,t[1]*T.k+T.y]}function r(t){T.k=Math.max(M[0],Math.min(M[1],t))}function o(t,e){e=n(e),T.x+=t[0]-e[0],T.y+=t[1]-e[1]}function s(e,i,n,s){e.__chart__={x:T.x,y:T.y,k:T.k},r(Math.pow(2,s)),o(m=i,n),e=ls.select(e),A>0&&(e=e.transition().duration(A)),e.call(t.event)}function a(){b&&b.domain(x.range().map(function(t){return(t-T.x)/T.k}).map(x.invert)),k&&k.domain(w.range().map(function(t){return(t-T.y)/T.k}).map(w.invert))}function l(t){P++||t({type:"zoomstart"})}function h(t){a(),t({type:"zoom",scale:T.k,translate:[T.x,T.y]})}function u(t){--P||(t({type:"zoomend"}),m=null)}function c(){function t(){a=1,o(ls.mouse(r),d),h(s)}function n(){c.on(E,null).on(q,null),p(a),u(s)}var r=this,s=j.of(r,arguments),a=0,c=ls.select(e(r)).on(E,t).on(q,n),d=i(ls.mouse(r)),p=V(r);Rl.call(r),l(s)}function d(){function t(){var t=ls.touches(f);return p=T.k,t.forEach(function(t){t.identifier in m&&(m[t.identifier]=i(t))}),t}function e(){var e=ls.event.target;ls.select(e).on(x,n).on(b,a),w.push(e);for(var i=ls.event.changedTouches,r=0,o=i.length;o>r;++r)m[i[r].identifier]=null;var l=t(),h=Date.now();if(1===l.length){if(500>h-_){var u=l[0];s(f,u,m[u.identifier],Math.floor(Math.log(T.k)/Math.LN2)+1),C()}_=h}else if(l.length>1){var u=l[0],c=l[1],d=u[0]-c[0],p=u[1]-c[1];v=d*d+p*p}}function n(){var t,e,i,n,s=ls.touches(f);Rl.call(f);for(var a=0,l=s.length;l>a;++a,n=null)if(i=s[a],n=m[i.identifier]){if(e)break;t=i,e=n}if(n){var u=(u=i[0]-t[0])*u+(u=i[1]-t[1])*u,c=v&&Math.sqrt(u/v);t=[(t[0]+i[0])/2,(t[1]+i[1])/2],e=[(e[0]+n[0])/2,(e[1]+n[1])/2],r(c*p)}_=null,o(t,e),h(g)}function a(){if(ls.event.touches.length){for(var e=ls.event.changedTouches,i=0,n=e.length;n>i;++i)delete m[e[i].identifier];for(var r in m)return void t()}ls.selectAll(w).on(y,null),k.on(L,c).on(I,d),S(),u(g)}var p,f=this,g=j.of(f,arguments),m={},v=0,y=".zoom-"+ls.event.changedTouches[0].identifier,x="touchmove"+y,b="touchend"+y,w=[],k=ls.select(f),S=V(f);e(),l(g),k.on(L,null).on(I,e)}function p(){var t=j.of(this,arguments);y?clearTimeout(y):(Rl.call(this),g=i(m=v||ls.mouse(this)),l(t)),y=setTimeout(function(){y=null,u(t)},50),C(),r(Math.pow(2,.002*Ws())*T.k),o(m,g),h(t)}function f(){var t=ls.mouse(this),e=Math.log(T.k)/Math.LN2;s(this,t,i(t),ls.event.shiftKey?Math.ceil(e)-1:Math.floor(e)+1)}var g,m,v,y,_,x,b,w,k,T={x:0,y:0,k:1},D=[960,500],M=Ys,A=250,P=0,L="mousedown.zoom",E="mousemove.zoom",q="mouseup.zoom",I="touchstart.zoom",j=S(t,"zoomstart","zoom","zoomend");return Us||(Us="onwheel"in cs?(Ws=function(){return-ls.event.deltaY*(ls.event.deltaMode?120:1)},"wheel"):"onmousewheel"in cs?(Ws=function(){return ls.event.wheelDelta},"mousewheel"):(Ws=function(){return-ls.event.detail},"MozMousePixelScroll")),t.event=function(t){t.each(function(){var t=j.of(this,arguments),e=T;jl?ls.select(this).transition().each("start.zoom",function(){T=this.__chart__||{x:0,y:0,k:1},l(t)}).tween("zoom:zoom",function(){var i=D[0],n=D[1],r=m?m[0]:i/2,o=m?m[1]:n/2,s=ls.interpolateZoom([(r-T.x)/T.k,(o-T.y)/T.k,i/T.k],[(r-e.x)/e.k,(o-e.y)/e.k,i/e.k]);return function(e){var n=s(e),a=i/n[2];this.__chart__=T={x:r-n[0]*a,y:o-n[1]*a,k:a},h(t)}}).each("interrupt.zoom",function(){u(t)}).each("end.zoom",function(){u(t)}):(this.__chart__=T,l(t),h(t),u(t))})},t.translate=function(e){return arguments.length?(T={x:+e[0],y:+e[1],k:T.k},a(),t):[T.x,T.y]},t.scale=function(e){return arguments.length?(T={x:T.x,y:T.y,k:null},r(+e),a(),t):T.k},t.scaleExtent=function(e){return arguments.length?(M=null==e?Ys:[+e[0],+e[1]],t):M},t.center=function(e){return arguments.length?(v=e&&[+e[0],+e[1]],t):v},t.size=function(e){return arguments.length?(D=e&&[+e[0],+e[1]],t):D},t.duration=function(e){return arguments.length?(A=+e,t):A},t.x=function(e){return arguments.length?(b=e,x=e.copy(),T={x:0,y:0,k:1},t):b},t.y=function(e){return arguments.length?(k=e,w=e.copy(),T={x:0,y:0,k:1},t):k},ls.rebind(t,j,"on")};var Ws,Us,Ys=[0,1/0];ls.color=st,st.prototype.toString=function(){return this.rgb()+""},ls.hsl=at;var Xs=at.prototype=new st;Xs.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new at(this.h,this.s,this.l/t)},Xs.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new at(this.h,this.s,t*this.l)},Xs.rgb=function(){return lt(this.h,this.s,this.l)},ls.hcl=ht;var Gs=ht.prototype=new st;Gs.brighter=function(t){return new ht(this.h,this.c,Math.min(100,this.l+Zs*(arguments.length?t:1)))},Gs.darker=function(t){return new ht(this.h,this.c,Math.max(0,this.l-Zs*(arguments.length?t:1)))},Gs.rgb=function(){return ut(this.h,this.c,this.l).rgb()},ls.lab=ct;var Zs=18,Vs=.95047,$s=1,Js=1.08883,Ks=ct.prototype=new st;Ks.brighter=function(t){return new ct(Math.min(100,this.l+Zs*(arguments.length?t:1)),this.a,this.b)},Ks.darker=function(t){return new ct(Math.max(0,this.l-Zs*(arguments.length?t:1)),this.a,this.b)},Ks.rgb=function(){return dt(this.l,this.a,this.b)},ls.rgb=vt;var Qs=vt.prototype=new st;Qs.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,i=this.g,n=this.b,r=30;return e||i||n?(e&&r>e&&(e=r),i&&r>i&&(i=r),n&&r>n&&(n=r),new vt(Math.min(255,e/t),Math.min(255,i/t),Math.min(255,n/t))):new vt(r,r,r)},Qs.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new vt(t*this.r,t*this.g,t*this.b)},Qs.hsl=function(){return wt(this.r,this.g,this.b)},Qs.toString=function(){return"#"+xt(this.r)+xt(this.g)+xt(this.b)};var ta=ls.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});ta.forEach(function(t,e){ta.set(t,yt(e))}),ls.functor=St,ls.xhr=Dt(y),ls.dsv=function(t,e){function i(t,i,o){arguments.length<3&&(o=i,i=null);var s=Mt(t,e,null==i?n:r(i),o);return s.row=function(t){return arguments.length?s.response(null==(i=t)?n:r(t)):i},s}function n(t){return i.parse(t.responseText)}function r(t){return function(e){return i.parse(e.responseText,t)}}function o(e){return e.map(s).join(t)}function s(t){return a.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}var a=new RegExp('["'+t+"\n]"),l=t.charCodeAt(0);return i.parse=function(t,e){var n;return i.parseRows(t,function(t,i){if(n)return n(t,i-1);var r=new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}");n=e?function(t,i){return e(r(t),i)}:r})},i.parseRows=function(t,e){function i(){if(u>=h)return s;if(r)return r=!1,o;var e=u;if(34===t.charCodeAt(e)){for(var i=e;i++<h;)if(34===t.charCodeAt(i)){if(34!==t.charCodeAt(i+1))break;++i}u=i+2;var n=t.charCodeAt(i+1);return 13===n?(r=!0,10===t.charCodeAt(i+2)&&++u):10===n&&(r=!0),t.slice(e+1,i).replace(/""/g,'"')}for(;h>u;){var n=t.charCodeAt(u++),a=1;if(10===n)r=!0;else if(13===n)r=!0,10===t.charCodeAt(u)&&(++u,++a);else if(n!==l)continue;return t.slice(e,u-a)}return t.slice(e)}for(var n,r,o={},s={},a=[],h=t.length,u=0,c=0;(n=i())!==s;){for(var d=[];n!==o&&n!==s;)d.push(n),n=i();e&&null==(d=e(d,c++))||a.push(d)}return a},i.format=function(e){if(Array.isArray(e[0]))return i.formatRows(e);var n=new v,r=[];return e.forEach(function(t){for(var e in t)n.has(e)||r.push(n.add(e))}),[r.map(s).join(t)].concat(e.map(function(e){return r.map(function(t){return s(e[t])}).join(t)})).join("\n")},i.formatRows=function(t){return t.map(o).join("\n")},i},ls.csv=ls.dsv(",","text/csv"),ls.tsv=ls.dsv("\t","text/tab-separated-values");var ea,ia,na,ra,oa=this[x(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};ls.timer=function(){Lt.apply(this,arguments)},ls.timer.flush=function(){qt(),It()},ls.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var sa=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(Ot);ls.formatPrefix=function(t,e){var i=0;return(t=+t)&&(0>t&&(t*=-1),e&&(t=ls.round(t,jt(t,e))),i=1+Math.floor(1e-12+Math.log(t)/Math.LN10),i=Math.max(-24,Math.min(24,3*Math.floor((i-1)/3)))),sa[8+i/3]};var aa=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,la=ls.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=ls.round(t,jt(t,e))).toFixed(Math.max(0,Math.min(20,jt(t*(1+1e-15),e))))}}),ha=ls.time={},ua=Date;Ft.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){ca.setUTCDate.apply(this._,arguments)},setDay:function(){ca.setUTCDay.apply(this._,arguments)},setFullYear:function(){ca.setUTCFullYear.apply(this._,arguments)},setHours:function(){ca.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){ca.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){ca.setUTCMinutes.apply(this._,arguments)},setMonth:function(){ca.setUTCMonth.apply(this._,arguments)},setSeconds:function(){ca.setUTCSeconds.apply(this._,arguments)},setTime:function(){ca.setTime.apply(this._,arguments)}};var ca=Date.prototype;ha.year=zt(function(t){return t=ha.day(t),t.setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),ha.years=ha.year.range,ha.years.utc=ha.year.utc.range,ha.day=zt(function(t){var e=new ua(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),ha.days=ha.day.range,ha.days.utc=ha.day.utc.range,ha.dayOfYear=function(t){var e=ha.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,e){e=7-e;var i=ha[t]=zt(function(t){return(t=ha.day(t)).setDate(t.getDate()-(t.getDay()+e)%7),t},function(t,e){t.setDate(t.getDate()+7*Math.floor(e))},function(t){var i=ha.year(t).getDay();return Math.floor((ha.dayOfYear(t)+(i+e)%7)/7)-(i!==e)});ha[t+"s"]=i.range,ha[t+"s"].utc=i.utc.range,ha[t+"OfYear"]=function(t){var i=ha.year(t).getDay();return Math.floor((ha.dayOfYear(t)+(i+e)%7)/7)}}),ha.week=ha.sunday,ha.weeks=ha.sunday.range,ha.weeks.utc=ha.sunday.utc.range,ha.weekOfYear=ha.sundayOfYear;var da={"-":"",_:" ",0:"0"},pa=/^\s*\d+/,fa=/^%/;ls.locale=function(t){return{numberFormat:Rt(t),timeFormat:Ht(t)}};var ga=ls.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});ls.format=ga.numberFormat,ls.geo={},he.prototype={s:0,t:0,add:function(t){ue(t,this.t,ma),ue(ma.s,this.s,this),this.s?this.t+=ma.t:this.s=ma.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var ma=new he;ls.geo.stream=function(t,e){t&&va.hasOwnProperty(t.type)?va[t.type](t,e):ce(t,e)};var va={Feature:function(t,e){ce(t.geometry,e)},FeatureCollection:function(t,e){for(var i=t.features,n=-1,r=i.length;++n<r;)ce(i[n].geometry,e)}},ya={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var i=t.coordinates,n=-1,r=i.length;++n<r;)t=i[n],e.point(t[0],t[1],t[2])},LineString:function(t,e){de(t.coordinates,e,0)},MultiLineString:function(t,e){for(var i=t.coordinates,n=-1,r=i.length;++n<r;)de(i[n],e,0)},Polygon:function(t,e){pe(t.coordinates,e)},MultiPolygon:function(t,e){for(var i=t.coordinates,n=-1,r=i.length;++n<r;)pe(i[n],e)},GeometryCollection:function(t,e){for(var i=t.geometries,n=-1,r=i.length;++n<r;)ce(i[n],e)}};ls.geo.area=function(t){return _a=0,ls.geo.stream(t,ba),_a};var _a,xa=new he,ba={sphere:function(){_a+=4*Os},point:b,lineStart:b,lineEnd:b,polygonStart:function(){xa.reset(),ba.lineStart=fe},polygonEnd:function(){var t=2*xa;_a+=0>t?4*Os+t:t,ba.lineStart=ba.lineEnd=ba.point=b}};ls.geo.bounds=function(){function t(t,e){_.push(x=[u=t,d=t]),c>e&&(c=e),e>p&&(p=e)}function e(e,i){var n=ge([e*zs,i*zs]);if(v){var r=ve(v,n),o=[r[1],-r[0],0],s=ve(o,r);xe(s),s=be(s);var l=e-f,h=l>0?1:-1,g=s[0]*Bs*h,m=ys(l)>180;if(m^(g>h*f&&h*e>g)){var y=s[1]*Bs;y>p&&(p=y)}else if(g=(g+360)%360-180,m^(g>h*f&&h*e>g)){var y=-s[1]*Bs;c>y&&(c=y)}else c>i&&(c=i),i>p&&(p=i);m?f>e?a(u,e)>a(u,d)&&(d=e):a(e,d)>a(u,d)&&(u=e):d>=u?(u>e&&(u=e),e>d&&(d=e)):e>f?a(u,e)>a(u,d)&&(d=e):a(e,d)>a(u,d)&&(u=e)}else t(e,i);v=n,f=e}function i(){b.point=e}function n(){x[0]=u,x[1]=d,b.point=t,v=null}function r(t,i){if(v){var n=t-f;y+=ys(n)>180?n+(n>0?360:-360):n}else g=t,m=i;ba.point(t,i),e(t,i)}function o(){ba.lineStart()}function s(){r(g,m),ba.lineEnd(),ys(y)>Is&&(u=-(d=180)),x[0]=u,x[1]=d,v=null}function a(t,e){return(e-=t)<0?e+360:e}function l(t,e){return t[0]-e[0]}function h(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var u,c,d,p,f,g,m,v,y,_,x,b={point:t,lineStart:i,lineEnd:n,polygonStart:function(){b.point=r,b.lineStart=o,b.lineEnd=s,y=0,ba.polygonStart()},polygonEnd:function(){ba.polygonEnd(),b.point=t,b.lineStart=i,b.lineEnd=n,0>xa?(u=-(d=180),c=-(p=90)):y>Is?p=90:-Is>y&&(c=-90),x[0]=u,x[1]=d}};return function(t){p=d=-(u=c=1/0),_=[],ls.geo.stream(t,b);var e=_.length;if(e){_.sort(l);for(var i,n=1,r=_[0],o=[r];e>n;++n)i=_[n],h(i[0],r)||h(i[1],r)?(a(r[0],i[1])>a(r[0],r[1])&&(r[1]=i[1]),a(i[0],r[1])>a(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(var s,i,f=-1/0,e=o.length-1,n=0,r=o[e];e>=n;r=i,++n)i=o[n],(s=a(r[1],i[0]))>f&&(f=s,u=i[0],d=r[1])}return _=x=null,u===1/0||c===1/0?[[NaN,NaN],[NaN,NaN]]:[[u,c],[d,p]]}}(),ls.geo.centroid=function(t){wa=ka=Ca=Ta=Sa=Da=Ma=Aa=Pa=La=Ea=0,ls.geo.stream(t,qa);var e=Pa,i=La,n=Ea,r=e*e+i*i+n*n;return js>r&&(e=Da,i=Ma,n=Aa,Is>ka&&(e=Ca,i=Ta,n=Sa),r=e*e+i*i+n*n,js>r)?[NaN,NaN]:[Math.atan2(i,e)*Bs,et(n/Math.sqrt(r))*Bs]};var wa,ka,Ca,Ta,Sa,Da,Ma,Aa,Pa,La,Ea,qa={sphere:b,point:ke,lineStart:Te,lineEnd:Se,polygonStart:function(){qa.lineStart=De},polygonEnd:function(){qa.lineStart=Te}},Ia=qe(Ae,Re,Fe,[-Os,-Os/2]),ja=1e9;ls.geo.clipExtent=function(){var t,e,i,n,r,o,s={stream:function(t){return r&&(r.valid=!1),r=o(t),r.valid=!0,r},extent:function(a){return arguments.length?(o=We(t=+a[0][0],e=+a[0][1],i=+a[1][0],n=+a[1][1]),r&&(r.valid=!1,r=null),s):[[t,e],[i,n]]}};return s.extent([[0,0],[960,500]])},(ls.geo.conicEqualArea=function(){return Ue(Ye)}).raw=Ye,ls.geo.albers=function(){return ls.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},ls.geo.albersUsa=function(){function t(t){var o=t[0],s=t[1];return e=null,i(o,s),e||(n(o,s),e)||r(o,s),e}var e,i,n,r,o=ls.geo.albers(),s=ls.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a=ls.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(t,i){e=[t,i]}};return t.invert=function(t){var e=o.scale(),i=o.translate(),n=(t[0]-i[0])/e,r=(t[1]-i[1])/e;return(r>=.12&&.234>r&&n>=-.425&&-.214>n?s:r>=.166&&.234>r&&n>=-.214&&-.115>n?a:o).invert(t)},t.stream=function(t){var e=o.stream(t),i=s.stream(t),n=a.stream(t);return{point:function(t,r){e.point(t,r),i.point(t,r),n.point(t,r)},sphere:function(){e.sphere(),i.sphere(),n.sphere()},lineStart:function(){e.lineStart(),i.lineStart(),n.lineStart()},lineEnd:function(){e.lineEnd(),i.lineEnd(),n.lineEnd()},polygonStart:function(){e.polygonStart(),i.polygonStart(),n.polygonStart()},polygonEnd:function(){e.polygonEnd(),i.polygonEnd(),n.polygonEnd()}}},t.precision=function(e){return arguments.length?(o.precision(e),s.precision(e),a.precision(e),t):o.precision()},t.scale=function(e){return arguments.length?(o.scale(e),s.scale(.35*e),a.scale(e),t.translate(o.translate())):o.scale()},t.translate=function(e){if(!arguments.length)return o.translate();var h=o.scale(),u=+e[0],c=+e[1];return i=o.translate(e).clipExtent([[u-.455*h,c-.238*h],[u+.455*h,c+.238*h]]).stream(l).point,n=s.translate([u-.307*h,c+.201*h]).clipExtent([[u-.425*h+Is,c+.12*h+Is],[u-.214*h-Is,c+.234*h-Is]]).stream(l).point,r=a.translate([u-.205*h,c+.212*h]).clipExtent([[u-.214*h+Is,c+.166*h+Is],[u-.115*h-Is,c+.234*h-Is]]).stream(l).point,t},t.scale(1070)};var Oa,Ra,Na,Fa,za,Ba,Ha={point:b,lineStart:b,lineEnd:b,polygonStart:function(){Ra=0,Ha.lineStart=Xe},polygonEnd:function(){Ha.lineStart=Ha.lineEnd=Ha.point=b,Oa+=ys(Ra/2)}},Wa={point:Ge,lineStart:b,lineEnd:b,polygonStart:b,polygonEnd:b},Ua={point:$e,lineStart:Je,lineEnd:Ke,polygonStart:function(){Ua.lineStart=Qe},polygonEnd:function(){Ua.point=$e,Ua.lineStart=Je,Ua.lineEnd=Ke}};ls.geo.path=function(){function t(t){return t&&("function"==typeof a&&o.pointRadius(+a.apply(this,arguments)),s&&s.valid||(s=r(o)),ls.geo.stream(t,s)),o.result()}function e(){return s=null,t}var i,n,r,o,s,a=4.5;return t.area=function(t){return Oa=0,ls.geo.stream(t,r(Ha)),Oa},t.centroid=function(t){return Ca=Ta=Sa=Da=Ma=Aa=Pa=La=Ea=0,ls.geo.stream(t,r(Ua)),Ea?[Pa/Ea,La/Ea]:Aa?[Da/Aa,Ma/Aa]:Sa?[Ca/Sa,Ta/Sa]:[NaN,NaN]},t.bounds=function(t){return za=Ba=-(Na=Fa=1/0),ls.geo.stream(t,r(Wa)),[[Na,Fa],[za,Ba]]},t.projection=function(t){return arguments.length?(r=(i=t)?t.stream||ii(t):y,e()):i},t.context=function(t){return arguments.length?(o=null==(n=t)?new Ze:new ti(t),"function"!=typeof a&&o.pointRadius(a),e()):n},t.pointRadius=function(e){return arguments.length?(a="function"==typeof e?e:(o.pointRadius(+e),+e),t):a},t.projection(ls.geo.albersUsa()).context(null)},ls.geo.transform=function(t){return{stream:function(e){var i=new ni(e);for(var n in t)i[n]=t[n];return i}}},ni.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},ls.geo.projection=oi,ls.geo.projectionMutator=si,(ls.geo.equirectangular=function(){return oi(li)}).raw=li.invert=li,ls.geo.rotation=function(t){function e(e){return e=t(e[0]*zs,e[1]*zs),e[0]*=Bs,e[1]*=Bs,e}return t=ui(t[0]%360*zs,t[1]*zs,t.length>2?t[2]*zs:0),e.invert=function(e){return e=t.invert(e[0]*zs,e[1]*zs),e[0]*=Bs,e[1]*=Bs,e},e},hi.invert=li,ls.geo.circle=function(){function t(){var t="function"==typeof n?n.apply(this,arguments):n,e=ui(-t[0]*zs,-t[1]*zs,0).invert,r=[];return i(null,null,1,{point:function(t,i){r.push(t=e(t,i)),t[0]*=Bs,t[1]*=Bs}}),{type:"Polygon",coordinates:[r]}}var e,i,n=[0,0],r=6;return t.origin=function(e){return arguments.length?(n=e,t):n},t.angle=function(n){return arguments.length?(i=fi((e=+n)*zs,r*zs),t):e},t.precision=function(n){return arguments.length?(i=fi(e*zs,(r=+n)*zs),t):r},t.angle(90)},ls.geo.distance=function(t,e){var i,n=(e[0]-t[0])*zs,r=t[1]*zs,o=e[1]*zs,s=Math.sin(n),a=Math.cos(n),l=Math.sin(r),h=Math.cos(r),u=Math.sin(o),c=Math.cos(o);return Math.atan2(Math.sqrt((i=c*s)*i+(i=h*u-l*c*a)*i),l*u+h*c*a)},ls.geo.graticule=function(){function t(){return{type:"MultiLineString",coordinates:e()}}function e(){return ls.range(Math.ceil(o/m)*m,r,m).map(d).concat(ls.range(Math.ceil(h/v)*v,l,v).map(p)).concat(ls.range(Math.ceil(n/f)*f,i,f).filter(function(t){return ys(t%m)>Is}).map(u)).concat(ls.range(Math.ceil(a/g)*g,s,g).filter(function(t){return ys(t%v)>Is}).map(c))}var i,n,r,o,s,a,l,h,u,c,d,p,f=10,g=f,m=90,v=360,y=2.5;return t.lines=function(){return e().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[d(o).concat(p(l).slice(1),d(r).reverse().slice(1),p(h).reverse().slice(1))]}},
t.extent=function(e){return arguments.length?t.majorExtent(e).minorExtent(e):t.minorExtent()},t.majorExtent=function(e){return arguments.length?(o=+e[0][0],r=+e[1][0],h=+e[0][1],l=+e[1][1],o>r&&(e=o,o=r,r=e),h>l&&(e=h,h=l,l=e),t.precision(y)):[[o,h],[r,l]]},t.minorExtent=function(e){return arguments.length?(n=+e[0][0],i=+e[1][0],a=+e[0][1],s=+e[1][1],n>i&&(e=n,n=i,i=e),a>s&&(e=a,a=s,s=e),t.precision(y)):[[n,a],[i,s]]},t.step=function(e){return arguments.length?t.majorStep(e).minorStep(e):t.minorStep()},t.majorStep=function(e){return arguments.length?(m=+e[0],v=+e[1],t):[m,v]},t.minorStep=function(e){return arguments.length?(f=+e[0],g=+e[1],t):[f,g]},t.precision=function(e){return arguments.length?(y=+e,u=mi(a,s,90),c=vi(n,i,y),d=mi(h,l,90),p=vi(o,r,y),t):y},t.majorExtent([[-180,-90+Is],[180,90-Is]]).minorExtent([[-180,-80-Is],[180,80+Is]])},ls.geo.greatArc=function(){function t(){return{type:"LineString",coordinates:[e||n.apply(this,arguments),i||r.apply(this,arguments)]}}var e,i,n=yi,r=_i;return t.distance=function(){return ls.geo.distance(e||n.apply(this,arguments),i||r.apply(this,arguments))},t.source=function(i){return arguments.length?(n=i,e="function"==typeof i?null:i,t):n},t.target=function(e){return arguments.length?(r=e,i="function"==typeof e?null:e,t):r},t.precision=function(){return arguments.length?t:0},t},ls.geo.interpolate=function(t,e){return xi(t[0]*zs,t[1]*zs,e[0]*zs,e[1]*zs)},ls.geo.length=function(t){return Ya=0,ls.geo.stream(t,Xa),Ya};var Ya,Xa={sphere:b,point:b,lineStart:bi,lineEnd:b,polygonStart:b,polygonEnd:b},Ga=wi(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(ls.geo.azimuthalEqualArea=function(){return oi(Ga)}).raw=Ga;var Za=wi(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},y);(ls.geo.azimuthalEquidistant=function(){return oi(Za)}).raw=Za,(ls.geo.conicConformal=function(){return Ue(ki)}).raw=ki,(ls.geo.conicEquidistant=function(){return Ue(Ci)}).raw=Ci;var Va=wi(function(t){return 1/t},Math.atan);(ls.geo.gnomonic=function(){return oi(Va)}).raw=Va,Ti.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-Fs]},(ls.geo.mercator=function(){return Si(Ti)}).raw=Ti;var $a=wi(function(){return 1},Math.asin);(ls.geo.orthographic=function(){return oi($a)}).raw=$a;var Ja=wi(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});(ls.geo.stereographic=function(){return oi(Ja)}).raw=Ja,Di.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-Fs]},(ls.geo.transverseMercator=function(){var t=Si(Di),e=t.center,i=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):(t=e(),[t[1],-t[0]])},t.rotate=function(t){return t?i([t[0],t[1],t.length>2?t[2]+90:90]):(t=i(),[t[0],t[1],t[2]-90])},i([0,0,90])}).raw=Di,ls.geom={},ls.geom.hull=function(t){function e(t){if(t.length<3)return[];var e,r=St(i),o=St(n),s=t.length,a=[],l=[];for(e=0;s>e;e++)a.push([+r.call(this,t[e],e),+o.call(this,t[e],e),e]);for(a.sort(Li),e=0;s>e;e++)l.push([a[e][0],-a[e][1]]);var h=Pi(a),u=Pi(l),c=u[0]===h[0],d=u[u.length-1]===h[h.length-1],p=[];for(e=h.length-1;e>=0;--e)p.push(t[a[h[e]][2]]);for(e=+c;e<u.length-d;++e)p.push(t[a[u[e]][2]]);return p}var i=Mi,n=Ai;return arguments.length?e(t):(e.x=function(t){return arguments.length?(i=t,e):i},e.y=function(t){return arguments.length?(n=t,e):n},e)},ls.geom.polygon=function(t){return ks(t,Ka),t};var Ka=ls.geom.polygon.prototype=[];Ka.area=function(){for(var t,e=-1,i=this.length,n=this[i-1],r=0;++e<i;)t=n,n=this[e],r+=t[1]*n[0]-t[0]*n[1];return.5*r},Ka.centroid=function(t){var e,i,n=-1,r=this.length,o=0,s=0,a=this[r-1];for(arguments.length||(t=-1/(6*this.area()));++n<r;)e=a,a=this[n],i=e[0]*a[1]-a[0]*e[1],o+=(e[0]+a[0])*i,s+=(e[1]+a[1])*i;return[o*t,s*t]},Ka.clip=function(t){for(var e,i,n,r,o,s,a=Ii(t),l=-1,h=this.length-Ii(this),u=this[h-1];++l<h;){for(e=t.slice(),t.length=0,r=this[l],o=e[(n=e.length-a)-1],i=-1;++i<n;)s=e[i],Ei(s,u,r)?(Ei(o,u,r)||t.push(qi(o,s,u,r)),t.push(s)):Ei(o,u,r)&&t.push(qi(o,s,u,r)),o=s;a&&t.push(t[0]),u=r}return t};var Qa,tl,el,il,nl,rl=[],ol=[];Hi.prototype.prepare=function(){for(var t,e=this.edges,i=e.length;i--;)t=e[i].edge,t.b&&t.a||e.splice(i,1);return e.sort(Ui),e.length},tn.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},en.prototype={insert:function(t,e){var i,n,r;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;i=t}else this._?(t=sn(this._),e.P=null,e.N=t,t.P=t.L=e,i=t):(e.P=e.N=null,this._=e,i=null);for(e.L=e.R=null,e.U=i,e.C=!0,t=e;i&&i.C;)n=i.U,i===n.L?(r=n.R,r&&r.C?(i.C=r.C=!1,n.C=!0,t=n):(t===i.R&&(rn(this,i),t=i,i=t.U),i.C=!1,n.C=!0,on(this,n))):(r=n.L,r&&r.C?(i.C=r.C=!1,n.C=!0,t=n):(t===i.L&&(on(this,i),t=i,i=t.U),i.C=!1,n.C=!0,rn(this,n))),i=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,i,n,r=t.U,o=t.L,s=t.R;if(i=o?s?sn(s):o:s,r?r.L===t?r.L=i:r.R=i:this._=i,o&&s?(n=i.C,i.C=t.C,i.L=o,o.U=i,i!==s?(r=i.U,i.U=t.U,t=i.R,r.L=t,i.R=s,s.U=i):(i.U=r,r=i,t=i.R)):(n=t.C,t=i),t&&(t.U=r),!n){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===r.L){if(e=r.R,e.C&&(e.C=!1,r.C=!0,rn(this,r),e=r.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,on(this,e),e=r.R),e.C=r.C,r.C=e.R.C=!1,rn(this,r),t=this._;break}}else if(e=r.L,e.C&&(e.C=!1,r.C=!0,on(this,r),e=r.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,rn(this,e),e=r.L),e.C=r.C,r.C=e.L.C=!1,on(this,r),t=this._;break}e.C=!0,t=r,r=r.U}while(!t.C);t&&(t.C=!1)}}},ls.geom.voronoi=function(t){function e(t){var e=new Array(t.length),n=a[0][0],r=a[0][1],o=a[1][0],s=a[1][1];return an(i(t),a).cells.forEach(function(i,a){var l=i.edges,h=i.site;(e[a]=l.length?l.map(function(t){var e=t.start();return[e.x,e.y]}):h.x>=n&&h.x<=o&&h.y>=r&&h.y<=s?[[n,s],[o,s],[o,r],[n,r]]:[]).point=t[a]}),e}function i(t){return t.map(function(t,e){return{x:Math.round(o(t,e)/Is)*Is,y:Math.round(s(t,e)/Is)*Is,i:e}})}var n=Mi,r=Ai,o=n,s=r,a=sl;return t?e(t):(e.links=function(t){return an(i(t)).edges.filter(function(t){return t.l&&t.r}).map(function(e){return{source:t[e.l.i],target:t[e.r.i]}})},e.triangles=function(t){var e=[];return an(i(t)).cells.forEach(function(i,n){for(var r,o=i.site,s=i.edges.sort(Ui),a=-1,l=s.length,h=s[l-1].edge,u=h.l===o?h.r:h.l;++a<l;)h,r=u,h=s[a].edge,u=h.l===o?h.r:h.l,n<r.i&&n<u.i&&hn(o,r,u)<0&&e.push([t[n],t[r.i],t[u.i]])}),e},e.x=function(t){return arguments.length?(o=St(n=t),e):n},e.y=function(t){return arguments.length?(s=St(r=t),e):r},e.clipExtent=function(t){return arguments.length?(a=null==t?sl:t,e):a===sl?null:a},e.size=function(t){return arguments.length?e.clipExtent(t&&[[0,0],t]):a===sl?null:a&&a[1]},e)};var sl=[[-1e6,-1e6],[1e6,1e6]];ls.geom.delaunay=function(t){return ls.geom.voronoi().triangles(t)},ls.geom.quadtree=function(t,e,i,n,r){function o(t){function o(t,e,i,n,r,o,s,a){if(!isNaN(i)&&!isNaN(n))if(t.leaf){var l=t.x,u=t.y;if(null!=l)if(ys(l-i)+ys(u-n)<.01)h(t,e,i,n,r,o,s,a);else{var c=t.point;t.x=t.y=t.point=null,h(t,c,l,u,r,o,s,a),h(t,e,i,n,r,o,s,a)}else t.x=i,t.y=n,t.point=e}else h(t,e,i,n,r,o,s,a)}function h(t,e,i,n,r,s,a,l){var h=.5*(r+a),u=.5*(s+l),c=i>=h,d=n>=u,p=d<<1|c;t.leaf=!1,t=t.nodes[p]||(t.nodes[p]=dn()),c?r=h:a=h,d?s=u:l=u,o(t,e,i,n,r,s,a,l)}var u,c,d,p,f,g,m,v,y,_=St(a),x=St(l);if(null!=e)g=e,m=i,v=n,y=r;else if(v=y=-(g=m=1/0),c=[],d=[],f=t.length,s)for(p=0;f>p;++p)u=t[p],u.x<g&&(g=u.x),u.y<m&&(m=u.y),u.x>v&&(v=u.x),u.y>y&&(y=u.y),c.push(u.x),d.push(u.y);else for(p=0;f>p;++p){var b=+_(u=t[p],p),w=+x(u,p);g>b&&(g=b),m>w&&(m=w),b>v&&(v=b),w>y&&(y=w),c.push(b),d.push(w)}var k=v-g,C=y-m;k>C?y=m+k:v=g+C;var T=dn();if(T.add=function(t){o(T,t,+_(t,++p),+x(t,p),g,m,v,y)},T.visit=function(t){pn(t,T,g,m,v,y)},T.find=function(t){return fn(T,t[0],t[1],g,m,v,y)},p=-1,null==e){for(;++p<f;)o(T,t[p],c[p],d[p],g,m,v,y);--p}else t.forEach(T.add);return c=d=t=u=null,T}var s,a=Mi,l=Ai;return(s=arguments.length)?(a=un,l=cn,3===s&&(r=i,n=e,i=e=0),o(t)):(o.x=function(t){return arguments.length?(a=t,o):a},o.y=function(t){return arguments.length?(l=t,o):l},o.extent=function(t){return arguments.length?(null==t?e=i=n=r=null:(e=+t[0][0],i=+t[0][1],n=+t[1][0],r=+t[1][1]),o):null==e?null:[[e,i],[n,r]]},o.size=function(t){return arguments.length?(null==t?e=i=n=r=null:(e=i=0,n=+t[0],r=+t[1]),o):null==e?null:[n-e,r-i]},o)},ls.interpolateRgb=gn,ls.interpolateObject=mn,ls.interpolateNumber=vn,ls.interpolateString=yn;var al=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ll=new RegExp(al.source,"g");ls.interpolate=_n,ls.interpolators=[function(t,e){var i=typeof e;return("string"===i?ta.has(e.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(e)?gn:yn:e instanceof st?gn:Array.isArray(e)?xn:"object"===i&&isNaN(e)?mn:vn)(t,e)}],ls.interpolateArray=xn;var hl=function(){return y},ul=ls.map({linear:hl,poly:Dn,quad:function(){return Cn},cubic:function(){return Tn},sin:function(){return Mn},exp:function(){return An},circle:function(){return Pn},elastic:Ln,back:En,bounce:function(){return qn}}),cl=ls.map({in:y,out:wn,"in-out":kn,"out-in":function(t){return kn(wn(t))}});ls.ease=function(t){var e=t.indexOf("-"),i=e>=0?t.slice(0,e):t,n=e>=0?t.slice(e+1):"in";return i=ul.get(i)||hl,n=cl.get(n)||y,bn(n(i.apply(null,hs.call(arguments,1))))},ls.interpolateHcl=In,ls.interpolateHsl=jn,ls.interpolateLab=On,ls.interpolateRound=Rn,ls.transform=function(t){var e=cs.createElementNS(ls.ns.prefix.svg,"g");return(ls.transform=function(t){if(null!=t){e.setAttribute("transform",t);var i=e.transform.baseVal.consolidate()}return new Nn(i?i.matrix:dl)})(t)},Nn.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var dl={a:1,b:0,c:0,d:1,e:0,f:0};ls.interpolateTransform=Gn,ls.layout={},ls.layout.bundle=function(){return function(t){for(var e=[],i=-1,n=t.length;++i<n;)e.push($n(t[i]));return e}},ls.layout.chord=function(){function t(){var t,h,c,d,p,f={},g=[],m=ls.range(o),v=[];for(i=[],n=[],t=0,d=-1;++d<o;){for(h=0,p=-1;++p<o;)h+=r[d][p];g.push(h),v.push(ls.range(o)),t+=h}for(s&&m.sort(function(t,e){return s(g[t],g[e])}),a&&v.forEach(function(t,e){t.sort(function(t,i){return a(r[e][t],r[e][i])})}),t=(Rs-u*o)/t,h=0,d=-1;++d<o;){for(c=h,p=-1;++p<o;){var y=m[d],_=v[y][p],x=r[y][_],b=h,w=h+=x*t;f[y+"-"+_]={index:y,subindex:_,startAngle:b,endAngle:w,value:x}}n[y]={index:y,startAngle:c,endAngle:h,value:g[y]},h+=u}for(d=-1;++d<o;)for(p=d-1;++p<o;){var k=f[d+"-"+p],C=f[p+"-"+d];(k.value||C.value)&&i.push(k.value<C.value?{source:C,target:k}:{source:k,target:C})}l&&e()}function e(){i.sort(function(t,e){return l((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}var i,n,r,o,s,a,l,h={},u=0;return h.matrix=function(t){return arguments.length?(o=(r=t)&&r.length,i=n=null,h):r},h.padding=function(t){return arguments.length?(u=t,i=n=null,h):u},h.sortGroups=function(t){return arguments.length?(s=t,i=n=null,h):s},h.sortSubgroups=function(t){return arguments.length?(a=t,i=null,h):a},h.sortChords=function(t){return arguments.length?(l=t,i&&e(),h):l},h.chords=function(){return i||t(),i},h.groups=function(){return n||t(),n},h},ls.layout.force=function(){function t(t){return function(e,i,n,r){if(e.point!==t){var o=e.cx-t.x,s=e.cy-t.y,a=r-i,l=o*o+s*s;if(l>a*a/v){if(g>l){var h=e.charge/l;t.px-=o*h,t.py-=s*h}return!0}if(e.point&&l&&g>l){var h=e.pointCharge/l;t.px-=o*h,t.py-=s*h}}return!e.charge}}function e(t){t.px=ls.event.x,t.py=ls.event.y,l.resume()}var i,n,r,o,s,a,l={},h=ls.dispatch("start","tick","end"),u=[1,1],c=.9,d=pl,p=fl,f=-30,g=gl,m=.1,v=.64,_=[],x=[];return l.tick=function(){if((r*=.99)<.005)return i=null,h.end({type:"end",alpha:r=0}),!0;var e,n,l,d,p,g,v,y,b,w=_.length,k=x.length;for(n=0;k>n;++n)l=x[n],d=l.source,p=l.target,y=p.x-d.x,b=p.y-d.y,(g=y*y+b*b)&&(g=r*s[n]*((g=Math.sqrt(g))-o[n])/g,y*=g,b*=g,p.x-=y*(v=d.weight+p.weight?d.weight/(d.weight+p.weight):.5),p.y-=b*v,d.x+=y*(v=1-v),d.y+=b*v);if((v=r*m)&&(y=u[0]/2,b=u[1]/2,n=-1,v))for(;++n<w;)l=_[n],l.x+=(y-l.x)*v,l.y+=(b-l.y)*v;if(f)for(nr(e=ls.geom.quadtree(_),r,a),n=-1;++n<w;)(l=_[n]).fixed||e.visit(t(l));for(n=-1;++n<w;)l=_[n],l.fixed?(l.x=l.px,l.y=l.py):(l.x-=(l.px-(l.px=l.x))*c,l.y-=(l.py-(l.py=l.y))*c);h.tick({type:"tick",alpha:r})},l.nodes=function(t){return arguments.length?(_=t,l):_},l.links=function(t){return arguments.length?(x=t,l):x},l.size=function(t){return arguments.length?(u=t,l):u},l.linkDistance=function(t){return arguments.length?(d="function"==typeof t?t:+t,l):d},l.distance=l.linkDistance,l.linkStrength=function(t){return arguments.length?(p="function"==typeof t?t:+t,l):p},l.friction=function(t){return arguments.length?(c=+t,l):c},l.charge=function(t){return arguments.length?(f="function"==typeof t?t:+t,l):f},l.chargeDistance=function(t){return arguments.length?(g=t*t,l):Math.sqrt(g)},l.gravity=function(t){return arguments.length?(m=+t,l):m},l.theta=function(t){return arguments.length?(v=t*t,l):Math.sqrt(v)},l.alpha=function(t){return arguments.length?(t=+t,r?t>0?r=t:(i.c=null,i.t=NaN,i=null,h.end({type:"end",alpha:r=0})):t>0&&(h.start({type:"start",alpha:r=t}),i=Lt(l.tick)),l):r},l.start=function(){function t(t,n){if(!i){for(i=new Array(r),l=0;r>l;++l)i[l]=[];for(l=0;h>l;++l){var o=x[l];i[o.source.index].push(o.target),i[o.target.index].push(o.source)}}for(var s,a=i[e],l=-1,u=a.length;++l<u;)if(!isNaN(s=a[l][t]))return s;return Math.random()*n}var e,i,n,r=_.length,h=x.length,c=u[0],g=u[1];for(e=0;r>e;++e)(n=_[e]).index=e,n.weight=0;for(e=0;h>e;++e)n=x[e],"number"==typeof n.source&&(n.source=_[n.source]),"number"==typeof n.target&&(n.target=_[n.target]),++n.source.weight,++n.target.weight;for(e=0;r>e;++e)n=_[e],isNaN(n.x)&&(n.x=t("x",c)),isNaN(n.y)&&(n.y=t("y",g)),isNaN(n.px)&&(n.px=n.x),isNaN(n.py)&&(n.py=n.y);if(o=[],"function"==typeof d)for(e=0;h>e;++e)o[e]=+d.call(this,x[e],e);else for(e=0;h>e;++e)o[e]=d;if(s=[],"function"==typeof p)for(e=0;h>e;++e)s[e]=+p.call(this,x[e],e);else for(e=0;h>e;++e)s[e]=p;if(a=[],"function"==typeof f)for(e=0;r>e;++e)a[e]=+f.call(this,_[e],e);else for(e=0;r>e;++e)a[e]=f;return l.resume()},l.resume=function(){return l.alpha(.1)},l.stop=function(){return l.alpha(0)},l.drag=function(){return n||(n=ls.behavior.drag().origin(y).on("dragstart.force",Qn).on("drag.force",e).on("dragend.force",tr)),arguments.length?void this.on("mouseover.force",er).on("mouseout.force",ir).call(n):n},ls.rebind(l,h,"on")};var pl=20,fl=1,gl=1/0;ls.layout.hierarchy=function(){function t(r){var o,s=[r],a=[];for(r.depth=0;null!=(o=s.pop());)if(a.push(o),(h=i.call(t,o,o.depth))&&(l=h.length)){for(var l,h,u;--l>=0;)s.push(u=h[l]),u.parent=o,u.depth=o.depth+1;n&&(o.value=0),o.children=h}else n&&(o.value=+n.call(t,o,o.depth)||0),delete o.children;return sr(r,function(t){var i,r;e&&(i=t.children)&&i.sort(e),n&&(r=t.parent)&&(r.value+=t.value)}),a}var e=hr,i=ar,n=lr;return t.sort=function(i){return arguments.length?(e=i,t):e},t.children=function(e){return arguments.length?(i=e,t):i},t.value=function(e){return arguments.length?(n=e,t):n},t.revalue=function(e){return n&&(or(e,function(t){t.children&&(t.value=0)}),sr(e,function(e){var i;e.children||(e.value=+n.call(t,e,e.depth)||0),(i=e.parent)&&(i.value+=e.value)})),e},t},ls.layout.partition=function(){function t(e,i,n,r){var o=e.children;if(e.x=i,e.y=e.depth*r,e.dx=n,e.dy=r,o&&(s=o.length)){var s,a,l,h=-1;for(n=e.value?n/e.value:0;++h<s;)t(a=o[h],i,l=a.value*n,r),i+=l}}function e(t){var i=t.children,n=0;if(i&&(r=i.length))for(var r,o=-1;++o<r;)n=Math.max(n,e(i[o]));return 1+n}function i(i,o){var s=n.call(this,i,o);return t(s[0],0,r[0],r[1]/e(s[0])),s}var n=ls.layout.hierarchy(),r=[1,1];return i.size=function(t){return arguments.length?(r=t,i):r},rr(i,n)},ls.layout.pie=function(){function t(s){var a,l=s.length,h=s.map(function(i,n){return+e.call(t,i,n)}),u=+("function"==typeof n?n.apply(this,arguments):n),c=("function"==typeof r?r.apply(this,arguments):r)-u,d=Math.min(Math.abs(c)/l,+("function"==typeof o?o.apply(this,arguments):o)),p=d*(0>c?-1:1),f=ls.sum(h),g=f?(c-l*p)/f:0,m=ls.range(l),v=[];return null!=i&&m.sort(i===ml?function(t,e){return h[e]-h[t]}:function(t,e){return i(s[t],s[e])}),m.forEach(function(t){v[t]={data:s[t],value:a=h[t],startAngle:u,endAngle:u+=a*g+p,padAngle:d}}),v}var e=Number,i=ml,n=0,r=Rs,o=0;return t.value=function(i){return arguments.length?(e=i,t):e},t.sort=function(e){return arguments.length?(i=e,t):i},t.startAngle=function(e){return arguments.length?(n=e,t):n},t.endAngle=function(e){return arguments.length?(r=e,t):r},t.padAngle=function(e){return arguments.length?(o=e,t):o},t};var ml={};ls.layout.stack=function(){function t(a,l){if(!(d=a.length))return a;var h=a.map(function(i,n){return e.call(t,i,n)}),u=h.map(function(e){return e.map(function(e,i){return[o.call(t,e,i),s.call(t,e,i)]})}),c=i.call(t,u,l);h=ls.permute(h,c),u=ls.permute(u,c);var d,p,f,g,m=n.call(t,u,l),v=h[0].length;for(f=0;v>f;++f)for(r.call(t,h[0][f],g=m[f],u[0][f][1]),p=1;d>p;++p)r.call(t,h[p][f],g+=u[p-1][f][1],u[p][f][1]);return a}var e=y,i=fr,n=gr,r=pr,o=cr,s=dr;return t.values=function(i){return arguments.length?(e=i,t):e},t.order=function(e){return arguments.length?(i="function"==typeof e?e:vl.get(e)||fr,t):i},t.offset=function(e){return arguments.length?(n="function"==typeof e?e:yl.get(e)||gr,t):n},t.x=function(e){return arguments.length?(o=e,t):o},t.y=function(e){return arguments.length?(s=e,t):s},t.out=function(e){return arguments.length?(r=e,t):r},t};var vl=ls.map({"inside-out":function(t){var e,i,n=t.length,r=t.map(mr),o=t.map(vr),s=ls.range(n).sort(function(t,e){return r[t]-r[e]}),a=0,l=0,h=[],u=[];for(e=0;n>e;++e)i=s[e],l>a?(a+=o[i],h.push(i)):(l+=o[i],u.push(i));return u.reverse().concat(h)},reverse:function(t){return ls.range(t.length).reverse()},default:fr}),yl=ls.map({silhouette:function(t){var e,i,n,r=t.length,o=t[0].length,s=[],a=0,l=[];for(i=0;o>i;++i){for(e=0,n=0;r>e;e++)n+=t[e][i][1];n>a&&(a=n),s.push(n)}for(i=0;o>i;++i)l[i]=(a-s[i])/2;return l},wiggle:function(t){var e,i,n,r,o,s,a,l,h,u=t.length,c=t[0],d=c.length,p=[];for(p[0]=l=h=0,i=1;d>i;++i){for(e=0,r=0;u>e;++e)r+=t[e][i][1];for(e=0,o=0,a=c[i][0]-c[i-1][0];u>e;++e){for(n=0,s=(t[e][i][1]-t[e][i-1][1])/(2*a);e>n;++n)s+=(t[n][i][1]-t[n][i-1][1])/a;o+=s*t[e][i][1]}p[i]=l-=r?o/r*a:0,h>l&&(h=l)}for(i=0;d>i;++i)p[i]-=h;return p},expand:function(t){var e,i,n,r=t.length,o=t[0].length,s=1/r,a=[];for(i=0;o>i;++i){for(e=0,n=0;r>e;e++)n+=t[e][i][1];if(n)for(e=0;r>e;e++)t[e][i][1]/=n;else for(e=0;r>e;e++)t[e][i][1]=s}for(i=0;o>i;++i)a[i]=0;return a},zero:gr});ls.layout.histogram=function(){function t(t,o){for(var s,a,l=[],h=t.map(i,this),u=n.call(this,h,o),c=r.call(this,u,h,o),o=-1,d=h.length,p=c.length-1,f=e?1:1/d;++o<p;)s=l[o]=[],s.dx=c[o+1]-(s.x=c[o]),s.y=0;if(p>0)for(o=-1;++o<d;)(a=h[o])>=u[0]&&a<=u[1]&&(s=l[ls.bisect(c,a,1,p)-1],s.y+=f,s.push(t[o]));return l}var e=!0,i=Number,n=br,r=_r;return t.value=function(e){return arguments.length?(i=e,t):i},t.range=function(e){return arguments.length?(n=St(e),t):n},t.bins=function(e){return arguments.length?(r="number"==typeof e?function(t){return xr(t,e)}:St(e),t):r},t.frequency=function(i){return arguments.length?(e=!!i,t):e},t},ls.layout.pack=function(){function t(t,o){var s=i.call(this,t,o),a=s[0],l=r[0],h=r[1],u=null==e?Math.sqrt:"function"==typeof e?e:function(){return e};if(a.x=a.y=0,sr(a,function(t){t.r=+u(t.value)}),sr(a,Sr),n){var c=n*(e?1:Math.max(2*a.r/l,2*a.r/h))/2;sr(a,function(t){t.r+=c}),sr(a,Sr),sr(a,function(t){t.r-=c})}return Ar(a,l/2,h/2,e?1:1/Math.max(2*a.r/l,2*a.r/h)),s}var e,i=ls.layout.hierarchy().sort(wr),n=0,r=[1,1];return t.size=function(e){return arguments.length?(r=e,t):r},t.radius=function(i){return arguments.length?(e=null==i||"function"==typeof i?i:+i,t):e},t.padding=function(e){return arguments.length?(n=+e,t):n},rr(t,i)},ls.layout.tree=function(){function t(t,r){var u=s.call(this,t,r),c=u[0],d=e(c);if(sr(d,i),d.parent.m=-d.z,or(d,n),h)or(c,o);else{var p=c,f=c,g=c;or(c,function(t){t.x<p.x&&(p=t),t.x>f.x&&(f=t),t.depth>g.depth&&(g=t)});var m=a(p,f)/2-p.x,v=l[0]/(f.x+a(f,p)/2+m),y=l[1]/(g.depth||1);or(c,function(t){t.x=(t.x+m)*v,t.y=t.depth*y})}return u}function e(t){for(var e,i={A:null,children:[t]},n=[i];null!=(e=n.pop());)for(var r,o=e.children,s=0,a=o.length;a>s;++s)n.push((o[s]=r={_:o[s],parent:e,children:(r=o[s].children)&&r.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:s}).a=r);return i.children[0]}function i(t){var e=t.children,i=t.parent.children,n=t.i?i[t.i-1]:null;if(e.length){jr(t);var o=(e[0].z+e[e.length-1].z)/2;n?(t.z=n.z+a(t._,n._),t.m=t.z-o):t.z=o}else n&&(t.z=n.z+a(t._,n._));t.parent.A=r(t,n,t.parent.A||i[0])}function n(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function r(t,e,i){if(e){for(var n,r=t,o=t,s=e,l=r.parent.children[0],h=r.m,u=o.m,c=s.m,d=l.m;s=qr(s),r=Er(r),s&&r;)l=Er(l),o=qr(o),o.a=t,n=s.z+c-r.z-h+a(s._,r._),n>0&&(Ir(Or(s,t,i),t,n),h+=n,u+=n),c+=s.m,h+=r.m,d+=l.m,u+=o.m;s&&!qr(o)&&(o.t=s,o.m+=c-u),r&&!Er(l)&&(l.t=r,l.m+=h-d,i=t)}return i}function o(t){t.x*=l[0],t.y=t.depth*l[1]}var s=ls.layout.hierarchy().sort(null).value(null),a=Lr,l=[1,1],h=null;return t.separation=function(e){return arguments.length?(a=e,t):a},t.size=function(e){return arguments.length?(h=null==(l=e)?o:null,t):h?null:l},t.nodeSize=function(e){return arguments.length?(h=null==(l=e)?null:o,t):h?l:null},rr(t,s)},ls.layout.cluster=function(){function t(t,o){var s,a=e.call(this,t,o),l=a[0],h=0;sr(l,function(t){var e=t.children;e&&e.length?(t.x=Nr(e),t.y=Rr(e)):(t.x=s?h+=i(t,s):0,t.y=0,s=t)});var u=Fr(l),c=zr(l),d=u.x-i(u,c)/2,p=c.x+i(c,u)/2;return sr(l,r?function(t){t.x=(t.x-l.x)*n[0],t.y=(l.y-t.y)*n[1]}:function(t){t.x=(t.x-d)/(p-d)*n[0],t.y=(1-(l.y?t.y/l.y:1))*n[1]}),a}var e=ls.layout.hierarchy().sort(null).value(null),i=Lr,n=[1,1],r=!1;return t.separation=function(e){return arguments.length?(i=e,t):i},t.size=function(e){return arguments.length?(r=null==(n=e),t):r?null:n},t.nodeSize=function(e){return arguments.length?(r=null!=(n=e),t):r?n:null},rr(t,e)},ls.layout.treemap=function(){function t(t,e){for(var i,n,r=-1,o=t.length;++r<o;)n=(i=t[r]).value*(0>e?0:e),i.area=isNaN(n)||0>=n?0:n}function e(i){var o=i.children;if(o&&o.length){var s,a,l,h=c(i),u=[],d=o.slice(),f=1/0,g="slice"===p?h.dx:"dice"===p?h.dy:"slice-dice"===p?1&i.depth?h.dy:h.dx:Math.min(h.dx,h.dy);for(t(d,h.dx*h.dy/i.value),u.area=0;(l=d.length)>0;)u.push(s=d[l-1]),u.area+=s.area,"squarify"!==p||(a=n(u,g))<=f?(d.pop(),f=a):(u.area-=u.pop().area,r(u,g,h,!1),g=Math.min(h.dx,h.dy),u.length=u.area=0,f=1/0);u.length&&(r(u,g,h,!0),u.length=u.area=0),o.forEach(e)}}function i(e){var n=e.children;if(n&&n.length){var o,s=c(e),a=n.slice(),l=[];for(t(a,s.dx*s.dy/e.value),l.area=0;o=a.pop();)l.push(o),l.area+=o.area,null!=o.z&&(r(l,o.z?s.dx:s.dy,s,!a.length),l.length=l.area=0);n.forEach(i)}}function n(t,e){for(var i,n=t.area,r=0,o=1/0,s=-1,a=t.length;++s<a;)(i=t[s].area)&&(o>i&&(o=i),i>r&&(r=i));return n*=n,e*=e,n?Math.max(e*r*f/n,n/(e*o*f)):1/0}function r(t,e,i,n){var r,o=-1,s=t.length,a=i.x,h=i.y,u=e?l(t.area/e):0;if(e==i.dx){for((n||u>i.dy)&&(u=i.dy);++o<s;)r=t[o],r.x=a,r.y=h,r.dy=u,a+=r.dx=Math.min(i.x+i.dx-a,u?l(r.area/u):0);r.z=!0,r.dx+=i.x+i.dx-a,i.y+=u,i.dy-=u}else{for((n||u>i.dx)&&(u=i.dx);++o<s;)r=t[o],r.x=a,r.y=h,r.dx=u,h+=r.dy=Math.min(i.y+i.dy-h,u?l(r.area/u):0);r.z=!1,r.dy+=i.y+i.dy-h,i.x+=u,i.dx-=u}}function o(n){var r=s||a(n),o=r[0];return o.x=o.y=0,o.value?(o.dx=h[0],o.dy=h[1]):o.dx=o.dy=0,s&&a.revalue(o),t([o],o.dx*o.dy/o.value),(s?i:e)(o),d&&(s=r),r}var s,a=ls.layout.hierarchy(),l=Math.round,h=[1,1],u=null,c=Br,d=!1,p="squarify",f=.5*(1+Math.sqrt(5));return o.size=function(t){return arguments.length?(h=t,o):h},o.padding=function(t){function e(e){var i=t.call(o,e,e.depth);return null==i?Br(e):Hr(e,"number"==typeof i?[i,i,i,i]:i)}function i(e){return Hr(e,t)}if(!arguments.length)return u;var n;return c=null==(u=t)?Br:"function"==(n=typeof t)?e:"number"===n?(t=[t,t,t,t],i):i,o},o.round=function(t){return arguments.length?(l=t?Math.round:Number,o):l!=Number},o.sticky=function(t){return arguments.length?(d=t,s=null,o):d},o.ratio=function(t){return arguments.length?(f=t,o):f},o.mode=function(t){return arguments.length?(p=t+"",o):p},rr(o,a)},ls.random={normal:function(t,e){var i=arguments.length;return 2>i&&(e=1),1>i&&(t=0),function(){var i,n,r;do{i=2*Math.random()-1,n=2*Math.random()-1,r=i*i+n*n}while(!r||r>1);return t+e*i*Math.sqrt(-2*Math.log(r)/r)}},logNormal:function(){var t=ls.random.normal.apply(ls,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=ls.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(t){return function(){for(var e=0,i=0;t>i;i++)e+=Math.random();return e}}},ls.scale={};var _l={floor:y,ceil:y};ls.scale.linear=function(){return Vr([0,1],[0,1],_n,!1)};var xl={s:1,g:1,p:1,r:1,e:1};ls.scale.log=function(){return no(ls.scale.linear().domain([0,1]),10,!0,[1,10])};var bl=ls.format(".0e"),wl={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};ls.scale.pow=function(){return ro(ls.scale.linear(),1,[0,1])},ls.scale.sqrt=function(){return ls.scale.pow().exponent(.5)},ls.scale.ordinal=function(){return so([],{t:"range",a:[[]]})},ls.scale.category10=function(){return ls.scale.ordinal().range(kl)},ls.scale.category20=function(){return ls.scale.ordinal().range(Cl)},ls.scale.category20b=function(){return ls.scale.ordinal().range(Tl)},ls.scale.category20c=function(){return ls.scale.ordinal().range(Sl)};var kl=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(_t),Cl=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(_t),Tl=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(_t),Sl=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(_t);ls.scale.quantile=function(){return ao([],[])},ls.scale.quantize=function(){return lo(0,1,[0,1])},ls.scale.threshold=function(){return ho([.5],[0,1])},ls.scale.identity=function(){return uo([0,1])},ls.svg={},ls.svg.arc=function(){function t(){var t=Math.max(0,+i.apply(this,arguments)),h=Math.max(0,+n.apply(this,arguments)),u=s.apply(this,arguments)-Fs,c=a.apply(this,arguments)-Fs,d=Math.abs(c-u),p=u>c?0:1;if(t>h&&(f=h,h=t,t=f),d>=Ns)return e(h,p)+(t?e(t,1-p):"")+"Z";var f,g,m,v,y,_,x,b,w,k,C,T,S=0,D=0,M=[];if((v=(+l.apply(this,arguments)||0)/2)&&(m=o===Dl?Math.sqrt(t*t+h*h):+o.apply(this,arguments),p||(D*=-1),h&&(D=et(m/h*Math.sin(v))),t&&(S=et(m/t*Math.sin(v)))),h){y=h*Math.cos(u+D),_=h*Math.sin(u+D),x=h*Math.cos(c-D),b=h*Math.sin(c-D);var A=Math.abs(c-u-2*D)<=Os?0:1;if(D&&yo(y,_,x,b)===p^A){var P=(u+c)/2;y=h*Math.cos(P),_=h*Math.sin(P),x=b=null}}else y=_=0;if(t){w=t*Math.cos(c-S),k=t*Math.sin(c-S),C=t*Math.cos(u+S),T=t*Math.sin(u+S);var L=Math.abs(u-c+2*S)<=Os?0:1;if(S&&yo(w,k,C,T)===1-p^L){var E=(u+c)/2;w=t*Math.cos(E),k=t*Math.sin(E),C=T=null}}else w=k=0;if(d>Is&&(f=Math.min(Math.abs(h-t)/2,+r.apply(this,arguments)))>.001){g=h>t^p?0:1;var q=f,I=f;if(Os>d){var j=null==C?[w,k]:null==x?[y,_]:qi([y,_],[C,T],[x,b],[w,k]),O=y-j[0],R=_-j[1],N=x-j[0],F=b-j[1],z=1/Math.sin(Math.acos((O*N+R*F)/(Math.sqrt(O*O+R*R)*Math.sqrt(N*N+F*F)))/2),B=Math.sqrt(j[0]*j[0]+j[1]*j[1]);I=Math.min(f,(t-B)/(z-1)),q=Math.min(f,(h-B)/(z+1))}if(null!=x){var H=_o(null==C?[w,k]:[C,T],[y,_],h,q,p),W=_o([x,b],[w,k],h,q,p);f===q?M.push("M",H[0],"A",q,",",q," 0 0,",g," ",H[1],"A",h,",",h," 0 ",1-p^yo(H[1][0],H[1][1],W[1][0],W[1][1]),",",p," ",W[1],"A",q,",",q," 0 0,",g," ",W[0]):M.push("M",H[0],"A",q,",",q," 0 1,",g," ",W[0])}else M.push("M",y,",",_);if(null!=C){var U=_o([y,_],[C,T],t,-I,p),Y=_o([w,k],null==x?[y,_]:[x,b],t,-I,p);f===I?M.push("L",Y[0],"A",I,",",I," 0 0,",g," ",Y[1],"A",t,",",t," 0 ",p^yo(Y[1][0],Y[1][1],U[1][0],U[1][1]),",",1-p," ",U[1],"A",I,",",I," 0 0,",g," ",U[0]):M.push("L",Y[0],"A",I,",",I," 0 0,",g," ",U[0])}else M.push("L",w,",",k)}else M.push("M",y,",",_),null!=x&&M.push("A",h,",",h," 0 ",A,",",p," ",x,",",b),M.push("L",w,",",k),null!=C&&M.push("A",t,",",t," 0 ",L,",",1-p," ",C,",",T);return M.push("Z"),M.join("")}function e(t,e){return"M0,"+t+"A"+t+","+t+" 0 1,"+e+" 0,"+-t+"A"+t+","+t+" 0 1,"+e+" 0,"+t}var i=po,n=fo,r=co,o=Dl,s=go,a=mo,l=vo;return t.innerRadius=function(e){return arguments.length?(i=St(e),t):i},t.outerRadius=function(e){return arguments.length?(n=St(e),t):n},t.cornerRadius=function(e){return arguments.length?(r=St(e),t):r},t.padRadius=function(e){return arguments.length?(o=e==Dl?Dl:St(e),t):o},t.startAngle=function(e){return arguments.length?(s=St(e),t):s},t.endAngle=function(e){return arguments.length?(a=St(e),t):a},t.padAngle=function(e){return arguments.length?(l=St(e),t):l},t.centroid=function(){var t=(+i.apply(this,arguments)+ +n.apply(this,arguments))/2,e=(+s.apply(this,arguments)+ +a.apply(this,arguments))/2-Fs;return[Math.cos(e)*t,Math.sin(e)*t]},t};var Dl="auto";ls.svg.line=function(){return xo(y)};var Ml=ls.map({linear:bo,"linear-closed":wo,step:ko,"step-before":Co,"step-after":To,basis:Lo,"basis-open":Eo,"basis-closed":qo,bundle:Io,cardinal:Mo,"cardinal-open":So,"cardinal-closed":Do,monotone:zo});Ml.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});var Al=[0,2/3,1/3,0],Pl=[0,1/3,2/3,0],Ll=[0,1/6,2/3,1/6];ls.svg.line.radial=function(){var t=xo(Bo);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},Co.reverse=To,To.reverse=Co,ls.svg.area=function(){return Ho(y)},ls.svg.area.radial=function(){var t=Ho(Bo);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},ls.svg.chord=function(){function t(t,a){var l=e(this,o,t,a),h=e(this,s,t,a);return"M"+l.p0+n(l.r,l.p1,l.a1-l.a0)+(i(l,h)?r(l.r,l.p1,l.r,l.p0):r(l.r,l.p1,h.r,h.p0)+n(h.r,h.p1,h.a1-h.a0)+r(h.r,h.p1,l.r,l.p0))+"Z"}function e(t,e,i,n){var r=e.call(t,i,n),o=a.call(t,r,n),s=l.call(t,r,n)-Fs,u=h.call(t,r,n)-Fs;return{r:o,a0:s,a1:u,p0:[o*Math.cos(s),o*Math.sin(s)],p1:[o*Math.cos(u),o*Math.sin(u)]}}function i(t,e){return t.a0==e.a0&&t.a1==e.a1}function n(t,e,i){return"A"+t+","+t+" 0 "+ +(i>Os)+",1 "+e}function r(t,e,i,n){return"Q 0,0 "+n}var o=yi,s=_i,a=Wo,l=go,h=mo;return t.radius=function(e){return arguments.length?(a=St(e),t):a},t.source=function(e){return arguments.length?(o=St(e),t):o},t.target=function(e){return arguments.length?(s=St(e),t):s},t.startAngle=function(e){return arguments.length?(l=St(e),t):l},t.endAngle=function(e){return arguments.length?(h=St(e),t):h},t},ls.svg.diagonal=function(){function t(t,r){var o=e.call(this,t,r),s=i.call(this,t,r),a=(o.y+s.y)/2,l=[o,{x:o.x,y:a},{x:s.x,y:a},s];return l=l.map(n),"M"+l[0]+"C"+l[1]+" "+l[2]+" "+l[3]}var e=yi,i=_i,n=Uo;return t.source=function(i){return arguments.length?(e=St(i),t):e},t.target=function(e){return arguments.length?(i=St(e),t):i},t.projection=function(e){return arguments.length?(n=e,t):n},t},ls.svg.diagonal.radial=function(){var t=ls.svg.diagonal(),e=Uo,i=t.projection;return t.projection=function(t){return arguments.length?i(Yo(e=t)):e},t},ls.svg.symbol=function(){function t(t,n){return(El.get(e.call(this,t,n))||Zo)(i.call(this,t,n))}var e=Go,i=Xo;return t.type=function(i){return arguments.length?(e=St(i),t):e},t.size=function(e){return arguments.length?(i=St(e),t):i},t};var El=ls.map({circle:Zo,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*Il)),i=e*Il;return"M0,"+-e+"L"+i+",0 0,"+e+" "+-i+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/ql),i=e*ql/2;return"M0,"+i+"L"+e+","+-i+" "+-e+","+-i+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/ql),i=e*ql/2
;return"M0,"+-i+"L"+e+","+i+" "+-e+","+i+"Z"}});ls.svg.symbolTypes=El.keys();var ql=Math.sqrt(3),Il=Math.tan(30*zs);Ds.transition=function(t){for(var e,i,n=jl||++Fl,r=Qo(t),o=[],s=Ol||{time:Date.now(),ease:Sn,delay:0,duration:250},a=-1,l=this.length;++a<l;){o.push(e=[]);for(var h=this[a],u=-1,c=h.length;++u<c;)(i=h[u])&&ts(i,u,r,n,s),e.push(i)}return $o(o,r,n)},Ds.interrupt=function(t){return this.each(null==t?Rl:Vo(Qo(t)))};var jl,Ol,Rl=Vo(Qo()),Nl=[],Fl=0;Nl.call=Ds.call,Nl.empty=Ds.empty,Nl.node=Ds.node,Nl.size=Ds.size,ls.transition=function(t,e){return t&&t.transition?jl?t.transition(e):t:ls.selection().transition(t)},ls.transition.prototype=Nl,Nl.select=function(t){var e,i,n,r=this.id,o=this.namespace,s=[];t=M(t);for(var a=-1,l=this.length;++a<l;){s.push(e=[]);for(var h=this[a],u=-1,c=h.length;++u<c;)(n=h[u])&&(i=t.call(n,n.__data__,u,a))?("__data__"in n&&(i.__data__=n.__data__),ts(i,u,o,r,n[o][r]),e.push(i)):e.push(null)}return $o(s,o,r)},Nl.selectAll=function(t){var e,i,n,r,o,s=this.id,a=this.namespace,l=[];t=A(t);for(var h=-1,u=this.length;++h<u;)for(var c=this[h],d=-1,p=c.length;++d<p;)if(n=c[d]){o=n[a][s],i=t.call(n,n.__data__,d,h),l.push(e=[]);for(var f=-1,g=i.length;++f<g;)(r=i[f])&&ts(r,f,a,s,o),e.push(r)}return $o(l,a,s)},Nl.filter=function(t){var e,i,n,r=[];"function"!=typeof t&&(t=B(t));for(var o=0,s=this.length;s>o;o++){r.push(e=[]);for(var i=this[o],a=0,l=i.length;l>a;a++)(n=i[a])&&t.call(n,n.__data__,a,o)&&e.push(n)}return $o(r,this.namespace,this.id)},Nl.tween=function(t,e){var i=this.id,n=this.namespace;return arguments.length<2?this.node()[n][i].tween.get(t):W(this,null==e?function(e){e[n][i].tween.remove(t)}:function(r){r[n][i].tween.set(t,e)})},Nl.attr=function(t,e){function i(){this.removeAttribute(a)}function n(){this.removeAttributeNS(a.space,a.local)}function r(t){return null==t?i:(t+="",function(){var e,i=this.getAttribute(a);return i!==t&&(e=s(i,t),function(t){this.setAttribute(a,e(t))})})}function o(t){return null==t?n:(t+="",function(){var e,i=this.getAttributeNS(a.space,a.local);return i!==t&&(e=s(i,t),function(t){this.setAttributeNS(a.space,a.local,e(t))})})}if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var s="transform"==t?Gn:_n,a=ls.ns.qualify(t);return Jo(this,"attr."+t,e,a.local?o:r)},Nl.attrTween=function(t,e){function i(t,i){var n=e.call(this,t,i,this.getAttribute(r));return n&&function(t){this.setAttribute(r,n(t))}}function n(t,i){var n=e.call(this,t,i,this.getAttributeNS(r.space,r.local));return n&&function(t){this.setAttributeNS(r.space,r.local,n(t))}}var r=ls.ns.qualify(t);return this.tween("attr."+t,r.local?n:i)},Nl.style=function(t,i,n){function r(){this.style.removeProperty(t)}function o(i){return null==i?r:(i+="",function(){var r,o=e(this).getComputedStyle(this,null).getPropertyValue(t);return o!==i&&(r=_n(o,i),function(e){this.style.setProperty(t,r(e),n)})})}var s=arguments.length;if(3>s){if("string"!=typeof t){2>s&&(i="");for(n in t)this.style(n,t[n],i);return this}n=""}return Jo(this,"style."+t,i,o)},Nl.styleTween=function(t,i,n){function r(r,o){var s=i.call(this,r,o,e(this).getComputedStyle(this,null).getPropertyValue(t));return s&&function(e){this.style.setProperty(t,s(e),n)}}return arguments.length<3&&(n=""),this.tween("style."+t,r)},Nl.text=function(t){return Jo(this,"text",t,Ko)},Nl.remove=function(){var t=this.namespace;return this.each("end.transition",function(){var e;this[t].count<2&&(e=this.parentNode)&&e.removeChild(this)})},Nl.ease=function(t){var e=this.id,i=this.namespace;return arguments.length<1?this.node()[i][e].ease:("function"!=typeof t&&(t=ls.ease.apply(ls,arguments)),W(this,function(n){n[i][e].ease=t}))},Nl.delay=function(t){var e=this.id,i=this.namespace;return arguments.length<1?this.node()[i][e].delay:W(this,"function"==typeof t?function(n,r,o){n[i][e].delay=+t.call(n,n.__data__,r,o)}:(t=+t,function(n){n[i][e].delay=t}))},Nl.duration=function(t){var e=this.id,i=this.namespace;return arguments.length<1?this.node()[i][e].duration:W(this,"function"==typeof t?function(n,r,o){n[i][e].duration=Math.max(1,t.call(n,n.__data__,r,o))}:(t=Math.max(1,t),function(n){n[i][e].duration=t}))},Nl.each=function(t,e){var i=this.id,n=this.namespace;if(arguments.length<2){var r=Ol,o=jl;try{jl=i,W(this,function(e,r,o){Ol=e[n][i],t.call(e,e.__data__,r,o)})}finally{Ol=r,jl=o}}else W(this,function(r){var o=r[n][i];(o.event||(o.event=ls.dispatch("start","end","interrupt"))).on(t,e)});return this},Nl.transition=function(){for(var t,e,i,n,r=this.id,o=++Fl,s=this.namespace,a=[],l=0,h=this.length;h>l;l++){a.push(t=[]);for(var e=this[l],u=0,c=e.length;c>u;u++)(i=e[u])&&(n=i[s][r],ts(i,u,s,o,{time:n.time,ease:n.ease,delay:n.delay+n.duration,duration:n.duration})),t.push(i)}return $o(a,s,o)},ls.svg.axis=function(){function t(t){t.each(function(){var t,h=ls.select(this),u=this.__chart__||i,c=this.__chart__=i.copy(),d=null==l?c.ticks?c.ticks.apply(c,a):c.domain():l,p=null==e?c.tickFormat?c.tickFormat.apply(c,a):y:e,f=h.selectAll(".tick").data(d,c),g=f.enter().insert("g",".domain").attr("class","tick").style("opacity",Is),m=ls.transition(f.exit()).style("opacity",Is).remove(),v=ls.transition(f.order()).style("opacity",1),_=Math.max(r,0)+s,x=Ur(c),b=h.selectAll(".domain").data([0]),w=(b.enter().append("path").attr("class","domain"),ls.transition(b));g.append("line"),g.append("text");var k,C,T,S,D=g.select("line"),M=v.select("line"),A=f.select("text").text(p),P=g.select("text"),L=v.select("text"),E="top"===n||"left"===n?-1:1;if("bottom"===n||"top"===n?(t=es,k="x",T="y",C="x2",S="y2",A.attr("dy",0>E?"0em":".71em").style("text-anchor","middle"),w.attr("d","M"+x[0]+","+E*o+"V0H"+x[1]+"V"+E*o)):(t=is,k="y",T="x",C="y2",S="x2",A.attr("dy",".32em").style("text-anchor",0>E?"end":"start"),w.attr("d","M"+E*o+","+x[0]+"H0V"+x[1]+"H"+E*o)),D.attr(S,E*r),P.attr(T,E*_),M.attr(C,0).attr(S,E*r),L.attr(k,0).attr(T,E*_),c.rangeBand){var q=c,I=q.rangeBand()/2;u=c=function(t){return q(t)+I}}else u.rangeBand?u=c:m.call(t,c,u);g.call(t,u,c),v.call(t,c,c)})}var e,i=ls.scale.linear(),n=zl,r=6,o=6,s=3,a=[10],l=null;return t.scale=function(e){return arguments.length?(i=e,t):i},t.orient=function(e){return arguments.length?(n=e in Bl?e+"":zl,t):n},t.ticks=function(){return arguments.length?(a=us(arguments),t):a},t.tickValues=function(e){return arguments.length?(l=e,t):l},t.tickFormat=function(i){return arguments.length?(e=i,t):e},t.tickSize=function(e){var i=arguments.length;return i?(r=+e,o=+arguments[i-1],t):r},t.innerTickSize=function(e){return arguments.length?(r=+e,t):r},t.outerTickSize=function(e){return arguments.length?(o=+e,t):o},t.tickPadding=function(e){return arguments.length?(s=+e,t):s},t.tickSubdivide=function(){return arguments.length&&t},t};var zl="bottom",Bl={top:1,right:1,bottom:1,left:1};ls.svg.brush=function(){function t(e){e.each(function(){var e=ls.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",o).on("touchstart.brush",o),s=e.selectAll(".background").data([0]);s.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),e.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var a=e.selectAll(".resize").data(g,y);a.exit().remove(),a.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return Hl[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),a.style("display",t.empty()?"none":null);var l,c=ls.transition(e),d=ls.transition(s);h&&(l=Ur(h),d.attr("x",l[0]).attr("width",l[1]-l[0]),n(c)),u&&(l=Ur(u),d.attr("y",l[0]).attr("height",l[1]-l[0]),r(c)),i(c)})}function i(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+c[+/e$/.test(t)]+","+d[+/^s/.test(t)]+")"})}function n(t){t.select(".extent").attr("x",c[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",c[1]-c[0])}function r(t){t.select(".extent").attr("y",d[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",d[1]-d[0])}function o(){function o(){32==ls.event.keyCode&&(A||(_=null,L[0]-=c[1],L[1]-=d[1],A=2),C())}function g(){32==ls.event.keyCode&&2==A&&(L[0]+=c[1],L[1]+=d[1],A=0,C())}function m(){var t=ls.mouse(b),e=!1;x&&(t[0]+=x[0],t[1]+=x[1]),A||(ls.event.altKey?(_||(_=[(c[0]+c[1])/2,(d[0]+d[1])/2]),L[0]=c[+(t[0]<_[0])],L[1]=d[+(t[1]<_[1])]):_=null),D&&v(t,h,0)&&(n(T),e=!0),M&&v(t,u,1)&&(r(T),e=!0),e&&(i(T),k({type:"brush",mode:A?"move":"resize"}))}function v(t,e,i){var n,r,o=Ur(e),l=o[0],h=o[1],u=L[i],g=i?d:c,m=g[1]-g[0];return A&&(l-=u,h-=m+u),n=(i?f:p)?Math.max(l,Math.min(h,t[i])):t[i],A?r=(n+=u)+m:(_&&(u=Math.max(l,Math.min(h,2*_[i]-n))),n>u?(r=n,n=u):r=u),g[0]!=n||g[1]!=r?(i?a=null:s=null,g[0]=n,g[1]=r,!0):void 0}function y(){m(),T.style("pointer-events","all").selectAll(".resize").style("display",t.empty()?"none":null),ls.select("body").style("cursor",null),E.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),P(),k({type:"brushend"})}var _,x,b=this,w=ls.select(ls.event.target),k=l.of(b,arguments),T=ls.select(b),S=w.datum(),D=!/^(n|s)$/.test(S)&&h,M=!/^(e|w)$/.test(S)&&u,A=w.classed("extent"),P=V(b),L=ls.mouse(b),E=ls.select(e(b)).on("keydown.brush",o).on("keyup.brush",g);if(ls.event.changedTouches?E.on("touchmove.brush",m).on("touchend.brush",y):E.on("mousemove.brush",m).on("mouseup.brush",y),T.interrupt().selectAll("*").interrupt(),A)L[0]=c[0]-L[0],L[1]=d[0]-L[1];else if(S){var q=+/w$/.test(S),I=+/^n/.test(S);x=[c[1-q]-L[0],d[1-I]-L[1]],L[0]=c[q],L[1]=d[I]}else ls.event.altKey&&(_=L.slice());T.style("pointer-events","none").selectAll(".resize").style("display",null),ls.select("body").style("cursor",w.style("cursor")),k({type:"brushstart"}),m()}var s,a,l=S(t,"brushstart","brush","brushend"),h=null,u=null,c=[0,0],d=[0,0],p=!0,f=!0,g=Wl[0];return t.event=function(t){t.each(function(){var t=l.of(this,arguments),e={x:c,y:d,i:s,j:a},i=this.__chart__||e;this.__chart__=e,jl?ls.select(this).transition().each("start.brush",function(){s=i.i,a=i.j,c=i.x,d=i.y,t({type:"brushstart"})}).tween("brush:brush",function(){var i=xn(c,e.x),n=xn(d,e.y);return s=a=null,function(r){c=e.x=i(r),d=e.y=n(r),t({type:"brush",mode:"resize"})}}).each("end.brush",function(){s=e.i,a=e.j,t({type:"brush",mode:"resize"}),t({type:"brushend"})}):(t({type:"brushstart"}),t({type:"brush",mode:"resize"}),t({type:"brushend"}))})},t.x=function(e){return arguments.length?(h=e,g=Wl[!h<<1|!u],t):h},t.y=function(e){return arguments.length?(u=e,g=Wl[!h<<1|!u],t):u},t.clamp=function(e){return arguments.length?(h&&u?(p=!!e[0],f=!!e[1]):h?p=!!e:u&&(f=!!e),t):h&&u?[p,f]:h?p:u?f:null},t.extent=function(e){var i,n,r,o,l;return arguments.length?(h&&(i=e[0],n=e[1],u&&(i=i[0],n=n[0]),s=[i,n],h.invert&&(i=h(i),n=h(n)),i>n&&(l=i,i=n,n=l),(i!=c[0]||n!=c[1])&&(c=[i,n])),u&&(r=e[0],o=e[1],h&&(r=r[1],o=o[1]),a=[r,o],u.invert&&(r=u(r),o=u(o)),r>o&&(l=r,r=o,o=l),(r!=d[0]||o!=d[1])&&(d=[r,o])),t):(h&&(s?(i=s[0],n=s[1]):(i=c[0],n=c[1],h.invert&&(i=h.invert(i),n=h.invert(n)),i>n&&(l=i,i=n,n=l))),u&&(a?(r=a[0],o=a[1]):(r=d[0],o=d[1],u.invert&&(r=u.invert(r),o=u.invert(o)),r>o&&(l=r,r=o,o=l))),h&&u?[[i,r],[n,o]]:h?[i,n]:u&&[r,o])},t.clear=function(){return t.empty()||(c=[0,0],d=[0,0],s=a=null),t},t.empty=function(){return!!h&&c[0]==c[1]||!!u&&d[0]==d[1]},ls.rebind(t,l,"on")};var Hl={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Wl=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Ul=ha.format=ga.timeFormat,Yl=Ul.utc,Xl=Yl("%Y-%m-%dT%H:%M:%S.%LZ");Ul.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?ns:Xl,ns.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},ns.toString=Xl.toString,ha.second=zt(function(t){return new ua(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),ha.seconds=ha.second.range,ha.seconds.utc=ha.second.utc.range,ha.minute=zt(function(t){return new ua(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),ha.minutes=ha.minute.range,ha.minutes.utc=ha.minute.utc.range,ha.hour=zt(function(t){var e=t.getTimezoneOffset()/60;return new ua(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),ha.hours=ha.hour.range,ha.hours.utc=ha.hour.utc.range,ha.month=zt(function(t){return t=ha.day(t),t.setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),ha.months=ha.month.range,ha.months.utc=ha.month.utc.range;var Gl=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Zl=[[ha.second,1],[ha.second,5],[ha.second,15],[ha.second,30],[ha.minute,1],[ha.minute,5],[ha.minute,15],[ha.minute,30],[ha.hour,1],[ha.hour,3],[ha.hour,6],[ha.hour,12],[ha.day,1],[ha.day,2],[ha.week,1],[ha.month,1],[ha.month,3],[ha.year,1]],Vl=Ul.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",Ae]]),$l={range:function(t,e,i){return ls.range(Math.ceil(t/i)*i,+e,i).map(os)},floor:y,ceil:y};Zl.year=ha.year,ha.scale=function(){return rs(ls.scale.linear(),Zl,Vl)};var Jl=Zl.map(function(t){return[t[0].utc,t[1]]}),Kl=Yl.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",Ae]]);Jl.year=ha.year.utc,ha.scale.utc=function(){return rs(ls.scale.linear(),Jl,Kl)},ls.text=Dt(function(t){return t.responseText}),ls.json=function(t,e){return Mt(t,"application/json",ss,e)},ls.html=function(t,e){return Mt(t,"text/html",as,e)},ls.xml=Dt(function(t){return t.responseXML}),"function"==typeof define&&define.amd?(this.d3=ls,define("d3",ls)):"object"==typeof module&&module.exports?module.exports=ls:this.d3=ls}(),function(t){"use strict";function e(t){this.owner=t}function i(t){var e=this.internal=new n(this);e.loadConfig(t),e.init(),function t(e,i,n){Object.keys(e).forEach(function(r){i[r]=e[r].bind(n),Object.keys(e[r]).length>0&&t(e[r],i[r],n)})}(s,this,this)}function n(e){var i=this;i.d3=t.d3?t.d3:"undefined"!=typeof require?require("d3"):void 0,i.api=e,i.config=i.getDefaultConfig(),i.data={},i.cache={},i.axes={}}function r(t){e.call(this,t)}function o(t,e){function i(t,e){t.attr("transform",function(t){return"translate("+Math.ceil(e(t)+x)+", 0)"})}function n(t,e){t.attr("transform",function(t){return"translate(0,"+Math.ceil(e(t))+")"})}function r(t){var e=t[0],i=t[t.length-1];return e<i?[e,i]:[i,e]}function o(t){var e,i,n=[];if(t.ticks)return t.ticks.apply(t,p);for(i=t.domain(),e=Math.ceil(i[0]);e<i[1];e++)n.push(e);return n.length>0&&n[0]>0&&n.unshift(n[0]-(n[1]-n[0])),n}function s(){var t,i=g.copy();return e.isCategory&&(t=g.domain(),i.domain([t[0],t[1]-1])),i}function a(t){var e=d?d(t):t;return void 0!==e?e:""}function l(t){if(k)return k;var e={h:11.5,w:5.5};return t.select("text").text(a).each(function(t){var i=this.getBoundingClientRect(),n=a(t),r=i.height,o=n?i.width/n.length:void 0;r&&o&&(e.h=r,e.w=o)}).text(""),k=e,e}function h(i){return e.withoutTransition?i:t.transition(i)}function u(d){d.each(function(){function d(t,i){function n(t,e){o=void 0;for(var a=1;a<e.length;a++)if(" "===e.charAt(a)&&(o=a),r=e.substr(0,a+1),s=H.w*r.length,i<s)return n(t.concat(e.substr(0,o||a)),e.slice(o?o+1:a));return t.concat(e)}var r,o,s,l=a(t),h=[];return"[object Array]"===Object.prototype.toString.call(l)?l:((!i||i<=0)&&(i=Y?95:e.isCategory?Math.ceil(D(M[1])-D(M[0]))-12:110),n(h,l+""))}function p(t,e){var i=H.h;return 0===e&&(i="left"===m||"right"===m?-((W[t.index]-1)*(H.h/2)-3):".71em"),i}function b(t){var e=g(t)+(f?0:x);return q[0]<e&&e<q[1]?v:0}var w,k,C,T=u.g=t.select(this),S=this.__chart__||g,D=this.__chart__=s(),M=_||o(D),A=T.selectAll(".tick").data(M,D),P=A.enter().insert("g",".domain").attr("class","tick").style("opacity",1e-6),L=A.exit().remove(),E=h(A).style("opacity",1),q=g.rangeExtent?g.rangeExtent():r(g.range()),I=T.selectAll(".domain").data([0]),j=(I.enter().append("path").attr("class","domain"),h(I));P.append("line"),P.append("text");var O=P.select("line"),R=E.select("line"),N=P.select("text"),F=E.select("text");e.isCategory?(x=Math.ceil((D(1)-D(0))/2),k=f?0:x,C=f?x:0):x=k=0;var z,B,H=l(T.select(".tick")),W=[],U=Math.max(v,0)+y,Y="left"===m||"right"===m;z=A.select("text"),B=z.selectAll("tspan").data(function(t,i){var n=e.tickMultiline?d(t,e.tickWidth):[].concat(a(t));return W[i]=n.length,n.map(function(t){return{index:i,splitted:t}})}),B.enter().append("tspan"),B.exit().remove(),B.text(function(t){return t.splitted});var X=e.tickTextRotate;switch(m){case"bottom":w=i,O.attr("y2",v),N.attr("y",U),R.attr("x1",k).attr("x2",k).attr("y2",b),F.attr("x",0).attr("y",function(t){return t?11.5-t/15*2.5*(t>0?1:-1):U}(X)).style("text-anchor",function(t){return t?t>0?"start":"end":"middle"}(X)).attr("transform",function(t){return t?"rotate("+t+")":""}(X)),B.attr("x",0).attr("dy",p).attr("dx",function(t){return t?8*Math.sin(Math.PI*(t/180)):0}(X)),j.attr("d","M"+q[0]+","+c+"V0H"+q[1]+"V"+c);break;case"top":w=i,O.attr("y2",-v),N.attr("y",-U),R.attr("x2",0).attr("y2",-v),F.attr("x",0).attr("y",-U),z.style("text-anchor","middle"),B.attr("x",0).attr("dy","0em"),j.attr("d","M"+q[0]+","+-c+"V0H"+q[1]+"V"+-c);break;case"left":w=n,O.attr("x2",-v),N.attr("x",-U),R.attr("x2",-v).attr("y1",C).attr("y2",C),F.attr("x",-U).attr("y",x),z.style("text-anchor","end"),B.attr("x",-U).attr("dy",p),j.attr("d","M"+-c+","+q[0]+"H0V"+q[1]+"H"+-c);break;case"right":w=n,O.attr("x2",v),N.attr("x",U),R.attr("x2",v).attr("y2",0),F.attr("x",U).attr("y",0),z.style("text-anchor","start"),B.attr("x",U).attr("dy",p),j.attr("d","M"+c+","+q[0]+"H0V"+q[1]+"H"+c)}if(D.rangeBand){var G=D,Z=G.rangeBand()/2;S=D=function(t){return G(t)+Z}}else S.rangeBand?S=D:L.call(w,D);P.call(w,S),E.call(w,D)})}var c,d,p,f,g=t.scale.linear(),m="bottom",v=6,y=3,_=null,x=0,b=!0;return e=e||{},c=e.withOuterTick?6:0,u.scale=function(t){return arguments.length?(g=t,u):g},u.orient=function(t){return arguments.length?(m=t in{top:1,right:1,bottom:1,left:1}?t+"":"bottom",u):m},u.tickFormat=function(t){return arguments.length?(d=t,u):d},u.tickCentered=function(t){return arguments.length?(f=t,u):f},u.tickOffset=function(){return x},u.tickInterval=function(){var t,i;return e.isCategory?t=2*x:(i=u.g.select("path.domain").node().getTotalLength()-2*c,t=i/u.g.selectAll("line").size()),t===1/0?0:t},u.ticks=function(){return arguments.length?(p=arguments,u):p},u.tickCulling=function(t){return arguments.length?(b=t,u):b},u.tickValues=function(t){if("function"==typeof t)_=function(){return t(g.domain())};else{if(!arguments.length)return _;_=t}return u},u}var s,a,l={version:"0.4.10"};l.generate=function(t){return new i(t)},l.chart={fn:i.prototype,internal:{fn:n.prototype,axis:{fn:r.prototype}}},s=l.chart.fn,a=l.chart.internal.fn,l.chart.internal.axis.fn,a.init=function(){var t=this,e=t.config;if(t.initParams(),e.data_url)t.convertUrlToData(e.data_url,e.data_mimeType,e.data_keys,t.initWithData);else if(e.data_json)t.initWithData(t.convertJsonToData(e.data_json,e.data_keys));else if(e.data_rows)t.initWithData(t.convertRowsToData(e.data_rows));else{if(!e.data_columns)throw Error("url or json or rows or columns is required.");t.initWithData(t.convertColumnsToData(e.data_columns))}},a.initParams=function(){var t=this,e=t.d3,i=t.config;t.clipId="c3-"+ +new Date+"-clip",t.clipIdForXAxis=t.clipId+"-xaxis",t.clipIdForYAxis=t.clipId+"-yaxis",t.clipIdForGrid=t.clipId+"-grid",t.clipIdForSubchart=t.clipId+"-subchart",t.clipPath=t.getClipPath(t.clipId),t.clipPathForXAxis=t.getClipPath(t.clipIdForXAxis),t.clipPathForYAxis=t.getClipPath(t.clipIdForYAxis),t.clipPathForGrid=t.getClipPath(t.clipIdForGrid),t.clipPathForSubchart=t.getClipPath(t.clipIdForSubchart),t.dragStart=null,t.dragging=!1,t.flowing=!1,t.cancelClick=!1,t.mouseover=!1,t.transiting=!1,t.color=t.generateColor(),t.levelColor=t.generateLevelColor(),t.dataTimeFormat=i.data_xLocaltime?e.time.format:e.time.format.utc,t.axisTimeFormat=i.axis_x_localtime?e.time.format:e.time.format.utc,t.defaultAxisTimeFormat=t.axisTimeFormat.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%-m/%-d",function(t){return t.getDay()&&1!==t.getDate()}],["%-m/%-d",function(t){return 1!==t.getDate()}],["%-m/%-d",function(t){return t.getMonth()}],["%Y/%-m/%-d",function(){return!0}]]),t.hiddenTargetIds=[],t.hiddenLegendIds=[],t.focusedTargetIds=[],t.defocusedTargetIds=[],t.xOrient=i.axis_rotated?"left":"bottom",t.yOrient=i.axis_rotated?i.axis_y_inner?"top":"bottom":i.axis_y_inner?"right":"left",t.y2Orient=i.axis_rotated?i.axis_y2_inner?"bottom":"top":i.axis_y2_inner?"left":"right",t.subXOrient=i.axis_rotated?"left":"bottom",t.isLegendRight="right"===i.legend_position,t.isLegendInset="inset"===i.legend_position,t.isLegendTop="top-left"===i.legend_inset_anchor||"top-right"===i.legend_inset_anchor,t.isLegendLeft="top-left"===i.legend_inset_anchor||"bottom-left"===i.legend_inset_anchor,t.legendStep=0,t.legendItemWidth=0,t.legendItemHeight=0,t.currentMaxTickWidths={x:0,y:0,y2:0},t.rotated_padding_left=30,t.rotated_padding_right=i.axis_rotated&&!i.axis_x_show?0:30,t.rotated_padding_top=5,t.withoutFadeIn={},t.intervalForObserveInserted=void 0,t.axes.subx=e.selectAll([])},a.initChartElements=function(){this.initBar&&this.initBar(),this.initLine&&this.initLine(),this.initArc&&this.initArc(),this.initGauge&&this.initGauge(),this.initText&&this.initText()},a.initWithData=function(e){var i,n,o=this,s=o.d3,a=o.config,l=!0;o.axis=new r(o),o.initPie&&o.initPie(),o.initBrush&&o.initBrush(),o.initZoom&&o.initZoom(),a.bindto?"function"==typeof a.bindto.node?o.selectChart=a.bindto:o.selectChart=s.select(a.bindto):o.selectChart=s.selectAll([]),o.selectChart.empty()&&(o.selectChart=s.select(document.createElement("div")).style("opacity",0),o.observeInserted(o.selectChart),l=!1),o.selectChart.html("").classed("c3",!0),o.data.xs={},o.data.targets=o.convertDataToTargets(e),a.data_filter&&(o.data.targets=o.data.targets.filter(a.data_filter)),a.data_hide&&o.addHiddenTargetIds(!0===a.data_hide?o.mapToIds(o.data.targets):a.data_hide),a.legend_hide&&o.addHiddenLegendIds(!0===a.legend_hide?o.mapToIds(o.data.targets):a.legend_hide),o.hasType("gauge")&&(a.legend_show=!1),o.updateSizes(),o.updateScales(),o.x.domain(s.extent(o.getXDomain(o.data.targets))),o.y.domain(o.getYDomain(o.data.targets,"y")),o.y2.domain(o.getYDomain(o.data.targets,"y2")),o.subX.domain(o.x.domain()),o.subY.domain(o.y.domain()),o.subY2.domain(o.y2.domain()),o.orgXDomain=o.x.domain(),o.brush&&o.brush.scale(o.subX),a.zoom_enabled&&o.zoom.scale(o.x),o.svg=o.selectChart.append("svg").style("overflow","hidden").on("mouseenter",function(){return a.onmouseover.call(o)}).on("mouseleave",function(){return a.onmouseout.call(o)}),i=o.svg.append("defs"),o.clipChart=o.appendClip(i,o.clipId),o.clipXAxis=o.appendClip(i,o.clipIdForXAxis),o.clipYAxis=o.appendClip(i,o.clipIdForYAxis),o.clipGrid=o.appendClip(i,o.clipIdForGrid),o.clipSubchart=o.appendClip(i,o.clipIdForSubchart),o.updateSvgSize(),n=o.main=o.svg.append("g").attr("transform",o.getTranslate("main")),o.initSubchart&&o.initSubchart(),o.initTooltip&&o.initTooltip(),o.initLegend&&o.initLegend(),n.append("text").attr("class",h.text+" "+h.empty).attr("text-anchor","middle").attr("dominant-baseline","middle"),o.initRegion(),o.initGrid(),n.append("g").attr("clip-path",o.clipPath).attr("class",h.chart),a.grid_lines_front&&o.initGridLines(),o.initEventRect(),o.initChartElements(),n.insert("rect",a.zoom_privileged?null:"g."+h.regions).attr("class",h.zoomRect).attr("width",o.width).attr("height",o.height).style("opacity",0).on("dblclick.zoom",null),a.axis_x_extent&&o.brush.extent(o.getDefaultExtent()),o.axis.init(),o.updateTargets(o.data.targets),l&&(o.updateDimension(),o.config.oninit.call(o),o.redraw({withTransition:!1,withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransitionForAxis:!1})),null==t.onresize&&(t.onresize=o.generateResize()),t.onresize.add&&(t.onresize.add(function(){a.onresize.call(o)}),t.onresize.add(function(){o.api.flush()}),t.onresize.add(function(){a.onresized.call(o)})),o.api.element=o.selectChart.node()},a.smoothLines=function(t,e){var i=this;"grid"===e&&t.each(function(){var t=i.d3.select(this),e=t.attr("x1"),n=t.attr("x2"),r=t.attr("y1"),o=t.attr("y2");t.attr({x1:Math.ceil(e),x2:Math.ceil(n),y1:Math.ceil(r),y2:Math.ceil(o)})})},a.updateSizes=function(){var t=this,e=t.config,i=t.legend?t.getLegendHeight():0,n=t.legend?t.getLegendWidth():0,r=t.isLegendRight||t.isLegendInset?0:i,o=t.hasArcType(),s=e.axis_rotated||o?0:t.getHorizontalAxisHeight("x"),a=e.subchart_show&&!o?e.subchart_size_height+s:0;t.currentWidth=t.getCurrentWidth(),t.currentHeight=t.getCurrentHeight(),t.margin=e.axis_rotated?{top:t.getHorizontalAxisHeight("y2")+t.getCurrentPaddingTop(),right:o?0:t.getCurrentPaddingRight(),bottom:t.getHorizontalAxisHeight("y")+r+t.getCurrentPaddingBottom(),left:a+(o?0:t.getCurrentPaddingLeft())}:{top:4+t.getCurrentPaddingTop(),right:o?0:t.getCurrentPaddingRight(),bottom:s+a+r+t.getCurrentPaddingBottom(),left:o?0:t.getCurrentPaddingLeft()},t.margin2=e.axis_rotated?{top:t.margin.top,right:NaN,bottom:20+r,left:t.rotated_padding_left}:{top:t.currentHeight-a-r,right:NaN,bottom:s+r,left:t.margin.left},t.margin3={top:0,right:NaN,bottom:0,left:0},t.updateSizeForLegend&&t.updateSizeForLegend(i,n),t.width=t.currentWidth-t.margin.left-t.margin.right,t.height=t.currentHeight-t.margin.top-t.margin.bottom,t.width<0&&(t.width=0),t.height<0&&(t.height=0),t.width2=e.axis_rotated?t.margin.left-t.rotated_padding_left-t.rotated_padding_right:t.width,t.height2=e.axis_rotated?t.height:t.currentHeight-t.margin2.top-t.margin2.bottom,t.width2<0&&(t.width2=0),t.height2<0&&(t.height2=0),t.arcWidth=t.width-(t.isLegendRight?n+10:0),t.arcHeight=t.height-(t.isLegendRight?0:10),t.hasType("gauge")&&(t.arcHeight+=t.height-t.getGaugeLabelHeight()),t.updateRadius&&t.updateRadius(),t.isLegendRight&&o&&(t.margin3.left=t.arcWidth/2+1.1*t.radiusExpanded)},a.updateTargets=function(t){var e=this;e.updateTargetsForText(t),e.updateTargetsForBar(t),e.updateTargetsForLine(t),e.hasArcType()&&e.updateTargetsForArc&&e.updateTargetsForArc(t),e.updateTargetsForSubchart&&e.updateTargetsForSubchart(t),e.showTargets()},a.showTargets=function(){var t=this;t.svg.selectAll("."+h.target).filter(function(e){return t.isTargetToShow(e.id)}).transition().duration(t.config.transition_duration).style("opacity",1)},a.redraw=function(t,e){var i,n,r,o,s,a,l,u,c,d,p,f,g,m,v,y,_,b,w,k,C,T,S,D,M,A,P,L,E,q=this,I=q.main,j=q.d3,O=q.config,R=q.getShapeIndices(q.isAreaType),N=q.getShapeIndices(q.isBarType),F=q.getShapeIndices(q.isLineType),z=q.hasArcType(),B=q.filterTargetsToShow(q.data.targets),H=q.xv.bind(q);if(t=t||{},i=x(t,"withY",!0),n=x(t,"withSubchart",!0),r=x(t,"withTransition",!0),a=x(t,"withTransform",!1),l=x(t,"withUpdateXDomain",!1),u=x(t,"withUpdateOrgXDomain",!1),c=x(t,"withTrimXDomain",!0),g=x(t,"withUpdateXAxis",l),d=x(t,"withLegend",!1),p=x(t,"withEventRect",!0),f=x(t,"withDimension",!0),o=x(t,"withTransitionForExit",r),s=x(t,"withTransitionForAxis",r),w=r?O.transition_duration:0,k=o?w:0,C=s?w:0,e=e||q.axis.generateTransitions(C),d&&O.legend_show?q.updateLegend(q.mapToIds(q.data.targets),t,e):f&&q.updateDimension(!0),q.isCategorized()&&0===B.length&&q.x.domain([0,q.axes.x.selectAll(".tick").size()]),B.length?(q.updateXDomain(B,l,u,c),O.axis_x_tick_values||(D=q.axis.updateXAxisTickValues(B))):(q.xAxis.tickValues([]),q.subXAxis.tickValues([])),O.zoom_rescale&&!t.flow&&(P=q.x.orgDomain()),q.y.domain(q.getYDomain(B,"y",P)),q.y2.domain(q.getYDomain(B,"y2",P)),!O.axis_y_tick_values&&O.axis_y_tick_count&&q.yAxis.tickValues(q.axis.generateTickValues(q.y.domain(),O.axis_y_tick_count)),!O.axis_y2_tick_values&&O.axis_y2_tick_count&&q.y2Axis.tickValues(q.axis.generateTickValues(q.y2.domain(),O.axis_y2_tick_count)),q.axis.redraw(e,z),q.axis.updateLabels(r),(l||g)&&B.length)if(O.axis_x_tick_culling&&D){for(M=1;M<D.length;M++)if(D.length/M<O.axis_x_tick_culling_max){A=M;break}q.svg.selectAll("."+h.axisX+" .tick text").each(function(t){var e=D.indexOf(t);e>=0&&j.select(this).style("display",e%A?"none":"block")})}else q.svg.selectAll("."+h.axisX+" .tick text").style("display","block");m=q.generateDrawArea?q.generateDrawArea(R,!1):void 0,v=q.generateDrawBar?q.generateDrawBar(N):void 0,y=q.generateDrawLine?q.generateDrawLine(F,!1):void 0,_=q.generateXYForText(R,N,F,!0),b=q.generateXYForText(R,N,F,!1),i&&(q.subY.domain(q.getYDomain(B,"y")),q.subY2.domain(q.getYDomain(B,"y2"))),q.tooltip.style("display","none"),q.updateXgridFocus(),I.select("text."+h.text+"."+h.empty).attr("x",q.width/2).attr("y",q.height/2).text(O.data_empty_label_text).transition().style("opacity",B.length?0:1),q.updateGrid(w),q.updateRegion(w),q.updateBar(k),q.updateLine(k),q.updateArea(k),q.updateCircle(),q.hasDataLabel()&&q.updateText(k),q.redrawArc&&q.redrawArc(w,k,a),q.redrawSubchart&&q.redrawSubchart(n,e,w,k,R,N,F),I.selectAll("."+h.selectedCircles).filter(q.isBarType.bind(q)).selectAll("circle").remove(),O.interaction_enabled&&!t.flow&&p&&(q.redrawEventRect(),q.updateZoom&&q.updateZoom()),q.updateCircleY(),L=(q.config.axis_rotated?q.circleY:q.circleX).bind(q),E=(q.config.axis_rotated?q.circleX:q.circleY).bind(q),t.flow&&(S=q.generateFlow({targets:B,flow:t.flow,duration:t.flow.duration,drawBar:v,drawLine:y,drawArea:m,cx:L,cy:E,xv:H,xForText:_,yForText:b})),(w||S)&&q.isTabVisible()?j.transition().duration(w).each(function(){var e=[];[q.redrawBar(v,!0),q.redrawLine(y,!0),q.redrawArea(m,!0),q.redrawCircle(L,E,!0),q.redrawText(_,b,t.flow,!0),q.redrawRegion(!0),q.redrawGrid(!0)].forEach(function(t){t.forEach(function(t){e.push(t)})}),T=q.generateWait(),e.forEach(function(t){T.add(t)})}).call(T,function(){S&&S(),O.onrendered&&O.onrendered.call(q)}):(q.redrawBar(v),q.redrawLine(y),q.redrawArea(m),q.redrawCircle(L,E),q.redrawText(_,b,t.flow),q.redrawRegion(),q.redrawGrid(),O.onrendered&&O.onrendered.call(q)),q.mapToIds(q.data.targets).forEach(function(t){q.withoutFadeIn[t]=!0})},a.updateAndRedraw=function(t){var e,i=this,n=i.config;t=t||{},t.withTransition=x(t,"withTransition",!0),t.withTransform=x(t,"withTransform",!1),t.withLegend=x(t,"withLegend",!1),t.withUpdateXDomain=!0,t.withUpdateOrgXDomain=!0,t.withTransitionForExit=!1,t.withTransitionForTransform=x(t,"withTransitionForTransform",t.withTransition),i.updateSizes(),t.withLegend&&n.legend_show||(e=i.axis.generateTransitions(t.withTransitionForAxis?n.transition_duration:0),i.updateScales(),i.updateSvgSize(),i.transformAll(t.withTransitionForTransform,e)),i.redraw(t,e)},a.redrawWithoutRescale=function(){this.redraw({withY:!1,withSubchart:!1,withEventRect:!1,withTransitionForAxis:!1})},a.isTimeSeries=function(){return"timeseries"===this.config.axis_x_type},a.isCategorized=function(){return this.config.axis_x_type.indexOf("categor")>=0},a.isCustomX=function(){var t=this,e=t.config;return!t.isTimeSeries()&&(e.data_x||_(e.data_xs))},a.isTimeSeriesY=function(){return"timeseries"===this.config.axis_y_type},a.getTranslate=function(t){var e,i,n=this,r=n.config;return"main"===t?(e=m(n.margin.left),i=m(n.margin.top)):"context"===t?(e=m(n.margin2.left),
i=m(n.margin2.top)):"legend"===t?(e=n.margin3.left,i=n.margin3.top):"x"===t?(e=0,i=r.axis_rotated?0:n.height):"y"===t?(e=0,i=r.axis_rotated?n.height:0):"y2"===t?(e=r.axis_rotated?0:n.width,i=r.axis_rotated?1:0):"subx"===t?(e=0,i=r.axis_rotated?0:n.height2):"arc"===t&&(e=n.arcWidth/2,i=n.arcHeight/2),"translate("+e+","+i+")"},a.initialOpacity=function(t){return null!==t.value&&this.withoutFadeIn[t.id]?1:0},a.initialOpacityForCircle=function(t){return null!==t.value&&this.withoutFadeIn[t.id]?this.opacityForCircle(t):0},a.opacityForCircle=function(t){var e=this.config.point_show?1:0;return u(t.value)?this.isScatterType(t)?.5:e:0},a.opacityForText=function(){return this.hasDataLabel()?1:0},a.xx=function(t){return t?this.x(t.x):null},a.xv=function(t){var e=this,i=t.value;return e.isTimeSeries()?i=e.parseDate(t.value):e.isCategorized()&&"string"==typeof t.value&&(i=e.config.axis_x_categories.indexOf(t.value)),Math.ceil(e.x(i))},a.yv=function(t){var e=this,i=t.axis&&"y2"===t.axis?e.y2:e.y;return Math.ceil(i(t.value))},a.subxx=function(t){return t?this.subX(t.x):null},a.transformMain=function(t,e){var i,n,r,o=this;e&&e.axisX?i=e.axisX:(i=o.main.select("."+h.axisX),t&&(i=i.transition())),e&&e.axisY?n=e.axisY:(n=o.main.select("."+h.axisY),t&&(n=n.transition())),e&&e.axisY2?r=e.axisY2:(r=o.main.select("."+h.axisY2),t&&(r=r.transition())),(t?o.main.transition():o.main).attr("transform",o.getTranslate("main")),i.attr("transform",o.getTranslate("x")),n.attr("transform",o.getTranslate("y")),r.attr("transform",o.getTranslate("y2")),o.main.select("."+h.chartArcs).attr("transform",o.getTranslate("arc"))},a.transformAll=function(t,e){var i=this;i.transformMain(t,e),i.config.subchart_show&&i.transformContext(t,e),i.legend&&i.transformLegend(t)},a.updateSvgSize=function(){var t=this,e=t.svg.select(".c3-brush .background");t.svg.attr("width",t.currentWidth).attr("height",t.currentHeight),t.svg.selectAll(["#"+t.clipId,"#"+t.clipIdForGrid]).select("rect").attr("width",t.width).attr("height",t.height),t.svg.select("#"+t.clipIdForXAxis).select("rect").attr("x",t.getXAxisClipX.bind(t)).attr("y",t.getXAxisClipY.bind(t)).attr("width",t.getXAxisClipWidth.bind(t)).attr("height",t.getXAxisClipHeight.bind(t)),t.svg.select("#"+t.clipIdForYAxis).select("rect").attr("x",t.getYAxisClipX.bind(t)).attr("y",t.getYAxisClipY.bind(t)).attr("width",t.getYAxisClipWidth.bind(t)).attr("height",t.getYAxisClipHeight.bind(t)),t.svg.select("#"+t.clipIdForSubchart).select("rect").attr("width",t.width).attr("height",e.size()?e.attr("height"):0),t.svg.select("."+h.zoomRect).attr("width",t.width).attr("height",t.height),t.selectChart.style("max-height",t.currentHeight+"px")},a.updateDimension=function(t){var e=this;t||(e.config.axis_rotated?(e.axes.x.call(e.xAxis),e.axes.subx.call(e.subXAxis)):(e.axes.y.call(e.yAxis),e.axes.y2.call(e.y2Axis))),e.updateSizes(),e.updateScales(),e.updateSvgSize(),e.transformAll(!1)},a.observeInserted=function(e){var i,n=this;return"undefined"==typeof MutationObserver?void t.console.error("MutationObserver not defined."):(i=new MutationObserver(function(r){r.forEach(function(r){"childList"===r.type&&r.previousSibling&&(i.disconnect(),n.intervalForObserveInserted=t.setInterval(function(){e.node().parentNode&&(t.clearInterval(n.intervalForObserveInserted),n.updateDimension(),n.config.oninit.call(n),n.redraw({withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransition:!1,withTransitionForTransform:!1,withLegend:!0}),e.transition().style("opacity",1))},10))})}),void i.observe(e.node(),{attributes:!0,childList:!0,characterData:!0}))},a.generateResize=function(){function t(){e.forEach(function(t){t()})}var e=[];return t.add=function(t){e.push(t)},t},a.endall=function(t,e){var i=0;t.each(function(){++i}).each("end",function(){--i||e.apply(this,arguments)})},a.generateWait=function(){var t=[],e=function(e,i){var n=setInterval(function(){var e=0;t.forEach(function(t){if(t.empty())return void(e+=1);try{t.transition()}catch(t){e+=1}}),e===t.length&&(clearInterval(n),i&&i())},10)};return e.add=function(e){t.push(e)},e},a.parseDate=function(e){var i,n=this;return e instanceof Date?i=e:"string"==typeof e?i=n.dataTimeFormat(n.config.data_xFormat).parse(e):"number"!=typeof e&&isNaN(e)||(i=new Date(+e)),i&&!isNaN(+i)||t.console.error("Failed to parse x '"+e+"' to Date object"),i},a.isTabVisible=function(){var t;return void 0!==document.hidden?t="hidden":void 0!==document.mozHidden?t="mozHidden":void 0!==document.msHidden?t="msHidden":void 0!==document.webkitHidden&&(t="webkitHidden"),!document[t]},a.getDefaultConfig=function(){var t={bindto:"#chart",size_width:void 0,size_height:void 0,padding_left:void 0,padding_right:void 0,padding_top:void 0,padding_bottom:void 0,zoom_enabled:!1,zoom_extent:void 0,zoom_privileged:!1,zoom_rescale:!1,zoom_onzoom:function(){},zoom_onzoomstart:function(){},zoom_onzoomend:function(){},interaction_enabled:!0,onmouseover:function(){},onmouseout:function(){},onresize:function(){},onresized:function(){},oninit:function(){},onrendered:function(){},transition_duration:350,data_x:void 0,data_xs:{},data_xFormat:"%Y-%m-%d",data_xLocaltime:!0,data_xSort:!0,data_idConverter:function(t){return t},data_names:{},data_classes:{},data_groups:[],data_axes:{},data_type:void 0,data_types:{},data_labels:{},data_order:"desc",data_regions:{},data_color:void 0,data_colors:{},data_hide:!1,data_filter:void 0,data_selection_enabled:!1,data_selection_grouped:!1,data_selection_isselectable:function(){return!0},data_selection_multiple:!0,data_selection_draggable:!1,data_onclick:function(){},data_onmouseover:function(){},data_onmouseout:function(){},data_onselected:function(){},data_onunselected:function(){},data_url:void 0,data_json:void 0,data_rows:void 0,data_columns:void 0,data_mimeType:void 0,data_keys:void 0,data_empty_label_text:"",subchart_show:!1,subchart_size_height:60,subchart_onbrush:function(){},color_pattern:[],color_threshold:{},legend_show:!0,legend_hide:!1,legend_position:"bottom",legend_inset_anchor:"top-left",legend_inset_x:10,legend_inset_y:0,legend_inset_step:void 0,legend_item_onclick:void 0,legend_item_onmouseover:void 0,legend_item_onmouseout:void 0,legend_equally:!1,axis_rotated:!1,axis_x_show:!0,axis_x_type:"indexed",axis_x_localtime:!0,axis_x_categories:[],axis_x_tick_centered:!1,axis_x_tick_format:void 0,axis_x_tick_culling:{},axis_x_tick_culling_max:10,axis_x_tick_count:void 0,axis_x_tick_fit:!0,axis_x_tick_values:null,axis_x_tick_rotate:0,axis_x_tick_outer:!0,axis_x_tick_multiline:!0,axis_x_tick_width:null,axis_x_max:void 0,axis_x_min:void 0,axis_x_padding:{},axis_x_height:void 0,axis_x_extent:void 0,axis_x_label:{},axis_y_show:!0,axis_y_type:void 0,axis_y_max:void 0,axis_y_min:void 0,axis_y_inverted:!1,axis_y_center:void 0,axis_y_inner:void 0,axis_y_label:{},axis_y_tick_format:void 0,axis_y_tick_outer:!0,axis_y_tick_values:null,axis_y_tick_count:void 0,axis_y_tick_time_value:void 0,axis_y_tick_time_interval:void 0,axis_y_padding:{},axis_y_default:void 0,axis_y2_show:!1,axis_y2_max:void 0,axis_y2_min:void 0,axis_y2_inverted:!1,axis_y2_center:void 0,axis_y2_inner:void 0,axis_y2_label:{},axis_y2_tick_format:void 0,axis_y2_tick_outer:!0,axis_y2_tick_values:null,axis_y2_tick_count:void 0,axis_y2_padding:{},axis_y2_default:void 0,grid_x_show:!1,grid_x_type:"tick",grid_x_lines:[],grid_y_show:!1,grid_y_lines:[],grid_y_ticks:10,grid_focus_show:!0,grid_lines_front:!0,point_show:!0,point_r:2.5,point_focus_expand_enabled:!0,point_focus_expand_r:void 0,point_select_r:void 0,line_connectNull:!1,line_step_type:"step",bar_width:void 0,bar_width_ratio:.6,bar_width_max:void 0,bar_zerobased:!0,area_zerobased:!0,pie_label_show:!0,pie_label_format:void 0,pie_label_threshold:.05,pie_expand:!0,gauge_label_show:!0,gauge_label_format:void 0,gauge_expand:!0,gauge_min:0,gauge_max:100,gauge_units:void 0,gauge_width:void 0,donut_label_show:!0,donut_label_format:void 0,donut_label_threshold:.05,donut_width:void 0,donut_expand:!0,donut_title:"",regions:[],tooltip_show:!0,tooltip_grouped:!0,tooltip_format_title:void 0,tooltip_format_name:void 0,tooltip_format_value:void 0,tooltip_position:void 0,tooltip_contents:function(t,e,i,n){return this.getTooltipContent?this.getTooltipContent(t,e,i,n):""},tooltip_init_show:!1,tooltip_init_x:0,tooltip_init_position:{top:"0px",left:"50px"}};return Object.keys(this.additionalConfig).forEach(function(e){t[e]=this.additionalConfig[e]},this),t},a.additionalConfig={},a.loadConfig=function(t){function e(){var t=n.shift();return t&&i&&"object"==typeof i&&t in i?(i=i[t],e()):t?void 0:i}var i,n,r,o=this.config;Object.keys(o).forEach(function(s){i=t,n=s.split("_"),r=e(),f(r)&&(o[s]=r)})},a.getScale=function(t,e,i){return(i?this.d3.time.scale():this.d3.scale.linear()).range([t,e])},a.getX=function(t,e,i,n){var r,o=this,s=o.getScale(t,e,o.isTimeSeries()),a=i?s.domain(i):s;o.isCategorized()?(n=n||function(){return 0},s=function(t,e){var i=a(t)+n(t);return e?i:Math.ceil(i)}):s=function(t,e){var i=a(t);return e?i:Math.ceil(i)};for(r in a)s[r]=a[r];return s.orgDomain=function(){return a.domain()},o.isCategorized()&&(s.domain=function(t){return arguments.length?(a.domain(t),s):(t=this.orgDomain(),[t[0],t[1]+1])}),s},a.getY=function(t,e,i){var n=this.getScale(t,e,this.isTimeSeriesY());return i&&n.domain(i),n},a.getYScale=function(t){return"y2"===this.axis.getId(t)?this.y2:this.y},a.getSubYScale=function(t){return"y2"===this.axis.getId(t)?this.subY2:this.subY},a.updateScales=function(){var t=this,e=t.config,i=!t.x;t.xMin=e.axis_rotated?1:0,t.xMax=e.axis_rotated?t.height:t.width,t.yMin=e.axis_rotated?0:t.height,t.yMax=e.axis_rotated?t.width:1,t.subXMin=t.xMin,t.subXMax=t.xMax,t.subYMin=e.axis_rotated?0:t.height2,t.subYMax=e.axis_rotated?t.width2:1,t.x=t.getX(t.xMin,t.xMax,i?void 0:t.x.orgDomain(),function(){return t.xAxis.tickOffset()}),t.y=t.getY(t.yMin,t.yMax,i?e.axis_y_default:t.y.domain()),t.y2=t.getY(t.yMin,t.yMax,i?e.axis_y2_default:t.y2.domain()),t.subX=t.getX(t.xMin,t.xMax,t.orgXDomain,function(e){return e%1?0:t.subXAxis.tickOffset()}),t.subY=t.getY(t.subYMin,t.subYMax,i?e.axis_y_default:t.subY.domain()),t.subY2=t.getY(t.subYMin,t.subYMax,i?e.axis_y2_default:t.subY2.domain()),t.xAxisTickFormat=t.axis.getXAxisTickFormat(),t.xAxisTickValues=t.axis.getXAxisTickValues(),t.yAxisTickValues=t.axis.getYAxisTickValues(),t.y2AxisTickValues=t.axis.getY2AxisTickValues(),t.xAxis=t.axis.getXAxis(t.x,t.xOrient,t.xAxisTickFormat,t.xAxisTickValues,e.axis_x_tick_outer),t.subXAxis=t.axis.getXAxis(t.subX,t.subXOrient,t.xAxisTickFormat,t.xAxisTickValues,e.axis_x_tick_outer),t.yAxis=t.axis.getYAxis(t.y,t.yOrient,e.axis_y_tick_format,t.yAxisTickValues,e.axis_y_tick_outer),t.y2Axis=t.axis.getYAxis(t.y2,t.y2Orient,e.axis_y2_tick_format,t.y2AxisTickValues,e.axis_y2_tick_outer),i||(t.brush&&t.brush.scale(t.subX),e.zoom_enabled&&t.zoom.scale(t.x)),t.updateArc&&t.updateArc()},a.getYDomainMin=function(t){var e,i,n,r,o,s,a=this,l=a.config,h=a.mapToIds(t),u=a.getValuesAsIdKeyed(t);if(l.data_groups.length>0)for(s=a.hasNegativeValueInTargets(t),e=0;e<l.data_groups.length;e++)if(r=l.data_groups[e].filter(function(t){return h.indexOf(t)>=0}),0!==r.length)for(n=r[0],s&&u[n]&&u[n].forEach(function(t,e){u[n][e]=t<0?t:0}),i=1;i<r.length;i++)o=r[i],u[o]&&u[o].forEach(function(t,e){a.axis.getId(o)!==a.axis.getId(n)||!u[n]||s&&+t>0||(u[n][e]+=+t)});return a.d3.min(Object.keys(u).map(function(t){return a.d3.min(u[t])}))},a.getYDomainMax=function(t){var e,i,n,r,o,s,a=this,l=a.config,h=a.mapToIds(t),u=a.getValuesAsIdKeyed(t);if(l.data_groups.length>0)for(s=a.hasPositiveValueInTargets(t),e=0;e<l.data_groups.length;e++)if(r=l.data_groups[e].filter(function(t){return h.indexOf(t)>=0}),0!==r.length)for(n=r[0],s&&u[n]&&u[n].forEach(function(t,e){u[n][e]=t>0?t:0}),i=1;i<r.length;i++)o=r[i],u[o]&&u[o].forEach(function(t,e){a.axis.getId(o)!==a.axis.getId(n)||!u[n]||s&&+t<0||(u[n][e]+=+t)});return a.d3.max(Object.keys(u).map(function(t){return a.d3.max(u[t])}))},a.getYDomain=function(t,e,i){var n,r,o,s,a,l,h,c,d,p,f=this,g=f.config,m=t.filter(function(t){return f.axis.getId(t.id)===e}),y=i?f.filterByXDomain(m,i):m,x="y2"===e?g.axis_y2_min:g.axis_y_min,b="y2"===e?g.axis_y2_max:g.axis_y_max,w=f.getYDomainMin(y),k=f.getYDomainMax(y),C="y2"===e?g.axis_y2_center:g.axis_y_center,T=f.hasType("bar",y)&&g.bar_zerobased||f.hasType("area",y)&&g.area_zerobased,S="y2"===e?g.axis_y2_inverted:g.axis_y_inverted,D=f.hasDataLabel()&&g.axis_rotated,M=f.hasDataLabel()&&!g.axis_rotated;return w=u(x)?x:u(b)?w<b?w:b-10:w,k=u(b)?b:u(x)?x<k?k:x+10:k,0===y.length?"y2"===e?f.y2.domain():f.y.domain():(isNaN(w)&&(w=0),isNaN(k)&&(k=w),w===k&&(w<0?k=0:w=0),d=w>=0&&k>=0,p=w<=0&&k<=0,(u(x)&&d||u(b)&&p)&&(T=!1),T&&(d&&(w=0),p&&(k=0)),r=Math.abs(k-w),o=s=.1*r,void 0!==C&&(a=Math.max(Math.abs(w),Math.abs(k)),k=C+a,w=C-a),D?(l=f.getDataLabelLength(w,k,"width"),h=v(f.y.range()),c=[l[0]/h,l[1]/h],o+=r*(c[1]/(1-c[0]-c[1])),s+=r*(c[0]/(1-c[0]-c[1]))):M&&(l=f.getDataLabelLength(w,k,"height"),o+=f.axis.convertPixelsToAxisPadding(l[1],r),s+=f.axis.convertPixelsToAxisPadding(l[0],r)),"y"===e&&_(g.axis_y_padding)&&(o=f.axis.getPadding(g.axis_y_padding,"top",o,r),s=f.axis.getPadding(g.axis_y_padding,"bottom",s,r)),"y2"===e&&_(g.axis_y2_padding)&&(o=f.axis.getPadding(g.axis_y2_padding,"top",o,r),s=f.axis.getPadding(g.axis_y2_padding,"bottom",s,r)),T&&(d&&(s=w),p&&(o=-k)),n=[w-s,k+o],S?n.reverse():n)},a.getXDomainMin=function(t){var e=this,i=e.config;return f(i.axis_x_min)?e.isTimeSeries()?this.parseDate(i.axis_x_min):i.axis_x_min:e.d3.min(t,function(t){return e.d3.min(t.values,function(t){return t.x})})},a.getXDomainMax=function(t){var e=this,i=e.config;return f(i.axis_x_max)?e.isTimeSeries()?this.parseDate(i.axis_x_max):i.axis_x_max:e.d3.max(t,function(t){return e.d3.max(t.values,function(t){return t.x})})},a.getXDomainPadding=function(t){var e,i,n,r,o=this,s=o.config,a=t[1]-t[0];return o.isCategorized()?i=0:o.hasType("bar")?(e=o.getMaxDataCount(),i=e>1?a/(e-1)/2:.5):i=.01*a,"object"==typeof s.axis_x_padding&&_(s.axis_x_padding)?(n=u(s.axis_x_padding.left)?s.axis_x_padding.left:i,r=u(s.axis_x_padding.right)?s.axis_x_padding.right:i):n=r="number"==typeof s.axis_x_padding?s.axis_x_padding:i,{left:n,right:r}},a.getXDomain=function(t){var e=this,i=[e.getXDomainMin(t),e.getXDomainMax(t)],n=i[0],r=i[1],o=e.getXDomainPadding(i),s=0,a=0;return n-r!=0||e.isCategorized()||(e.isTimeSeries()?(n=new Date(.5*n.getTime()),r=new Date(1.5*r.getTime())):(n=0===n?1:.5*n,r=0===r?-1:1.5*r)),(n||0===n)&&(s=e.isTimeSeries()?new Date(n.getTime()-o.left):n-o.left),(r||0===r)&&(a=e.isTimeSeries()?new Date(r.getTime()+o.right):r+o.right),[s,a]},a.updateXDomain=function(t,e,i,n,r){var o=this,s=o.config;return i&&(o.x.domain(r||o.d3.extent(o.getXDomain(t))),o.orgXDomain=o.x.domain(),s.zoom_enabled&&o.zoom.scale(o.x).updateScaleExtent(),o.subX.domain(o.x.domain()),o.brush&&o.brush.scale(o.subX)),e&&(o.x.domain(r||(!o.brush||o.brush.empty()?o.orgXDomain:o.brush.extent())),s.zoom_enabled&&o.zoom.scale(o.x).updateScaleExtent()),n&&o.x.domain(o.trimXDomain(o.x.orgDomain())),o.x.domain()},a.trimXDomain=function(t){var e=this;return t[0]<=e.orgXDomain[0]&&(t[1]=+t[1]+(e.orgXDomain[0]-t[0]),t[0]=e.orgXDomain[0]),e.orgXDomain[1]<=t[1]&&(t[0]=+t[0]-(t[1]-e.orgXDomain[1]),t[1]=e.orgXDomain[1]),t},a.isX=function(t){var e=this,i=e.config;return i.data_x&&t===i.data_x||_(i.data_xs)&&b(i.data_xs,t)},a.isNotX=function(t){return!this.isX(t)},a.getXKey=function(t){var e=this,i=e.config;return i.data_x?i.data_x:_(i.data_xs)?i.data_xs[t]:null},a.getXValuesOfXKey=function(t,e){var i,n=this;return(e&&_(e)?n.mapToIds(e):[]).forEach(function(e){n.getXKey(e)===t&&(i=n.data.xs[e])}),i},a.getIndexByX=function(t){var e=this,i=e.filterByX(e.data.targets,t);return i.length?i[0].index:null},a.getXValue=function(t,e){var i=this;return t in i.data.xs&&i.data.xs[t]&&u(i.data.xs[t][e])?i.data.xs[t][e]:e},a.getOtherTargetXs=function(){var t=this,e=Object.keys(t.data.xs);return e.length?t.data.xs[e[0]]:null},a.getOtherTargetX=function(t){var e=this.getOtherTargetXs();return e&&t<e.length?e[t]:null},a.addXs=function(t){var e=this;Object.keys(t).forEach(function(i){e.config.data_xs[i]=t[i]})},a.hasMultipleX=function(t){return this.d3.set(Object.keys(t).map(function(e){return t[e]})).size()>1},a.isMultipleX=function(){return _(this.config.data_xs)||!this.config.data_xSort||this.hasType("scatter")},a.addName=function(t){var e,i=this;return t&&(e=i.config.data_names[t.id],t.name=e||t.id),t},a.getValueOnIndex=function(t,e){var i=t.filter(function(t){return t.index===e});return i.length?i[0]:null},a.updateTargetX=function(t,e){var i=this;t.forEach(function(t){t.values.forEach(function(n,r){n.x=i.generateTargetX(e[r],t.id,r)}),i.data.xs[t.id]=e})},a.updateTargetXs=function(t,e){var i=this;t.forEach(function(t){e[t.id]&&i.updateTargetX([t],e[t.id])})},a.generateTargetX=function(t,e,i){var n=this;return n.isTimeSeries()?t?n.parseDate(t):n.parseDate(n.getXValue(e,i)):n.isCustomX()&&!n.isCategorized()?u(t)?+t:n.getXValue(e,i):i},a.cloneTarget=function(t){return{id:t.id,id_org:t.id_org,values:t.values.map(function(t){return{x:t.x,value:t.value,id:t.id}})}},a.updateXs=function(){var t=this;t.data.targets.length&&(t.xs=[],t.data.targets[0].values.forEach(function(e){t.xs[e.index]=e.x}))},a.getPrevX=function(t){var e=this.xs[t-1];return void 0!==e?e:null},a.getNextX=function(t){var e=this.xs[t+1];return void 0!==e?e:null},a.getMaxDataCount=function(){var t=this;return t.d3.max(t.data.targets,function(t){return t.values.length})},a.getMaxDataCountTarget=function(t){var e,i=t.length,n=0;return i>1?t.forEach(function(t){t.values.length>n&&(e=t,n=t.values.length)}):e=i?t[0]:null,e},a.getEdgeX=function(t){var e=this;return t.length?[e.d3.min(t,function(t){return t.values[0].x}),e.d3.max(t,function(t){return t.values[t.values.length-1].x})]:[0,0]},a.mapToIds=function(t){return t.map(function(t){return t.id})},a.mapToTargetIds=function(t){var e=this;return t?d(t)?[t]:t:e.mapToIds(e.data.targets)},a.hasTarget=function(t,e){var i,n=this.mapToIds(t);for(i=0;i<n.length;i++)if(n[i]===e)return!0;return!1},a.isTargetToShow=function(t){return this.hiddenTargetIds.indexOf(t)<0},a.isLegendToShow=function(t){return this.hiddenLegendIds.indexOf(t)<0},a.filterTargetsToShow=function(t){var e=this;return t.filter(function(t){return e.isTargetToShow(t.id)})},a.mapTargetsToUniqueXs=function(t){var e=this,i=e.d3.set(e.d3.merge(t.map(function(t){return t.values.map(function(t){return+t.x})}))).values();return e.isTimeSeries()?i.map(function(t){return new Date(+t)}):i.map(function(t){return+t})},a.addHiddenTargetIds=function(t){this.hiddenTargetIds=this.hiddenTargetIds.concat(t)},a.removeHiddenTargetIds=function(t){this.hiddenTargetIds=this.hiddenTargetIds.filter(function(e){return t.indexOf(e)<0})},a.addHiddenLegendIds=function(t){this.hiddenLegendIds=this.hiddenLegendIds.concat(t)},a.removeHiddenLegendIds=function(t){this.hiddenLegendIds=this.hiddenLegendIds.filter(function(e){return t.indexOf(e)<0})},a.getValuesAsIdKeyed=function(t){var e={};return t.forEach(function(t){e[t.id]=[],t.values.forEach(function(i){e[t.id].push(i.value)})}),e},a.checkValueInTargets=function(t,e){var i,n,r,o=Object.keys(t);for(i=0;i<o.length;i++)for(r=t[o[i]].values,n=0;n<r.length;n++)if(e(r[n].value))return!0;return!1},a.hasNegativeValueInTargets=function(t){return this.checkValueInTargets(t,function(t){return t<0})},a.hasPositiveValueInTargets=function(t){return this.checkValueInTargets(t,function(t){return t>0})},a.isOrderDesc=function(){var t=this.config;return"string"==typeof t.data_order&&"desc"===t.data_order.toLowerCase()},a.isOrderAsc=function(){var t=this.config;return"string"==typeof t.data_order&&"asc"===t.data_order.toLowerCase()},a.orderTargets=function(t){var e=this,i=e.config,n=e.isOrderAsc(),r=e.isOrderDesc();return n||r?t.sort(function(t,e){var i=function(t,e){return t+Math.abs(e.value)},r=t.values.reduce(i,0),o=e.values.reduce(i,0);return n?o-r:r-o}):c(i.data_order)&&t.sort(i.data_order),t},a.filterByX=function(t,e){return this.d3.merge(t.map(function(t){return t.values})).filter(function(t){return t.x-e==0})},a.filterRemoveNull=function(t){return t.filter(function(t){return u(t.value)})},a.filterByXDomain=function(t,e){return t.map(function(t){return{id:t.id,id_org:t.id_org,values:t.values.filter(function(t){return e[0]<=t.x&&t.x<=e[1]})}})},a.hasDataLabel=function(){var t=this.config;return!("boolean"!=typeof t.data_labels||!t.data_labels)||!("object"!=typeof t.data_labels||!_(t.data_labels))},a.getDataLabelLength=function(t,e,i){var n=this,r=[0,0];return n.selectChart.select("svg").selectAll(".dummy").data([t,e]).enter().append("text").text(function(t){return n.dataLabelFormat(t.id)(t)}).each(function(t,e){r[e]=1.3*this.getBoundingClientRect()[i]}).remove(),r},a.isNoneArc=function(t){return this.hasTarget(this.data.targets,t.id)},a.isArc=function(t){return"data"in t&&this.hasTarget(this.data.targets,t.data.id)},a.findSameXOfValues=function(t,e){var i,n=t[e].x,r=[];for(i=e-1;i>=0&&n===t[i].x;i--)r.push(t[i]);for(i=e;i<t.length&&n===t[i].x;i++)r.push(t[i]);return r},a.findClosestFromTargets=function(t,e){var i,n=this;return i=t.map(function(t){return n.findClosest(t.values,e)}),n.findClosest(i,e)},a.findClosest=function(t,e){var i,n=this,r=100;return t.filter(function(t){return t&&n.isBarType(t.id)}).forEach(function(t){var e=n.main.select("."+h.bars+n.getTargetSelectorSuffix(t.id)+" ."+h.bar+"-"+t.index).node();!i&&n.isWithinBar(e)&&(i=t)}),t.filter(function(t){return t&&!n.isBarType(t.id)}).forEach(function(t){var o=n.dist(t,e);o<r&&(r=o,i=t)}),i},a.dist=function(t,e){var i=this,n=i.config,r=n.axis_rotated?1:0,o=n.axis_rotated?0:1,s=i.circleY(t,t.index),a=i.x(t.x);return Math.pow(a-e[r],2)+Math.pow(s-e[o],2)},a.convertValuesToStep=function(t){var e,i=[].concat(t);if(!this.isCategorized())return t;for(e=t.length+1;0<e;e--)i[e]=i[e-1];return i[0]={x:i[0].x-1,value:i[0].value,id:i[0].id},i[t.length+1]={x:i[t.length].x+1,value:i[t.length].value,id:i[t.length].id},i},a.updateDataAttributes=function(t,e){var i=this,n=i.config,r=n["data_"+t];return void 0===e?r:(Object.keys(e).forEach(function(t){r[t]=e[t]}),i.redraw({withLegend:!0}),r)},a.convertUrlToData=function(t,e,i,n){var r=this,o=e||"csv";r.d3.xhr(t,function(t,e){var s;if(!e)throw new Error(t.responseURL+" "+t.status+" ("+t.statusText+")");s="json"===o?r.convertJsonToData(JSON.parse(e.response),i):"tsv"===o?r.convertTsvToData(e.response):r.convertCsvToData(e.response),n.call(r,s)})},a.convertXsvToData=function(t,e){var i,n=e.parseRows(t);return 1===n.length?(i=[{}],n[0].forEach(function(t){i[0][t]=null})):i=e.parse(t),i},a.convertCsvToData=function(t){return this.convertXsvToData(t,this.d3.csv)},a.convertTsvToData=function(t){return this.convertXsvToData(t,this.d3.tsv)},a.convertJsonToData=function(t,e){var i,n,r=this,o=[];return e?(e.x?(i=e.value.concat(e.x),r.config.data_x=e.x):i=e.value,o.push(i),t.forEach(function(t){var e=[];i.forEach(function(i){var n=p(t[i])?null:t[i];e.push(n)}),o.push(e)}),n=r.convertRowsToData(o)):(Object.keys(t).forEach(function(e){o.push([e].concat(t[e]))}),n=r.convertColumnsToData(o)),n},a.convertRowsToData=function(t){var e,i,n=t[0],r={},o=[];for(e=1;e<t.length;e++){for(r={},i=0;i<t[e].length;i++){if(p(t[e][i]))throw new Error("Source data is missing a component at ("+e+","+i+")!");r[n[i]]=t[e][i]}o.push(r)}return o},a.convertColumnsToData=function(t){var e,i,n,r=[];for(e=0;e<t.length;e++)for(n=t[e][0],i=1;i<t[e].length;i++){if(p(r[i-1])&&(r[i-1]={}),p(t[e][i]))throw new Error("Source data is missing a component at ("+e+","+i+")!");r[i-1][n]=t[e][i]}return r},a.convertDataToTargets=function(t,e){var i,n=this,r=n.config,o=n.d3.keys(t[0]).filter(n.isNotX,n),s=n.d3.keys(t[0]).filter(n.isX,n);return o.forEach(function(i){var o=n.getXKey(i);n.isCustomX()||n.isTimeSeries()?s.indexOf(o)>=0?n.data.xs[i]=(e&&n.data.xs[i]?n.data.xs[i]:[]).concat(t.map(function(t){return t[o]}).filter(u).map(function(t,e){return n.generateTargetX(t,i,e)})):r.data_x?n.data.xs[i]=n.getOtherTargetXs():_(r.data_xs)&&(n.data.xs[i]=n.getXValuesOfXKey(o,n.data.targets)):n.data.xs[i]=t.map(function(t,e){return e})}),o.forEach(function(t){if(!n.data.xs[t])throw new Error('x is not defined for id = "'+t+'".')}),i=o.map(function(e,i){var o=r.data_idConverter(e);return{id:o,id_org:e,values:t.map(function(t,s){var a=n.getXKey(e),l=t[a],h=n.generateTargetX(l,e,s);return n.isCustomX()&&n.isCategorized()&&0===i&&l&&(0===s&&(r.axis_x_categories=[]),r.axis_x_categories.push(l)),(p(t[e])||n.data.xs[e].length<=s)&&(h=void 0),{x:h,value:null===t[e]||isNaN(t[e])?null:+t[e],id:o}}).filter(function(t){return f(t.x)})}}),i.forEach(function(t){var e;r.data_xSort&&(t.values=t.values.sort(function(t,e){return(t.x||0===t.x?t.x:1/0)-(e.x||0===e.x?e.x:1/0)})),e=0,t.values.forEach(function(t){t.index=e++}),n.data.xs[t.id].sort(function(t,e){return t-e})}),r.data_type&&n.setTargetType(n.mapToIds(i).filter(function(t){return!(t in r.data_types)}),r.data_type),i.forEach(function(t){n.addCache(t.id_org,t)}),i},a.load=function(t,e){var i=this;t&&(e.filter&&(t=t.filter(e.filter)),(e.type||e.types)&&t.forEach(function(t){var n=e.types&&e.types[t.id]?e.types[t.id]:e.type;i.setTargetType(t.id,n)}),i.data.targets.forEach(function(e){for(var i=0;i<t.length;i++)if(e.id===t[i].id){e.values=t[i].values,t.splice(i,1);break}}),i.data.targets=i.data.targets.concat(t)),i.updateTargets(i.data.targets),i.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),e.done&&e.done()},a.loadFromArgs=function(t){var e=this;t.data?e.load(e.convertDataToTargets(t.data),t):t.url?e.convertUrlToData(t.url,t.mimeType,t.keys,function(i){e.load(e.convertDataToTargets(i),t)}):t.json?e.load(e.convertDataToTargets(e.convertJsonToData(t.json,t.keys)),t):t.rows?e.load(e.convertDataToTargets(e.convertRowsToData(t.rows)),t):t.columns?e.load(e.convertDataToTargets(e.convertColumnsToData(t.columns)),t):e.load(null,t)},a.unload=function(t,e){var i=this;return e||(e=function(){}),t=t.filter(function(t){return i.hasTarget(i.data.targets,t)}),t&&0!==t.length?(i.svg.selectAll(t.map(function(t){return i.selectorTarget(t)})).transition().style("opacity",0).remove().call(i.endall,e),void t.forEach(function(t){i.withoutFadeIn[t]=!1,i.legend&&i.legend.selectAll("."+h.legendItem+i.getTargetSelectorSuffix(t)).remove(),i.data.targets=i.data.targets.filter(function(e){return e.id!==t})})):void e()},a.categoryName=function(t){var e=this.config;return t<e.axis_x_categories.length?e.axis_x_categories[t]:t},a.initEventRect=function(){this.main.select("."+h.chart).append("g").attr("class",h.eventRects).style("fill-opacity",0)},a.redrawEventRect=function(){var t,e,i=this,n=i.config,r=i.isMultipleX(),o=i.main.select("."+h.eventRects).style("cursor",n.zoom_enabled?n.axis_rotated?"ns-resize":"ew-resize":null).classed(h.eventRectsMultiple,r).classed(h.eventRectsSingle,!r);o.selectAll("."+h.eventRect).remove(),i.eventRect=o.selectAll("."+h.eventRect),r?(t=i.eventRect.data([0]),i.generateEventRectsForMultipleXs(t.enter()),i.updateEventRect(t)):(e=i.getMaxDataCountTarget(i.data.targets),o.datum(e?e.values:[]),i.eventRect=o.selectAll("."+h.eventRect),t=i.eventRect.data(function(t){return t}),i.generateEventRectsForSingleX(t.enter()),i.updateEventRect(t),t.exit().remove())},a.updateEventRect=function(t){var e,i,n,r,o,s,a=this,l=a.config;t=t||a.eventRect.data(function(t){return t}),a.isMultipleX()?(e=0,i=0,n=a.width,r=a.height):(!a.isCustomX()&&!a.isTimeSeries()||a.isCategorized()?(o=a.getEventRectWidth(),s=function(t){return a.x(t.x)-o/2}):(a.updateXs(),o=function(t){var e=a.getPrevX(t.index),i=a.getNextX(t.index);return null===e&&null===i?l.axis_rotated?a.height:a.width:(null===e&&(e=a.x.domain()[0]),null===i&&(i=a.x.domain()[1]),Math.max(0,(a.x(i)-a.x(e))/2))},s=function(t){var e=a.getPrevX(t.index),i=a.getNextX(t.index),n=a.data.xs[t.id][t.index];return null===e&&null===i?0:(null===e&&(e=a.x.domain()[0]),(a.x(n)+a.x(e))/2)}),e=l.axis_rotated?0:s,i=l.axis_rotated?s:0,n=l.axis_rotated?a.width:o,r=l.axis_rotated?o:a.height),t.attr("class",a.classEvent.bind(a)).attr("x",e).attr("y",i).attr("width",n).attr("height",r)},a.generateEventRectsForSingleX=function(t){var e=this,i=e.d3,n=e.config;t.append("rect").attr("class",e.classEvent.bind(e)).style("cursor",n.data_selection_enabled&&n.data_selection_grouped?"pointer":null).on("mouseover",function(t){var i=t.index;e.dragging||e.flowing||e.hasArcType()||(n.point_focus_expand_enabled&&e.expandCircles(i,null,!0),e.expandBars(i,null,!0),e.main.selectAll("."+h.shape+"-"+i).each(function(t){n.data_onmouseover.call(e.api,t)}))}).on("mouseout",function(t){var i=t.index;e.config&&(e.hasArcType()||(e.hideXGridFocus(),e.hideTooltip(),e.unexpandCircles(),e.unexpandBars(),e.main.selectAll("."+h.shape+"-"+i).each(function(t){n.data_onmouseout.call(e.api,t)})))}).on("mousemove",function(t){var r,o=t.index,s=e.svg.select("."+h.eventRect+"-"+o);e.dragging||e.flowing||e.hasArcType()||(e.isStepType(t)&&"step-after"===e.config.line_step_type&&i.mouse(this)[0]<e.x(e.getXValue(t.id,o))&&(o-=1),r=e.filterTargetsToShow(e.data.targets).map(function(t){return e.addName(e.getValueOnIndex(t.values,o))}),n.tooltip_grouped&&(e.showTooltip(r,this),e.showXGridFocus(r)),(!n.tooltip_grouped||n.data_selection_enabled&&!n.data_selection_grouped)&&e.main.selectAll("."+h.shape+"-"+o).each(function(){i.select(this).classed(h.EXPANDED,!0),n.data_selection_enabled&&s.style("cursor",n.data_selection_grouped?"pointer":null),n.tooltip_grouped||(e.hideXGridFocus(),e.hideTooltip(),n.data_selection_grouped||(e.unexpandCircles(o),e.unexpandBars(o)))}).filter(function(t){return e.isWithinShape(this,t)}).each(function(t){n.data_selection_enabled&&(n.data_selection_grouped||n.data_selection_isselectable(t))&&s.style("cursor","pointer"),n.tooltip_grouped||(e.showTooltip([t],this),e.showXGridFocus([t]),n.point_focus_expand_enabled&&e.expandCircles(o,t.id,!0),e.expandBars(o,t.id,!0))}))}).on("click",function(t){var r=t.index;if(!e.hasArcType()&&e.toggleShape){if(e.cancelClick)return void(e.cancelClick=!1);e.isStepType(t)&&"step-after"===n.line_step_type&&i.mouse(this)[0]<e.x(e.getXValue(t.id,r))&&(r-=1),e.main.selectAll("."+h.shape+"-"+r).each(function(t){(n.data_selection_grouped||e.isWithinShape(this,t))&&(e.toggleShape(this,t,r),e.config.data_onclick.call(e.api,t,this))})}}).call(n.data_selection_draggable&&e.drag?i.behavior.drag().origin(Object).on("drag",function(){e.drag(i.mouse(this))}).on("dragstart",function(){e.dragstart(i.mouse(this))}).on("dragend",function(){e.dragend()}):function(){})},a.generateEventRectsForMultipleXs=function(t){function e(){i.svg.select("."+h.eventRect).style("cursor",null),i.hideXGridFocus(),i.hideTooltip(),i.unexpandCircles(),i.unexpandBars()}var i=this,n=i.d3,r=i.config;t.append("rect").attr("x",0).attr("y",0).attr("width",i.width).attr("height",i.height).attr("class",h.eventRect).on("mouseout",function(){i.config&&(i.hasArcType()||e())}).on("mousemove",function(){var t,o,s,a,l=i.filterTargetsToShow(i.data.targets);if(!i.dragging&&!i.hasArcType(l)){if(t=n.mouse(this),o=i.findClosestFromTargets(l,t),!i.mouseover||o&&o.id===i.mouseover.id||(r.data_onmouseout.call(i.api,i.mouseover),i.mouseover=void 0),!o)return void e();s=i.isScatterType(o)||!r.tooltip_grouped?[o]:i.filterByX(l,o.x),a=s.map(function(t){return i.addName(t)}),i.showTooltip(a,this),r.point_focus_expand_enabled&&i.expandCircles(o.index,o.id,!0),i.expandBars(o.index,o.id,!0),i.showXGridFocus(a),(i.isBarType(o.id)||i.dist(o,t)<100)&&(i.svg.select("."+h.eventRect).style("cursor","pointer"),i.mouseover||(r.data_onmouseover.call(i.api,o),i.mouseover=o))}}).on("click",function(){var t,e,o=i.filterTargetsToShow(i.data.targets);i.hasArcType(o)||(t=n.mouse(this),(e=i.findClosestFromTargets(o,t))&&(i.isBarType(e.id)||i.dist(e,t)<100)&&i.main.selectAll("."+h.shapes+i.getTargetSelectorSuffix(e.id)).selectAll("."+h.shape+"-"+e.index).each(function(){(r.data_selection_grouped||i.isWithinShape(this,e))&&(i.toggleShape(this,e,e.index),
i.config.data_onclick.call(i.api,e,this))}))}).call(r.data_selection_draggable&&i.drag?n.behavior.drag().origin(Object).on("drag",function(){i.drag(n.mouse(this))}).on("dragstart",function(){i.dragstart(n.mouse(this))}).on("dragend",function(){i.dragend()}):function(){})},a.dispatchEvent=function(e,i,n){var r=this,o="."+h.eventRect+(r.isMultipleX()?"":"-"+i),s=r.main.select(o).node(),a=s.getBoundingClientRect(),l=a.left+(n?n[0]:0),u=a.top+(n?n[1]:0),c=document.createEvent("MouseEvents");c.initMouseEvent(e,!0,!0,t,0,l,u,l,u,!1,!1,!1,!1,0,null),s.dispatchEvent(c)},a.getCurrentWidth=function(){var t=this,e=t.config;return e.size_width?e.size_width:t.getParentWidth()},a.getCurrentHeight=function(){var t=this,e=t.config,i=e.size_height?e.size_height:t.getParentHeight();return i>0?i:320/(t.hasType("gauge")?2:1)},a.getCurrentPaddingTop=function(){var t=this.config;return u(t.padding_top)?t.padding_top:0},a.getCurrentPaddingBottom=function(){var t=this.config;return u(t.padding_bottom)?t.padding_bottom:0},a.getCurrentPaddingLeft=function(t){var e=this,i=e.config;return u(i.padding_left)?i.padding_left:i.axis_rotated?i.axis_x_show?Math.max(g(e.getAxisWidthByAxisId("x",t)),40):1:!i.axis_y_show||i.axis_y_inner?e.axis.getYAxisLabelPosition().isOuter?30:1:g(e.getAxisWidthByAxisId("y",t))},a.getCurrentPaddingRight=function(){var t=this,e=t.config,i=t.isLegendRight?t.getLegendWidth()+20:0;return u(e.padding_right)?e.padding_right+1:e.axis_rotated?10+i:!e.axis_y2_show||e.axis_y2_inner?2+i+(t.axis.getY2AxisLabelPosition().isOuter?20:0):g(t.getAxisWidthByAxisId("y2"))+i},a.getParentRectValue=function(t){for(var e,i=this.selectChart.node();i&&"BODY"!==i.tagName;){try{e=i.getBoundingClientRect()[t]}catch(n){"width"===t&&(e=i.offsetWidth)}if(e)break;i=i.parentNode}return e},a.getParentWidth=function(){return this.getParentRectValue("width")},a.getParentHeight=function(){var t=this.selectChart.style("height");return t.indexOf("px")>0?+t.replace("px",""):0},a.getSvgLeft=function(t){var e=this,i=e.config,n=i.axis_rotated||!i.axis_rotated&&!i.axis_y_inner,r=i.axis_rotated?h.axisX:h.axisY,o=e.main.select("."+r).node(),s=o&&n?o.getBoundingClientRect():{right:0},a=e.selectChart.node().getBoundingClientRect(),l=e.hasArcType(),u=s.right-a.left-(l?0:e.getCurrentPaddingLeft(t));return u>0?u:0},a.getAxisWidthByAxisId=function(t,e){var i=this,n=i.axis.getLabelPositionById(t);return i.axis.getMaxTickWidth(t,e)+(n.isInner?20:40)},a.getHorizontalAxisHeight=function(t){var e=this,i=e.config,n=30;return"x"!==t||i.axis_x_show?"x"===t&&i.axis_x_height?i.axis_x_height:"y"!==t||i.axis_y_show?"y2"!==t||i.axis_y2_show?("x"===t&&!i.axis_rotated&&i.axis_x_tick_rotate&&(n=30+e.axis.getMaxTickWidth(t)*Math.cos(Math.PI*(90-i.axis_x_tick_rotate)/180)),n+(e.axis.getLabelPositionById(t).isInner?0:10)+("y2"===t?-10:0)):e.rotated_padding_top:!i.legend_show||e.isLegendRight||e.isLegendInset?1:10:8},a.getEventRectWidth=function(){return Math.max(0,this.xAxis.tickInterval())},a.getShapeIndices=function(t){var e,i,n=this,r=n.config,o={},s=0;return n.filterTargetsToShow(n.data.targets.filter(t,n)).forEach(function(t){for(e=0;e<r.data_groups.length;e++)if(!(r.data_groups[e].indexOf(t.id)<0))for(i=0;i<r.data_groups[e].length;i++)if(r.data_groups[e][i]in o){o[t.id]=o[r.data_groups[e][i]];break}p(o[t.id])&&(o[t.id]=s++)}),o.__max__=s-1,o},a.getShapeX=function(t,e,i,n){var r=this,o=n?r.subX:r.x;return function(n){var r=n.id in i?i[n.id]:0;return n.x||0===n.x?o(n.x)-t*(e/2-r):0}},a.getShapeY=function(t){var e=this;return function(i){return(t?e.getSubYScale(i.id):e.getYScale(i.id))(i.value)}},a.getShapeOffset=function(t,e,i){var n=this,r=n.orderTargets(n.filterTargetsToShow(n.data.targets.filter(t,n))),o=r.map(function(t){return t.id});return function(t,s){var a=i?n.getSubYScale(t.id):n.getYScale(t.id),l=a(0),h=l;return r.forEach(function(i){var r=n.isStepType(t)?n.convertValuesToStep(i.values):i.values;i.id!==t.id&&e[i.id]===e[t.id]&&o.indexOf(i.id)<o.indexOf(t.id)&&r[s].value*t.value>=0&&(h+=a(r[s].value)-l)}),h}},a.isWithinShape=function(t,e){var i,n=this,r=n.d3.select(t);return n.isTargetToShow(e.id)?"circle"===t.nodeName?i=n.isStepType(e)?n.isWithinStep(t,n.getYScale(e.id)(e.value)):n.isWithinCircle(t,1.5*n.pointSelectR(e)):"path"===t.nodeName&&(i=!r.classed(h.bar)||n.isWithinBar(t)):i=!1,i},a.getInterpolate=function(t){var e=this;return e.isSplineType(t)?"cardinal":e.isStepType(t)?e.config.line_step_type:"linear"},a.initLine=function(){this.main.select("."+h.chart).append("g").attr("class",h.chartLines)},a.updateTargetsForLine=function(t){var e,i,n=this,r=n.config,o=n.classChartLine.bind(n),s=n.classLines.bind(n),a=n.classAreas.bind(n),l=n.classCircles.bind(n),u=n.classFocus.bind(n);e=n.main.select("."+h.chartLines).selectAll("."+h.chartLine).data(t).attr("class",function(t){return o(t)+u(t)}),i=e.enter().append("g").attr("class",o).style("opacity",0).style("pointer-events","none"),i.append("g").attr("class",s),i.append("g").attr("class",a),i.append("g").attr("class",function(t){return n.generateClass(h.selectedCircles,t.id)}),i.append("g").attr("class",l).style("cursor",function(t){return r.data_selection_isselectable(t)?"pointer":null}),t.forEach(function(t){n.main.selectAll("."+h.selectedCircles+n.getTargetSelectorSuffix(t.id)).selectAll("."+h.selectedCircle).each(function(e){e.value=t.values[e.index].value})})},a.updateLine=function(t){var e=this;e.mainLine=e.main.selectAll("."+h.lines).selectAll("."+h.line).data(e.lineData.bind(e)),e.mainLine.enter().append("path").attr("class",e.classLine.bind(e)).style("stroke",e.color),e.mainLine.style("opacity",e.initialOpacity.bind(e)).style("shape-rendering",function(t){return e.isStepType(t)?"crispEdges":""}).attr("transform",null),e.mainLine.exit().transition().duration(t).style("opacity",0).remove()},a.redrawLine=function(t,e){return[(e?this.mainLine.transition():this.mainLine).attr("d",t).style("stroke",this.color).style("opacity",1)]},a.generateDrawLine=function(t,e){var i=this,n=i.config,r=i.d3.svg.line(),o=i.generateGetLinePoints(t,e),s=e?i.getSubYScale:i.getYScale,a=function(t){return(e?i.subxx:i.xx).call(i,t)},l=function(t,e){return n.data_groups.length>0?o(t,e)[0][1]:s.call(i,t.id)(t.value)};return r=n.axis_rotated?r.x(l).y(a):r.x(a).y(l),n.line_connectNull||(r=r.defined(function(t){return null!=t.value})),function(t){var o,a=n.line_connectNull?i.filterRemoveNull(t.values):t.values,l=e?i.x:i.subX,h=s.call(i,t.id),u=0,c=0;return i.isLineType(t)?n.data_regions[t.id]?o=i.lineWithRegions(a,l,h,n.data_regions[t.id]):(i.isStepType(t)&&(a=i.convertValuesToStep(a)),o=r.interpolate(i.getInterpolate(t))(a)):(a[0]&&(u=l(a[0].x),c=h(a[0].value)),o=n.axis_rotated?"M "+c+" "+u:"M "+u+" "+c),o||"M 0 0"}},a.generateGetLinePoints=function(t,e){var i=this,n=i.config,r=t.__max__+1,o=i.getShapeX(0,r,t,!!e),s=i.getShapeY(!!e),a=i.getShapeOffset(i.isLineType,t,!!e),l=e?i.getSubYScale:i.getYScale;return function(t,e){var r=l.call(i,t.id)(0),h=a(t,e)||r,u=o(t),c=s(t);return n.axis_rotated&&(0<t.value&&c<r||t.value<0&&r<c)&&(c=r),[[u,c-(r-h)],[u,c-(r-h)],[u,c-(r-h)],[u,c-(r-h)]]}},a.lineWithRegions=function(t,e,i,n){function r(t){return"M"+t[0][0]+" "+t[0][1]+" "+t[1][0]+" "+t[1][1]}var o,s,a,l,h,u,c,d,g,m,v,y,_=this,x=_.config,b="M",w=_.isCategorized()?.5:0,k=[];if(f(n))for(o=0;o<n.length;o++)k[o]={},p(n[o].start)?k[o].start=t[0].x:k[o].start=_.isTimeSeries()?_.parseDate(n[o].start):n[o].start,p(n[o].end)?k[o].end=t[t.length-1].x:k[o].end=_.isTimeSeries()?_.parseDate(n[o].end):n[o].end;for(v=x.axis_rotated?function(t){return i(t.value)}:function(t){return e(t.x)},y=x.axis_rotated?function(t){return e(t.x)}:function(t){return i(t.value)},a=_.isTimeSeries()?function(t,n,o,s){var a,l=t.x.getTime(),u=n.x-t.x,c=new Date(l+u*o),d=new Date(l+u*(o+s));return a=x.axis_rotated?[[i(h(o)),e(c)],[i(h(o+s)),e(d)]]:[[e(c),i(h(o))],[e(d),i(h(o+s))]],r(a)}:function(t,n,o,s){var a;return a=x.axis_rotated?[[i(h(o),!0),e(l(o))],[i(h(o+s),!0),e(l(o+s))]]:[[e(l(o),!0),i(h(o))],[e(l(o+s),!0),i(h(o+s))]],r(a)},o=0;o<t.length;o++){if(p(k)||!function(t,e){var i;for(i=0;i<e.length;i++)if(e[i].start<t&&t<=e[i].end)return!0;return!1}(t[o].x,k))b+=" "+v(t[o])+" "+y(t[o]);else for(l=_.getScale(t[o-1].x+w,t[o].x+w,_.isTimeSeries()),h=_.getScale(t[o-1].value,t[o].value),u=e(t[o].x)-e(t[o-1].x),c=i(t[o].value)-i(t[o-1].value),d=Math.sqrt(Math.pow(u,2)+Math.pow(c,2)),g=2/d,m=2*g,s=g;s<=1;s+=m)b+=a(t[o-1],t[o],s,g);t[o].x}return b},a.updateArea=function(t){var e=this,i=e.d3;e.mainArea=e.main.selectAll("."+h.areas).selectAll("."+h.area).data(e.lineData.bind(e)),e.mainArea.enter().append("path").attr("class",e.classArea.bind(e)).style("fill",e.color).style("opacity",function(){return e.orgAreaOpacity=+i.select(this).style("opacity"),0}),e.mainArea.style("opacity",e.orgAreaOpacity),e.mainArea.exit().transition().duration(t).style("opacity",0).remove()},a.redrawArea=function(t,e){return[(e?this.mainArea.transition():this.mainArea).attr("d",t).style("fill",this.color).style("opacity",this.orgAreaOpacity)]},a.generateDrawArea=function(t,e){var i=this,n=i.config,r=i.d3.svg.area(),o=i.generateGetAreaPoints(t,e),s=e?i.getSubYScale:i.getYScale,a=function(t){return(e?i.subxx:i.xx).call(i,t)},l=function(t,e){return n.data_groups.length>0?o(t,e)[0][1]:s.call(i,t.id)(i.getAreaBaseValue(t.id))},h=function(t,e){return n.data_groups.length>0?o(t,e)[1][1]:s.call(i,t.id)(t.value)};return r=n.axis_rotated?r.x0(l).x1(h).y(a):r.x(a).y0(l).y1(h),n.line_connectNull||(r=r.defined(function(t){return null!==t.value})),function(t){var e,o=n.line_connectNull?i.filterRemoveNull(t.values):t.values,s=0,a=0;return i.isAreaType(t)?(i.isStepType(t)&&(o=i.convertValuesToStep(o)),e=r.interpolate(i.getInterpolate(t))(o)):(o[0]&&(s=i.x(o[0].x),a=i.getYScale(t.id)(o[0].value)),e=n.axis_rotated?"M "+a+" "+s:"M "+s+" "+a),e||"M 0 0"}},a.getAreaBaseValue=function(){return 0},a.generateGetAreaPoints=function(t,e){var i=this,n=i.config,r=t.__max__+1,o=i.getShapeX(0,r,t,!!e),s=i.getShapeY(!!e),a=i.getShapeOffset(i.isAreaType,t,!!e),l=e?i.getSubYScale:i.getYScale;return function(t,e){var r=l.call(i,t.id)(0),h=a(t,e)||r,u=o(t),c=s(t);return n.axis_rotated&&(0<t.value&&c<r||t.value<0&&r<c)&&(c=r),[[u,h],[u,c-(r-h)],[u,c-(r-h)],[u,h]]}},a.updateCircle=function(){var t=this;t.mainCircle=t.main.selectAll("."+h.circles).selectAll("."+h.circle).data(t.lineOrScatterData.bind(t)),t.mainCircle.enter().append("circle").attr("class",t.classCircle.bind(t)).attr("r",t.pointR.bind(t)).style("fill",t.color),t.mainCircle.style("opacity",t.initialOpacityForCircle.bind(t)),t.mainCircle.exit().remove()},a.redrawCircle=function(t,e,i){var n=this.main.selectAll("."+h.selectedCircle);return[(i?this.mainCircle.transition():this.mainCircle).style("opacity",this.opacityForCircle.bind(this)).style("fill",this.color).attr("cx",t).attr("cy",e),(i?n.transition():n).attr("cx",t).attr("cy",e)]},a.circleX=function(t){return t.x||0===t.x?this.x(t.x):null},a.updateCircleY=function(){var t,e,i=this;i.config.data_groups.length>0?(t=i.getShapeIndices(i.isLineType),e=i.generateGetLinePoints(t),i.circleY=function(t,i){return e(t,i)[0][1]}):i.circleY=function(t){return i.getYScale(t.id)(t.value)}},a.getCircles=function(t,e){var i=this;return(e?i.main.selectAll("."+h.circles+i.getTargetSelectorSuffix(e)):i.main).selectAll("."+h.circle+(u(t)?"-"+t:""))},a.expandCircles=function(t,e,i){var n=this,r=n.pointExpandedR.bind(n);i&&n.unexpandCircles(),n.getCircles(t,e).classed(h.EXPANDED,!0).attr("r",r)},a.unexpandCircles=function(t){var e=this,i=e.pointR.bind(e);e.getCircles(t).filter(function(){return e.d3.select(this).classed(h.EXPANDED)}).classed(h.EXPANDED,!1).attr("r",i)},a.pointR=function(t){var e=this,i=e.config;return e.isStepType(t)?0:c(i.point_r)?i.point_r(t):i.point_r},a.pointExpandedR=function(t){var e=this,i=e.config;return i.point_focus_expand_enabled?i.point_focus_expand_r?i.point_focus_expand_r:1.75*e.pointR(t):e.pointR(t)},a.pointSelectR=function(t){var e=this,i=e.config;return i.point_select_r?i.point_select_r:4*e.pointR(t)},a.isWithinCircle=function(t,e){var i=this.d3,n=i.mouse(t),r=i.select(t),o=+r.attr("cx"),s=+r.attr("cy");return Math.sqrt(Math.pow(o-n[0],2)+Math.pow(s-n[1],2))<e},a.isWithinStep=function(t,e){return Math.abs(e-this.d3.mouse(t)[1])<30},a.initBar=function(){this.main.select("."+h.chart).append("g").attr("class",h.chartBars)},a.updateTargetsForBar=function(t){var e,i,n=this,r=n.config,o=n.classChartBar.bind(n),s=n.classBars.bind(n),a=n.classFocus.bind(n);e=n.main.select("."+h.chartBars).selectAll("."+h.chartBar).data(t).attr("class",function(t){return o(t)+a(t)}),i=e.enter().append("g").attr("class",o).style("opacity",0).style("pointer-events","none"),i.append("g").attr("class",s).style("cursor",function(t){return r.data_selection_isselectable(t)?"pointer":null})},a.updateBar=function(t){var e=this,i=e.barData.bind(e),n=e.classBar.bind(e),r=e.initialOpacity.bind(e),o=function(t){return e.color(t.id)};e.mainBar=e.main.selectAll("."+h.bars).selectAll("."+h.bar).data(i),e.mainBar.enter().append("path").attr("class",n).style("stroke",o).style("fill",o),e.mainBar.style("opacity",r),e.mainBar.exit().transition().duration(t).style("opacity",0).remove()},a.redrawBar=function(t,e){return[(e?this.mainBar.transition():this.mainBar).attr("d",t).style("fill",this.color).style("opacity",1)]},a.getBarW=function(t,e){var i=this,n=i.config,r="number"==typeof n.bar_width?n.bar_width:e?t.tickInterval()*n.bar_width_ratio/e:0;return n.bar_width_max&&r>n.bar_width_max?n.bar_width_max:r},a.getBars=function(t,e){var i=this;return(e?i.main.selectAll("."+h.bars+i.getTargetSelectorSuffix(e)):i.main).selectAll("."+h.bar+(u(t)?"-"+t:""))},a.expandBars=function(t,e,i){var n=this;i&&n.unexpandBars(),n.getBars(t,e).classed(h.EXPANDED,!0)},a.unexpandBars=function(t){this.getBars(t).classed(h.EXPANDED,!1)},a.generateDrawBar=function(t,e){var i=this,n=i.config,r=i.generateGetBarPoints(t,e);return function(t,e){var i=r(t,e),o=n.axis_rotated?1:0,s=n.axis_rotated?0:1;return"M "+i[0][o]+","+i[0][s]+" L"+i[1][o]+","+i[1][s]+" L"+i[2][o]+","+i[2][s]+" L"+i[3][o]+","+i[3][s]+" z"}},a.generateGetBarPoints=function(t,e){var i=this,n=e?i.subXAxis:i.xAxis,r=t.__max__+1,o=i.getBarW(n,r),s=i.getShapeX(o,r,t,!!e),a=i.getShapeY(!!e),l=i.getShapeOffset(i.isBarType,t,!!e),h=e?i.getSubYScale:i.getYScale;return function(t,e){var n=h.call(i,t.id)(0),r=l(t,e)||n,u=s(t),c=a(t);return i.config.axis_rotated&&(0<t.value&&c<n||t.value<0&&n<c)&&(c=n),[[u,r],[u,c-(n-r)],[u+o,c-(n-r)],[u+o,r]]}},a.isWithinBar=function(t){var e=this.d3.mouse(t),i=t.getBoundingClientRect(),n=t.pathSegList.getItem(0),r=t.pathSegList.getItem(1),o=Math.min(n.x,r.x),s=Math.min(n.y,r.y),a=i.width,l=i.height,h=o-2,u=o+a+2,c=s+l+2,d=s-2;return h<e[0]&&e[0]<u&&d<e[1]&&e[1]<c},a.initText=function(){var t=this;t.main.select("."+h.chart).append("g").attr("class",h.chartTexts),t.mainText=t.d3.selectAll([])},a.updateTargetsForText=function(t){var e,i,n=this,r=n.classChartText.bind(n),o=n.classTexts.bind(n),s=n.classFocus.bind(n);e=n.main.select("."+h.chartTexts).selectAll("."+h.chartText).data(t).attr("class",function(t){return r(t)+s(t)}),i=e.enter().append("g").attr("class",r).style("opacity",0).style("pointer-events","none"),i.append("g").attr("class",o)},a.updateText=function(t){var e=this,i=e.config,n=e.barOrLineData.bind(e),r=e.classText.bind(e);e.mainText=e.main.selectAll("."+h.texts).selectAll("."+h.text).data(n),e.mainText.enter().append("text").attr("class",r).attr("text-anchor",function(t){return i.axis_rotated?t.value<0?"end":"start":"middle"}).style("stroke","none").style("fill",function(t){return e.color(t)}).style("fill-opacity",0),e.mainText.text(function(t,i,n){return e.dataLabelFormat(t.id)(t.value,t.id,i,n)}),e.mainText.exit().transition().duration(t).style("fill-opacity",0).remove()},a.redrawText=function(t,e,i,n){return[(n?this.mainText.transition():this.mainText).attr("x",t).attr("y",e).style("fill",this.color).style("fill-opacity",i?0:this.opacityForText.bind(this))]},a.getTextRect=function(t,e){var i,n=this.d3.select("body").append("div").classed("c3",!0);return n.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0).selectAll(".dummy").data([t]).enter().append("text").classed(e||"",!0).text(t).each(function(){i=this.getBoundingClientRect()}),n.remove(),i},a.generateXYForText=function(t,e,i,n){var r=this,o=r.generateGetAreaPoints(t,!1),s=r.generateGetBarPoints(e,!1),a=r.generateGetLinePoints(i,!1),l=n?r.getXForText:r.getYForText;return function(t,e){var i=r.isAreaType(t)?o:r.isBarType(t)?s:a;return l.call(r,i(t,e),t,this)}},a.getXForText=function(t,e,i){var n,r,o=this,s=i.getBoundingClientRect();return o.config.axis_rotated?(r=o.isBarType(e)?4:6,n=t[2][1]+r*(e.value<0?-1:1)):n=o.hasType("bar")?(t[2][0]+t[0][0])/2:t[0][0],null===e.value&&(n>o.width?n=o.width-s.width:n<0&&(n=4)),n},a.getYForText=function(t,e,i){var n,r=this,o=i.getBoundingClientRect();return r.config.axis_rotated?n=(t[0][0]+t[2][0]+.6*o.height)/2:(n=t[2][1],e.value<0?(n+=o.height,r.isBarType(e)&&r.isSafari()?n-=3:!r.isBarType(e)&&r.isChrome()&&(n+=3)):n+=r.isBarType(e)?-3:-6),null!==e.value||r.config.axis_rotated||(n<o.height?n=o.height:n>this.height&&(n=this.height-4)),n},a.setTargetType=function(t,e){var i=this,n=i.config;i.mapToTargetIds(t).forEach(function(t){i.withoutFadeIn[t]=e===n.data_types[t],n.data_types[t]=e}),t||(n.data_type=e)},a.hasType=function(t,e){var i=this,n=i.config.data_types,r=!1;return e=e||i.data.targets,e&&e.length?e.forEach(function(e){var i=n[e.id];(i&&i.indexOf(t)>=0||!i&&"line"===t)&&(r=!0)}):Object.keys(n).length?Object.keys(n).forEach(function(e){n[e]===t&&(r=!0)}):r=i.config.data_type===t,r},a.hasArcType=function(t){return this.hasType("pie",t)||this.hasType("donut",t)||this.hasType("gauge",t)},a.isLineType=function(t){var e=this.config,i=d(t)?t:t.id;return!e.data_types[i]||["line","spline","area","area-spline","step","area-step"].indexOf(e.data_types[i])>=0},a.isStepType=function(t){var e=d(t)?t:t.id;return["step","area-step"].indexOf(this.config.data_types[e])>=0},a.isSplineType=function(t){var e=d(t)?t:t.id;return["spline","area-spline"].indexOf(this.config.data_types[e])>=0},a.isAreaType=function(t){var e=d(t)?t:t.id;return["area","area-spline","area-step"].indexOf(this.config.data_types[e])>=0},a.isBarType=function(t){var e=d(t)?t:t.id;return"bar"===this.config.data_types[e]},a.isScatterType=function(t){var e=d(t)?t:t.id;return"scatter"===this.config.data_types[e]},a.isPieType=function(t){var e=d(t)?t:t.id;return"pie"===this.config.data_types[e]},a.isGaugeType=function(t){var e=d(t)?t:t.id;return"gauge"===this.config.data_types[e]},a.isDonutType=function(t){var e=d(t)?t:t.id;return"donut"===this.config.data_types[e]},a.isArcType=function(t){return this.isPieType(t)||this.isDonutType(t)||this.isGaugeType(t)},a.lineData=function(t){return this.isLineType(t)?[t]:[]},a.arcData=function(t){return this.isArcType(t.data)?[t]:[]},a.barData=function(t){return this.isBarType(t)?t.values:[]},a.lineOrScatterData=function(t){return this.isLineType(t)||this.isScatterType(t)?t.values:[]},a.barOrLineData=function(t){return this.isBarType(t)||this.isLineType(t)?t.values:[]},a.initGrid=function(){var t=this,e=t.config,i=t.d3;t.grid=t.main.append("g").attr("clip-path",t.clipPathForGrid).attr("class",h.grid),e.grid_x_show&&t.grid.append("g").attr("class",h.xgrids),e.grid_y_show&&t.grid.append("g").attr("class",h.ygrids),e.grid_focus_show&&t.grid.append("g").attr("class",h.xgridFocus).append("line").attr("class",h.xgridFocus),t.xgrid=i.selectAll([]),e.grid_lines_front||t.initGridLines()},a.initGridLines=function(){var t=this,e=t.d3;t.gridLines=t.main.append("g").attr("clip-path",t.clipPathForGrid).attr("class",h.grid+" "+h.gridLines),t.gridLines.append("g").attr("class",h.xgridLines),t.gridLines.append("g").attr("class",h.ygridLines),t.xgridLines=e.selectAll([])},a.updateXGrid=function(t){var e=this,i=e.config,n=e.d3,r=e.generateGridData(i.grid_x_type,e.x),o=e.isCategorized()?e.xAxis.tickOffset():0;e.xgridAttr=i.axis_rotated?{x1:0,x2:e.width,y1:function(t){return e.x(t)-o},y2:function(t){return e.x(t)-o}}:{x1:function(t){return e.x(t)+o},x2:function(t){return e.x(t)+o},y1:0,y2:e.height},e.xgrid=e.main.select("."+h.xgrids).selectAll("."+h.xgrid).data(r),e.xgrid.enter().append("line").attr("class",h.xgrid),t||e.xgrid.attr(e.xgridAttr).style("opacity",function(){return+n.select(this).attr(i.axis_rotated?"y1":"x1")===(i.axis_rotated?e.height:0)?0:1}),e.xgrid.exit().remove()},a.updateYGrid=function(){var t=this,e=t.config,i=t.yAxis.tickValues()||t.y.ticks(e.grid_y_ticks);t.ygrid=t.main.select("."+h.ygrids).selectAll("."+h.ygrid).data(i),t.ygrid.enter().append("line").attr("class",h.ygrid),t.ygrid.attr("x1",e.axis_rotated?t.y:0).attr("x2",e.axis_rotated?t.y:t.width).attr("y1",e.axis_rotated?0:t.y).attr("y2",e.axis_rotated?t.height:t.y),t.ygrid.exit().remove(),t.smoothLines(t.ygrid,"grid")},a.gridTextAnchor=function(t){return t.position?t.position:"end"},a.gridTextDx=function(t){return"start"===t.position?4:"middle"===t.position?0:-4},a.xGridTextX=function(t){return"start"===t.position?-this.height:"middle"===t.position?-this.height/2:0},a.yGridTextX=function(t){return"start"===t.position?0:"middle"===t.position?this.width/2:this.width},a.updateGrid=function(t){var e,i,n,r=this,o=r.main,s=r.config;r.grid.style("visibility",r.hasArcType()?"hidden":"visible"),o.select("line."+h.xgridFocus).style("visibility","hidden"),s.grid_x_show&&r.updateXGrid(),r.xgridLines=o.select("."+h.xgridLines).selectAll("."+h.xgridLine).data(s.grid_x_lines),e=r.xgridLines.enter().append("g").attr("class",function(t){return h.xgridLine+(t.class?" "+t.class:"")}),e.append("line").style("opacity",0),e.append("text").attr("text-anchor",r.gridTextAnchor).attr("transform",s.axis_rotated?"":"rotate(-90)").attr("dx",r.gridTextDx).attr("dy",-5).style("opacity",0),r.xgridLines.exit().transition().duration(t).style("opacity",0).remove(),s.grid_y_show&&r.updateYGrid(),r.ygridLines=o.select("."+h.ygridLines).selectAll("."+h.ygridLine).data(s.grid_y_lines),i=r.ygridLines.enter().append("g").attr("class",function(t){return h.ygridLine+(t.class?" "+t.class:"")}),i.append("line").style("opacity",0),i.append("text").attr("text-anchor",r.gridTextAnchor).attr("transform",s.axis_rotated?"rotate(-90)":"").attr("dx",r.gridTextDx).attr("dy",-5).style("opacity",0),n=r.yv.bind(r),r.ygridLines.select("line").transition().duration(t).attr("x1",s.axis_rotated?n:0).attr("x2",s.axis_rotated?n:r.width).attr("y1",s.axis_rotated?0:n).attr("y2",s.axis_rotated?r.height:n).style("opacity",1),r.ygridLines.select("text").transition().duration(t).attr("x",s.axis_rotated?r.xGridTextX.bind(r):r.yGridTextX.bind(r)).attr("y",n).text(function(t){return t.text}).style("opacity",1),r.ygridLines.exit().transition().duration(t).style("opacity",0).remove()},a.redrawGrid=function(t){var e=this,i=e.config,n=e.xv.bind(e),r=e.xgridLines.select("line"),o=e.xgridLines.select("text");return[(t?r.transition():r).attr("x1",i.axis_rotated?0:n).attr("x2",i.axis_rotated?e.width:n).attr("y1",i.axis_rotated?n:0).attr("y2",i.axis_rotated?n:e.height).style("opacity",1),(t?o.transition():o).attr("x",i.axis_rotated?e.yGridTextX.bind(e):e.xGridTextX.bind(e)).attr("y",n).text(function(t){return t.text}).style("opacity",1)]},a.showXGridFocus=function(t){var e=this,i=e.config,n=t.filter(function(t){return t&&u(t.value)}),r=e.main.selectAll("line."+h.xgridFocus),o=e.xx.bind(e);i.tooltip_show&&(e.hasType("scatter")||e.hasArcType()||(r.style("visibility","visible").data([n[0]]).attr(i.axis_rotated?"y1":"x1",o).attr(i.axis_rotated?"y2":"x2",o),e.smoothLines(r,"grid")))},a.hideXGridFocus=function(){this.main.select("line."+h.xgridFocus).style("visibility","hidden")},a.updateXgridFocus=function(){var t=this,e=t.config;t.main.select("line."+h.xgridFocus).attr("x1",e.axis_rotated?0:-10).attr("x2",e.axis_rotated?t.width:-10).attr("y1",e.axis_rotated?-10:0).attr("y2",e.axis_rotated?-10:t.height)},a.generateGridData=function(t,e){var i,n,r,o,s=this,a=[],l=s.main.select("."+h.axisX).selectAll(".tick").size();if("year"===t)for(i=s.getXDomain(),n=i[0].getFullYear(),r=i[1].getFullYear(),o=n;o<=r;o++)a.push(new Date(o+"-01-01 00:00:00"));else a=e.ticks(10),a.length>l&&(a=a.filter(function(t){return(""+t).indexOf(".")<0}));return a},a.getGridFilterToRemove=function(t){return t?function(e){var i=!1;return[].concat(t).forEach(function(t){("value"in t&&e.value===t.value||"class"in t&&e.class===t.class)&&(i=!0)}),i}:function(){return!0}},a.removeGridLines=function(t,e){var i=this,n=i.config,r=i.getGridFilterToRemove(t),o=function(t){return!r(t)},s=e?h.xgridLines:h.ygridLines,a=e?h.xgridLine:h.ygridLine;i.main.select("."+s).selectAll("."+a).filter(r).transition().duration(n.transition_duration).style("opacity",0).remove(),e?n.grid_x_lines=n.grid_x_lines.filter(o):n.grid_y_lines=n.grid_y_lines.filter(o)},a.initTooltip=function(){var t,e=this,i=e.config;if(e.tooltip=e.selectChart.style("position","relative").append("div").attr("class",h.tooltipContainer).style("position","absolute").style("pointer-events","none").style("display","none"),i.tooltip_init_show){if(e.isTimeSeries()&&d(i.tooltip_init_x)){for(i.tooltip_init_x=e.parseDate(i.tooltip_init_x),t=0;t<e.data.targets[0].values.length&&e.data.targets[0].values[t].x-i.tooltip_init_x!=0;t++);i.tooltip_init_x=t}e.tooltip.html(i.tooltip_contents.call(e,e.data.targets.map(function(t){return e.addName(t.values[i.tooltip_init_x])}),e.axis.getXAxisTickFormat(),e.getYFormat(e.hasArcType()),e.color)),e.tooltip.style("top",i.tooltip_init_position.top).style("left",i.tooltip_init_position.left).style("display","block")}},a.getTooltipContent=function(t,e,i,n){var r,o,s,a,l,u,c=this,d=c.config,p=d.tooltip_format_title||e,f=d.tooltip_format_name||function(t){return t},g=d.tooltip_format_value||i;for(o=0;o<t.length;o++)t[o]&&(t[o].value||0===t[o].value)&&(r||(s=p?p(t[o].x):t[o].x,r="<table class='"+h.tooltip+"'>"+(s||0===s?"<tr><th colspan='2'>"+s+"</th></tr>":"")),void 0!==(a=g(t[o].value,t[o].ratio,t[o].id,t[o].index))&&(l=f(t[o].name,t[o].ratio,t[o].id,t[o].index),u=c.levelColor?c.levelColor(t[o].value):n(t[o].id),r+="<tr class='"+h.tooltipName+"-"+t[o].id+"'>",r+="<td class='name'><span style='background-color:"+u+"'></span>"+l+"</td>",r+="<td class='value'>"+a+"</td>",r+="</tr>"));return r+"</table>"},a.tooltipPosition=function(t,e,i,n){var r,o,s,a,l,h=this,u=h.config,c=h.d3,d=h.hasArcType(),p=c.mouse(n);return d?(o=(h.width-(h.isLegendRight?h.getLegendWidth():0))/2+p[0],a=h.height/2+p[1]+20):(r=h.getSvgLeft(!0),u.axis_rotated?(o=r+p[0]+100,s=o+e,l=h.currentWidth-h.getCurrentPaddingRight(),a=h.x(t[0].x)+20):(o=r+h.getCurrentPaddingLeft(!0)+h.x(t[0].x)+20,s=o+e,l=r+h.currentWidth-h.getCurrentPaddingRight(),a=p[1]+15),s>l&&(o-=s-l+20),a+i>h.currentHeight&&(a-=i+30)),a<0&&(a=0),{top:a,left:o}},a.showTooltip=function(t,e){var i,n,r,o=this,s=o.config,l=o.hasArcType(),h=t.filter(function(t){return t&&u(t.value)}),c=s.tooltip_position||a.tooltipPosition;0!==h.length&&s.tooltip_show&&(o.tooltip.html(s.tooltip_contents.call(o,t,o.axis.getXAxisTickFormat(),o.getYFormat(l),o.color)).style("display","block"),i=o.tooltip.property("offsetWidth"),n=o.tooltip.property("offsetHeight"),r=c.call(this,h,i,n,e),o.tooltip.style("top",r.top+"px").style("left",r.left+"px"))},a.hideTooltip=function(){this.tooltip.style("display","none")},a.initLegend=function(){var t=this;return t.legendItemTextBox={},t.legendHasRendered=!1,t.legend=t.svg.append("g").attr("transform",t.getTranslate("legend")),t.config.legend_show?void t.updateLegendWithDefaults():(t.legend.style("visibility","hidden"),void(t.hiddenLegendIds=t.mapToIds(t.data.targets)))},a.updateLegendWithDefaults=function(){var t=this;t.updateLegend(t.mapToIds(t.data.targets),{withTransform:!1,withTransitionForTransform:!1,withTransition:!1})},a.updateSizeForLegend=function(t,e){var i=this,n=i.config,r={top:i.isLegendTop?i.getCurrentPaddingTop()+n.legend_inset_y+5.5:i.currentHeight-t-i.getCurrentPaddingBottom()-n.legend_inset_y,left:i.isLegendLeft?i.getCurrentPaddingLeft()+n.legend_inset_x+.5:i.currentWidth-e-i.getCurrentPaddingRight()-n.legend_inset_x+.5};i.margin3={top:i.isLegendRight?0:i.isLegendInset?r.top:i.currentHeight-t,right:NaN,bottom:0,left:i.isLegendRight?i.currentWidth-e:i.isLegendInset?r.left:0}},a.transformLegend=function(t){var e=this;(t?e.legend.transition():e.legend).attr("transform",e.getTranslate("legend"))},a.updateLegendStep=function(t){this.legendStep=t},a.updateLegendItemWidth=function(t){this.legendItemWidth=t},a.updateLegendItemHeight=function(t){this.legendItemHeight=t},a.getLegendWidth=function(){var t=this;return t.config.legend_show?t.isLegendRight||t.isLegendInset?t.legendItemWidth*(t.legendStep+1):t.currentWidth:0},a.getLegendHeight=function(){var t=this,e=0;return t.config.legend_show&&(e=t.isLegendRight?t.currentHeight:Math.max(20,t.legendItemHeight)*(t.legendStep+1)),e},a.opacityForLegend=function(t){return t.classed(h.legendItemHidden)?null:1},a.opacityForUnfocusedLegend=function(t){return t.classed(h.legendItemHidden)?null:.3},a.toggleFocusLegend=function(t,e){var i=this;t=i.mapToTargetIds(t),i.legend.selectAll("."+h.legendItem).filter(function(e){return t.indexOf(e)>=0}).classed(h.legendItemFocused,e).transition().duration(100).style("opacity",function(){return(e?i.opacityForLegend:i.opacityForUnfocusedLegend).call(i,i.d3.select(this))})},a.revertLegend=function(){var t=this,e=t.d3;t.legend.selectAll("."+h.legendItem).classed(h.legendItemFocused,!1).transition().duration(100).style("opacity",function(){return t.opacityForLegend(e.select(this))})},a.showLegend=function(t){var e=this,i=e.config;i.legend_show||(i.legend_show=!0,e.legend.style("visibility","visible"),e.legendHasRendered||e.updateLegendWithDefaults()),e.removeHiddenLegendIds(t),e.legend.selectAll(e.selectorLegends(t)).style("visibility","visible").transition().style("opacity",function(){return e.opacityForLegend(e.d3.select(this))})},a.hideLegend=function(t){var e=this,i=e.config;i.legend_show&&y(t)&&(i.legend_show=!1,e.legend.style("visibility","hidden")),e.addHiddenLegendIds(t),e.legend.selectAll(e.selectorLegends(t)).style("opacity",0).style("visibility","hidden")},a.clearLegendItemTextBoxCache=function(){this.legendItemTextBox={}},a.updateLegend=function(t,e,i){function n(t,e){return b.legendItemTextBox[e]||(b.legendItemTextBox[e]=b.getTextRect(t.textContent,h.legendItem)),b.legendItemTextBox[e]}function r(e,i,r){function o(t,e){e||(s=(f-A-p)/2)<D&&(s=(f-p)/2,A=0,j++),I[t]=j,q[j]=b.isLegendInset?10:s,P[t]=A,A+=p}var s,a,l=0===r,h=r===t.length-1,u=n(e,i),c=u.width+M+(!h||b.isLegendRight||b.isLegendInset?C:0),d=u.height+k,p=b.isLegendRight||b.isLegendInset?d:c,f=b.isLegendRight||b.isLegendInset?b.getLegendHeight():b.getLegendWidth();return l&&(A=0,j=0,T=0,S=0),w.legend_show&&!b.isLegendToShow(i)?void(L[i]=E[i]=I[i]=P[i]=0):(L[i]=c,E[i]=d,(!T||c>=T)&&(T=c),(!S||d>=S)&&(S=d),a=b.isLegendRight||b.isLegendInset?S:T,void(w.legend_equally?(Object.keys(L).forEach(function(t){L[t]=T}),Object.keys(E).forEach(function(t){E[t]=S}),s=(f-a*t.length)/2,s<D?(A=0,j=0,t.forEach(function(t){o(t)})):o(i,!0)):o(i)))}var o,s,a,l,u,c,d,p,g,m,v,y,_,b=this,w=b.config,k=4,C=10,T=0,S=0,D=10,M=15,A=0,P={},L={},E={},q=[0],I={},j=0;e=e||{},p=x(e,"withTransition",!0),g=x(e,"withTransitionForTransform",!0),b.isLegendInset&&(j=w.legend_inset_step?w.legend_inset_step:t.length,b.updateLegendStep(j)),b.isLegendRight?(o=function(t){return T*I[t]},l=function(t){return q[I[t]]+P[t]}):b.isLegendInset?(o=function(t){return T*I[t]+10},l=function(t){return q[I[t]]+P[t]}):(o=function(t){return q[I[t]]+P[t]},l=function(t){return S*I[t]}),s=function(t,e){return o(t,e)+14},u=function(t,e){return l(t,e)+9},a=function(t,e){return o(t,e)},c=function(t,e){return l(t,e)-5},d=b.legend.selectAll("."+h.legendItem).data(t).enter().append("g").attr("class",function(t){return b.generateClass(h.legendItem,t)}).style("visibility",function(t){
return b.isLegendToShow(t)?"visible":"hidden"}).style("cursor","pointer").on("click",function(t){w.legend_item_onclick?w.legend_item_onclick.call(b,t):b.d3.event.altKey?(b.api.hide(),b.api.show(t)):(b.api.toggle(t),b.isTargetToShow(t)?b.api.focus(t):b.api.revert())}).on("mouseover",function(t){b.d3.select(this).classed(h.legendItemFocused,!0),!b.transiting&&b.isTargetToShow(t)&&b.api.focus(t),w.legend_item_onmouseover&&w.legend_item_onmouseover.call(b,t)}).on("mouseout",function(t){b.d3.select(this).classed(h.legendItemFocused,!1),b.api.revert(),w.legend_item_onmouseout&&w.legend_item_onmouseout.call(b,t)}),d.append("text").text(function(t){return f(w.data_names[t])?w.data_names[t]:t}).each(function(t,e){r(this,t,e)}).style("pointer-events","none").attr("x",b.isLegendRight||b.isLegendInset?s:-200).attr("y",b.isLegendRight||b.isLegendInset?-200:u),d.append("rect").attr("class",h.legendItemEvent).style("fill-opacity",0).attr("x",b.isLegendRight||b.isLegendInset?a:-200).attr("y",b.isLegendRight||b.isLegendInset?-200:c),d.append("rect").attr("class",h.legendItemTile).style("pointer-events","none").style("fill",b.color).attr("x",b.isLegendRight||b.isLegendInset?s:-200).attr("y",b.isLegendRight||b.isLegendInset?-200:l).attr("width",10).attr("height",10),_=b.legend.select("."+h.legendBackground+" rect"),b.isLegendInset&&T>0&&0===_.size()&&(_=b.legend.insert("g","."+h.legendItem).attr("class",h.legendBackground).append("rect")),m=b.legend.selectAll("text").data(t).text(function(t){return f(w.data_names[t])?w.data_names[t]:t}).each(function(t,e){r(this,t,e)}),(p?m.transition():m).attr("x",s).attr("y",u),v=b.legend.selectAll("rect."+h.legendItemEvent).data(t),(p?v.transition():v).attr("width",function(t){return L[t]}).attr("height",function(t){return E[t]}).attr("x",a).attr("y",c),y=b.legend.selectAll("rect."+h.legendItemTile).data(t),(p?y.transition():y).style("fill",b.color).attr("x",o).attr("y",l),_&&(p?_.transition():_).attr("height",b.getLegendHeight()-12).attr("width",T*(j+1)+10),b.legend.selectAll("."+h.legendItem).classed(h.legendItemHidden,function(t){return!b.isTargetToShow(t)}),b.updateLegendItemWidth(T),b.updateLegendItemHeight(S),b.updateLegendStep(j),b.updateSizes(),b.updateScales(),b.updateSvgSize(),b.transformAll(g,i),b.legendHasRendered=!0},function(t,e){if(Object.create)e.prototype=Object.create(t.prototype);else{var i=function(){};i.prototype=t.prototype,e.prototype=new i}return e.prototype.constructor=e,e}(e,r),r.prototype.init=function(){var t=this.owner,e=t.config,i=t.main;t.axes.x=i.append("g").attr("class",h.axis+" "+h.axisX).attr("clip-path",t.clipPathForXAxis).attr("transform",t.getTranslate("x")).style("visibility",e.axis_x_show?"visible":"hidden"),t.axes.x.append("text").attr("class",h.axisXLabel).attr("transform",e.axis_rotated?"rotate(-90)":"").style("text-anchor",this.textAnchorForXAxisLabel.bind(this)),t.axes.y=i.append("g").attr("class",h.axis+" "+h.axisY).attr("clip-path",e.axis_y_inner?"":t.clipPathForYAxis).attr("transform",t.getTranslate("y")).style("visibility",e.axis_y_show?"visible":"hidden"),t.axes.y.append("text").attr("class",h.axisYLabel).attr("transform",e.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForYAxisLabel.bind(this)),t.axes.y2=i.append("g").attr("class",h.axis+" "+h.axisY2).attr("transform",t.getTranslate("y2")).style("visibility",e.axis_y2_show?"visible":"hidden"),t.axes.y2.append("text").attr("class",h.axisY2Label).attr("transform",e.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForY2AxisLabel.bind(this))},r.prototype.getXAxis=function(t,e,i,n,r,s,a){var l=this.owner,h=l.config,u={isCategory:l.isCategorized(),withOuterTick:r,tickMultiline:h.axis_x_tick_multiline,tickWidth:h.axis_x_tick_width,tickTextRotate:a?0:h.axis_x_tick_rotate,withoutTransition:s},c=o(l.d3,u).scale(t).orient(e);return l.isTimeSeries()&&n&&(n=n.map(function(t){return l.parseDate(t)})),c.tickFormat(i).tickValues(n),l.isCategorized()&&(c.tickCentered(h.axis_x_tick_centered),y(h.axis_x_tick_culling)&&(h.axis_x_tick_culling=!1)),c},r.prototype.updateXAxisTickValues=function(t,e){var i,n=this.owner,r=n.config;return(r.axis_x_tick_fit||r.axis_x_tick_count)&&(i=this.generateTickValues(n.mapTargetsToUniqueXs(t),r.axis_x_tick_count,n.isTimeSeries())),e?e.tickValues(i):(n.xAxis.tickValues(i),n.subXAxis.tickValues(i)),i},r.prototype.getYAxis=function(t,e,i,n,r,s){var a={withOuterTick:r,withoutTransition:s},l=this.owner,h=l.d3,u=l.config,c=o(h,a).scale(t).orient(e).tickFormat(i);return l.isTimeSeriesY()?c.ticks(h.time[u.axis_y_tick_time_value],u.axis_y_tick_time_interval):c.tickValues(n),c},r.prototype.getId=function(t){var e=this.owner.config;return t in e.data_axes?e.data_axes[t]:"y"},r.prototype.getXAxisTickFormat=function(){var t=this.owner,e=t.config,i=t.isTimeSeries()?t.defaultAxisTimeFormat:t.isCategorized()?t.categoryName:function(t){return t<0?t.toFixed(0):t};return e.axis_x_tick_format&&(c(e.axis_x_tick_format)?i=e.axis_x_tick_format:t.isTimeSeries()&&(i=function(i){return i?t.axisTimeFormat(e.axis_x_tick_format)(i):""})),c(i)?function(e){return i.call(t,e)}:i},r.prototype.getTickValues=function(t,e){return t||(e?e.tickValues():void 0)},r.prototype.getXAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_x_tick_values,this.owner.xAxis)},r.prototype.getYAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y_tick_values,this.owner.yAxis)},r.prototype.getY2AxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y2_tick_values,this.owner.y2Axis)},r.prototype.getLabelOptionByAxisId=function(t){var e,i=this.owner,n=i.config;return"y"===t?e=n.axis_y_label:"y2"===t?e=n.axis_y2_label:"x"===t&&(e=n.axis_x_label),e},r.prototype.getLabelText=function(t){var e=this.getLabelOptionByAxisId(t);return d(e)?e:e?e.text:null},r.prototype.setLabelText=function(t,e){var i=this.owner,n=i.config,r=this.getLabelOptionByAxisId(t);d(r)?"y"===t?n.axis_y_label=e:"y2"===t?n.axis_y2_label=e:"x"===t&&(n.axis_x_label=e):r&&(r.text=e)},r.prototype.getLabelPosition=function(t,e){var i=this.getLabelOptionByAxisId(t),n=i&&"object"==typeof i&&i.position?i.position:e;return{isInner:n.indexOf("inner")>=0,isOuter:n.indexOf("outer")>=0,isLeft:n.indexOf("left")>=0,isCenter:n.indexOf("center")>=0,isRight:n.indexOf("right")>=0,isTop:n.indexOf("top")>=0,isMiddle:n.indexOf("middle")>=0,isBottom:n.indexOf("bottom")>=0}},r.prototype.getXAxisLabelPosition=function(){return this.getLabelPosition("x",this.owner.config.axis_rotated?"inner-top":"inner-right")},r.prototype.getYAxisLabelPosition=function(){return this.getLabelPosition("y",this.owner.config.axis_rotated?"inner-right":"inner-top")},r.prototype.getY2AxisLabelPosition=function(){return this.getLabelPosition("y2",this.owner.config.axis_rotated?"inner-right":"inner-top")},r.prototype.getLabelPositionById=function(t){return"y2"===t?this.getY2AxisLabelPosition():"y"===t?this.getYAxisLabelPosition():this.getXAxisLabelPosition()},r.prototype.textForXAxisLabel=function(){return this.getLabelText("x")},r.prototype.textForYAxisLabel=function(){return this.getLabelText("y")},r.prototype.textForY2AxisLabel=function(){return this.getLabelText("y2")},r.prototype.xForAxisLabel=function(t,e){var i=this.owner;return t?e.isLeft?0:e.isCenter?i.width/2:i.width:e.isBottom?-i.height:e.isMiddle?-i.height/2:0},r.prototype.dxForAxisLabel=function(t,e){return t?e.isLeft?"0.5em":e.isRight?"-0.5em":"0":e.isTop?"-0.5em":e.isBottom?"0.5em":"0"},r.prototype.textAnchorForAxisLabel=function(t,e){return t?e.isLeft?"start":e.isCenter?"middle":"end":e.isBottom?"start":e.isMiddle?"middle":"end"},r.prototype.xForXAxisLabel=function(){return this.xForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},r.prototype.xForYAxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},r.prototype.xForY2AxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},r.prototype.dxForXAxisLabel=function(){return this.dxForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},r.prototype.dxForYAxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},r.prototype.dxForY2AxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},r.prototype.dyForXAxisLabel=function(){var t=this.owner,e=t.config,i=this.getXAxisLabelPosition();return e.axis_rotated?i.isInner?"1.2em":-25-this.getMaxTickWidth("x"):i.isInner?"-0.5em":e.axis_x_height?e.axis_x_height-10:"3em"},r.prototype.dyForYAxisLabel=function(){var t=this.owner,e=this.getYAxisLabelPosition();return t.config.axis_rotated?e.isInner?"-0.5em":"3em":e.isInner?"1.2em":-10-(t.config.axis_y_inner?0:this.getMaxTickWidth("y")+10)},r.prototype.dyForY2AxisLabel=function(){var t=this.owner,e=this.getY2AxisLabelPosition();return t.config.axis_rotated?e.isInner?"1.2em":"-2.2em":e.isInner?"-0.5em":15+(t.config.axis_y2_inner?0:this.getMaxTickWidth("y2")+15)},r.prototype.textAnchorForXAxisLabel=function(){var t=this.owner;return this.textAnchorForAxisLabel(!t.config.axis_rotated,this.getXAxisLabelPosition())},r.prototype.textAnchorForYAxisLabel=function(){var t=this.owner;return this.textAnchorForAxisLabel(t.config.axis_rotated,this.getYAxisLabelPosition())},r.prototype.textAnchorForY2AxisLabel=function(){var t=this.owner;return this.textAnchorForAxisLabel(t.config.axis_rotated,this.getY2AxisLabelPosition())},r.prototype.getMaxTickWidth=function(t,e){var i,n,r,o,s,a=this.owner,l=a.config,h=0;return e&&a.currentMaxTickWidths[t]?a.currentMaxTickWidths[t]:(a.svg&&(i=a.filterTargetsToShow(a.data.targets),"y"===t?(n=a.y.copy().domain(a.getYDomain(i,"y")),r=this.getYAxis(n,a.yOrient,l.axis_y_tick_format,a.yAxisTickValues,!1,!0)):"y2"===t?(n=a.y2.copy().domain(a.getYDomain(i,"y2")),r=this.getYAxis(n,a.y2Orient,l.axis_y2_tick_format,a.y2AxisTickValues,!1,!0)):(n=a.x.copy().domain(a.getXDomain(i)),r=this.getXAxis(n,a.xOrient,a.xAxisTickFormat,a.xAxisTickValues,!1,!0,!0),this.updateXAxisTickValues(i,r)),o=a.d3.select("body").append("div").classed("c3",!0),s=o.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0),s.append("g").call(r).each(function(){a.d3.select(this).selectAll("text").each(function(){var t=this.getBoundingClientRect();h<t.width&&(h=t.width)}),o.remove()})),a.currentMaxTickWidths[t]=h<=0?a.currentMaxTickWidths[t]:h,a.currentMaxTickWidths[t])},r.prototype.updateLabels=function(t){var e=this.owner,i=e.main.select("."+h.axisX+" ."+h.axisXLabel),n=e.main.select("."+h.axisY+" ."+h.axisYLabel),r=e.main.select("."+h.axisY2+" ."+h.axisY2Label);(t?i.transition():i).attr("x",this.xForXAxisLabel.bind(this)).attr("dx",this.dxForXAxisLabel.bind(this)).attr("dy",this.dyForXAxisLabel.bind(this)).text(this.textForXAxisLabel.bind(this)),(t?n.transition():n).attr("x",this.xForYAxisLabel.bind(this)).attr("dx",this.dxForYAxisLabel.bind(this)).attr("dy",this.dyForYAxisLabel.bind(this)).text(this.textForYAxisLabel.bind(this)),(t?r.transition():r).attr("x",this.xForY2AxisLabel.bind(this)).attr("dx",this.dxForY2AxisLabel.bind(this)).attr("dy",this.dyForY2AxisLabel.bind(this)).text(this.textForY2AxisLabel.bind(this))},r.prototype.getPadding=function(t,e,i,n){return u(t[e])?"ratio"===t.unit?t[e]*n:this.convertPixelsToAxisPadding(t[e],n):i},r.prototype.convertPixelsToAxisPadding=function(t,e){var i=this.owner;return e*(t/(i.config.axis_rotated?i.width:i.height))},r.prototype.generateTickValues=function(t,e,i){var n,r,o,s,a,l,h,u=t;if(e)if(1===(n=c(e)?e():e))u=[t[0]];else if(2===n)u=[t[0],t[t.length-1]];else if(n>2){for(s=n-2,r=t[0],o=t[t.length-1],a=(o-r)/(s+1),u=[r],l=0;l<s;l++)h=+r+a*(l+1),u.push(i?new Date(h):h);u.push(o)}return i||(u=u.sort(function(t,e){return t-e})),u},r.prototype.generateTransitions=function(t){var e=this.owner,i=e.axes;return{axisX:t?i.x.transition().duration(t):i.x,axisY:t?i.y.transition().duration(t):i.y,axisY2:t?i.y2.transition().duration(t):i.y2,axisSubX:t?i.subx.transition().duration(t):i.subx}},r.prototype.redraw=function(t,e){var i=this.owner;i.axes.x.style("opacity",e?0:1),i.axes.y.style("opacity",e?0:1),i.axes.y2.style("opacity",e?0:1),i.axes.subx.style("opacity",e?0:1),t.axisX.call(i.xAxis),t.axisY.call(i.yAxis),t.axisY2.call(i.y2Axis),t.axisSubX.call(i.subXAxis)},a.getClipPath=function(e){return"url("+(t.navigator.appVersion.toLowerCase().indexOf("msie 9.")>=0?"":document.URL.split("#")[0])+"#"+e+")"},a.appendClip=function(t,e){return t.append("clipPath").attr("id",e).append("rect")},a.getAxisClipX=function(t){var e=Math.max(30,this.margin.left);return t?-(1+e):-(e-1)},a.getAxisClipY=function(t){return t?-20:-this.margin.top},a.getXAxisClipX=function(){var t=this;return t.getAxisClipX(!t.config.axis_rotated)},a.getXAxisClipY=function(){var t=this;return t.getAxisClipY(!t.config.axis_rotated)},a.getYAxisClipX=function(){var t=this;return t.config.axis_y_inner?-1:t.getAxisClipX(t.config.axis_rotated)},a.getYAxisClipY=function(){var t=this;return t.getAxisClipY(t.config.axis_rotated)},a.getAxisClipWidth=function(t){var e=this,i=Math.max(30,e.margin.left),n=Math.max(30,e.margin.right);return t?e.width+2+i+n:e.margin.left+20},a.getAxisClipHeight=function(t){return(t?this.margin.bottom:this.margin.top+this.height)+20},a.getXAxisClipWidth=function(){var t=this;return t.getAxisClipWidth(!t.config.axis_rotated)},a.getXAxisClipHeight=function(){var t=this;return t.getAxisClipHeight(!t.config.axis_rotated)},a.getYAxisClipWidth=function(){var t=this;return t.getAxisClipWidth(t.config.axis_rotated)+(t.config.axis_y_inner?20:0)},a.getYAxisClipHeight=function(){var t=this;return t.getAxisClipHeight(t.config.axis_rotated)},a.initPie=function(){var t=this,e=t.d3,i=t.config;t.pie=e.layout.pie().value(function(t){return t.values.reduce(function(t,e){return t+e.value},0)}),i.data_order||t.pie.sort(null)},a.updateRadius=function(){var t=this,e=t.config,i=e.gauge_width||e.donut_width;t.radiusExpanded=Math.min(t.arcWidth,t.arcHeight)/2,t.radius=.95*t.radiusExpanded,t.innerRadiusRatio=i?(t.radius-i)/t.radius:.6,t.innerRadius=t.hasType("donut")||t.hasType("gauge")?t.radius*t.innerRadiusRatio:0},a.updateArc=function(){var t=this;t.svgArc=t.getSvgArc(),t.svgArcExpanded=t.getSvgArcExpanded(),t.svgArcExpandedSub=t.getSvgArcExpanded(.98)},a.updateAngle=function(t){var e,i,n=this,r=n.config,o=!1,s=0,a=r.gauge_min,l=r.gauge_max;return n.pie(n.filterTargetsToShow(n.data.targets)).forEach(function(e){o||e.data.id!==t.data.id||(o=!0,t=e,t.index=s),s++}),isNaN(t.startAngle)&&(t.startAngle=0),isNaN(t.endAngle)&&(t.endAngle=t.startAngle),n.isGaugeType(t.data)&&(e=Math.PI/(l-a),i=t.value<a?0:t.value<l?t.value-a:l-a,t.startAngle=Math.PI/2*-1,t.endAngle=t.startAngle+e*i),o?t:null},a.getSvgArc=function(){var t=this,e=t.d3.svg.arc().outerRadius(t.radius).innerRadius(t.innerRadius),i=function(i,n){var r;return n?e(i):(r=t.updateAngle(i),r?e(r):"M 0 0")};return i.centroid=e.centroid,i},a.getSvgArcExpanded=function(t){var e=this,i=e.d3.svg.arc().outerRadius(e.radiusExpanded*(t||1)).innerRadius(e.innerRadius);return function(t){var n=e.updateAngle(t);return n?i(n):"M 0 0"}},a.getArc=function(t,e,i){return i||this.isArcType(t.data)?this.svgArc(t,e):"M 0 0"},a.transformForArcLabel=function(t){var e,i,n,r,o,s=this,a=s.updateAngle(t),l="";return a&&!s.hasType("gauge")&&(e=this.svgArc.centroid(a),i=isNaN(e[0])?0:e[0],n=isNaN(e[1])?0:e[1],r=Math.sqrt(i*i+n*n),o=s.radius&&r?(36/s.radius>.375?1.175-36/s.radius:.8)*s.radius/r:0,l="translate("+i*o+","+n*o+")"),l},a.getArcRatio=function(t){var e=this,i=e.hasType("gauge")?Math.PI:2*Math.PI;return t?(t.endAngle-t.startAngle)/i:null},a.convertToArcData=function(t){return this.addName({id:t.data.id,value:t.value,ratio:this.getArcRatio(t),index:t.index})},a.textForArcLabel=function(t){var e,i,n,r,o,s=this;return s.shouldShowArcLabel()?(e=s.updateAngle(t),i=e?e.value:null,n=s.getArcRatio(e),r=t.data.id,s.hasType("gauge")||s.meetsArcLabelThreshold(n)?(o=s.getArcLabelFormat(),o?o(i,n,r):s.defaultArcValueFormat(i,n)):""):""},a.expandArc=function(e){var i,n=this;return n.transiting?void(i=t.setInterval(function(){n.transiting||(t.clearInterval(i),n.legend.selectAll(".c3-legend-item-focused").size()>0&&n.expandArc(e))},10)):(e=n.mapToTargetIds(e),void n.svg.selectAll(n.selectorTargets(e,"."+h.chartArc)).each(function(t){n.shouldExpand(t.data.id)&&n.d3.select(this).selectAll("path").transition().duration(50).attr("d",n.svgArcExpanded).transition().duration(100).attr("d",n.svgArcExpandedSub).each(function(t){n.isDonutType(t.data)})}))},a.unexpandArc=function(t){var e=this;e.transiting||(t=e.mapToTargetIds(t),e.svg.selectAll(e.selectorTargets(t,"."+h.chartArc)).selectAll("path").transition().duration(50).attr("d",e.svgArc),e.svg.selectAll("."+h.arc).style("opacity",1))},a.shouldExpand=function(t){var e=this,i=e.config;return e.isDonutType(t)&&i.donut_expand||e.isGaugeType(t)&&i.gauge_expand||e.isPieType(t)&&i.pie_expand},a.shouldShowArcLabel=function(){var t=this,e=t.config,i=!0;return t.hasType("donut")?i=e.donut_label_show:t.hasType("pie")&&(i=e.pie_label_show),i},a.meetsArcLabelThreshold=function(t){var e=this,i=e.config;return t>=(e.hasType("donut")?i.donut_label_threshold:i.pie_label_threshold)},a.getArcLabelFormat=function(){var t=this,e=t.config,i=e.pie_label_format;return t.hasType("gauge")?i=e.gauge_label_format:t.hasType("donut")&&(i=e.donut_label_format),i},a.getArcTitle=function(){var t=this;return t.hasType("donut")?t.config.donut_title:""},a.updateTargetsForArc=function(t){var e,i,n=this,r=n.main,o=n.classChartArc.bind(n),s=n.classArcs.bind(n),a=n.classFocus.bind(n);e=r.select("."+h.chartArcs).selectAll("."+h.chartArc).data(n.pie(t)).attr("class",function(t){return o(t)+a(t.data)}),i=e.enter().append("g").attr("class",o),i.append("g").attr("class",s),i.append("text").attr("dy",n.hasType("gauge")?"-.1em":".35em").style("opacity",0).style("text-anchor","middle").style("pointer-events","none")},a.initArc=function(){var t=this;t.arcs=t.main.select("."+h.chart).append("g").attr("class",h.chartArcs).attr("transform",t.getTranslate("arc")),t.arcs.append("text").attr("class",h.chartArcsTitle).style("text-anchor","middle").text(t.getArcTitle())},a.redrawArc=function(t,e,i){var n,r=this,o=r.d3,s=r.config,a=r.main;n=a.selectAll("."+h.arcs).selectAll("."+h.arc).data(r.arcData.bind(r)),n.enter().append("path").attr("class",r.classArc.bind(r)).style("fill",function(t){return r.color(t.data)}).style("cursor",function(t){return s.interaction_enabled&&s.data_selection_isselectable(t)?"pointer":null}).style("opacity",0).each(function(t){r.isGaugeType(t.data)&&(t.startAngle=t.endAngle=Math.PI/2*-1),this._current=t}),n.attr("transform",function(t){return!r.isGaugeType(t.data)&&i?"scale(0)":""}).style("opacity",function(t){return t===this._current?0:1}).on("mouseover",s.interaction_enabled?function(t){var e,i;r.transiting||(e=r.updateAngle(t),i=r.convertToArcData(e),r.expandArc(e.data.id),r.api.focus(e.data.id),r.toggleFocusLegend(e.data.id,!0),r.config.data_onmouseover(i,this))}:null).on("mousemove",s.interaction_enabled?function(t){var e=r.updateAngle(t),i=r.convertToArcData(e),n=[i];r.showTooltip(n,this)}:null).on("mouseout",s.interaction_enabled?function(t){var e,i;r.transiting||(e=r.updateAngle(t),i=r.convertToArcData(e),r.unexpandArc(e.data.id),r.api.revert(),r.revertLegend(),r.hideTooltip(),r.config.data_onmouseout(i,this))}:null).on("click",s.interaction_enabled?function(t,e){var i=r.updateAngle(t),n=r.convertToArcData(i);r.toggleShape&&r.toggleShape(this,n,e),r.config.data_onclick.call(r.api,n,this)}:null).each(function(){r.transiting=!0}).transition().duration(t).attrTween("d",function(t){var e,i=r.updateAngle(t);return i?(isNaN(this._current.startAngle)&&(this._current.startAngle=0),isNaN(this._current.endAngle)&&(this._current.endAngle=this._current.startAngle),e=o.interpolate(this._current,i),this._current=e(0),function(i){var n=e(i);return n.data=t.data,r.getArc(n,!0)}):function(){return"M 0 0"}}).attr("transform",i?"scale(1)":"").style("fill",function(t){return r.levelColor?r.levelColor(t.data.values[0].value):r.color(t.data.id)}).style("opacity",1).call(r.endall,function(){r.transiting=!1}),n.exit().transition().duration(e).style("opacity",0).remove(),a.selectAll("."+h.chartArc).select("text").style("opacity",0).attr("class",function(t){return r.isGaugeType(t.data)?h.gaugeValue:""}).text(r.textForArcLabel.bind(r)).attr("transform",r.transformForArcLabel.bind(r)).style("font-size",function(t){return r.isGaugeType(t.data)?Math.round(r.radius/5)+"px":""}).transition().duration(t).style("opacity",function(t){return r.isTargetToShow(t.data.id)&&r.isArcType(t.data)?1:0}),a.select("."+h.chartArcsTitle).style("opacity",r.hasType("donut")||r.hasType("gauge")?1:0),r.hasType("gauge")&&(r.arcs.select("."+h.chartArcsBackground).attr("d",function(){var t={data:[{value:s.gauge_max}],startAngle:Math.PI/2*-1,endAngle:Math.PI/2};return r.getArc(t,!0,!0)}),r.arcs.select("."+h.chartArcsGaugeUnit).attr("dy",".75em").text(s.gauge_label_show?s.gauge_units:""),r.arcs.select("."+h.chartArcsGaugeMin).attr("dx",-1*(r.innerRadius+(r.radius-r.innerRadius)/2)+"px").attr("dy","1.2em").text(s.gauge_label_show?s.gauge_min:""),r.arcs.select("."+h.chartArcsGaugeMax).attr("dx",r.innerRadius+(r.radius-r.innerRadius)/2+"px").attr("dy","1.2em").text(s.gauge_label_show?s.gauge_max:""))},a.initGauge=function(){var t=this.arcs;this.hasType("gauge")&&(t.append("path").attr("class",h.chartArcsBackground),t.append("text").attr("class",h.chartArcsGaugeUnit).style("text-anchor","middle").style("pointer-events","none"),t.append("text").attr("class",h.chartArcsGaugeMin).style("text-anchor","middle").style("pointer-events","none"),t.append("text").attr("class",h.chartArcsGaugeMax).style("text-anchor","middle").style("pointer-events","none"))},a.getGaugeLabelHeight=function(){return this.config.gauge_label_show?20:0},a.initRegion=function(){var t=this;t.region=t.main.append("g").attr("clip-path",t.clipPath).attr("class",h.regions)},a.updateRegion=function(t){var e=this,i=e.config;e.region.style("visibility",e.hasArcType()?"hidden":"visible"),e.mainRegion=e.main.select("."+h.regions).selectAll("."+h.region).data(i.regions),e.mainRegion.enter().append("g").attr("class",e.classRegion.bind(e)).append("rect").style("fill-opacity",0),e.mainRegion.exit().transition().duration(t).style("opacity",0).remove()},a.redrawRegion=function(t){var e=this,i=e.mainRegion.selectAll("rect"),n=e.regionX.bind(e),r=e.regionY.bind(e),o=e.regionWidth.bind(e),s=e.regionHeight.bind(e);return[(t?i.transition():i).attr("x",n).attr("y",r).attr("width",o).attr("height",s).style("fill-opacity",function(t){return u(t.opacity)?t.opacity:.1})]},a.regionX=function(t){var e=this,i=e.config,n="y"===t.axis?e.y:e.y2;return"y"===t.axis||"y2"===t.axis?i.axis_rotated&&"start"in t?n(t.start):0:i.axis_rotated?0:"start"in t?e.x(e.isTimeSeries()?e.parseDate(t.start):t.start):0},a.regionY=function(t){var e=this,i=e.config,n="y"===t.axis?e.y:e.y2;return"y"===t.axis||"y2"===t.axis?i.axis_rotated?0:"end"in t?n(t.end):0:i.axis_rotated&&"start"in t?e.x(e.isTimeSeries()?e.parseDate(t.start):t.start):0},a.regionWidth=function(t){var e,i=this,n=i.config,r=i.regionX(t),o="y"===t.axis?i.y:i.y2;return e="y"===t.axis||"y2"===t.axis?n.axis_rotated&&"end"in t?o(t.end):i.width:n.axis_rotated?i.width:"end"in t?i.x(i.isTimeSeries()?i.parseDate(t.end):t.end):i.width,e<r?0:e-r},a.regionHeight=function(t){var e,i=this,n=i.config,r=this.regionY(t),o="y"===t.axis?i.y:i.y2;return e="y"===t.axis||"y2"===t.axis?n.axis_rotated?i.height:"start"in t?o(t.start):i.height:n.axis_rotated&&"end"in t?i.x(i.isTimeSeries()?i.parseDate(t.end):t.end):i.height,e<r?0:e-r},a.isRegionOnX=function(t){return!t.axis||"x"===t.axis},a.drag=function(t){var e,i,n,r,o,s,a,l,u=this,c=u.config,d=u.main,p=u.d3;u.hasArcType()||c.data_selection_enabled&&(c.zoom_enabled&&!u.zoom.altDomain||c.data_selection_multiple&&(e=u.dragStart[0],i=u.dragStart[1],n=t[0],r=t[1],o=Math.min(e,n),s=Math.max(e,n),a=c.data_selection_grouped?u.margin.top:Math.min(i,r),l=c.data_selection_grouped?u.height:Math.max(i,r),d.select("."+h.dragarea).attr("x",o).attr("y",a).attr("width",s-o).attr("height",l-a),d.selectAll("."+h.shapes).selectAll("."+h.shape).filter(function(t){return c.data_selection_isselectable(t)}).each(function(t,e){var i,n,r,c,d,f,g=p.select(this),m=g.classed(h.SELECTED),v=g.classed(h.INCLUDED),y=!1;if(g.classed(h.circle))i=1*g.attr("cx"),n=1*g.attr("cy"),d=u.togglePoint,y=o<i&&i<s&&a<n&&n<l;else{if(!g.classed(h.bar))return;f=w(this),i=f.x,n=f.y,r=f.width,c=f.height,d=u.togglePath,y=!(s<i||i+r<o||l<n||n+c<a)}y^v&&(g.classed(h.INCLUDED,!v),g.classed(h.SELECTED,!m),d.call(u,!m,g,t,e))})))},a.dragstart=function(t){var e=this,i=e.config;e.hasArcType()||i.data_selection_enabled&&(e.dragStart=t,e.main.select("."+h.chart).append("rect").attr("class",h.dragarea).style("opacity",.1),e.dragging=!0)},a.dragend=function(){var t=this,e=t.config;t.hasArcType()||e.data_selection_enabled&&(t.main.select("."+h.dragarea).transition().duration(100).style("opacity",0).remove(),t.main.selectAll("."+h.shape).classed(h.INCLUDED,!1),t.dragging=!1)},a.selectPoint=function(t,e,i){var n=this,r=n.config,o=(r.axis_rotated?n.circleY:n.circleX).bind(n),s=(r.axis_rotated?n.circleX:n.circleY).bind(n),a=n.pointSelectR.bind(n);r.data_onselected.call(n.api,e,t.node()),n.main.select("."+h.selectedCircles+n.getTargetSelectorSuffix(e.id)).selectAll("."+h.selectedCircle+"-"+i).data([e]).enter().append("circle").attr("class",function(){return n.generateClass(h.selectedCircle,i)}).attr("cx",o).attr("cy",s).attr("stroke",function(){return n.color(e)}).attr("r",function(t){return 1.4*n.pointSelectR(t)}).transition().duration(100).attr("r",a)},a.unselectPoint=function(t,e,i){var n=this;n.config.data_onunselected(e,t.node()),n.main.select("."+h.selectedCircles+n.getTargetSelectorSuffix(e.id)).selectAll("."+h.selectedCircle+"-"+i).transition().duration(100).attr("r",0).remove()},a.togglePoint=function(t,e,i,n){t?this.selectPoint(e,i,n):this.unselectPoint(e,i,n)},a.selectPath=function(t,e){var i=this;i.config.data_onselected.call(i,e,t.node()),t.transition().duration(100).style("fill",function(){return i.d3.rgb(i.color(e)).brighter(.75)})},a.unselectPath=function(t,e){var i=this;i.config.data_onunselected.call(i,e,t.node()),t.transition().duration(100).style("fill",function(){return i.color(e)})},a.togglePath=function(t,e,i,n){t?this.selectPath(e,i,n):this.unselectPath(e,i,n)},a.getToggle=function(t,e){var i,n=this;return"circle"===t.nodeName?i=n.isStepType(e)?function(){}:n.togglePoint:"path"===t.nodeName&&(i=n.togglePath),i},a.toggleShape=function(t,e,i){var n=this,r=n.d3,o=n.config,s=r.select(t),a=s.classed(h.SELECTED),l=n.getToggle(t,e).bind(n);o.data_selection_enabled&&o.data_selection_isselectable(e)&&(o.data_selection_multiple||n.main.selectAll("."+h.shapes+(o.data_selection_grouped?n.getTargetSelectorSuffix(e.id):"")).selectAll("."+h.shape).each(function(t,e){var i=r.select(this);i.classed(h.SELECTED)&&l(!1,i.classed(h.SELECTED,!1),t,e)}),s.classed(h.SELECTED,!a),l(!a,s,e,i))},a.initBrush=function(){var t=this,e=t.d3;t.brush=e.svg.brush().on("brush",function(){t.redrawForBrush()}),t.brush.update=function(){return t.context&&t.context.select("."+h.brush).call(this),this},t.brush.scale=function(e){return t.config.axis_rotated?this.y(e):this.x(e)}},a.initSubchart=function(){var t=this,e=t.config,i=t.context=t.svg.append("g").attr("transform",t.getTranslate("context"));i.style("visibility",e.subchart_show?"visible":"hidden"),i.append("g").attr("clip-path",t.clipPathForSubchart).attr("class",h.chart),i.select("."+h.chart).append("g").attr("class",h.chartBars),i.select("."+h.chart).append("g").attr("class",h.chartLines),i.append("g").attr("clip-path",t.clipPath).attr("class",h.brush).call(t.brush),t.axes.subx=i.append("g").attr("class",h.axisX).attr("transform",t.getTranslate("subx")).attr("clip-path",e.axis_rotated?"":t.clipPathForXAxis)},a.updateTargetsForSubchart=function(t){var e,i,n,r,o=this,s=o.context,a=o.config,l=o.classChartBar.bind(o),u=o.classBars.bind(o),c=o.classChartLine.bind(o),d=o.classLines.bind(o),p=o.classAreas.bind(o);a.subchart_show&&(r=s.select("."+h.chartBars).selectAll("."+h.chartBar).data(t).attr("class",l),n=r.enter().append("g").style("opacity",0).attr("class",l),n.append("g").attr("class",u),i=s.select("."+h.chartLines).selectAll("."+h.chartLine).data(t).attr("class",c),e=i.enter().append("g").style("opacity",0).attr("class",c),e.append("g").attr("class",d),e.append("g").attr("class",p),s.selectAll("."+h.brush+" rect").attr(a.axis_rotated?"width":"height",a.axis_rotated?o.width2:o.height2))},a.updateBarForSubchart=function(t){var e=this;e.contextBar=e.context.selectAll("."+h.bars).selectAll("."+h.bar).data(e.barData.bind(e)),e.contextBar.enter().append("path").attr("class",e.classBar.bind(e)).style("stroke","none").style("fill",e.color),e.contextBar.style("opacity",e.initialOpacity.bind(e)),e.contextBar.exit().transition().duration(t).style("opacity",0).remove()},a.redrawBarForSubchart=function(t,e,i){(e?this.contextBar.transition().duration(i):this.contextBar).attr("d",t).style("opacity",1)},a.updateLineForSubchart=function(t){var e=this;e.contextLine=e.context.selectAll("."+h.lines).selectAll("."+h.line).data(e.lineData.bind(e)),e.contextLine.enter().append("path").attr("class",e.classLine.bind(e)).style("stroke",e.color),e.contextLine.style("opacity",e.initialOpacity.bind(e)),e.contextLine.exit().transition().duration(t).style("opacity",0).remove()},a.redrawLineForSubchart=function(t,e,i){(e?this.contextLine.transition().duration(i):this.contextLine).attr("d",t).style("opacity",1)},a.updateAreaForSubchart=function(t){var e=this,i=e.d3;e.contextArea=e.context.selectAll("."+h.areas).selectAll("."+h.area).data(e.lineData.bind(e)),e.contextArea.enter().append("path").attr("class",e.classArea.bind(e)).style("fill",e.color).style("opacity",function(){return e.orgAreaOpacity=+i.select(this).style("opacity"),0}),e.contextArea.style("opacity",0),e.contextArea.exit().transition().duration(t).style("opacity",0).remove()},a.redrawAreaForSubchart=function(t,e,i){(e?this.contextArea.transition().duration(i):this.contextArea).attr("d",t).style("fill",this.color).style("opacity",this.orgAreaOpacity)},a.redrawSubchart=function(t,e,i,n,r,o,s){var a,l,h,u=this,c=u.d3,d=u.config;u.context.style("visibility",d.subchart_show?"visible":"hidden"),d.subchart_show&&(c.event&&"zoom"===c.event.type&&u.brush.extent(u.x.orgDomain()).update(),t&&(u.brush.empty()||u.brush.extent(u.x.orgDomain()).update(),a=u.generateDrawArea(r,!0),l=u.generateDrawBar(o,!0),h=u.generateDrawLine(s,!0),u.updateBarForSubchart(i),u.updateLineForSubchart(i),u.updateAreaForSubchart(i),u.redrawBarForSubchart(l,i,i),u.redrawLineForSubchart(h,i,i),u.redrawAreaForSubchart(a,i,i)))},a.redrawForBrush=function(){var t=this,e=t.x;t.redraw({withTransition:!1,withY:t.config.zoom_rescale,withSubchart:!1,withUpdateXDomain:!0,withDimension:!1}),t.config.subchart_onbrush.call(t.api,e.orgDomain())},a.transformContext=function(t,e){var i,n=this;e&&e.axisSubX?i=e.axisSubX:(i=n.context.select("."+h.axisX),t&&(i=i.transition())),n.context.attr("transform",n.getTranslate("context")),i.attr("transform",n.getTranslate("subx"))},a.getDefaultExtent=function(){var t=this,e=t.config,i=c(e.axis_x_extent)?e.axis_x_extent(t.getXDomain(t.data.targets)):e.axis_x_extent;return t.isTimeSeries()&&(i=[t.parseDate(i[0]),t.parseDate(i[1])]),i},a.initZoom=function(){var t,e=this,i=e.d3,n=e.config;e.zoom=i.behavior.zoom().on("zoomstart",function(){t=i.event.sourceEvent,e.zoom.altDomain=i.event.sourceEvent.altKey?e.x.orgDomain():null,n.zoom_onzoomstart.call(e.api,i.event.sourceEvent)}).on("zoom",function(){e.redrawForZoom.call(e)}).on("zoomend",function(){var r=i.event.sourceEvent;r&&t.clientX===r.clientX&&t.clientY===r.clientY||(e.redrawEventRect(),
e.updateZoom(),n.zoom_onzoomend.call(e.api,e.x.orgDomain()))}),e.zoom.scale=function(t){return n.axis_rotated?this.y(t):this.x(t)},e.zoom.orgScaleExtent=function(){var t=n.zoom_extent?n.zoom_extent:[1,10];return[t[0],Math.max(e.getMaxDataCount()/t[1],t[1])]},e.zoom.updateScaleExtent=function(){var t=v(e.x.orgDomain())/v(e.orgXDomain),i=this.orgScaleExtent();return this.scaleExtent([i[0]*t,i[1]*t]),this}},a.updateZoom=function(){var t=this,e=t.config.zoom_enabled?t.zoom:function(){};t.main.select("."+h.zoomRect).call(e).on("dblclick.zoom",null),t.main.selectAll("."+h.eventRect).call(e).on("dblclick.zoom",null)},a.redrawForZoom=function(){var t=this,e=t.d3,i=t.config,n=t.zoom,r=t.x;if(i.zoom_enabled&&0!==t.filterTargetsToShow(t.data.targets).length){if("mousemove"===e.event.sourceEvent.type&&n.altDomain)return r.domain(n.altDomain),void n.scale(r).updateScaleExtent();t.isCategorized()&&r.orgDomain()[0]===t.orgXDomain[0]&&r.domain([t.orgXDomain[0]-1e-10,r.orgDomain()[1]]),t.redraw({withTransition:!1,withY:i.zoom_rescale,withSubchart:!1,withEventRect:!1,withDimension:!1}),"mousemove"===e.event.sourceEvent.type&&(t.cancelClick=!0),i.zoom_onzoom.call(t.api,r.orgDomain())}},a.generateColor=function(){var t=this,e=t.config,i=t.d3,n=e.data_colors,r=_(e.color_pattern)?e.color_pattern:i.scale.category10().range(),o=e.data_color,s=[];return function(t){var e,i=t.id||t.data&&t.data.id||t;return n[i]instanceof Function?e=n[i](t):n[i]?e=n[i]:(s.indexOf(i)<0&&s.push(i),e=r[s.indexOf(i)%r.length],n[i]=e),o instanceof Function?o(e,t):e}},a.generateLevelColor=function(){var t=this,e=t.config,i=e.color_pattern,n=e.color_threshold,r="value"===n.unit,o=n.values&&n.values.length?n.values:[],s=n.max||100;return _(e.color_threshold)?function(t){var e,n=i[i.length-1];for(e=0;e<o.length;e++)if((r?t:100*t/s)<o[e]){n=i[e];break}return n}:null},a.getYFormat=function(t){var e=this,i=t&&!e.hasType("gauge")?e.defaultArcValueFormat:e.yFormat,n=t&&!e.hasType("gauge")?e.defaultArcValueFormat:e.y2Format;return function(t,r,o){return("y2"===e.axis.getId(o)?n:i).call(e,t,r)}},a.yFormat=function(t){var e=this,i=e.config;return(i.axis_y_tick_format?i.axis_y_tick_format:e.defaultValueFormat)(t)},a.y2Format=function(t){var e=this,i=e.config;return(i.axis_y2_tick_format?i.axis_y2_tick_format:e.defaultValueFormat)(t)},a.defaultValueFormat=function(t){return u(t)?+t:""},a.defaultArcValueFormat=function(t,e){return(100*e).toFixed(1)+"%"},a.dataLabelFormat=function(t){var e=this,i=e.config.data_labels,n=function(t){return u(t)?+t:""};return"function"==typeof i.format?i.format:"object"==typeof i.format?i.format[t]?!0===i.format[t]?n:i.format[t]:function(){return""}:n},a.hasCaches=function(t){for(var e=0;e<t.length;e++)if(!(t[e]in this.cache))return!1;return!0},a.addCache=function(t,e){this.cache[t]=this.cloneTarget(e)},a.getCaches=function(t){var e,i=[];for(e=0;e<t.length;e++)t[e]in this.cache&&i.push(this.cloneTarget(this.cache[t[e]]));return i};var h=a.CLASS={target:"c3-target",chart:"c3-chart",chartLine:"c3-chart-line",chartLines:"c3-chart-lines",chartBar:"c3-chart-bar",chartBars:"c3-chart-bars",chartText:"c3-chart-text",chartTexts:"c3-chart-texts",chartArc:"c3-chart-arc",chartArcs:"c3-chart-arcs",chartArcsTitle:"c3-chart-arcs-title",chartArcsBackground:"c3-chart-arcs-background",chartArcsGaugeUnit:"c3-chart-arcs-gauge-unit",chartArcsGaugeMax:"c3-chart-arcs-gauge-max",chartArcsGaugeMin:"c3-chart-arcs-gauge-min",selectedCircle:"c3-selected-circle",selectedCircles:"c3-selected-circles",eventRect:"c3-event-rect",eventRects:"c3-event-rects",eventRectsSingle:"c3-event-rects-single",eventRectsMultiple:"c3-event-rects-multiple",zoomRect:"c3-zoom-rect",brush:"c3-brush",focused:"c3-focused",defocused:"c3-defocused",region:"c3-region",regions:"c3-regions",tooltipContainer:"c3-tooltip-container",tooltip:"c3-tooltip",tooltipName:"c3-tooltip-name",shape:"c3-shape",shapes:"c3-shapes",line:"c3-line",lines:"c3-lines",bar:"c3-bar",bars:"c3-bars",circle:"c3-circle",circles:"c3-circles",arc:"c3-arc",arcs:"c3-arcs",area:"c3-area",areas:"c3-areas",empty:"c3-empty",text:"c3-text",texts:"c3-texts",gaugeValue:"c3-gauge-value",grid:"c3-grid",gridLines:"c3-grid-lines",xgrid:"c3-xgrid",xgrids:"c3-xgrids",xgridLine:"c3-xgrid-line",xgridLines:"c3-xgrid-lines",xgridFocus:"c3-xgrid-focus",ygrid:"c3-ygrid",ygrids:"c3-ygrids",ygridLine:"c3-ygrid-line",ygridLines:"c3-ygrid-lines",axis:"c3-axis",axisX:"c3-axis-x",axisXLabel:"c3-axis-x-label",axisY:"c3-axis-y",axisYLabel:"c3-axis-y-label",axisY2:"c3-axis-y2",axisY2Label:"c3-axis-y2-label",legendBackground:"c3-legend-background",legendItem:"c3-legend-item",legendItemEvent:"c3-legend-item-event",legendItemTile:"c3-legend-item-tile",legendItemHidden:"c3-legend-item-hidden",legendItemFocused:"c3-legend-item-focused",dragarea:"c3-dragarea",EXPANDED:"_expanded_",SELECTED:"_selected_",INCLUDED:"_included_"};a.generateClass=function(t,e){return" "+t+" "+t+this.getTargetSelectorSuffix(e)},a.classText=function(t){return this.generateClass(h.text,t.index)},a.classTexts=function(t){return this.generateClass(h.texts,t.id)},a.classShape=function(t){return this.generateClass(h.shape,t.index)},a.classShapes=function(t){return this.generateClass(h.shapes,t.id)},a.classLine=function(t){return this.classShape(t)+this.generateClass(h.line,t.id)},a.classLines=function(t){return this.classShapes(t)+this.generateClass(h.lines,t.id)},a.classCircle=function(t){return this.classShape(t)+this.generateClass(h.circle,t.index)},a.classCircles=function(t){return this.classShapes(t)+this.generateClass(h.circles,t.id)},a.classBar=function(t){return this.classShape(t)+this.generateClass(h.bar,t.index)},a.classBars=function(t){return this.classShapes(t)+this.generateClass(h.bars,t.id)},a.classArc=function(t){return this.classShape(t.data)+this.generateClass(h.arc,t.data.id)},a.classArcs=function(t){return this.classShapes(t.data)+this.generateClass(h.arcs,t.data.id)},a.classArea=function(t){return this.classShape(t)+this.generateClass(h.area,t.id)},a.classAreas=function(t){return this.classShapes(t)+this.generateClass(h.areas,t.id)},a.classRegion=function(t,e){return this.generateClass(h.region,e)+" "+("class"in t?t.class:"")},a.classEvent=function(t){return this.generateClass(h.eventRect,t.index)},a.classTarget=function(t){var e=this,i=e.config.data_classes[t],n="";return i&&(n=" "+h.target+"-"+i),e.generateClass(h.target,t)+n},a.classFocus=function(t){return this.classFocused(t)+this.classDefocused(t)},a.classFocused=function(t){return" "+(this.focusedTargetIds.indexOf(t.id)>=0?h.focused:"")},a.classDefocused=function(t){return" "+(this.defocusedTargetIds.indexOf(t.id)>=0?h.defocused:"")},a.classChartText=function(t){return h.chartText+this.classTarget(t.id)},a.classChartLine=function(t){return h.chartLine+this.classTarget(t.id)},a.classChartBar=function(t){return h.chartBar+this.classTarget(t.id)},a.classChartArc=function(t){return h.chartArc+this.classTarget(t.data.id)},a.getTargetSelectorSuffix=function(t){return t||0===t?("-"+t).replace(/[\s?!@#$%^&*()_=+,.<>'":;\[\]\/|~`{}\\]/g,"-"):""},a.selectorTarget=function(t,e){return(e||"")+"."+h.target+this.getTargetSelectorSuffix(t)},a.selectorTargets=function(t,e){var i=this;return t=t||[],t.length?t.map(function(t){return i.selectorTarget(t,e)}):null},a.selectorLegend=function(t){return"."+h.legendItem+this.getTargetSelectorSuffix(t)},a.selectorLegends=function(t){var e=this;return t&&t.length?t.map(function(t){return e.selectorLegend(t)}):null};var u=a.isValue=function(t){return t||0===t},c=a.isFunction=function(t){return"function"==typeof t},d=a.isString=function(t){return"string"==typeof t},p=a.isUndefined=function(t){return void 0===t},f=a.isDefined=function(t){return void 0!==t},g=a.ceil10=function(t){return 10*Math.ceil(t/10)},m=a.asHalfPixel=function(t){return Math.ceil(t)+.5},v=a.diffDomain=function(t){return t[1]-t[0]},y=a.isEmpty=function(t){return!t||d(t)&&0===t.length||"object"==typeof t&&0===Object.keys(t).length},_=a.notEmpty=function(t){return Object.keys(t).length>0},x=a.getOption=function(t,e,i){return f(t[e])?t[e]:i},b=a.hasValue=function(t,e){var i=!1;return Object.keys(t).forEach(function(n){t[n]===e&&(i=!0)}),i},w=a.getPathBox=function(t){var e=t.getBoundingClientRect(),i=[t.pathSegList.getItem(0),t.pathSegList.getItem(1)];return{x:i[0].x,y:Math.min(i[0].y,i[1].y),width:e.width,height:e.height}};s.focus=function(t,e){var i,n=this.internal;t=n.mapToTargetIds(t),i=n.svg.selectAll(n.selectorTargets(t.filter(n.isTargetToShow,n))),this.revert(),e||this.defocus(),i.classed(h.focused,!0).classed(h.defocused,!1),n.hasArcType()&&n.expandArc(t),n.toggleFocusLegend(t,!0),n.focusedTargetIds=t,n.defocusedTargetIds=n.defocusedTargetIds.filter(function(e){return t.indexOf(e)<0})},s.defocus=function(t){var e,i=this.internal;t=i.mapToTargetIds(t),e=i.svg.selectAll(i.selectorTargets(t.filter(i.isTargetToShow,i))),e.classed(h.focused,!1).classed(h.defocused,!0),i.hasArcType()&&i.unexpandArc(t),i.toggleFocusLegend(t,!1),i.focusedTargetIds=i.focusedTargetIds.filter(function(e){return t.indexOf(e)<0}),i.defocusedTargetIds=t},s.revert=function(t){var e,i=this.internal;t=i.mapToTargetIds(t),e=i.svg.selectAll(i.selectorTargets(t)),e.classed(h.focused,!1).classed(h.defocused,!1),i.hasArcType()&&i.unexpandArc(t),i.config.legend_show&&(i.showLegend(t.filter(i.isLegendToShow.bind(i))),i.legend.selectAll(i.selectorLegends(t)).filter(function(){return i.d3.select(this).classed(h.legendItemFocused)}).classed(h.legendItemFocused,!1)),i.focusedTargetIds=[],i.defocusedTargetIds=[]},s.show=function(t,e){var i,n=this.internal;t=n.mapToTargetIds(t),e=e||{},n.removeHiddenTargetIds(t),i=n.svg.selectAll(n.selectorTargets(t)),i.transition().style("opacity",1,"important").call(n.endall,function(){i.style("opacity",null).style("opacity",1)}),e.withLegend&&n.showLegend(t),n.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},s.hide=function(t,e){var i,n=this.internal;t=n.mapToTargetIds(t),e=e||{},n.addHiddenTargetIds(t),i=n.svg.selectAll(n.selectorTargets(t)),i.transition().style("opacity",0,"important").call(n.endall,function(){i.style("opacity",null).style("opacity",0)}),e.withLegend&&n.hideLegend(t),n.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},s.toggle=function(t,e){var i=this,n=this.internal;n.mapToTargetIds(t).forEach(function(t){n.isTargetToShow(t)?i.hide(t,e):i.show(t,e)})},s.zoom=function(t){var e=this.internal;return t&&(e.isTimeSeries()&&(t=t.map(function(t){return e.parseDate(t)})),e.brush.extent(t),e.redraw({withUpdateXDomain:!0,withY:e.config.zoom_rescale}),e.config.zoom_onzoom.call(this,e.x.orgDomain())),e.brush.extent()},s.zoom.enable=function(t){var e=this.internal;e.config.zoom_enabled=t,e.updateAndRedraw()},s.unzoom=function(){var t=this.internal;t.brush.clear().update(),t.redraw({withUpdateXDomain:!0})},s.load=function(t){var e=this.internal,i=e.config;return t.xs&&e.addXs(t.xs),"classes"in t&&Object.keys(t.classes).forEach(function(e){i.data_classes[e]=t.classes[e]}),"categories"in t&&e.isCategorized()&&(i.axis_x_categories=t.categories),"axes"in t&&Object.keys(t.axes).forEach(function(e){i.data_axes[e]=t.axes[e]}),"colors"in t&&Object.keys(t.colors).forEach(function(e){i.data_colors[e]=t.colors[e]}),"cacheIds"in t&&e.hasCaches(t.cacheIds)?void e.load(e.getCaches(t.cacheIds),t.done):void("unload"in t?e.unload(e.mapToTargetIds("boolean"==typeof t.unload&&t.unload?null:t.unload),function(){e.loadFromArgs(t)}):e.loadFromArgs(t))},s.unload=function(t){var e=this.internal;t=t||{},t instanceof Array?t={ids:t}:"string"==typeof t&&(t={ids:[t]}),e.unload(e.mapToTargetIds(t.ids),function(){e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),t.done&&t.done()})},s.flow=function(t){var e,i,n,r,o,s,a,l=this.internal,h=[],c=l.getMaxDataCount(),d=0,p=0;if(t.json)i=l.convertJsonToData(t.json,t.keys);else if(t.rows)i=l.convertRowsToData(t.rows);else{if(!t.columns)return;i=l.convertColumnsToData(t.columns)}e=l.convertDataToTargets(i,!0),l.data.targets.forEach(function(t){var i,n,r=!1;for(i=0;i<e.length;i++)if(t.id===e[i].id){for(r=!0,t.values[t.values.length-1]&&(p=t.values[t.values.length-1].index+1),d=e[i].values.length,n=0;n<d;n++)e[i].values[n].index=p+n,l.isTimeSeries()||(e[i].values[n].x=p+n);t.values=t.values.concat(e[i].values),e.splice(i,1);break}r||h.push(t.id)}),l.data.targets.forEach(function(t){var e,i;for(e=0;e<h.length;e++)if(t.id===h[e])for(p=t.values[t.values.length-1].index+1,i=0;i<d;i++)t.values.push({id:t.id,index:p+i,x:l.isTimeSeries()?l.getOtherTargetX(p+i):p+i,value:null})}),l.data.targets.length&&e.forEach(function(t){var e,i=[];for(e=l.data.targets[0].values[0].index;e<p;e++)i.push({id:t.id,index:e,x:l.isTimeSeries()?l.getOtherTargetX(e):e,value:null});t.values.forEach(function(t){t.index+=p,l.isTimeSeries()||(t.x+=p)}),t.values=i.concat(t.values)}),l.data.targets=l.data.targets.concat(e),l.getMaxDataCount(),r=l.data.targets[0],o=r.values[0],f(t.to)?(d=0,a=l.isTimeSeries()?l.parseDate(t.to):t.to,r.values.forEach(function(t){t.x<a&&d++})):f(t.length)&&(d=t.length),c?1===c&&l.isTimeSeries()&&(s=(r.values[r.values.length-1].x-o.x)/2,n=[new Date(+o.x-s),new Date(+o.x+s)],l.updateXDomain(null,!0,!0,!1,n)):(s=l.isTimeSeries()?r.values.length>1?r.values[r.values.length-1].x-o.x:o.x-l.getXDomain(l.data.targets)[0]:1,n=[o.x-s,o.x],l.updateXDomain(null,!0,!0,!1,n)),l.updateTargets(l.data.targets),l.redraw({flow:{index:o.index,length:d,duration:u(t.duration)?t.duration:l.config.transition_duration,done:t.done,orgDataCount:c},withLegend:!0,withTransition:c>1,withTrimXDomain:!1,withUpdateXAxis:!0})},a.generateFlow=function(t){var e=this,i=e.config,n=e.d3;return function(){var r,o,s,a=t.targets,l=t.flow,u=t.drawBar,c=t.drawLine,d=t.drawArea,p=t.cx,f=t.cy,g=t.xv,m=t.xForText,y=t.yForText,_=t.duration,x=1,b=l.index,w=l.length,k=e.getValueOnIndex(e.data.targets[0].values,b),C=e.getValueOnIndex(e.data.targets[0].values,b+w),T=e.x.domain(),S=l.duration||_,D=l.done||function(){},M=e.generateWait(),A=e.xgrid||n.selectAll([]),P=e.xgridLines||n.selectAll([]),L=e.mainRegion||n.selectAll([]),E=e.mainText||n.selectAll([]),q=e.mainBar||n.selectAll([]),I=e.mainLine||n.selectAll([]),j=e.mainArea||n.selectAll([]),O=e.mainCircle||n.selectAll([]);e.flowing=!0,e.data.targets.forEach(function(t){t.values.splice(0,w)}),s=e.updateXDomain(a,!0,!0),e.updateXGrid&&e.updateXGrid(!0),l.orgDataCount?r=1===l.orgDataCount||k.x===C.x?e.x(T[0])-e.x(s[0]):e.isTimeSeries()?e.x(T[0])-e.x(s[0]):e.x(k.x)-e.x(C.x):1!==e.data.targets[0].values.length?r=e.x(T[0])-e.x(s[0]):e.isTimeSeries()?(k=e.getValueOnIndex(e.data.targets[0].values,0),C=e.getValueOnIndex(e.data.targets[0].values,e.data.targets[0].values.length-1),r=e.x(k.x)-e.x(C.x)):r=v(s)/2,x=v(T)/v(s),o="translate("+r+",0) scale("+x+",1)",e.hideXGridFocus(),e.hideTooltip(),n.transition().ease("linear").duration(S).each(function(){M.add(e.axes.x.transition().call(e.xAxis)),M.add(q.transition().attr("transform",o)),M.add(I.transition().attr("transform",o)),M.add(j.transition().attr("transform",o)),M.add(O.transition().attr("transform",o)),M.add(E.transition().attr("transform",o)),M.add(L.filter(e.isRegionOnX).transition().attr("transform",o)),M.add(A.transition().attr("transform",o)),M.add(P.transition().attr("transform",o))}).call(M,function(){var t,n=[],r=[],o=[];if(w){for(t=0;t<w;t++)n.push("."+h.shape+"-"+(b+t)),r.push("."+h.text+"-"+(b+t)),o.push("."+h.eventRect+"-"+(b+t));e.svg.selectAll("."+h.shapes).selectAll(n).remove(),e.svg.selectAll("."+h.texts).selectAll(r).remove(),e.svg.selectAll("."+h.eventRects).selectAll(o).remove(),e.svg.select("."+h.xgrid).remove()}A.attr("transform",null).attr(e.xgridAttr),P.attr("transform",null),P.select("line").attr("x1",i.axis_rotated?0:g).attr("x2",i.axis_rotated?e.width:g),P.select("text").attr("x",i.axis_rotated?e.width:0).attr("y",g),q.attr("transform",null).attr("d",u),I.attr("transform",null).attr("d",c),j.attr("transform",null).attr("d",d),O.attr("transform",null).attr("cx",p).attr("cy",f),E.attr("transform",null).attr("x",m).attr("y",y).style("fill-opacity",e.opacityForText.bind(e)),L.attr("transform",null),L.select("rect").filter(e.isRegionOnX).attr("x",e.regionX.bind(e)).attr("width",e.regionWidth.bind(e)),i.interaction_enabled&&e.redrawEventRect(),D(),e.flowing=!1})}},s.selected=function(t){var e=this.internal,i=e.d3;return i.merge(e.main.selectAll("."+h.shapes+e.getTargetSelectorSuffix(t)).selectAll("."+h.shape).filter(function(){return i.select(this).classed(h.SELECTED)}).map(function(t){return t.map(function(t){var e=t.__data__;return e.data?e.data:e})}))},s.select=function(t,e,i,n){var r=this.internal,o=r.d3,s=r.config;(s.data_selection_enabled||n)&&(r.main.selectAll("."+h.shapes).selectAll("."+h.shape).each(function(n,a){var l=o.select(this),u=n.data?n.data.id:n.id,c=r.getToggle(this,n).bind(r),d=s.data_selection_grouped||!t||t.indexOf(u)>=0,p=!e||e.indexOf(a)>=0,g=l.classed(h.SELECTED);l.classed(h.line)||l.classed(h.area)||(d&&p?s.data_selection_isselectable(n)&&!g&&0!=l.style("opacity")&&c(!0,l.classed(h.SELECTED,!0),n,a):f(i)&&i&&g&&c(!1,l.classed(h.SELECTED,!1),n,a))}),i&&(s.data_selection_grouped||!t)&&e&&e.length>0&&r.main.selectAll("."+h.selectedCircle).each(function(t,i){for(var n=o.select(this),r=!1,s=0;s<e.length;s++)r=r||n.classed(h.selectedCircle+"-"+e[s]);r||n.transition().duration(100).attr("r",0).remove()}))},s.unselect=function(t,e,i){var n=this.internal,r=n.d3,o=n.config;(o.data_selection_enabled||i)&&n.main.selectAll("."+h.shapes).selectAll("."+h.shape).each(function(i,s){var a=r.select(this),l=i.data?i.data.id:i.id,u=n.getToggle(this,i).bind(n),c=o.data_selection_grouped||!t||t.indexOf(l)>=0,d=!e||e.indexOf(s)>=0,p=a.classed(h.SELECTED);a.classed(h.line)||a.classed(h.area)||c&&d&&o.data_selection_isselectable(i)&&p&&u(!1,a.classed(h.SELECTED,!1),i,s)})},s.transform=function(t,e){var i=this.internal,n=["pie","donut"].indexOf(t)>=0?{withTransform:!0}:null;i.transformTo(e,t,n)},a.transformTo=function(t,e,i){var n=this,r=!n.hasArcType(),o=i||{withTransitionForAxis:r};o.withTransitionForTransform=!1,n.transiting=!1,n.setTargetType(t,e),n.updateTargets(n.data.targets),n.updateAndRedraw(o)},s.groups=function(t){var e=this.internal,i=e.config;return p(t)?i.data_groups:(i.data_groups=t,e.redraw(),i.data_groups)},s.xgrids=function(t){var e=this.internal,i=e.config;return t?(i.grid_x_lines=t,e.redrawWithoutRescale(),i.grid_x_lines):i.grid_x_lines},s.xgrids.add=function(t){var e=this.internal;return this.xgrids(e.config.grid_x_lines.concat(t||[]))},s.xgrids.remove=function(t){this.internal.removeGridLines(t,!0)},s.ygrids=function(t){var e=this.internal,i=e.config;return t?(i.grid_y_lines=t,e.redrawWithoutRescale(),i.grid_y_lines):i.grid_y_lines},s.ygrids.add=function(t){var e=this.internal;return this.ygrids(e.config.grid_y_lines.concat(t||[]))},s.ygrids.remove=function(t){this.internal.removeGridLines(t,!1)},s.regions=function(t){var e=this.internal,i=e.config;return t?(i.regions=t,e.redrawWithoutRescale(),i.regions):i.regions},s.regions.add=function(t){var e=this.internal,i=e.config;return t?(i.regions=i.regions.concat(t),e.redrawWithoutRescale(),i.regions):i.regions},s.regions.remove=function(t){var e,i,n,r=this.internal,o=r.config;return t=t||{},e=r.getOption(t,"duration",o.transition_duration),i=r.getOption(t,"classes",[h.region]),n=r.main.select("."+h.regions).selectAll(i.map(function(t){return"."+t})),(e?n.transition().duration(e):n).style("opacity",0).remove(),o.regions=o.regions.filter(function(t){var e=!1;return!t.class||(t.class.split(" ").forEach(function(t){i.indexOf(t)>=0&&(e=!0)}),!e)}),o.regions},s.data=function(t){var e=this.internal.data.targets;return void 0===t?e:e.filter(function(e){return[].concat(t).indexOf(e.id)>=0})},s.data.shown=function(t){return this.internal.filterTargetsToShow(this.data(t))},s.data.values=function(t){var e,i=null;return t&&(e=this.data(t),i=e[0]?e[0].values.map(function(t){return t.value}):null),i},s.data.names=function(t){return this.internal.clearLegendItemTextBoxCache(),this.internal.updateDataAttributes("names",t)},s.data.colors=function(t){return this.internal.updateDataAttributes("colors",t)},s.data.axes=function(t){return this.internal.updateDataAttributes("axes",t)},s.category=function(t,e){var i=this.internal,n=i.config;return arguments.length>1&&(n.axis_x_categories[t]=e,i.redraw()),n.axis_x_categories[t]},s.categories=function(t){var e=this.internal,i=e.config;return arguments.length?(i.axis_x_categories=t,e.redraw(),i.axis_x_categories):i.axis_x_categories},s.color=function(t){return this.internal.color(t)},s.x=function(t){var e=this.internal;return arguments.length&&(e.updateTargetX(e.data.targets,t),e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),e.data.xs},s.xs=function(t){var e=this.internal;return arguments.length&&(e.updateTargetXs(e.data.targets,t),e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),e.data.xs},s.axis=function(){},s.axis.labels=function(t){var e=this.internal;arguments.length&&(Object.keys(t).forEach(function(i){e.axis.setLabelText(i,t[i])}),e.axis.updateLabels())},s.axis.max=function(t){var e=this.internal,i=e.config;return arguments.length?("object"==typeof t?(u(t.x)&&(i.axis_x_max=t.x),u(t.y)&&(i.axis_y_max=t.y),u(t.y2)&&(i.axis_y2_max=t.y2)):i.axis_y_max=i.axis_y2_max=t,void e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})):{x:i.axis_x_max,y:i.axis_y_max,y2:i.axis_y2_max}},s.axis.min=function(t){var e=this.internal,i=e.config;return arguments.length?("object"==typeof t?(u(t.x)&&(i.axis_x_min=t.x),u(t.y)&&(i.axis_y_min=t.y),u(t.y2)&&(i.axis_y2_min=t.y2)):i.axis_y_min=i.axis_y2_min=t,void e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})):{x:i.axis_x_min,y:i.axis_y_min,y2:i.axis_y2_min}},s.axis.range=function(t){return arguments.length?(f(t.max)&&this.axis.max(t.max),void(f(t.min)&&this.axis.min(t.min))):{max:this.axis.max(),min:this.axis.min()}},s.legend=function(){},s.legend.show=function(t){var e=this.internal;e.showLegend(e.mapToTargetIds(t)),e.updateAndRedraw({withLegend:!0})},s.legend.hide=function(t){var e=this.internal;e.hideLegend(e.mapToTargetIds(t)),e.updateAndRedraw({withLegend:!0})},s.resize=function(t){var e=this.internal,i=e.config;i.size_width=t?t.width:null,i.size_height=t?t.height:null,this.flush()},s.flush=function(){this.internal.updateAndRedraw({withLegend:!0,withTransition:!1,withTransitionForTransform:!1})},s.destroy=function(){var e=this.internal;return t.clearInterval(e.intervalForObserveInserted),t.onresize=null,e.selectChart.classed("c3",!1).html(""),Object.keys(e).forEach(function(t){e[t]=null}),null},s.tooltip=function(){},s.tooltip.show=function(t){var e,i,n=this.internal;t.mouse&&(i=t.mouse),t.data?n.isMultipleX()?(i=[n.x(t.data.x),n.getYScale(t.data.id)(t.data.value)],e=null):e=u(t.data.index)?t.data.index:n.getIndexByX(t.data.x):void 0!==t.x?e=n.getIndexByX(t.x):void 0!==t.index&&(e=t.index),n.dispatchEvent("mouseover",e,i),n.dispatchEvent("mousemove",e,i)},s.tooltip.hide=function(){this.internal.dispatchEvent("mouseout",0)};var k;a.isSafari=function(){var e=t.navigator.userAgent;return e.indexOf("Safari")>=0&&e.indexOf("Chrome")<0},a.isChrome=function(){return t.navigator.userAgent.indexOf("Chrome")>=0},Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),i=this,n=function(){},r=function(){return i.apply(this instanceof n?this:t,e.concat(Array.prototype.slice.call(arguments)))};return n.prototype=this.prototype,r.prototype=new n,r}),"function"==typeof define&&define.amd?define("c3",["d3"],l):"undefined"!=typeof exports&&"undefined"!=typeof module?module.exports=l:t.c3=l}(window);var urlParams=null;define("bcc_commons",["jquery"],function(){}),C3Chart.prototype.localizeNames=function(){for(var t=this.bcc.navList.getShownCountries(),e={},i=0;i<t.length;i++)e[t[i]]=$.i18n.t("country:"+t[i]);this.c3Chart.data.names(e)},C3Chart.prototype.setRange=function(t,e,i,n){var r=toDate(t,i,n),o=toDate(e,i,n);this.c3Chart.axis.range({min:{x:r},max:{x:o}})},C3Chart.prototype.xAxisTicks=function(t,e,i,n){var r=[],o=toDate(t,i,n),s=toDate(e,i,n);if(NaN!=o.getTime()&&NaN!=s.getTime()&&o.getTime()<s.getTime()){var a=1e3*Math.abs(s-o)*60*60*24*365;if(a>=1){var l=Math.floor(a/7);r.push(o);var h=new Date(o.getTime());for(h.setMonth(0),h.setDate(1),h.setFullYear(h.getFullYear()+1+l);h.getFullYear()<=s.getFullYear()-1;)r.push(new Date(h.getTime())),h.setFullYear(h.getFullYear()+l);r.push(s)}}return r},C3Chart.prototype.focusCountry=function(t){if(void 0!==this.c3){var e=bcc.dataSetInfo[t].ser2[0];this.c3Chart.focus([e],!0)}},C3Chart.prototype.unfocusCountry=function(t){if(void 0!==this.c3)if(void 0===t)this.c3Chart.revert();else{var e=bcc.dataSetInfo[t].ser2[0];this.c3Chart.revert([e])}},C3Chart.prototype.loadCountry=function(t){if(void 0!==this.c3){var e=[];e.push(bcc.dataSetInfo[t].ser2),this.c3Chart.load({columns:e}),this.c3Chart.regions({}),this.c3Chart.xgrids({});var i={};i[t]=$.i18n.t("country:"+t),this.c3Chart.data.names(i)}},C3Chart.prototype.unloadCountry=function(t){if(void 0!==this.c3){var e=bcc.dataSetInfo[t];this.c3Chart.unload({ids:[e.ser2[0]]})}},C3Chart.prototype.cleanOverlay=function(){void 0!==this.c3&&(this.c3Chart.regions({}),this.c3Chart.xgrids({}))},C3Chart.prototype.drawCanvasOverlay=function(){},C3Chart.prototype.loadCountryLines=function(t){void 0!==this.c3&&this.c3Chart.xgrids(bcc.dataSetInfo[t].label)},C3Chart.prototype.loadCountryRegions=function(t,e){if(void 0!==this.c3){var i=bcc.getRegions(t);e||this.loadCountryLines(t),this.c3Chart.regions([]);var n=i;void 0!==this.regionsTimeout&&clearTimeout(this.regionsTimeout),this.regionsTimeout=setTimeout(function(){this.c3Chart.regions(n)}.bind(this),700)}},C3Chart.prototype.clearRegions=function(t){void 0!==this.c3&&(this.c3Chart.regions([]),t&&this.c3Chart.xgrids([]))},C3Chart.prototype.selectPointAllSeries=function(t){void 0!==this.c3&&this.c3Chart.select(void 0,[t],!0,!0)},C3Chart.prototype.selectPoint=function(t,e,i){void 0!==this.c3&&this.c3Chart.select(t,e,i,!0)},C3Chart.prototype.reDraw=function(t){},"function"==typeof define&&define.amd?define("c3Chart",["c3","bcc_commons"],function(t){return C3Chart.prototype.c3=t,C3Chart}):"undefined"!=typeof exports&&"undefined"!=typeof module&&(module.exports=C3Chart),DataSetLoader.prototype.loadDataSet=function(t){("string"==typeof t||t instanceof String)&&(this.file=t),this.loaded=!1,this.error=!1,this.xhttp=new XMLHttpRequest,this.xhttp.onreadystatechange=function(){4==this.xhttp.readyState&&200==this.xhttp.status?(this.loaded=!0,this.xmlDoc=this.xhttp.responseXML,this.dataSet=xmlToJson(this.xmlDoc),this.onready(this.dataSet,this.xmlDoc,this.xhttp,this.file)):200!=this.xhttp.status&&0!=this.xhttp.status&&(this.error=!0,this.onerror(this.xhttp,this.file))}.bind(this),this.xhttp.open("GET",this.file,!0),this.xhttp.send()},"function"==typeof define&&define.amd?define("dataSetLoader",["bcc_commons"],function(){return new DataSetLoader}):"undefined"!=typeof exports&&"undefined"!=typeof module&&(module.exports=new DataSetLoader),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define("i18next",e):t.i18next=e()}(this,function(){"use strict";function t(t){return null==t?"":""+t}function e(t,e,i){t.forEach(function(t){e[t]&&(i[t]=e[t])})}function i(t,e,i){function n(t){return t&&t.indexOf("###")>-1?t.replace(/###/g,"."):t}for(var r="string"!=typeof e?[].concat(e):e.split(".");r.length>1;){if(!t)return{};var o=n(r.shift());!t[o]&&i&&(t[o]=new i),t=t[o]}return t?{obj:t,k:n(r.shift())}:{}}function n(t,e,n){var r=i(t,e,Object);r.obj[r.k]=n}function r(t,e,n,r){var o=i(t,e,Object),s=o.obj,a=o.k;s[a]=s[a]||[],r&&(s[a]=s[a].concat(n)),r||s[a].push(n)}function o(t,e){var n=i(t,e),r=n.obj,o=n.k;return r?r[o]:void 0}function s(t,e,i){for(var n in e)n in t?"string"==typeof t[n]||t[n]instanceof String||"string"==typeof e[n]||e[n]instanceof String?i&&(t[n]=e[n]):s(t[n],e[n],i):t[n]=e[n];return t}function a(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function l(t){return"string"==typeof t?t.replace(/[&<>"'\/]/g,function(t){return k[t]}):t}function h(t){return t.interpolation={unescapeSuffix:"HTML"},t.interpolation.prefix=t.interpolationPrefix||"__",t.interpolation.suffix=t.interpolationSuffix||"__",t.interpolation.escapeValue=t.escapeInterpolation||!1,t.interpolation.nestingPrefix=t.reusePrefix||"$t(",t.interpolation.nestingSuffix=t.reuseSuffix||")",t}function u(t){return t.resStore&&(t.resources=t.resStore),t.ns&&t.ns.defaultNs?(t.defaultNS=t.ns.defaultNs,t.ns=t.ns.namespaces):t.defaultNS=t.ns||"translation",t.fallbackToDefaultNS&&t.defaultNS&&(t.fallbackNS=t.defaultNS),t.saveMissing=t.sendMissing,t.saveMissingTo=t.sendMissingTo||"current",t.returnNull=!t.fallbackOnNull,t.returnEmptyString=!t.fallbackOnEmpty,t.returnObjects=t.returnObjectTrees,t.joinArrays="\n",t.returnedObjectHandler=t.objectTreeKeyHandler,t.parseMissingKeyHandler=t.parseMissingKey,t.appendNamespaceToMissingKey=!0,t.nsSeparator=t.nsseparator,t.keySeparator=t.keyseparator,"sprintf"===t.shortcutFunction&&(t.overloadTranslationOptionHandler=function(t){for(var e=[],i=1;i<t.length;i++)e.push(t[i]);return{postProcess:"sprintf",sprintf:e}}),t.whitelist=t.lngWhitelist,t.preload=t.preload,"current"===t.load&&(t.load="currentOnly"),"unspecific"===t.load&&(t.load="languageOnly"),t.backend=t.backend||{},t.backend.loadPath=t.resGetPath||"locales/__lng__/__ns__.json",t.backend.addPath=t.resPostPath||"locales/add/__lng__/__ns__",t.backend.allowMultiLoading=t.dynamicLoad,t.cache=t.cache||{},t.cache.prefix="res_",t.cache.expirationTime=6048e5,t.cache.enabled=!!t.useLocalStorage,t=h(t),t.defaultVariables&&(t.interpolation.defaultVariables=t.defaultVariables),t}function c(t){return t=h(t),t.joinArrays="\n",t}function d(t){return(t.interpolationPrefix||t.interpolationSuffix||t.escapeInterpolation)&&(t=h(t)),t.nsSeparator=t.nsseparator,t.keySeparator=t.keyseparator,t.returnObjects=t.returnObjectTrees,t}function p(t){t.lng=function(){return b.deprecate("i18next.lng() can be replaced by i18next.language for detected language or i18next.languages for languages ordered by translation lookup."),t.services.languageUtils.toResolveHierarchy(t.language)[0]},t.preload=function(e,i){b.deprecate("i18next.preload() can be replaced with i18next.loadLanguages()"),t.loadLanguages(e,i)},t.setLng=function(e,i,n){return b.deprecate("i18next.setLng() can be replaced with i18next.changeLanguage() or i18next.getFixedT() to get a translation function with fixed language or namespace."),"function"==typeof i&&(n=i,i={}),i||(i={}),!0===i.fixLng&&n?n(null,t.getFixedT(e)):void t.changeLanguage(e,n)},t.addPostProcessor=function(e,i){b.deprecate("i18next.addPostProcessor() can be replaced by i18next.use({ type: 'postProcessor', name: 'name', process: fc })"),t.use({type:"postProcessor",name:e,process:i})}}function f(){var t={};return M.forEach(function(e){e.lngs.forEach(function(i){return t[i]={numbers:e.nr,plurals:A[e.fc]}})}),t}function g(t,e){for(var i=t.indexOf(e);-1!==i;)t.splice(i,1),i=t.indexOf(e)}function m(){return{debug:!1,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,whitelist:!1,load:"all",preload:!1,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",saveMissing:!1,saveMissingTo:"fallback",missingKeyHandler:!1,postProcess:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:function(){},parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,overloadTranslationOptionHandler:function(t){return{defaultValue:t[1]}},interpolation:{escapeValue:!0,prefix:"{{",suffix:"}}",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",defaultVariables:void 0}}}function v(t){return"string"==typeof t.ns&&(t.ns=[t.ns]),
"string"==typeof t.fallbackLng&&(t.fallbackLng=[t.fallbackLng]),"string"==typeof t.fallbackNS&&(t.fallbackNS=[t.fallbackNS]),t.whitelist&&t.whitelist.indexOf("cimode")<0&&t.whitelist.push("cimode"),t}var y={};y.typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},y.classCallCheck=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},y.extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},y.inherits=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},y.possibleConstructorReturn=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},y.slicedToArray=function(){function t(t,e){var i=[],n=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(n=(s=a.next()).done)&&(i.push(s.value),!e||i.length!==e);n=!0);}catch(t){r=!0,o=t}finally{try{!n&&a.return&&a.return()}finally{if(r)throw o}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();var _={type:"logger",log:function(t){this._output("log",t)},warn:function(t){this._output("warn",t)},error:function(t){this._output("error",t)},_output:function(t,e){console&&console[t]&&console[t].apply(console,Array.prototype.slice.call(e))}},x=function(){function t(e){var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];y.classCallCheck(this,t),this.subs=[],this.init(e,i)}return t.prototype.init=function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];this.prefix=e.prefix||"i18next:",this.logger=t||_,this.options=e,this.debug=!1!==e.debug},t.prototype.setDebug=function(t){this.debug=t,this.subs.forEach(function(e){e.setDebug(t)})},t.prototype.log=function(){this.forward(arguments,"log","",!0)},t.prototype.warn=function(){this.forward(arguments,"warn","",!0)},t.prototype.error=function(){this.forward(arguments,"error","")},t.prototype.deprecate=function(){this.forward(arguments,"warn","WARNING DEPRECATED: ",!0)},t.prototype.forward=function(t,e,i,n){n&&!this.debug||("string"==typeof t[0]&&(t[0]=i+this.prefix+" "+t[0]),this.logger[e](t))},t.prototype.create=function(e){var i=new t(this.logger,y.extends({prefix:this.prefix+":"+e+":"},this.options));return this.subs.push(i),i},t}(),b=new x,w=function(){function t(){y.classCallCheck(this,t),this.observers={}}return t.prototype.on=function(t,e){var i=this;t.split(" ").forEach(function(t){i.observers[t]=i.observers[t]||[],i.observers[t].push(e)})},t.prototype.off=function(t,e){var i=this;this.observers[t]&&this.observers[t].forEach(function(){if(e){var n=i.observers[t].indexOf(e);n>-1&&i.observers[t].splice(n,1)}else delete i.observers[t]})},t.prototype.emit=function(t){for(var e=arguments.length,i=Array(e>1?e-1:0),n=1;e>n;n++)i[n-1]=arguments[n];this.observers[t]&&this.observers[t].forEach(function(t){t.apply(void 0,i)}),this.observers["*"]&&this.observers["*"].forEach(function(e){var n;e.apply(e,(n=[t]).concat.apply(n,i))})},t}(),k={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},C=function(t){function e(){var i=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=arguments.length<=1||void 0===arguments[1]?{ns:["translation"],defaultNS:"translation"}:arguments[1];y.classCallCheck(this,e);var r=y.possibleConstructorReturn(this,t.call(this));return r.data=i,r.options=n,r}return y.inherits(e,t),e.prototype.addNamespaces=function(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)},e.prototype.removeNamespaces=function(t){var e=this.options.ns.indexOf(t);e>-1&&this.options.ns.splice(e,1)},e.prototype.getResource=function(t,e,i){var n=arguments.length<=3||void 0===arguments[3]?{}:arguments[3],r=n.keySeparator||this.options.keySeparator;void 0===r&&(r=".");var s=[t,e];return i&&"string"!=typeof i&&(s=s.concat(i)),i&&"string"==typeof i&&(s=s.concat(r?i.split(r):i)),t.indexOf(".")>-1&&(s=t.split(".")),o(this.data,s)},e.prototype.addResource=function(t,e,i,r){var o=arguments.length<=4||void 0===arguments[4]?{silent:!1}:arguments[4],s=this.options.keySeparator;void 0===s&&(s=".");var a=[t,e];i&&(a=a.concat(s?i.split(s):i)),t.indexOf(".")>-1&&(a=t.split("."),r=e,e=a[1]),this.addNamespaces(e),n(this.data,a,r),o.silent||this.emit("added",t,e,i,r)},e.prototype.addResources=function(t,e,i){for(var n in i)"string"==typeof i[n]&&this.addResource(t,e,n,i[n],{silent:!0});this.emit("added",t,e,i)},e.prototype.addResourceBundle=function(t,e,i,r,a){var l=[t,e];t.indexOf(".")>-1&&(l=t.split("."),r=i,i=e,e=l[1]),this.addNamespaces(e);var h=o(this.data,l)||{};r?s(h,i,a):h=y.extends({},h,i),n(this.data,l,h),this.emit("added",t,e,i)},e.prototype.removeResourceBundle=function(t,e){this.hasResourceBundle(t,e)&&delete this.data[t][e],this.removeNamespaces(e),this.emit("removed",t,e)},e.prototype.hasResourceBundle=function(t,e){return void 0!==this.getResource(t,e)},e.prototype.getResourceBundle=function(t,e){return e||(e=this.options.defaultNS),"v1"===this.options.compatibilityAPI?y.extends({},this.getResource(t,e)):this.getResource(t,e)},e.prototype.toJSON=function(){return this.data},e}(w),T={processors:{},addPostProcessor:function(t){this.processors[t.name]=t},handle:function(t,e,i,n,r){var o=this;return t.forEach(function(t){o.processors[t]&&(e=o.processors[t].process(e,i,n,r))}),e}},S=function(t){function i(n){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];y.classCallCheck(this,i);var o=y.possibleConstructorReturn(this,t.call(this));return e(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector"],n,o),o.options=r,o.logger=b.create("translator"),o}return y.inherits(i,t),i.prototype.changeLanguage=function(t){t&&(this.language=t)},i.prototype.exists=function(t){var e=arguments.length<=1||void 0===arguments[1]?{interpolation:{}}:arguments[1];return"v1"===this.options.compatibilityAPI&&(e=d(e)),void 0!==this.resolve(t,e)},i.prototype.extractFromKey=function(t,e){var i=e.nsSeparator||this.options.nsSeparator;void 0===i&&(i=":");var n=e.ns||this.options.defaultNS;if(i&&t.indexOf(i)>-1){var r=t.split(i);n=r[0],t=r[1]}return"string"==typeof n&&(n=[n]),{key:t,namespaces:n}},i.prototype.translate=function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if("object"!==(void 0===e?"undefined":y.typeof(e))?e=this.options.overloadTranslationOptionHandler(arguments):"v1"===this.options.compatibilityAPI&&(e=d(e)),void 0===t||null===t||""===t)return"";"number"==typeof t&&(t=String(t)),"string"==typeof t&&(t=[t]);var i=e.lng||this.language;if(i&&"cimode"===i.toLowerCase())return t[t.length-1];var n=e.keySeparator||this.options.keySeparator||".",r=this.extractFromKey(t[t.length-1],e),o=r.key,s=r.namespaces,a=s[s.length-1],l=this.resolve(t,e),h=Object.prototype.toString.apply(l),u=["[object Number]","[object Function]","[object RegExp]"],c=void 0!==e.joinArrays?e.joinArrays:this.options.joinArrays;if(l&&"string"!=typeof l&&u.indexOf(h)<0&&(!c||"[object Array]"!==h)){if(!e.returnObjects&&!this.options.returnObjects)return this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(o,l,e):"key '"+o+" ("+this.language+")' returned an object instead of string.";var p="[object Array]"===h?[]:{};for(var f in l)p[f]=this.translate(""+o+n+f,y.extends({joinArrays:!1,ns:s},e));l=p}else if(c&&"[object Array]"===h)(l=l.join(c))&&(l=this.extendTranslation(l,o,e));else{var g=!1,m=!1;if(!this.isValidLookup(l)&&e.defaultValue&&(g=!0,l=e.defaultValue),this.isValidLookup(l)||(m=!0,l=o),(m||g)&&(this.logger.log("missingKey",i,a,o,l),this.options.saveMissing)){var v=[];if("fallback"===this.options.saveMissingTo&&this.options.fallbackLng&&this.options.fallbackLng[0])for(var _=0;_<this.options.fallbackLng.length;_++)v.push(this.options.fallbackLng[_]);else"all"===this.options.saveMissingTo?v=this.languageUtils.toResolveHierarchy(e.lng||this.language):v.push(e.lng||this.language);this.options.missingKeyHandler?this.options.missingKeyHandler(v,a,o,l):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(v,a,o,l),this.emit("missingKey",v,a,o,l)}l=this.extendTranslation(l,o,e),m&&l===o&&this.options.appendNamespaceToMissingKey&&(l=a+":"+o),m&&this.options.parseMissingKeyHandler&&(l=this.options.parseMissingKeyHandler(l))}return l},i.prototype.extendTranslation=function(t,e,i){var n=this;i.interpolation&&this.interpolator.init(i);var r=i.replace&&"string"!=typeof i.replace?i.replace:i;this.options.interpolation.defaultVariables&&(r=y.extends({},this.options.interpolation.defaultVariables,r)),t=this.interpolator.interpolate(t,r),t=this.interpolator.nest(t,function(){for(var t=arguments.length,e=Array(t),i=0;t>i;i++)e[i]=arguments[i];return n.translate.apply(n,e)},i),i.interpolation&&this.interpolator.reset();var o=i.postProcess||this.options.postProcess,s="string"==typeof o?[o]:o;return void 0!==t&&s&&s.length&&!1!==i.applyPostProcessor&&(t=T.handle(s,t,e,i,this)),t},i.prototype.resolve=function(t){var e=this,i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=void 0;return"string"==typeof t&&(t=[t]),t.forEach(function(t){if(!e.isValidLookup(n)){var r=e.extractFromKey(t,i),o=r.key,s=r.namespaces;e.options.fallbackNS&&(s=s.concat(e.options.fallbackNS));var a=void 0!==i.count&&"string"!=typeof i.count,l=void 0!==i.context&&"string"==typeof i.context&&""!==i.context,h=i.lngs?i.lngs:e.languageUtils.toResolveHierarchy(i.lng||e.language);s.forEach(function(t){e.isValidLookup(n)||h.forEach(function(r){if(!e.isValidLookup(n)){var s=o,h=[s],u=void 0;a&&(u=e.pluralResolver.getSuffix(r,i.count)),a&&l&&h.push(s+u),l&&h.push(s+=""+e.options.contextSeparator+i.context),a&&h.push(s+=u);for(var c=void 0;c=h.pop();)e.isValidLookup(n)||(n=e.getResource(r,t,c,i))}})})}}),n},i.prototype.isValidLookup=function(t){return!(void 0===t||!this.options.returnNull&&null===t||!this.options.returnEmptyString&&""===t)},i.prototype.getResource=function(t,e,i){var n=arguments.length<=3||void 0===arguments[3]?{}:arguments[3];return this.resourceStore.getResource(t,e,i,n)},i}(w),D=function(){function t(e){y.classCallCheck(this,t),this.options=e,this.whitelist=this.options.whitelist||!1,this.logger=b.create("languageUtils")}return t.prototype.getLanguagePartFromCode=function(t){if(t.indexOf("-")<0)return t;var e=["nb-NO","nn-NO","nb-no","nn-no"],i=t.split("-");return this.formatLanguageCode(e.indexOf(t)>-1?i[1].toLowerCase():i[0])},t.prototype.formatLanguageCode=function(t){if("string"==typeof t&&t.indexOf("-")>-1){var e=t.split("-"),i=y.slicedToArray(e,2),n=i[0],r=i[1];return this.options.lowerCaseLng?n.toLowerCase()+"-"+r.toLowerCase():n.toLowerCase()+"-"+r.toUpperCase()}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t},t.prototype.isWhitelisted=function(t){return"languageOnly"===this.options.load&&(t=this.getLanguagePartFromCode(t)),!this.whitelist||!this.whitelist.length||this.whitelist.indexOf(t)>-1},t.prototype.toResolveHierarchy=function(t,e){var i=this;"string"==typeof(e=e||this.options.fallbackLng||[])&&(e=[e]);var n=[],r=function(t){i.isWhitelisted(t)?n.push(t):i.logger.warn("rejecting non-whitelisted language code: "+t)};return"string"==typeof t&&t.indexOf("-")>-1?("languageOnly"!==this.options.load&&r(this.formatLanguageCode(t)),"currentOnly"!==this.options.load&&r(this.getLanguagePartFromCode(t))):"string"==typeof t&&r(this.formatLanguageCode(t)),e.forEach(function(t){n.indexOf(t)<0&&r(i.formatLanguageCode(t))}),n},t}(),M=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","tg","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","es_ar","et","eu","fi","fo","fur","fy","gl","gu","ha","he","hi","hu","hy","ia","it","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt","pt_br","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","id","ja","jbo","ka","kk","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21}],A={1:function(t){return Number(t>1)},2:function(t){return Number(1!=t)},3:function(t){return 0},4:function(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&4>=t%10&&(10>t%100||t%100>=20)?1:2)},5:function(t){return Number(0===t?0:1==t?1:2==t?2:t%100>=3&&10>=t%100?3:t%100>=11?4:5)},6:function(t){return Number(1==t?0:t>=2&&4>=t?1:2)},7:function(t){return Number(1==t?0:t%10>=2&&4>=t%10&&(10>t%100||t%100>=20)?1:2)},8:function(t){return Number(1==t?0:2==t?1:8!=t&&11!=t?2:3)},9:function(t){return Number(t>=2)},10:function(t){return Number(1==t?0:2==t?1:7>t?2:11>t?3:4)},11:function(t){return Number(1==t||11==t?0:2==t||12==t?1:t>2&&20>t?2:3)},12:function(t){return Number(t%10!=1||t%100==11)},13:function(t){return Number(0!==t)},14:function(t){return Number(1==t?0:2==t?1:3==t?2:3)},15:function(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&(10>t%100||t%100>=20)?1:2)},16:function(t){return Number(t%10==1&&t%100!=11?0:0!==t?1:2)},17:function(t){return Number(1==t||t%10==1?0:1)},18:function(t){return Number(0==t?0:1==t?1:2)},19:function(t){return Number(1==t?0:0===t||t%100>1&&11>t%100?1:t%100>10&&20>t%100?2:3)},20:function(t){return Number(1==t?0:0===t||t%100>0&&20>t%100?1:2)},21:function(t){return Number(t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0)}},P=function(){function t(e){var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];y.classCallCheck(this,t),this.languageUtils=e,this.options=i,this.logger=b.create("pluralResolver"),this.rules=f()}return t.prototype.addRule=function(t,e){this.rules[t]=e},t.prototype.getRule=function(t){return this.rules[this.languageUtils.getLanguagePartFromCode(t)]},t.prototype.needsPlural=function(t){var e=this.getRule(t);return!(e&&e.numbers.length<=1)},t.prototype.getSuffix=function(t,e){var i=this.getRule(t);if(i){if(1===i.numbers.length)return"";var n=i.noAbs?i.plurals(e):i.plurals(Math.abs(e)),r=i.numbers[n];if(2===i.numbers.length&&1===i.numbers[0]&&(2===r?r="plural":1===r&&(r="")),"v1"===this.options.compatibilityJSON){if(1===r)return"";if("number"==typeof r)return"_plural_"+r.toString()}return this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}return this.logger.warn("no plural rule found for: "+t),""},t}(),L=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];y.classCallCheck(this,e),this.logger=b.create("interpolator"),this.init(t,!0)}return e.prototype.init=function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];arguments[1]&&(this.options=t),t.interpolation||(t.interpolation={escapeValue:!0});var e=t.interpolation;this.escapeValue=e.escapeValue,this.prefix=e.prefix?a(e.prefix):e.prefixEscaped||"{{",this.suffix=e.suffix?a(e.suffix):e.suffixEscaped||"}}",this.unescapePrefix=e.unescapeSuffix?"":e.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":e.unescapeSuffix||"",this.nestingPrefix=e.nestingPrefix?a(e.nestingPrefix):e.nestingPrefixEscaped||a("$t("),this.nestingSuffix=e.nestingSuffix?a(e.nestingSuffix):e.nestingSuffixEscaped||a(")");var i=this.prefix+"(.+?)"+this.suffix;this.regexp=new RegExp(i,"g");var n=this.prefix+this.unescapePrefix+"(.+?)"+this.unescapeSuffix+this.suffix;this.regexpUnescape=new RegExp(n,"g");var r=this.nestingPrefix+"(.+?)"+this.nestingSuffix;this.nestingRegexp=new RegExp(r,"g")},e.prototype.reset=function(){this.options&&this.init(this.options)},e.prototype.interpolate=function(e,i){for(var n=void 0,r=void 0;n=this.regexpUnescape.exec(e);){var s=o(i,n[1].trim());e=e.replace(n[0],s)}for(;n=this.regexp.exec(e);)r=o(i,n[1].trim()),"string"!=typeof r&&(r=t(r)),r||(this.logger.warn("missed to pass in variable "+n[1]+" for interpolating "+e),r=""),r=function(t){return t.replace(/\$/g,"$$$$")}(this.escapeValue?l(r):r),e=e.replace(n[0],r),this.regexp.lastIndex=0;return e},e.prototype.nest=function(e,i){function n(t){if(t.indexOf(",")<0)return t;var e=t.split(",");t=e.shift();var i=e.join(",");i=this.interpolate(i,a);try{a=JSON.parse(i)}catch(e){this.logger.error("failed parsing options string in nesting for key "+t,e)}return t}var r=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],o=void 0,s=void 0,a=JSON.parse(JSON.stringify(r));for(a.applyPostProcessor=!1;o=this.nestingRegexp.exec(e);)s=i(n.call(this,o[1].trim()),a),"string"!=typeof s&&(s=t(s)),s||(this.logger.warn("missed to pass in variable "+o[1]+" for interpolating "+e),s=""),s=function(t){return t.replace(/\$/g,"$$$$")}(this.escapeValue?l(s):s),e=e.replace(o[0],s),this.regexp.lastIndex=0;return e},e}(),E=function(t){function e(i,n,r){var o=arguments.length<=3||void 0===arguments[3]?{}:arguments[3];y.classCallCheck(this,e);var s=y.possibleConstructorReturn(this,t.call(this));return s.backend=i,s.store=n,s.services=r,s.options=o,s.logger=b.create("backendConnector"),s.state={},s.queue=[],s.backend&&s.backend.init&&s.backend.init(r,o.backend,o),s}return y.inherits(e,t),e.prototype.queueLoad=function(t,e,i){var n=this,r=[],o=[],s=[],a=[];return t.forEach(function(t){var i=!0;e.forEach(function(e){var s=t+"|"+e;n.store.hasResourceBundle(t,e)?n.state[s]=2:n.state[s]<0||(1===n.state[s]?o.indexOf(s)<0&&o.push(s):(n.state[s]=1,i=!1,o.indexOf(s)<0&&o.push(s),r.indexOf(s)<0&&r.push(s),a.indexOf(e)<0&&a.push(e)))}),i||s.push(t)}),(r.length||o.length)&&this.queue.push({pending:o,loaded:{},errors:[],callback:i}),{toLoad:r,pending:o,toLoadLanguages:s,toLoadNamespaces:a}},e.prototype.loaded=function(t,e,i){var n=this,o=t.split("|"),s=y.slicedToArray(o,2),a=s[0],l=s[1];e&&this.emit("failedLoading",a,l,e),i&&this.store.addResourceBundle(a,l,i),this.state[t]=e?-1:2,this.queue.forEach(function(i){r(i.loaded,[a],l),g(i.pending,t),e&&i.errors.push(e),0!==i.pending.length||i.done||(i.errors.length?i.callback(i.errors):i.callback(),n.emit("loaded",i.loaded),i.done=!0)}),this.queue=this.queue.filter(function(t){return!t.done})},e.prototype.read=function(t,e,i,n,r,o){var s=this;return n||(n=0),r||(r=250),t.length?void this.backend[i](t,e,function(a,l){return a&&l&&5>n?void setTimeout(function(){s.read.call(s,t,e,i,++n,2*r,o)},r):void o(a,l)}):o(null,{})},e.prototype.load=function(t,e,i){var n=this;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();var r=y.extends({},this.backend.options,this.options.backend);"string"==typeof t&&(t=this.services.languageUtils.toResolveHierarchy(t)),"string"==typeof e&&(e=[e]);var s=this.queueLoad(t,e,i);return s.toLoad.length?void(r.allowMultiLoading&&this.backend.readMulti?this.read(s.toLoadLanguages,s.toLoadNamespaces,"readMulti",null,null,function(t,e){t&&n.logger.warn("loading namespaces "+s.toLoadNamespaces.join(", ")+" for languages "+s.toLoadLanguages.join(", ")+" via multiloading failed",t),!t&&e&&n.logger.log("loaded namespaces "+s.toLoadNamespaces.join(", ")+" for languages "+s.toLoadLanguages.join(", ")+" via multiloading",e),s.toLoad.forEach(function(i){var r=i.split("|"),s=y.slicedToArray(r,2),a=s[0],l=s[1],h=o(e,[a,l]);if(h)n.loaded(i,t,h);else{var u="loading namespace "+l+" for language "+a+" via multiloading failed";n.loaded(i,u),n.logger.error(u)}})}):function(){var t=function(t){var e=this,i=t.split("|"),n=y.slicedToArray(i,2),r=n[0],o=n[1];this.read(r,o,"read",null,null,function(i,n){i&&e.logger.warn("loading namespace "+o+" for language "+r+" failed",i),!i&&n&&e.logger.log("loaded namespace "+o+" for language "+r,n),e.loaded(t,i,n)})};s.toLoad.forEach(function(e){t.call(n,e)})}()):void(s.pending.length||i())},e.prototype.saveMissing=function(t,e,i,n){this.backend&&this.backend.create&&this.backend.create(t,e,i,n),this.store.addResource(t[0],e,i,n)},e}(w),q=function(t){function e(i,n,r){var o=arguments.length<=3||void 0===arguments[3]?{}:arguments[3];y.classCallCheck(this,e);var s=y.possibleConstructorReturn(this,t.call(this));return s.cache=i,s.store=n,s.services=r,s.options=o,s.logger=b.create("cacheConnector"),s.cache&&s.cache.init&&s.cache.init(r,o.cache,o),s}return y.inherits(e,t),e.prototype.load=function(t,e,i){var n=this;if(!this.cache)return i&&i();var r=y.extends({},this.cache.options,this.options.cache);"string"==typeof t&&(t=this.services.languageUtils.toResolveHierarchy(t)),"string"==typeof e&&(e=[e]),r.enabled?this.cache.load(t,function(e,r){if(e&&n.logger.error("loading languages "+t.join(", ")+" from cache failed",e),r)for(var o in r)for(var s in r[o])if("i18nStamp"!==s){var a=r[o][s];a&&n.store.addResourceBundle(o,s,a)}i&&i()}):i&&i()},e.prototype.save=function(){this.cache&&this.options.cache&&this.options.cache.enabled&&this.cache.save(this.store.data)},e}(w);return new(function(t){function e(){var i=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=arguments[1];y.classCallCheck(this,e);var r=y.possibleConstructorReturn(this,t.call(this));return r.options=v(i),r.services={},r.logger=b,r.modules={},n&&!r.isInitialized&&r.init(i,n),r}return y.inherits(e,t),e.prototype.init=function(t,e){function i(t){return t?"function"==typeof t?new t:t:void 0}var n=this;if("function"==typeof t&&(e=t,t={}),t||(t={}),"v1"===t.compatibilityAPI?this.options=y.extends({},m(),v(u(t)),{}):"v1"===t.compatibilityJSON?this.options=y.extends({},m(),v(c(t)),{}):this.options=y.extends({},m(),this.options,v(t)),e||(e=function(){}),!this.options.isClone){this.modules.logger?b.init(i(this.modules.logger),this.options):b.init(null,this.options);var r=new D(this.options);this.store=new C(this.options.resources,this.options);var o=this.services;o.logger=b,o.resourceStore=this.store,o.resourceStore.on("added removed",function(t,e){o.cacheConnector.save()}),o.languageUtils=r,o.pluralResolver=new P(r,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON}),o.interpolator=new L(this.options),o.backendConnector=new E(i(this.modules.backend),o.resourceStore,o,this.options),o.backendConnector.on("*",function(t){for(var e=arguments.length,i=Array(e>1?e-1:0),r=1;e>r;r++)i[r-1]=arguments[r];n.emit.apply(n,[t].concat(i))}),o.backendConnector.on("loaded",function(t){o.cacheConnector.save()}),o.cacheConnector=new q(i(this.modules.cache),o.resourceStore,o,this.options),o.cacheConnector.on("*",function(t){for(var e=arguments.length,i=Array(e>1?e-1:0),r=1;e>r;r++)i[r-1]=arguments[r];n.emit.apply(n,[t].concat(i))}),this.modules.languageDetector&&(o.languageDetector=i(this.modules.languageDetector),o.languageDetector.init(o,this.options.detection,this.options)),this.translator=new S(this.services,this.options),this.translator.on("*",function(t){for(var e=arguments.length,i=Array(e>1?e-1:0),r=1;e>r;r++)i[r-1]=arguments[r];n.emit.apply(n,[t].concat(i))})}return["getResource","addResource","addResources","addResourceBundle","removeResourceBundle","hasResourceBundle","getResourceBundle"].forEach(function(t){n[t]=function(){return this.store[t].apply(this.store,arguments)}}),"v1"===this.options.compatibilityAPI&&p(this),this.changeLanguage(this.options.lng,function(t,i){n.emit("initialized",n.options),n.logger.log("initialized",n.options),e(t,i)}),this},e.prototype.loadResources=function(t){var e=this;if(t||(t=function(){}),this.options.resources)t(null);else{var i=function(){if(e.language&&"cimode"===e.language.toLowerCase())return{v:t()};var i=[],n=function(t){e.services.languageUtils.toResolveHierarchy(t).forEach(function(t){i.indexOf(t)<0&&i.push(t)})};n(e.language),e.options.preload&&e.options.preload.forEach(function(t){n(t)}),e.services.cacheConnector.load(i,e.options.ns,function(){e.services.backendConnector.load(i,e.options.ns,t)})}();if("object"===(void 0===i?"undefined":y.typeof(i)))return i.v}},e.prototype.use=function(t){return"backend"===t.type&&(this.modules.backend=t),"cache"===t.type&&(this.modules.cache=t),("logger"===t.type||t.log&&t.warn&&t.warn)&&(this.modules.logger=t),"languageDetector"===t.type&&(this.modules.languageDetector=t),"postProcessor"===t.type&&T.addPostProcessor(t),this},e.prototype.changeLanguage=function(t,e){var i=this,n=function(n){t&&(i.emit("languageChanged",t),i.logger.log("languageChanged",t)),e&&e(n,function(){for(var t=arguments.length,e=Array(t),n=0;t>n;n++)e[n]=arguments[n];return i.t.apply(i,e)})};!t&&this.services.languageDetector&&(t=this.services.languageDetector.detect()),t&&(this.language=t,this.languages=this.services.languageUtils.toResolveHierarchy(t),this.translator.changeLanguage(t),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage(t)),this.loadResources(function(t){n(t)})},e.prototype.getFixedT=function(t,e){var i=this,n=function t(e,n){return n=n||{},n.lng=n.lng||t.lng,n.ns=n.ns||t.ns,i.t(e,n)};return n.lng=t,n.ns=e,n},e.prototype.t=function(){return this.translator&&this.translator.translate.apply(this.translator,arguments)},e.prototype.exists=function(){return this.translator&&this.translator.exists.apply(this.translator,arguments)},e.prototype.setDefaultNamespace=function(t){this.options.defaultNS=t},e.prototype.loadNamespaces=function(t,e){var i=this;return this.options.ns?("string"==typeof t&&(t=[t]),t.forEach(function(t){i.options.ns.indexOf(t)<0&&i.options.ns.push(t)}),void this.loadResources(e)):e&&e()},e.prototype.loadLanguages=function(t,e){"string"==typeof t&&(t=[t]);var i=this.options.preload||[],n=t.filter(function(t){return i.indexOf(t)<0});return n.length?(this.options.preload=i.concat(n),void this.loadResources(e)):e()},e.prototype.dir=function(t){return t||(t=this.language),["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam"].indexOf(this.services.languageUtils.getLanguagePartFromCode(t))?"ltr":"rtl"},e.prototype.createInstance=function(){return new e(arguments.length<=0||void 0===arguments[0]?{}:arguments[0],arguments[1])},e.prototype.cloneInstance=function(){var t=this,i=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=arguments[1],r=new e(y.extends({},i,this.options,{isClone:!0}),n);return["store","translator","services","language"].forEach(function(e){r[e]=t[e]}),r},e}(w))}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define("i18nextBrowserLanguageDetector",e):t.i18nextBrowserLanguageDetector=e()}(this,function(){"use strict";function t(t){return r.call(o.call(arguments,1),function(e){if(e)for(var i in e)void 0===t[i]&&(t[i]=e[i])}),t}function e(){return{order:["querystring","cookie","localStorage","navigator"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",caches:["localStorage"]}}var i={};i.classCallCheck=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},i.createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();var n=[],r=n.forEach,o=n.slice,s={create:function(t,e,i,n){var r=void 0;if(i){var o=new Date;o.setTime(o.getTime()+60*i*1e3),r="; expires="+o.toGMTString()}else r="";n=n?"domain="+n+";":"",document.cookie=t+"="+e+r+";"+n+"path=/"},read:function(t){for(var e=t+"=",i=document.cookie.split(";"),n=0;n<i.length;n++){for(var r=i[n];" "===r.charAt(0);)r=r.substring(1,r.length);if(0===r.indexOf(e))return r.substring(e.length,r.length)}return null},remove:function(t){this.create(t,"",-1)}},a={name:"cookie",lookup:function(t){var e=void 0;if(t.lookupCookie&&"undefined"!=typeof document){var i=s.read(t.lookupCookie);i&&(e=i)}return e},cacheUserLanguage:function(t,e){e.lookupCookie&&"undefined"!=typeof document&&s.create(e.lookupCookie,t,e.cookieMinutes,e.cookieDomain)}},l={name:"querystring",lookup:function(t){var e=void 0;if("undefined"!=typeof window)for(var i=window.location.search.substring(1),n=i.split("&"),r=0;r<n.length;r++){var o=n[r].indexOf("=");if(o>0){var s=n[r].substring(0,o);s===t.lookupQuerystring&&(e=n[r].substring(o+1))}}return e}},h={setItem:function(t,e){if(window.localStorage)try{window.localStorage.setItem(t,e)}catch(t){}},getItem:function(t,e){if(window.localStorage)try{return window.localStorage.getItem(t,e)}catch(t){return}}},u={name:"localStorage",lookup:function(t){var e=void 0;if(t.lookupLocalStorage&&"undefined"!=typeof window&&window.localStorage){var i=h.getItem(t.lookupLocalStorage);i&&(e=i)}return e},cacheUserLanguage:function(t,e){e.lookupLocalStorage&&"undefined"!=typeof window&&window.localStorage&&h.setItem(e.lookupLocalStorage,t)}},c={name:"navigator",lookup:function(t){var e=[];if("undefined"!=typeof navigator){if(navigator.languages)for(var i=0;i<navigator.languages.length;i++)e.push(navigator.languages[i]);navigator.userLanguage&&e.push(navigator.userLanguage),navigator.language&&e.push(navigator.language)}return e.length>0?e:void 0}},d=function(){function n(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];i.classCallCheck(this,n),this.type="languageDetector",this.detectors={},this.init(t,e)}return i.createClass(n,[{key:"init",value:function(i){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];this.services=i,this.options=t(n,this.options||{},e()),this.i18nOptions=r,this.addDetector(a),this.addDetector(l),this.addDetector(u),this.addDetector(c)}},{key:"addDetector",value:function(t){this.detectors[t.name]=t}},{key:"detect",value:function(t){var e=this;t||(t=this.options.order);var i=[];t.forEach(function(t){if(e.detectors[t]){var n=e.detectors[t].lookup(e.options);n&&"string"==typeof n&&(n=[n]),n&&(i=i.concat(n))}});var n=void 0;return i.forEach(function(t){if(!n){var i=e.services.languageUtils.formatLanguageCode(t);e.services.languageUtils.isWhitelisted(i)&&(n=i)}}),n||this.i18nOptions.fallbackLng[0]}},{key:"cacheUserLanguage",value:function(t,e){var i=this;e||(e=this.options.caches),e&&e.forEach(function(e){i.detectors[e]&&i.detectors[e].cacheUserLanguage(t,i.options)})}}]),n}();return d.type="languageDetector",d}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define("i18nextLocalStorageCache",e):t.i18nextLocalStorageCache=e()}(this,function(){"use strict";function t(t){return r.call(o.call(arguments,1),function(e){if(e)for(var i in e)void 0===t[i]&&(t[i]=e[i])}),t}function e(){return{enabled:!1,prefix:"i18next_res_",expirationTime:6048e5}}var i={};i.classCallCheck=function(t,e){
if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},i.createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();var n=[],r=n.forEach,o=n.slice,s={setItem:function(t,e){if(window.localStorage)try{window.localStorage.setItem(t,e)}catch(t){}},getItem:function(t,e){if(window.localStorage)try{return window.localStorage.getItem(t,e)}catch(t){return}}},a=function(){function n(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];i.classCallCheck(this,n),this.init(t,e),this.type="cache"}return i.createClass(n,[{key:"init",value:function(i){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];this.services=i,this.options=t(n,this.options||{},e())}},{key:"load",value:function(t,e){var i=this,n={},r=(new Date).getTime();window.localStorage&&function(){var o=t.length;t.forEach(function(t){var a=s.getItem(i.options.prefix+t);a&&(a=JSON.parse(a),a.i18nStamp&&a.i18nStamp+i.options.expirationTime>r&&(n[t]=a)),0===--o&&e(null,n)})}()}},{key:"save",value:function(t){if(window.localStorage)for(var e in t)t[e].i18nStamp=(new Date).getTime(),s.setItem(this.options.prefix+e,JSON.stringify(t[e]))}}]),n}();return a.type="cache",a}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define("i18nextXHRBackend",e):t.i18nextXHRBackend=e()}(this,function(){"use strict";function t(t){return o.call(s.call(arguments,1),function(e){if(e)for(var i in e)void 0===t[i]&&(t[i]=e[i])}),t}function e(t,e,i,r,o){if(r&&"object"===(void 0===r?"undefined":n.typeof(r))){var s="",a=encodeURIComponent;for(var l in r)s+="&"+a(l)+"="+a(r[l]);r=s.slice(1)+(o?"":"&_t="+new Date)}try{var h=new(XMLHttpRequest||ActiveXObject)("MSXML2.XMLHTTP.3.0");h.open(r?"POST":"GET",t,1),e.crossDomain||h.setRequestHeader("X-Requested-With","XMLHttpRequest"),h.setRequestHeader("Content-type","application/x-www-form-urlencoded"),h.onreadystatechange=function(){h.readyState>3&&i&&i(h.responseText,h)},h.send(r)}catch(a){window.console&&console.log(a)}}function i(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"locales/add/{{lng}}/{{ns}}",allowMultiLoading:!1,parse:JSON.parse,crossDomain:!1,ajax:e}}var n={};n.typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},n.classCallCheck=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},n.createClass=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();var r=[],o=r.forEach,s=r.slice,a=function(){function e(t){var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];n.classCallCheck(this,e),this.init(t,i),this.type="backend"}return n.createClass(e,[{key:"init",value:function(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];this.services=e,this.options=t(n,this.options||{},i())}},{key:"readMulti",value:function(t,e,i){var n=this.services.interpolator.interpolate(this.options.loadPath,{lng:t.join("+"),ns:e.join("+")});this.loadUrl(n,i)}},{key:"read",value:function(t,e,i){var n=this.services.interpolator.interpolate(this.options.loadPath,{lng:t,ns:e});this.loadUrl(n,i)}},{key:"loadUrl",value:function(t,e){var i=this;this.options.ajax(t,this.options,function(n,r){var o=r.status.toString();if(0===o.indexOf("5"))return e("failed loading "+t,!0);if(0===o.indexOf("4"))return e("failed loading "+t,!1);var s=void 0,a=void 0;try{s=i.options.parse(n)}catch(e){a="failed parsing "+t+" to json"}return a?e(a,!1):void e(null,s)})}},{key:"create",value:function(t,e,i,n){var r=this;"string"==typeof t&&(t=[t]);var o={};o[i]=n||"",t.forEach(function(t){var i=r.services.interpolator.interpolate(r.options.addPath,{lng:t,ns:e});r.options.ajax(i,r.options,function(t,e){},o)})}}]),e}();return a.type="backend",a}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define("i18nextSprintfPostProcessor",e):t.i18nextSprintfPostProcessor=e()}(this,function(){"use strict";function t(){var e=arguments[0],i=t.cache;return i[e]&&i.hasOwnProperty(e)||(i[e]=t.parse(e)),t.format.call(null,i[e],arguments)}function e(e,i,n){return n=(i||[]).slice(0),n.splice(0,0,e),t.apply(null,n)}function i(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()}function n(t,e){return Array(e+1).join(t)}var r={};r.typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};var o={not_string:/[^s]/,number:/[diefg]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijosuxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[\+\-]/};return t.format=function(e,r){var s,a,l,h,u,c,d,p=1,f=e.length,g="",m=[],v=!0,y="";for(a=0;f>a;a++)if("string"===(g=i(e[a])))m[m.length]=e[a];else if("array"===g){if(h=e[a],h[2])for(s=r[p],l=0;l<h[2].length;l++){if(!s.hasOwnProperty(h[2][l]))throw new Error(t("[sprintf] property '%s' does not exist",h[2][l]));s=s[h[2][l]]}else s=h[1]?r[h[1]]:r[p++];if("function"==i(s)&&(s=s()),o.not_string.test(h[8])&&o.not_json.test(h[8])&&"number"!=i(s)&&isNaN(s))throw new TypeError(t("[sprintf] expecting number but found %s",i(s)));switch(o.number.test(h[8])&&(v=s>=0),h[8]){case"b":s=s.toString(2);break;case"c":s=String.fromCharCode(s);break;case"d":case"i":s=parseInt(s,10);break;case"j":s=JSON.stringify(s,null,h[6]?parseInt(h[6]):0);break;case"e":s=h[7]?s.toExponential(h[7]):s.toExponential();break;case"f":s=h[7]?parseFloat(s).toFixed(h[7]):parseFloat(s);break;case"g":s=h[7]?parseFloat(s).toPrecision(h[7]):parseFloat(s);break;case"o":s=s.toString(8);break;case"s":s=(s=String(s))&&h[7]?s.substring(0,h[7]):s;break;case"u":s>>>=0;break;case"x":s=s.toString(16);break;case"X":s=s.toString(16).toUpperCase()}o.json.test(h[8])?m[m.length]=s:(!o.number.test(h[8])||v&&!h[3]?y="":(y=v?"+":"-",s=s.toString().replace(o.sign,"")),c=h[4]?"0"===h[4]?"0":h[4].charAt(1):" ",d=h[6]-(y+s).length,u=h[6]&&d>0?n(c,d):"",m[m.length]=h[5]?y+s+u:"0"===c?y+u+s:u+y+s)}return m.join("")},t.cache={},t.parse=function(t){for(var e=t,i=[],n=[],r=0;e;){if(null!==(i=o.text.exec(e)))n[n.length]=i[0];else if(null!==(i=o.modulo.exec(e)))n[n.length]="%";else{if(null===(i=o.placeholder.exec(e)))throw new SyntaxError("[sprintf] unexpected placeholder");if(i[2]){r|=1;var s=[],a=i[2],l=[];if(null===(l=o.key.exec(a)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(s[s.length]=l[1];""!==(a=a.substring(l[0].length));)if(null!==(l=o.key_access.exec(a)))s[s.length]=l[1];else{if(null===(l=o.index_access.exec(a)))throw new SyntaxError("[sprintf] failed to parse named argument key");s[s.length]=l[1]}i[2]=s}else r|=2;if(3===r)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");n[n.length]=i}e=e.substring(i[0].length)}return n},{name:"sprintf",type:"postProcessor",process:function(i,n,o){return o.sprintf?"[object Array]"===Object.prototype.toString.apply(o.sprintf)?e(i,o.sprintf):"object"===r.typeof(o.sprintf)?t(i,o.sprintf):i:i},overloadTranslationOptionHandler:function(t){for(var e=[],i=1;i<t.length;i++)e.push(t[i]);return{postProcess:"sprintf",sprintf:e}}}}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define("jqueryI18next",e):t.jqueryI18next=e()}(this,function(){"use strict";function t(t,n){function r(i,n,r){function o(t,i){return a.parseDefaultValueFromContent?e.extends({},t,{defaultValue:i}):t}if(0!==n.length){var s="text";if(0===n.indexOf("[")){var l=n.split("]");n=l[1],s=l[0].substr(1,l[0].length-1)}if(n.indexOf(";")===n.length-1&&(n=n.substr(0,n.length-2)),"html"===s)i.html(t.t(n,o(r,i.html())));else if("text"===s)i.text(t.t(n,o(r,i.text())));else if("prepend"===s)i.prepend(t.t(n,o(r,i.html())));else if("append"===s)i.append(t.t(n,o(r,i.html())));else if(0===s.indexOf("data-")){var h=s.substr("data-".length),u=t.t(n,o(r,i.data(h)));i.data(h,u),i.attr(s,u)}else i.attr(s,t.t(n,o(r,i.attr(s))))}}function o(t,i){var o=t.attr(a.selectorAttr);if(o||void 0===o||!1===o||(o=t.text()||t.val()),o){var s=t,l=t.data(a.targetAttr);if(l&&(s=t.find(l)||t),i||!0!==a.useOptionsAttr||(i=t.data(a.optionsAttr)),i=i||{},o.indexOf(";")>=0){var h=o.split(";");n.each(h,function(t,e){""!==e&&r(s,e,i)})}else r(s,o,i);if(!0===a.useOptionsAttr){var u={};u=e.extends({clone:u},i),delete u.lng,t.data(a.optionsAttr,u)}}}function s(t){return this.each(function(){o(n(this),t),n(this).find("["+a.selectorAttr+"]").each(function(){o(n(this),t)})})}var a=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];a=e.extends({},i,a),n[a.tName]=t.t.bind(t),n[a.i18nName]=t,n.fn[a.handleName]=s}var e={};e.extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t};var i={tName:"t",i18nName:"i18n",handleName:"localize",selectorAttr:"data-i18n",targetAttr:"i18n-target",optionsAttr:"i18n-options",useOptionsAttr:!1,parseDefaultValueFromContent:!0};return{init:t}}),i18NextBCC.prototype.initI18Next=function(t){var e={};e=t===Object(t)?t:{debug:!!t,fallbackLng:"en",ns:["translation","country"],backend:{loadPath:"resources/locales/{{lng}}/{{ns}}.json"},cache:{enabled:!0,prefix:"bcc_i18next_res_",expirationTime:36e5},detection:{order:["querystring"],lookupQuerystring:"lng",lookupCookie:"GUEST_LANGUAGE_ID"},overloadTranslationOptionHandler:this.i18nextSprintfPostProcessor.overloadTranslationOptionHandler},this.i18next.use(this.i18nextXHRBackend).use(this.i18nextLocalStorageCache).use(this.i18nextBrowserLanguageDetector).use(this.i18nextSprintfPostProcessor).init(e),this.jqueryI18next.init(this.i18next,this.$,{tName:"t",i18nName:"i18n",handleName:"localize",selectorAttr:"data-i18n",targetAttr:"data-i18n-target",optionsAttr:"data-i18n-options",useOptionsAttr:!1,parseDefaultValueFromContent:!0}),this.i18next.on("languageChanged",this.onChangedFunction)},"function"==typeof define&&define.amd?define("i18nextBCC",["jquery","i18next","i18nextBrowserLanguageDetector","i18nextLocalStorageCache","i18nextXHRBackend","i18nextSprintfPostProcessor","jqueryI18next"],function(t,e,i,n,r,o,s){return new i18NextBCC(t,e,i,n,r,o,s)}):"undefined"!=typeof exports&&"undefined"!=typeof module&&(module.exports=new i18NextBCC($,i18next,i18nextBrowserLanguageDetector,i18nextLocalStorageCache,i18nextXHRBackend,i18nextSprintfPostProcessor,jqueryI18next)),function(t){"function"==typeof define&&define.amd?define("jquery-ui",["jquery"],t):t(jQuery)}(function(t){function e(e,n){var r,o,s,a=e.nodeName.toLowerCase();return"area"===a?(r=e.parentNode,o=r.name,!(!e.href||!o||"map"!==r.nodeName.toLowerCase())&&(!!(s=t("img[usemap='#"+o+"']")[0])&&i(s))):(/^(input|select|textarea|button|object)$/.test(a)?!e.disabled:"a"===a?e.href||n:n)&&i(e)}function i(e){return t.expr.filters.visible(e)&&!t(e).parents().addBack().filter(function(){return"hidden"===t.css(this,"visibility")}).length}function n(t){for(var e,i;t.length&&t[0]!==document;){if(("absolute"===(e=t.css("position"))||"relative"===e||"fixed"===e)&&(i=parseInt(t.css("zIndex"),10),!isNaN(i)&&0!==i))return i;t=t.parent()}return 0}function r(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[""]),this.regional.en=t.extend(!0,{},this.regional[""]),this.regional["en-US"]=t.extend(!0,{},this.regional.en),this.dpDiv=o(t("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function o(e){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.delegate(i,"mouseout",function(){t(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).removeClass("ui-datepicker-next-hover")}).delegate(i,"mouseover",s)}function s(){t.datepicker._isDisabledDatepicker(m.inline?m.dpDiv.parent()[0]:m.input[0])||(t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),t(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).addClass("ui-datepicker-next-hover"))}function a(e,i){t.extend(e,i);for(var n in i)null==i[n]&&(e[n]=i[n]);return e}t.ui=t.ui||{},t.extend(t.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({scrollParent:function(e){var i=this.css("position"),n="absolute"===i,r=e?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var e=t(this);return(!n||"static"!==e.css("position"))&&r.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==i&&o.length?o:t(this[0].ownerDocument||document)},uniqueId:function(){var t=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++t)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")})}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(i){return!!t.data(i,e)}}):function(e,i,n){return!!t.data(e,n[3])},focusable:function(i){return e(i,!isNaN(t.attr(i,"tabindex")))},tabbable:function(i){var n=t.attr(i,"tabindex"),r=isNaN(n);return(r||n>=0)&&e(i,!r)}}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(e,i){function n(e,i,n,o){return t.each(r,function(){i-=parseFloat(t.css(e,"padding"+this))||0,n&&(i-=parseFloat(t.css(e,"border"+this+"Width"))||0),o&&(i-=parseFloat(t.css(e,"margin"+this))||0)}),i}var r="Width"===i?["Left","Right"]:["Top","Bottom"],o=i.toLowerCase(),s={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+i]=function(e){return void 0===e?s["inner"+i].call(this):this.each(function(){t(this).css(o,n(this,e)+"px")})},t.fn["outer"+i]=function(e,r){return"number"!=typeof e?s["outer"+i].call(this,e):this.each(function(){t(this).css(o,n(this,e,!0,r)+"px")})}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(t.fn.removeData=function(e){return function(i){return arguments.length?e.call(this,t.camelCase(i)):e.call(this)}}(t.fn.removeData)),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),t.fn.extend({focus:function(e){return function(i,n){return"number"==typeof i?this.each(function(){var e=this;setTimeout(function(){t(e).focus(),n&&n.call(e)},i)}):e.apply(this,arguments)}}(t.fn.focus),disableSelection:function(){var t="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(t+".ui-disableSelection",function(t){t.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(e){if(void 0!==e)return this.css("zIndex",e);if(this.length)for(var i,n,r=t(this[0]);r.length&&r[0]!==document;){if(("absolute"===(i=r.css("position"))||"relative"===i||"fixed"===i)&&(n=parseInt(r.css("zIndex"),10),!isNaN(n)&&0!==n))return n;r=r.parent()}return 0}}),t.ui.plugin={add:function(e,i,n){var r,o=t.ui[e].prototype;for(r in n)o.plugins[r]=o.plugins[r]||[],o.plugins[r].push([i,n[r]])},call:function(t,e,i,n){var r,o=t.plugins[e];if(o&&(n||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(r=0;r<o.length;r++)t.options[o[r][0]]&&o[r][1].apply(t.element,i)}};var l=0,h=Array.prototype.slice;t.cleanData=function(e){return function(i){var n,r,o;for(o=0;null!=(r=i[o]);o++)try{n=t._data(r,"events"),n&&n.remove&&t(r).triggerHandler("remove")}catch(t){}e(i)}}(t.cleanData),t.widget=function(e,i,n){var r,o,s,a,l={},h=e.split(".")[0];return e=e.split(".")[1],r=h+"-"+e,n||(n=i,i=t.Widget),t.expr[":"][r.toLowerCase()]=function(e){return!!t.data(e,r)},t[h]=t[h]||{},o=t[h][e],s=t[h][e]=function(t,e){if(!this._createWidget)return new s(t,e);arguments.length&&this._createWidget(t,e)},t.extend(s,o,{version:n.version,_proto:t.extend({},n),_childConstructors:[]}),a=new i,a.options=t.widget.extend({},a.options),t.each(n,function(e,n){if(!t.isFunction(n))return void(l[e]=n);l[e]=function(){var t=function(){return i.prototype[e].apply(this,arguments)},r=function(t){return i.prototype[e].apply(this,t)};return function(){var e,i=this._super,o=this._superApply;return this._super=t,this._superApply=r,e=n.apply(this,arguments),this._super=i,this._superApply=o,e}}()}),s.prototype=t.widget.extend(a,{widgetEventPrefix:o?a.widgetEventPrefix||e:e},l,{constructor:s,namespace:h,widgetName:e,widgetFullName:r}),o?(t.each(o._childConstructors,function(e,i){var n=i.prototype;t.widget(n.namespace+"."+n.widgetName,s,i._proto)}),delete o._childConstructors):i._childConstructors.push(s),t.widget.bridge(e,s),s},t.widget.extend=function(e){for(var i,n,r=h.call(arguments,1),o=0,s=r.length;o<s;o++)for(i in r[o])n=r[o][i],r[o].hasOwnProperty(i)&&void 0!==n&&(t.isPlainObject(n)?e[i]=t.isPlainObject(e[i])?t.widget.extend({},e[i],n):t.widget.extend({},n):e[i]=n);return e},t.widget.bridge=function(e,i){var n=i.prototype.widgetFullName||e;t.fn[e]=function(r){var o="string"==typeof r,s=h.call(arguments,1),a=this;return o?this.each(function(){var i,o=t.data(this,n);return"instance"===r?(a=o,!1):o?t.isFunction(o[r])&&"_"!==r.charAt(0)?(i=o[r].apply(o,s),i!==o&&void 0!==i?(a=i&&i.jquery?a.pushStack(i.get()):i,!1):void 0):t.error("no such method '"+r+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+r+"'")}):(s.length&&(r=t.widget.extend.apply(null,[r].concat(s))),this.each(function(){var e=t.data(this,n);e?(e.option(r||{}),e._init&&e._init()):t.data(this,n,new i(r,this))})),a}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,i){i=t(i||this.defaultElement||this)[0],this.element=t(i),this.uuid=l++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),i!==this&&(t.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===i&&this.destroy()}}),this.document=t(i.style?i.ownerDocument:i.document||i),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(e,i){var n,r,o,s=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(s={},n=e.split("."),e=n.shift(),n.length){for(r=s[e]=t.widget.extend({},this.options[e]),o=0;o<n.length-1;o++)r[n[o]]=r[n[o]]||{},r=r[n[o]];if(e=n.pop(),1===arguments.length)return void 0===r[e]?null:r[e];r[e]=i}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];s[e]=i}return this._setOptions(s),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!e),e&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(e,i,n){var r,o=this;"boolean"!=typeof e&&(n=i,i=e,e=!1),n?(i=r=t(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,r=this.widget()),t.each(n,function(n,s){function a(){if(e||!0!==o.options.disabled&&!t(this).hasClass("ui-state-disabled"))return("string"==typeof s?o[s]:s).apply(o,arguments)}"string"!=typeof s&&(a.guid=s.guid=s.guid||a.guid||t.guid++);var l=n.match(/^([\w:-]*)\s*(.*)$/),h=l[1]+o.eventNamespace,u=l[2];u?r.delegate(u,h,a):i.bind(h,a)})},_off:function(e,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(i).undelegate(i),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){function i(){return("string"==typeof t?n[t]:t).apply(n,arguments)}var n=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,i,n){var r,o,s=this.options[e];if(n=n||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(r in o)r in i||(i[r]=o[r]);return this.element.trigger(i,n),!(t.isFunction(s)&&!1===s.apply(this.element[0],[i].concat(n))||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(n,r,o){"string"==typeof r&&(r={effect:r});var s,a=r?!0===r||"number"==typeof r?i:r.effect||i:e;r=r||{},"number"==typeof r&&(r={duration:r}),s=!t.isEmptyObject(r),r.complete=o,r.delay&&n.delay(r.delay),s&&t.effects&&t.effects.effect[a]?n[e](r):a!==e&&n[a]?n[a](r.duration,r.easing,o):n.queue(function(i){t(this)[e](),o&&o.call(n[0]),i()})}});var u=(t.widget,!1);t(document).mouseup(function(){u=!1});t.widget("ui.mouse",{version:"1.11.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(i){if(!0===t.data(i.target,e.widgetName+".preventClickEvent"))return t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!u){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var i=this,n=1===e.which,r=!("string"!=typeof this.options.cancel||!e.target.nodeName)&&t(e.target).closest(this.options.cancel).length;return!(n&&!r&&this._mouseCapture(e))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(e),!this._mouseStarted)?(e.preventDefault(),!0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return i._mouseMove(t)},this._mouseUpDelegate=function(t){return i._mouseUp(t)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),u=!0,!0))}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button)return this._mouseUp(e);if(!e.which)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),u=!1,!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}});!function(){function e(t,e,i){return[parseFloat(t[0])*(p.test(t[0])?e/100:1),parseFloat(t[1])*(p.test(t[1])?i/100:1)]}function i(e,i){return parseInt(t.css(e,i),10)||0}function n(e){var i=e[0];return 9===i.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(i)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}t.ui=t.ui||{};var r,o,s=Math.max,a=Math.abs,l=Math.round,h=/left|center|right/,u=/top|center|bottom/,c=/[\+\-]\d+(\.[\d]+)?%?/,d=/^\w+/,p=/%$/,f=t.fn.position;t.position={scrollbarWidth:function(){if(void 0!==r)return r;var e,i,n=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=n.children()[0];return t("body").append(n),e=o.offsetWidth,n.css("overflow","scroll"),i=o.offsetWidth,e===i&&(i=n[0].clientWidth),n.remove(),r=e-i},getScrollInfo:function(e){var i=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),n=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),r="scroll"===i||"auto"===i&&e.width<e.element[0].scrollWidth;return{width:"scroll"===n||"auto"===n&&e.height<e.element[0].scrollHeight?t.position.scrollbarWidth():0,height:r?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var i=t(e||window),n=t.isWindow(i[0]),r=!!i[0]&&9===i[0].nodeType;return{element:i,isWindow:n,isDocument:r,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:n||r?i.width():i.outerWidth(),height:n||r?i.height():i.outerHeight()}}},t.fn.position=function(r){if(!r||!r.of)return f.apply(this,arguments);r=t.extend({},r);var p,g,m,v,y,_,x=t(r.of),b=t.position.getWithinInfo(r.within),w=t.position.getScrollInfo(b),k=(r.collision||"flip").split(" "),C={};return _=n(x),x[0].preventDefault&&(r.at="left top"),g=_.width,m=_.height,v=_.offset,y=t.extend({},v),t.each(["my","at"],function(){var t,e,i=(r[this]||"").split(" ");1===i.length&&(i=h.test(i[0])?i.concat(["center"]):u.test(i[0])?["center"].concat(i):["center","center"]),i[0]=h.test(i[0])?i[0]:"center",i[1]=u.test(i[1])?i[1]:"center",t=c.exec(i[0]),e=c.exec(i[1]),C[this]=[t?t[0]:0,e?e[0]:0],r[this]=[d.exec(i[0])[0],d.exec(i[1])[0]]}),1===k.length&&(k[1]=k[0]),"right"===r.at[0]?y.left+=g:"center"===r.at[0]&&(y.left+=g/2),"bottom"===r.at[1]?y.top+=m:"center"===r.at[1]&&(y.top+=m/2),p=e(C.at,g,m),y.left+=p[0],y.top+=p[1],this.each(function(){var n,h,u=t(this),c=u.outerWidth(),d=u.outerHeight(),f=i(this,"marginLeft"),_=i(this,"marginTop"),T=c+f+i(this,"marginRight")+w.width,S=d+_+i(this,"marginBottom")+w.height,D=t.extend({},y),M=e(C.my,u.outerWidth(),u.outerHeight());"right"===r.my[0]?D.left-=c:"center"===r.my[0]&&(D.left-=c/2),"bottom"===r.my[1]?D.top-=d:"center"===r.my[1]&&(D.top-=d/2),D.left+=M[0],D.top+=M[1],o||(D.left=l(D.left),D.top=l(D.top)),n={marginLeft:f,marginTop:_},t.each(["left","top"],function(e,i){t.ui.position[k[e]]&&t.ui.position[k[e]][i](D,{targetWidth:g,targetHeight:m,elemWidth:c,elemHeight:d,collisionPosition:n,collisionWidth:T,collisionHeight:S,offset:[p[0]+M[0],p[1]+M[1]],my:r.my,at:r.at,within:b,elem:u})}),r.using&&(h=function(t){var e=v.left-D.left,i=e+g-c,n=v.top-D.top,o=n+m-d,l={target:{element:x,left:v.left,top:v.top,width:g,height:m},element:{element:u,left:D.left,top:D.top,width:c,height:d},horizontal:i<0?"left":e>0?"right":"center",vertical:o<0?"top":n>0?"bottom":"middle"};g<c&&a(e+i)<g&&(l.horizontal="center"),m<d&&a(n+o)<m&&(l.vertical="middle"),s(a(e),a(i))>s(a(n),a(o))?l.important="horizontal":l.important="vertical",r.using.call(this,t,l)}),u.offset(t.extend(D,{using:h}))})},t.ui.position={fit:{left:function(t,e){var i,n=e.within,r=n.isWindow?n.scrollLeft:n.offset.left,o=n.width,a=t.left-e.collisionPosition.marginLeft,l=r-a,h=a+e.collisionWidth-o-r;e.collisionWidth>o?l>0&&h<=0?(i=t.left+l+e.collisionWidth-o-r,t.left+=l-i):t.left=h>0&&l<=0?r:l>h?r+o-e.collisionWidth:r:l>0?t.left+=l:h>0?t.left-=h:t.left=s(t.left-a,t.left)},top:function(t,e){var i,n=e.within,r=n.isWindow?n.scrollTop:n.offset.top,o=e.within.height,a=t.top-e.collisionPosition.marginTop,l=r-a,h=a+e.collisionHeight-o-r;e.collisionHeight>o?l>0&&h<=0?(i=t.top+l+e.collisionHeight-o-r,t.top+=l-i):t.top=h>0&&l<=0?r:l>h?r+o-e.collisionHeight:r:l>0?t.top+=l:h>0?t.top-=h:t.top=s(t.top-a,t.top)}},flip:{left:function(t,e){
var i,n,r=e.within,o=r.offset.left+r.scrollLeft,s=r.width,l=r.isWindow?r.scrollLeft:r.offset.left,h=t.left-e.collisionPosition.marginLeft,u=h-l,c=h+e.collisionWidth-s-l,d="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,p="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,f=-2*e.offset[0];u<0?((i=t.left+d+p+f+e.collisionWidth-s-o)<0||i<a(u))&&(t.left+=d+p+f):c>0&&((n=t.left-e.collisionPosition.marginLeft+d+p+f-l)>0||a(n)<c)&&(t.left+=d+p+f)},top:function(t,e){var i,n,r=e.within,o=r.offset.top+r.scrollTop,s=r.height,l=r.isWindow?r.scrollTop:r.offset.top,h=t.top-e.collisionPosition.marginTop,u=h-l,c=h+e.collisionHeight-s-l,d="top"===e.my[1],p=d?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,f="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,g=-2*e.offset[1];u<0?((n=t.top+p+f+g+e.collisionHeight-s-o)<0||n<a(u))&&(t.top+=p+f+g):c>0&&((i=t.top-e.collisionPosition.marginTop+p+f+g-l)>0||a(i)<c)&&(t.top+=p+f+g)}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}},function(){var e,i,n,r,s,a=document.getElementsByTagName("body")[0],l=document.createElement("div");e=document.createElement(a?"div":"body"),n={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},a&&t.extend(n,{position:"absolute",left:"-1000px",top:"-1000px"});for(s in n)e.style[s]=n[s];e.appendChild(l),i=a||document.documentElement,i.insertBefore(e,i.firstChild),l.style.cssText="position: absolute; left: 10.7432222px;",r=t(l).offset().left,o=r>10&&r<11,e.innerHTML="",i.removeChild(e)}()}();t.ui.position;t.widget("ui.draggable",t.ui.mouse,{version:"1.11.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){if((this.helper||this.element).is(".ui-draggable-dragging"))return void(this.destroyOnClear=!0);this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),this._mouseDestroy()},_mouseCapture:function(e){var i=this.options;return this._blurActiveElement(e),!(this.helper||i.disabled||t(e.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(e),!!this.handle&&(this._blockFrames(!0===i.iframeFix?"iframe":i.iframeFix),!0))},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var e=t(this);return t("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var i=this.document[0];if(this.handleElement.is(e.target))try{i.activeElement&&"body"!==i.activeElement.nodeName.toLowerCase()&&t(i.activeElement).blur()}catch(t){}},_mouseStart:function(e){var i=this.options;return this.helper=this._createHelper(e),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===t(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),!1===this._trigger("start",e)?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._normalizeRightBottom(),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(e,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var n=this._uiHash();if(!1===this._trigger("drag",e,n))return this._mouseUp({}),!1;this.position=n.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var i=this,n=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(n=t.ui.ddmanager.drop(this,e)),this.dropped&&(n=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!n||"valid"===this.options.revert&&n||!0===this.options.revert||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,n)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==i._trigger("stop",e)&&i._clear()}):!1!==this._trigger("stop",e)&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.focus(),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(e){return!this.options.handle||!!t(e.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(e){var i=this.options,n=t.isFunction(i.helper),r=n?t(i.helper.apply(this.element[0],[e])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return r.parents("body").length||r.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),n&&r[0]===this.element[0]&&this._setPositionRelative(),r[0]===this.element[0]||/(fixed|absolute)/.test(r.css("position"))||r.css("position","absolute"),r},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),i=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==i&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,n,r=this.options,o=this.document[0];return this.relativeContainer=null,r.containment?"window"===r.containment?void(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===r.containment?void(this.containment=[0,0,t(o).width()-this.helperProportions.width-this.margins.left,(t(o).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):r.containment.constructor===Array?void(this.containment=r.containment):("parent"===r.containment&&(r.containment=this.helper[0].parentNode),i=t(r.containment),void((n=i[0])&&(e=/(scroll|auto)/.test(i.css("overflow")),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(e?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=i))):void(this.containment=null)},_convertPositionTo:function(t,e){e||(e=this.position);var i="absolute"===t?1:-1,n=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:n?0:this.offset.scroll.top)*i,left:e.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:n?0:this.offset.scroll.left)*i}},_generatePosition:function(t,e){var i,n,r,o,s=this.options,a=this._isRootNode(this.scrollParent[0]),l=t.pageX,h=t.pageY;return a&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(n=this.relativeContainer.offset(),i=[this.containment[0]+n.left,this.containment[1]+n.top,this.containment[2]+n.left,this.containment[3]+n.top]):i=this.containment,t.pageX-this.offset.click.left<i[0]&&(l=i[0]+this.offset.click.left),t.pageY-this.offset.click.top<i[1]&&(h=i[1]+this.offset.click.top),t.pageX-this.offset.click.left>i[2]&&(l=i[2]+this.offset.click.left),t.pageY-this.offset.click.top>i[3]&&(h=i[3]+this.offset.click.top)),s.grid&&(r=s.grid[1]?this.originalPageY+Math.round((h-this.originalPageY)/s.grid[1])*s.grid[1]:this.originalPageY,h=i?r-this.offset.click.top>=i[1]||r-this.offset.click.top>i[3]?r:r-this.offset.click.top>=i[1]?r-s.grid[1]:r+s.grid[1]:r,o=s.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/s.grid[0])*s.grid[0]:this.originalPageX,l=i?o-this.offset.click.left>=i[0]||o-this.offset.click.left>i[2]?o:o-this.offset.click.left>=i[0]?o-s.grid[0]:o+s.grid[0]:o),"y"===s.axis&&(l=this.originalPageX),"x"===s.axis&&(h=this.originalPageY)),{top:h-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:a?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:a?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_normalizeRightBottom:function(){"y"!==this.options.axis&&"auto"!==this.helper.css("right")&&(this.helper.width(this.helper.width()),this.helper.css("right","auto")),"x"!==this.options.axis&&"auto"!==this.helper.css("bottom")&&(this.helper.height(this.helper.height()),this.helper.css("bottom","auto"))},_trigger:function(e,i,n){return n=n||this._uiHash(),t.ui.plugin.call(this,e,[i,n,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),n.offset=this.positionAbs),t.Widget.prototype._trigger.call(this,e,i,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,i,n){var r=t.extend({},i,{item:n.element});n.sortables=[],t(n.options.connectToSortable).each(function(){var i=t(this).sortable("instance");i&&!i.options.disabled&&(n.sortables.push(i),i.refreshPositions(),i._trigger("activate",e,r))})},stop:function(e,i,n){var r=t.extend({},i,{item:n.element});n.cancelHelperRemoval=!1,t.each(n.sortables,function(){var t=this;t.isOver?(t.isOver=0,n.cancelHelperRemoval=!0,t.cancelHelperRemoval=!1,t._storedCSS={position:t.placeholder.css("position"),top:t.placeholder.css("top"),left:t.placeholder.css("left")},t._mouseStop(e),t.options.helper=t.options._helper):(t.cancelHelperRemoval=!0,t._trigger("deactivate",e,r))})},drag:function(e,i,n){t.each(n.sortables,function(){var r=!1,o=this;o.positionAbs=n.positionAbs,o.helperProportions=n.helperProportions,o.offset.click=n.offset.click,o._intersectsWith(o.containerCache)&&(r=!0,t.each(n.sortables,function(){return this.positionAbs=n.positionAbs,this.helperProportions=n.helperProportions,this.offset.click=n.offset.click,this!==o&&this._intersectsWith(this.containerCache)&&t.contains(o.element[0],this.element[0])&&(r=!1),r})),r?(o.isOver||(o.isOver=1,n._parent=i.helper.parent(),o.currentItem=i.helper.appendTo(o.element).data("ui-sortable-item",!0),o.options._helper=o.options.helper,o.options.helper=function(){return i.helper[0]},e.target=o.currentItem[0],o._mouseCapture(e,!0),o._mouseStart(e,!0,!0),o.offset.click.top=n.offset.click.top,o.offset.click.left=n.offset.click.left,o.offset.parent.left-=n.offset.parent.left-o.offset.parent.left,o.offset.parent.top-=n.offset.parent.top-o.offset.parent.top,n._trigger("toSortable",e),n.dropped=o.element,t.each(n.sortables,function(){this.refreshPositions()}),n.currentItem=n.element,o.fromOutside=n),o.currentItem&&(o._mouseDrag(e),i.position=o.position)):o.isOver&&(o.isOver=0,o.cancelHelperRemoval=!0,o.options._revert=o.options.revert,o.options.revert=!1,o._trigger("out",e,o._uiHash(o)),o._mouseStop(e,!0),o.options.revert=o.options._revert,o.options.helper=o.options._helper,o.placeholder&&o.placeholder.remove(),i.helper.appendTo(n._parent),n._refreshOffsets(e),i.position=n._generatePosition(e,!0),n._trigger("fromSortable",e),n.dropped=!1,t.each(n.sortables,function(){this.refreshPositions()}))})}}),t.ui.plugin.add("draggable","cursor",{start:function(e,i,n){var r=t("body"),o=n.options;r.css("cursor")&&(o._cursor=r.css("cursor")),r.css("cursor",o.cursor)},stop:function(e,i,n){var r=n.options;r._cursor&&t("body").css("cursor",r._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,i,n){var r=t(i.helper),o=n.options;r.css("opacity")&&(o._opacity=r.css("opacity")),r.css("opacity",o.opacity)},stop:function(e,i,n){var r=n.options;r._opacity&&t(i.helper).css("opacity",r._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(t,e,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(e,i,n){var r=n.options,o=!1,s=n.scrollParentNotHidden[0],a=n.document[0];s!==a&&"HTML"!==s.tagName?(r.axis&&"x"===r.axis||(n.overflowOffset.top+s.offsetHeight-e.pageY<r.scrollSensitivity?s.scrollTop=o=s.scrollTop+r.scrollSpeed:e.pageY-n.overflowOffset.top<r.scrollSensitivity&&(s.scrollTop=o=s.scrollTop-r.scrollSpeed)),r.axis&&"y"===r.axis||(n.overflowOffset.left+s.offsetWidth-e.pageX<r.scrollSensitivity?s.scrollLeft=o=s.scrollLeft+r.scrollSpeed:e.pageX-n.overflowOffset.left<r.scrollSensitivity&&(s.scrollLeft=o=s.scrollLeft-r.scrollSpeed))):(r.axis&&"x"===r.axis||(e.pageY-t(a).scrollTop()<r.scrollSensitivity?o=t(a).scrollTop(t(a).scrollTop()-r.scrollSpeed):t(window).height()-(e.pageY-t(a).scrollTop())<r.scrollSensitivity&&(o=t(a).scrollTop(t(a).scrollTop()+r.scrollSpeed))),r.axis&&"y"===r.axis||(e.pageX-t(a).scrollLeft()<r.scrollSensitivity?o=t(a).scrollLeft(t(a).scrollLeft()-r.scrollSpeed):t(window).width()-(e.pageX-t(a).scrollLeft())<r.scrollSensitivity&&(o=t(a).scrollLeft(t(a).scrollLeft()+r.scrollSpeed)))),!1!==o&&t.ui.ddmanager&&!r.dropBehaviour&&t.ui.ddmanager.prepareOffsets(n,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,i,n){var r=n.options;n.snapElements=[],t(r.snap.constructor!==String?r.snap.items||":data(ui-draggable)":r.snap).each(function(){var e=t(this),i=e.offset();this!==n.element[0]&&n.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:i.top,left:i.left})})},drag:function(e,i,n){var r,o,s,a,l,h,u,c,d,p,f=n.options,g=f.snapTolerance,m=i.offset.left,v=m+n.helperProportions.width,y=i.offset.top,_=y+n.helperProportions.height;for(d=n.snapElements.length-1;d>=0;d--)l=n.snapElements[d].left-n.margins.left,h=l+n.snapElements[d].width,u=n.snapElements[d].top-n.margins.top,c=u+n.snapElements[d].height,v<l-g||m>h+g||_<u-g||y>c+g||!t.contains(n.snapElements[d].item.ownerDocument,n.snapElements[d].item)?(n.snapElements[d].snapping&&n.options.snap.release&&n.options.snap.release.call(n.element,e,t.extend(n._uiHash(),{snapItem:n.snapElements[d].item})),n.snapElements[d].snapping=!1):("inner"!==f.snapMode&&(r=Math.abs(u-_)<=g,o=Math.abs(c-y)<=g,s=Math.abs(l-v)<=g,a=Math.abs(h-m)<=g,r&&(i.position.top=n._convertPositionTo("relative",{top:u-n.helperProportions.height,left:0}).top),o&&(i.position.top=n._convertPositionTo("relative",{top:c,left:0}).top),s&&(i.position.left=n._convertPositionTo("relative",{top:0,left:l-n.helperProportions.width}).left),a&&(i.position.left=n._convertPositionTo("relative",{top:0,left:h}).left)),p=r||o||s||a,"outer"!==f.snapMode&&(r=Math.abs(u-y)<=g,o=Math.abs(c-_)<=g,s=Math.abs(l-m)<=g,a=Math.abs(h-v)<=g,r&&(i.position.top=n._convertPositionTo("relative",{top:u,left:0}).top),o&&(i.position.top=n._convertPositionTo("relative",{top:c-n.helperProportions.height,left:0}).top),s&&(i.position.left=n._convertPositionTo("relative",{top:0,left:l}).left),a&&(i.position.left=n._convertPositionTo("relative",{top:0,left:h-n.helperProportions.width}).left)),!n.snapElements[d].snapping&&(r||o||s||a||p)&&n.options.snap.snap&&n.options.snap.snap.call(n.element,e,t.extend(n._uiHash(),{snapItem:n.snapElements[d].item})),n.snapElements[d].snapping=r||o||s||a||p)}}),t.ui.plugin.add("draggable","stack",{start:function(e,i,n){var r,o=n.options,s=t.makeArray(t(o.stack)).sort(function(e,i){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(i).css("zIndex"),10)||0)});s.length&&(r=parseInt(t(s[0]).css("zIndex"),10)||0,t(s).each(function(e){t(this).css("zIndex",r+e)}),this.css("zIndex",r+s.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,i,n){var r=t(i.helper),o=n.options;r.css("zIndex")&&(o._zIndex=r.css("zIndex")),r.css("zIndex",o.zIndex)},stop:function(e,i,n){var r=n.options;r._zIndex&&t(i.helper).css("zIndex",r._zIndex)}});t.ui.draggable;t.widget("ui.resizable",t.ui.mouse,{version:"1.11.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseInt(t,10)||0},_isNumber:function(t){return!isNaN(parseInt(t,10))},_hasScroll:function(e,i){if("hidden"===t(e).css("overflow"))return!1;var n=i&&"left"===i?"scrollLeft":"scrollTop",r=!1;return e[n]>0||(e[n]=1,r=e[n]>0,e[n]=0,r)},_create:function(){var e,i,n,r,o,s=this,a=this.options;if(this.element.addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!a.aspectRatio,aspectRatio:a.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:a.helper||a.ghost||a.animate?a.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=a.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=t(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),e=this.handles.split(","),this.handles={},i=0;i<e.length;i++)n=t.trim(e[i]),o="ui-resizable-"+n,r=t("<div class='ui-resizable-handle "+o+"'></div>"),r.css({zIndex:a.zIndex}),"se"===n&&r.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[n]=".ui-resizable-"+n,this.element.append(r);this._renderAxis=function(e){var i,n,r,o;e=e||this.element;for(i in this.handles)this.handles[i].constructor===String?this.handles[i]=this.element.children(this.handles[i]).first().show():(this.handles[i].jquery||this.handles[i].nodeType)&&(this.handles[i]=t(this.handles[i]),this._on(this.handles[i],{mousedown:s._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(n=t(this.handles[i],this.element),o=/sw|ne|nw|se|n|s/.test(i)?n.outerHeight():n.outerWidth(),r=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),e.css(r,o),this._proportionallyResize()),this._handles=this._handles.add(this.handles[i])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.mouseover(function(){s.resizing||(this.className&&(r=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),s.axis=r&&r[1]?r[1]:"se")}),a.autoHide&&(this._handles.hide(),t(this.element).addClass("ui-resizable-autohide").mouseenter(function(){a.disabled||(t(this).removeClass("ui-resizable-autohide"),s._handles.show())}).mouseleave(function(){a.disabled||s.resizing||(t(this).addClass("ui-resizable-autohide"),s._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,i=function(e){t(e).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(e){var i,n,r=!1;for(i in this.handles)((n=t(this.handles[i])[0])===e.target||t.contains(n,e.target))&&(r=!0);return!this.options.disabled&&r},_mouseStart:function(e){var i,n,r,o=this.options,s=this.element;return this.resizing=!0,this._renderProxy(),i=this._num(this.helper.css("left")),n=this._num(this.helper.css("top")),o.containment&&(i+=t(o.containment).scrollLeft()||0,n+=t(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:n},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:s.width(),height:s.height()},this.originalSize=this._helper?{width:s.outerWidth(),height:s.outerHeight()}:{width:s.width(),height:s.height()},this.sizeDiff={width:s.outerWidth()-s.width(),height:s.outerHeight()-s.height()},this.originalPosition={left:i,top:n},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,r=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===r?this.axis+"-resize":r),s.addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var i,n,r=this.originalMousePosition,o=this.axis,s=e.pageX-r.left||0,a=e.pageY-r.top||0,l=this._change[o];return this._updatePrevProperties(),!!l&&(i=l.apply(this,[e,s,a]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(i=this._updateRatio(i,e)),i=this._respectSize(i,e),this._updateCache(i),this._propagate("resize",e),n=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(n)||(this._updatePrevProperties(),this._trigger("resize",e,this.ui()),this._applyChanges()),!1)},_mouseStop:function(e){this.resizing=!1;var i,n,r,o,s,a,l,h=this.options,u=this;return this._helper&&(i=this._proportionallyResizeElements,n=i.length&&/textarea/i.test(i[0].nodeName),r=n&&this._hasScroll(i[0],"left")?0:u.sizeDiff.height,o=n?0:u.sizeDiff.width,s={width:u.helper.width()-o,height:u.helper.height()-r},a=parseInt(u.element.css("left"),10)+(u.position.left-u.originalPosition.left)||null,l=parseInt(u.element.css("top"),10)+(u.position.top-u.originalPosition.top)||null,h.animate||this.element.css(t.extend(s,{top:l,left:a})),u.helper.height(u.size.height),u.helper.width(u.size.width),this._helper&&!h.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};return this.position.top!==this.prevPosition.top&&(t.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(t.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(t.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(t.height=this.size.height+"px"),this.helper.css(t),t},_updateVirtualBoundaries:function(t){var e,i,n,r,o,s=this.options;o={minWidth:this._isNumber(s.minWidth)?s.minWidth:0,maxWidth:this._isNumber(s.maxWidth)?s.maxWidth:1/0,minHeight:this._isNumber(s.minHeight)?s.minHeight:0,maxHeight:this._isNumber(s.maxHeight)?s.maxHeight:1/0},(this._aspectRatio||t)&&(e=o.minHeight*this.aspectRatio,n=o.minWidth/this.aspectRatio,i=o.maxHeight*this.aspectRatio,r=o.maxWidth/this.aspectRatio,e>o.minWidth&&(o.minWidth=e),n>o.minHeight&&(o.minHeight=n),i<o.maxWidth&&(o.maxWidth=i),r<o.maxHeight&&(o.maxHeight=r)),this._vBoundaries=o},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,i=this.size,n=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===n&&(t.left=e.left+(i.width-t.width),t.top=null),"nw"===n&&(t.top=e.top+(i.height-t.height),t.left=e.left+(i.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,i=this.axis,n=this._isNumber(t.width)&&e.maxWidth&&e.maxWidth<t.width,r=this._isNumber(t.height)&&e.maxHeight&&e.maxHeight<t.height,o=this._isNumber(t.width)&&e.minWidth&&e.minWidth>t.width,s=this._isNumber(t.height)&&e.minHeight&&e.minHeight>t.height,a=this.originalPosition.left+this.originalSize.width,l=this.position.top+this.size.height,h=/sw|nw|w/.test(i),u=/nw|ne|n/.test(i);return o&&(t.width=e.minWidth),s&&(t.height=e.minHeight),n&&(t.width=e.maxWidth),r&&(t.height=e.maxHeight),o&&h&&(t.left=a-e.minWidth),n&&h&&(t.left=a-e.maxWidth),s&&u&&(t.top=l-e.minHeight),r&&u&&(t.top=l-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_getPaddingPlusBorderDimensions:function(t){for(var e=0,i=[],n=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],r=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];e<4;e++)i[e]=parseInt(n[e],10)||0,i[e]+=parseInt(r[e],10)||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,e=0,i=this.helper||this.element;e<this._proportionallyResizeElements.length;e++)t=this._proportionallyResizeElements[e],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var e=this.element,i=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var i=this.originalSize;return{left:this.originalPosition.left+e,width:i.width-e}},n:function(t,e,i){var n=this.originalSize;return{top:this.originalPosition.top+i,height:n.height-i}},s:function(t,e,i){return{height:this.originalSize.height+i}},se:function(e,i,n){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,i,n]))},sw:function(e,i,n){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,i,n]))},ne:function(e,i,n){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,i,n]))},nw:function(e,i,n){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,i,n]))}},_propagate:function(e,i){t.ui.plugin.call(this,e,[i,this.ui()]),"resize"!==e&&this._trigger(e,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,
position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var i=t(this).resizable("instance"),n=i.options,r=i._proportionallyResizeElements,o=r.length&&/textarea/i.test(r[0].nodeName),s=o&&i._hasScroll(r[0],"left")?0:i.sizeDiff.height,a=o?0:i.sizeDiff.width,l={width:i.size.width-a,height:i.size.height-s},h=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,u=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(t.extend(l,u&&h?{top:u,left:h}:{}),{duration:n.animateDuration,easing:n.animateEasing,step:function(){var n={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};r&&r.length&&t(r[0]).css({width:n.width,height:n.height}),i._updateCache(n),i._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var e,i,n,r,o,s,a,l=t(this).resizable("instance"),h=l.options,u=l.element,c=h.containment,d=c instanceof t?c.get(0):/parent/.test(c)?u.parent().get(0):c;d&&(l.containerElement=t(d),/document/.test(c)||c===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(e=t(d),i=[],t(["Top","Right","Left","Bottom"]).each(function(t,n){i[t]=l._num(e.css("padding"+n))}),l.containerOffset=e.offset(),l.containerPosition=e.position(),l.containerSize={height:e.innerHeight()-i[3],width:e.innerWidth()-i[1]},n=l.containerOffset,r=l.containerSize.height,o=l.containerSize.width,s=l._hasScroll(d,"left")?d.scrollWidth:o,a=l._hasScroll(d)?d.scrollHeight:r,l.parentData={element:d,left:n.left,top:n.top,width:s,height:a}))},resize:function(e){var i,n,r,o,s=t(this).resizable("instance"),a=s.options,l=s.containerOffset,h=s.position,u=s._aspectRatio||e.shiftKey,c={top:0,left:0},d=s.containerElement,p=!0;d[0]!==document&&/static/.test(d.css("position"))&&(c=l),h.left<(s._helper?l.left:0)&&(s.size.width=s.size.width+(s._helper?s.position.left-l.left:s.position.left-c.left),u&&(s.size.height=s.size.width/s.aspectRatio,p=!1),s.position.left=a.helper?l.left:0),h.top<(s._helper?l.top:0)&&(s.size.height=s.size.height+(s._helper?s.position.top-l.top:s.position.top),u&&(s.size.width=s.size.height*s.aspectRatio,p=!1),s.position.top=s._helper?l.top:0),r=s.containerElement.get(0)===s.element.parent().get(0),o=/relative|absolute/.test(s.containerElement.css("position")),r&&o?(s.offset.left=s.parentData.left+s.position.left,s.offset.top=s.parentData.top+s.position.top):(s.offset.left=s.element.offset().left,s.offset.top=s.element.offset().top),i=Math.abs(s.sizeDiff.width+(s._helper?s.offset.left-c.left:s.offset.left-l.left)),n=Math.abs(s.sizeDiff.height+(s._helper?s.offset.top-c.top:s.offset.top-l.top)),i+s.size.width>=s.parentData.width&&(s.size.width=s.parentData.width-i,u&&(s.size.height=s.size.width/s.aspectRatio,p=!1)),n+s.size.height>=s.parentData.height&&(s.size.height=s.parentData.height-n,u&&(s.size.width=s.size.height*s.aspectRatio,p=!1)),p||(s.position.left=s.prevPosition.left,s.position.top=s.prevPosition.top,s.size.width=s.prevSize.width,s.size.height=s.prevSize.height)},stop:function(){var e=t(this).resizable("instance"),i=e.options,n=e.containerOffset,r=e.containerPosition,o=e.containerElement,s=t(e.helper),a=s.offset(),l=s.outerWidth()-e.sizeDiff.width,h=s.outerHeight()-e.sizeDiff.height;e._helper&&!i.animate&&/relative/.test(o.css("position"))&&t(this).css({left:a.left-r.left-n.left,width:l,height:h}),e._helper&&!i.animate&&/static/.test(o.css("position"))&&t(this).css({left:a.left-r.left-n.left,width:l,height:h})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).resizable("instance"),i=e.options;t(i.alsoResize).each(function(){var e=t(this);e.data("ui-resizable-alsoresize",{width:parseInt(e.width(),10),height:parseInt(e.height(),10),left:parseInt(e.css("left"),10),top:parseInt(e.css("top"),10)})})},resize:function(e,i){var n=t(this).resizable("instance"),r=n.options,o=n.originalSize,s=n.originalPosition,a={height:n.size.height-o.height||0,width:n.size.width-o.width||0,top:n.position.top-s.top||0,left:n.position.left-s.left||0};t(r.alsoResize).each(function(){var e=t(this),n=t(this).data("ui-resizable-alsoresize"),r={},o=e.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(o,function(t,e){var i=(n[e]||0)+(a[e]||0);i&&i>=0&&(r[e]=i||null)}),e.css(r)})},stop:function(){t(this).removeData("resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).resizable("instance"),i=e.options,n=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:n.height,width:n.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof i.ghost?i.ghost:""),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).resizable("instance");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).resizable("instance");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e,i=t(this).resizable("instance"),n=i.options,r=i.size,o=i.originalSize,s=i.originalPosition,a=i.axis,l="number"==typeof n.grid?[n.grid,n.grid]:n.grid,h=l[0]||1,u=l[1]||1,c=Math.round((r.width-o.width)/h)*h,d=Math.round((r.height-o.height)/u)*u,p=o.width+c,f=o.height+d,g=n.maxWidth&&n.maxWidth<p,m=n.maxHeight&&n.maxHeight<f,v=n.minWidth&&n.minWidth>p,y=n.minHeight&&n.minHeight>f;n.grid=l,v&&(p+=h),y&&(f+=u),g&&(p-=h),m&&(f-=u),/^(se|s|e)$/.test(a)?(i.size.width=p,i.size.height=f):/^(ne)$/.test(a)?(i.size.width=p,i.size.height=f,i.position.top=s.top-d):/^(sw)$/.test(a)?(i.size.width=p,i.size.height=f,i.position.left=s.left-c):((f-u<=0||p-h<=0)&&(e=i._getPaddingPlusBorderDimensions(this)),f-u>0?(i.size.height=f,i.position.top=s.top-d):(f=u-e.height,i.size.height=f,i.position.top=s.top+o.height-f),p-h>0?(i.size.width=p,i.position.left=s.left-c):(p=h-e.width,i.size.width=p,i.position.left=s.left+o.width-p))}});var c,d=(t.ui.resizable,"ui-button ui-widget ui-state-default ui-corner-all"),p="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",f=function(){var e=t(this);setTimeout(function(){e.find(":ui-button").button("refresh")},1)},g=function(e){var i=e.name,n=e.form,r=t([]);return i&&(i=i.replace(/'/g,"\\'"),r=n?t(n).find("[name='"+i+"'][type=radio]"):t("[name='"+i+"'][type=radio]",e.ownerDocument).filter(function(){return!this.form})),r};t.widget("ui.button",{version:"1.11.4",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,f),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var e=this,i=this.options,n="checkbox"===this.type||"radio"===this.type,r=n?"":"ui-state-active";null===i.label&&(i.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(d).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){i.disabled||this===c&&t(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){i.disabled||t(this).removeClass(r)}).bind("click"+this.eventNamespace,function(t){i.disabled&&(t.preventDefault(),t.stopImmediatePropagation())}),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}}),n&&this.element.bind("change"+this.eventNamespace,function(){e.refresh()}),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(i.disabled)return!1}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(i.disabled)return!1;t(this).addClass("ui-state-active"),e.buttonElement.attr("aria-pressed","true");var n=e.element[0];g(n).not(n).map(function(){return t(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){if(i.disabled)return!1;t(this).addClass("ui-state-active"),c=this,e.document.one("mouseup",function(){c=null})}).bind("mouseup"+this.eventNamespace,function(){if(i.disabled)return!1;t(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(e){if(i.disabled)return!1;e.keyCode!==t.ui.keyCode.SPACE&&e.keyCode!==t.ui.keyCode.ENTER||t(this).addClass("ui-state-active")}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){t(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(e){e.keyCode===t.ui.keyCode.SPACE&&t(this).click()})),this._setOption("disabled",i.disabled),this._resetButton()},_determineButtonType:function(){var t,e,i;this.element.is("[type=checkbox]")?this.type="checkbox":this.element.is("[type=radio]")?this.type="radio":this.element.is("input")?this.type="input":this.type="button","checkbox"===this.type||"radio"===this.type?(t=this.element.parents().last(),e="label[for='"+this.element.attr("id")+"']",this.buttonElement=t.find(e),this.buttonElement.length||(t=t.length?t.siblings():this.element.siblings(),this.buttonElement=t.filter(e),this.buttonElement.length||(this.buttonElement=t.find(e))),this.element.addClass("ui-helper-hidden-accessible"),i=this.element.is(":checked"),i&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",i)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(d+" ui-state-active "+p).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(t,e){if(this._super(t,e),"disabled"===t)return this.widget().toggleClass("ui-state-disabled",!!e),this.element.prop("disabled",!!e),void(e&&("checkbox"===this.type||"radio"===this.type?this.buttonElement.removeClass("ui-state-focus"):this.buttonElement.removeClass("ui-state-focus ui-state-active")));this._resetButton()},refresh:function(){var e=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");e!==this.options.disabled&&this._setOption("disabled",e),"radio"===this.type?g(this.element[0]).each(function(){t(this).is(":checked")?t(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):t(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return void(this.options.label&&this.element.val(this.options.label));var e=this.buttonElement.removeClass(p),i=t("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(e.empty()).text(),n=this.options.icons,r=n.primary&&n.secondary,o=[];n.primary||n.secondary?(this.options.text&&o.push("ui-button-text-icon"+(r?"s":n.primary?"-primary":"-secondary")),n.primary&&e.prepend("<span class='ui-button-icon-primary ui-icon "+n.primary+"'></span>"),n.secondary&&e.append("<span class='ui-button-icon-secondary ui-icon "+n.secondary+"'></span>"),this.options.text||(o.push(r?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||e.attr("title",t.trim(i)))):o.push("ui-button-text-only"),e.addClass(o.join(" "))}}),t.widget("ui.buttonset",{version:"1.11.4",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(t,e){"disabled"===t&&this.buttons.button("option",t,e),this._super(t,e)},refresh:function(){var e="rtl"===this.element.css("direction"),i=this.element.find(this.options.items),n=i.filter(":ui-button");i.not(":ui-button").button(),n.button("refresh"),this.buttons=i.map(function(){return t(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(e?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(e?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return t(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}});t.ui.button;t.extend(t.ui,{datepicker:{version:"1.11.4"}});var m;t.extend(r.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return a(this._defaults,t||{}),this},_attachDatepicker:function(e,i){var n,r,o;n=e.nodeName.toLowerCase(),r="div"===n||"span"===n,e.id||(this.uuid+=1,e.id="dp"+this.uuid),o=this._newInst(t(e),r),o.settings=t.extend({},i||{}),"input"===n?this._connectDatepicker(e,o):r&&this._inlineDatepicker(e,o)},_newInst:function(e,i){return{id:e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?o(t("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,i){var n=t(e);i.append=t([]),i.trigger=t([]),n.hasClass(this.markerClassName)||(this._attachments(n,i),n.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(i),t.data(e,"datepicker",i),i.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,i){var n,r,o,s=this._get(i,"appendText"),a=this._get(i,"isRTL");i.append&&i.append.remove(),s&&(i.append=t("<span class='"+this._appendClass+"'>"+s+"</span>"),e[a?"before":"after"](i.append)),e.unbind("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),n=this._get(i,"showOn"),"focus"!==n&&"both"!==n||e.focus(this._showDatepicker),"button"!==n&&"both"!==n||(r=this._get(i,"buttonText"),o=this._get(i,"buttonImage"),i.trigger=t(this._get(i,"buttonImageOnly")?t("<img/>").addClass(this._triggerClass).attr({src:o,alt:r,title:r}):t("<button type='button'></button>").addClass(this._triggerClass).html(o?t("<img/>").attr({src:o,alt:r,title:r}):r)),e[a?"before":"after"](i.trigger),i.trigger.click(function(){return t.datepicker._datepickerShowing&&t.datepicker._lastInput===e[0]?t.datepicker._hideDatepicker():t.datepicker._datepickerShowing&&t.datepicker._lastInput!==e[0]?(t.datepicker._hideDatepicker(),t.datepicker._showDatepicker(e[0])):t.datepicker._showDatepicker(e[0]),!1}))},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e,i,n,r,o=new Date(2009,11,20),s=this._get(t,"dateFormat");s.match(/[DM]/)&&(e=function(t){for(i=0,n=0,r=0;r<t.length;r++)t[r].length>i&&(i=t[r].length,n=r);return n},o.setMonth(e(this._get(t,s.match(/MM/)?"monthNames":"monthNamesShort"))),o.setDate(e(this._get(t,s.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())),t.input.attr("size",this._formatDate(t,o).length)}},_inlineDatepicker:function(e,i){var n=t(e);n.hasClass(this.markerClassName)||(n.addClass(this.markerClassName).append(i.dpDiv),t.data(e,"datepicker",i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(e),i.dpDiv.css("display","block"))},_dialogDatepicker:function(e,i,n,r,o){var s,l,h,u,c,d=this._dialogInst;return d||(this.uuid+=1,s="dp"+this.uuid,this._dialogInput=t("<input type='text' id='"+s+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),t("body").append(this._dialogInput),d=this._dialogInst=this._newInst(this._dialogInput,!1),d.settings={},t.data(this._dialogInput[0],"datepicker",d)),a(d.settings,r||{}),i=i&&i.constructor===Date?this._formatDate(d,i):i,this._dialogInput.val(i),this._pos=o?o.length?o:[o.pageX,o.pageY]:null,this._pos||(l=document.documentElement.clientWidth,h=document.documentElement.clientHeight,u=document.documentElement.scrollLeft||document.body.scrollLeft,c=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[l/2-100+u,h/2-150+c]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),d.settings.onSelect=n,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],"datepicker",d),this},_destroyDatepicker:function(e){var i,n=t(e),r=t.data(e,"datepicker");n.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),t.removeData(e,"datepicker"),"input"===i?(r.append.remove(),r.trigger.remove(),n.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):"div"!==i&&"span"!==i||n.removeClass(this.markerClassName).empty(),m===r&&(m=null))},_enableDatepicker:function(e){var i,n,r=t(e),o=t.data(e,"datepicker");r.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),"input"===i?(e.disabled=!1,o.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==i&&"span"!==i||(n=r.children("."+this._inlineClass),n.children().removeClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}))},_disableDatepicker:function(e){var i,n,r=t(e),o=t.data(e,"datepicker");r.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),"input"===i?(e.disabled=!0,o.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==i&&"span"!==i||(n=r.children("."+this._inlineClass),n.children().addClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;e<this._disabledInputs.length;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(e){try{return t.data(e,"datepicker")}catch(t){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,i,n){var r,o,s,l,h=this._getInst(e);if(2===arguments.length&&"string"==typeof i)return"defaults"===i?t.extend({},t.datepicker._defaults):h?"all"===i?t.extend({},h.settings):this._get(h,i):null;r=i||{},"string"==typeof i&&(r={},r[i]=n),h&&(this._curInst===h&&this._hideDatepicker(),o=this._getDateDatepicker(e,!0),s=this._getMinMaxDate(h,"min"),l=this._getMinMaxDate(h,"max"),a(h.settings,r),null!==s&&void 0!==r.dateFormat&&void 0===r.minDate&&(h.settings.minDate=this._formatDate(h,s)),null!==l&&void 0!==r.dateFormat&&void 0===r.maxDate&&(h.settings.maxDate=this._formatDate(h,l)),"disabled"in r&&(r.disabled?this._disableDatepicker(e):this._enableDatepicker(e)),this._attachments(t(e),h),this._autoSize(h),this._setDate(h,o),this._updateAlternate(h),this._updateDatepicker(h))},_changeDatepicker:function(t,e,i){this._optionDatepicker(t,e,i)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var i=this._getInst(t);i&&(this._setDate(i,e),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(t,e){var i=this._getInst(t);return i&&!i.inline&&this._setDateFromField(i,e),i?this._getDate(i):null},_doKeyDown:function(e){var i,n,r,o=t.datepicker._getInst(e.target),s=!0,a=o.dpDiv.is(".ui-datepicker-rtl");if(o._keyEvent=!0,t.datepicker._datepickerShowing)switch(e.keyCode){case 9:t.datepicker._hideDatepicker(),s=!1;break;case 13:return r=t("td."+t.datepicker._dayOverClass+":not(."+t.datepicker._currentClass+")",o.dpDiv),r[0]&&t.datepicker._selectDay(e.target,o.selectedMonth,o.selectedYear,r[0]),i=t.datepicker._get(o,"onSelect"),i?(n=t.datepicker._formatDate(o),i.apply(o.input?o.input[0]:null,[n,o])):t.datepicker._hideDatepicker(),!1;case 27:t.datepicker._hideDatepicker();break;case 33:t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 34:t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&t.datepicker._clearDate(e.target),s=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&t.datepicker._gotoToday(e.target),s=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,a?1:-1,"D"),s=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,-7,"D"),s=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,a?-1:1,"D"),s=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,7,"D"),s=e.ctrlKey||e.metaKey;break;default:s=!1}else 36===e.keyCode&&e.ctrlKey?t.datepicker._showDatepicker(this):s=!1;s&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var i,n,r=t.datepicker._getInst(e.target);if(t.datepicker._get(r,"constrainInput"))return i=t.datepicker._possibleChars(t.datepicker._get(r,"dateFormat")),n=String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||n<" "||!i||i.indexOf(n)>-1},_doKeyUp:function(e){var i,n=t.datepicker._getInst(e.target);if(n.input.val()!==n.lastVal)try{i=t.datepicker.parseDate(t.datepicker._get(n,"dateFormat"),n.input?n.input.val():null,t.datepicker._getFormatConfig(n)),i&&(t.datepicker._setDateFromField(n),t.datepicker._updateAlternate(n),t.datepicker._updateDatepicker(n))}catch(t){}return!0},_showDatepicker:function(e){if(e=e.target||e,"input"!==e.nodeName.toLowerCase()&&(e=t("input",e.parentNode)[0]),!t.datepicker._isDisabledDatepicker(e)&&t.datepicker._lastInput!==e){var i,r,o,s,l,h,u;i=t.datepicker._getInst(e),t.datepicker._curInst&&t.datepicker._curInst!==i&&(t.datepicker._curInst.dpDiv.stop(!0,!0),i&&t.datepicker._datepickerShowing&&t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])),r=t.datepicker._get(i,"beforeShow"),o=r?r.apply(e,[e,i]):{},!1!==o&&(a(i.settings,o),i.lastVal=null,t.datepicker._lastInput=e,t.datepicker._setDateFromField(i),t.datepicker._inDialog&&(e.value=""),t.datepicker._pos||(t.datepicker._pos=t.datepicker._findPos(e),t.datepicker._pos[1]+=e.offsetHeight),s=!1,t(e).parents().each(function(){return!(s|="fixed"===t(this).css("position"))}),l={left:t.datepicker._pos[0],top:t.datepicker._pos[1]},t.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),t.datepicker._updateDatepicker(i),l=t.datepicker._checkOffset(i,l,s),i.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?"static":s?"fixed":"absolute",display:"none",left:l.left+"px",top:l.top+"px"}),i.inline||(h=t.datepicker._get(i,"showAnim"),u=t.datepicker._get(i,"duration"),i.dpDiv.css("z-index",n(t(e))+1),t.datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[h]?i.dpDiv.show(h,t.datepicker._get(i,"showOptions"),u):i.dpDiv[h||"show"](h?u:null),t.datepicker._shouldFocusInput(i)&&i.input.focus(),t.datepicker._curInst=i))}},_updateDatepicker:function(e){this.maxRows=4,m=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e);var i,n=this._getNumberOfMonths(e),r=n[1],o=e.dpDiv.find("."+this._dayOverClass+" a");o.length>0&&s.apply(o.get(0)),e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),r>1&&e.dpDiv.addClass("ui-datepicker-multi-"+r).css("width",17*r+"em"),e.dpDiv[(1!==n[0]||1!==n[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===t.datepicker._curInst&&t.datepicker._datepickerShowing&&t.datepicker._shouldFocusInput(e)&&e.input.focus(),e.yearshtml&&(i=e.yearshtml,setTimeout(function(){i===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),i=e.yearshtml=null},0))},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(e,i,n){var r=e.dpDiv.outerWidth(),o=e.dpDiv.outerHeight(),s=e.input?e.input.outerWidth():0,a=e.input?e.input.outerHeight():0,l=document.documentElement.clientWidth+(n?0:t(document).scrollLeft()),h=document.documentElement.clientHeight+(n?0:t(document).scrollTop());return i.left-=this._get(e,"isRTL")?r-s:0,i.left-=n&&i.left===e.input.offset().left?t(document).scrollLeft():0,i.top-=n&&i.top===e.input.offset().top+a?t(document).scrollTop():0,i.left-=Math.min(i.left,i.left+r>l&&l>r?Math.abs(i.left+r-l):0),i.top-=Math.min(i.top,i.top+o>h&&h>o?Math.abs(o+a):0),i},_findPos:function(e){for(var i,n=this._getInst(e),r=this._get(n,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||t.expr.filters.hidden(e));)e=e[r?"previousSibling":"nextSibling"];return i=t(e).offset(),[i.left,i.top]},_hideDatepicker:function(e){var i,n,r,o,s=this._curInst;!s||e&&s!==t.data(e,"datepicker")||this._datepickerShowing&&(i=this._get(s,"showAnim"),n=this._get(s,"duration"),r=function(){t.datepicker._tidyDialog(s)},t.effects&&(t.effects.effect[i]||t.effects[i])?s.dpDiv.hide(i,t.datepicker._get(s,"showOptions"),n,r):s.dpDiv["slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide"](i?n:null,r),i||r(),this._datepickerShowing=!1,o=this._get(s,"onClose"),o&&o.apply(s.input?s.input[0]:null,[s.input?s.input.val():"",s]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),t.blockUI&&(t.unblockUI(),t("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(t.datepicker._curInst){var i=t(e.target),n=t.datepicker._getInst(i[0]);(i[0].id===t.datepicker._mainDivId||0!==i.parents("#"+t.datepicker._mainDivId).length||i.hasClass(t.datepicker.markerClassName)||i.closest("."+t.datepicker._triggerClass).length||!t.datepicker._datepickerShowing||t.datepicker._inDialog&&t.blockUI)&&(!i.hasClass(t.datepicker.markerClassName)||t.datepicker._curInst===n)||t.datepicker._hideDatepicker()}},_adjustDate:function(e,i,n){var r=t(e),o=this._getInst(r[0]);this._isDisabledDatepicker(r[0])||(this._adjustInstDate(o,i+("M"===n?this._get(o,"showCurrentAtPos"):0),n),this._updateDatepicker(o))},_gotoToday:function(e){var i,n=t(e),r=this._getInst(n[0]);this._get(r,"gotoCurrent")&&r.currentDay?(r.selectedDay=r.currentDay,r.drawMonth=r.selectedMonth=r.currentMonth,r.drawYear=r.selectedYear=r.currentYear):(i=new Date,r.selectedDay=i.getDate(),r.drawMonth=r.selectedMonth=i.getMonth(),r.drawYear=r.selectedYear=i.getFullYear()),this._notifyChange(r),this._adjustDate(n)},_selectMonthYear:function(e,i,n){var r=t(e),o=this._getInst(r[0]);o["selected"+("M"===n?"Month":"Year")]=o["draw"+("M"===n?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(o),this._adjustDate(r)},_selectDay:function(e,i,n,r){var o,s=t(e);t(r).hasClass(this._unselectableClass)||this._isDisabledDatepicker(s[0])||(o=this._getInst(s[0]),o.selectedDay=o.currentDay=t("a",r).html(),o.selectedMonth=o.currentMonth=i,o.selectedYear=o.currentYear=n,this._selectDate(e,this._formatDate(o,o.currentDay,o.currentMonth,o.currentYear)))},_clearDate:function(e){var i=t(e);this._selectDate(i,"")},_selectDate:function(e,i){var n,r=t(e),o=this._getInst(r[0]);i=null!=i?i:this._formatDate(o),o.input&&o.input.val(i),this._updateAlternate(o),n=this._get(o,"onSelect"),n?n.apply(o.input?o.input[0]:null,[i,o]):o.input&&o.input.trigger("change"),o.inline?this._updateDatepicker(o):(this._hideDatepicker(),this._lastInput=o.input[0],"object"!=typeof o.input[0]&&o.input.focus(),this._lastInput=null)},_updateAlternate:function(e){var i,n,r,o=this._get(e,"altField");o&&(i=this._get(e,"altFormat")||this._get(e,"dateFormat"),n=this._getDate(e),r=this.formatDate(i,n,this._getFormatConfig(e)),t(o).each(function(){t(this).val(r)}))},noWeekends:function(t){var e=t.getDay();return[e>0&&e<6,""]},iso8601Week:function(t){var e,i=new Date(t.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),e=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((e-i)/864e5)/7)+1},parseDate:function(e,i,n){if(null==e||null==i)throw"Invalid arguments";if(""===(i="object"==typeof i?i.toString():i+""))return null;var r,o,s,a,l=0,h=(n?n.shortYearCutoff:null)||this._defaults.shortYearCutoff,u="string"!=typeof h?h:(new Date).getFullYear()%100+parseInt(h,10),c=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,d=(n?n.dayNames:null)||this._defaults.dayNames,p=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,f=(n?n.monthNames:null)||this._defaults.monthNames,g=-1,m=-1,v=-1,y=-1,_=!1,x=function(t){var i=r+1<e.length&&e.charAt(r+1)===t;return i&&r++,i},b=function(t){var e=x(t),n="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,r="y"===t?n:1,o=new RegExp("^\\d{"+r+","+n+"}"),s=i.substring(l).match(o);if(!s)throw"Missing number at position "+l;return l+=s[0].length,parseInt(s[0],10)},w=function(e,n,r){var o=-1,s=t.map(x(e)?r:n,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)});if(t.each(s,function(t,e){var n=e[1];if(i.substr(l,n.length).toLowerCase()===n.toLowerCase())return o=e[0],l+=n.length,!1}),-1!==o)return o+1;throw"Unknown name at position "+l},k=function(){if(i.charAt(l)!==e.charAt(r))throw"Unexpected literal at position "+l;l++};for(r=0;r<e.length;r++)if(_)"'"!==e.charAt(r)||x("'")?k():_=!1;else switch(e.charAt(r)){case"d":v=b("d");break;case"D":w("D",c,d);break;case"o":y=b("o");break;case"m":m=b("m");break;case"M":m=w("M",p,f);break;case"y":g=b("y");break;case"@":a=new Date(b("@")),g=a.getFullYear(),m=a.getMonth()+1,v=a.getDate();break;case"!":a=new Date((b("!")-this._ticksTo1970)/1e4),g=a.getFullYear(),m=a.getMonth()+1,v=a.getDate();break;case"'":x("'")?k():_=!0;break;default:k()}if(l<i.length&&(s=i.substr(l),!/^\s+/.test(s)))throw"Extra/unparsed characters found in date: "+s;if(-1===g?g=(new Date).getFullYear():g<100&&(g+=(new Date).getFullYear()-(new Date).getFullYear()%100+(g<=u?0:-100)),y>-1)for(m=1,v=y;;){if(o=this._getDaysInMonth(g,m-1),v<=o)break;m++,v-=o}if(a=this._daylightSavingAdjust(new Date(g,m-1,v)),a.getFullYear()!==g||a.getMonth()+1!==m||a.getDate()!==v)throw"Invalid date";return a},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(t,e,i){if(!e)return""
;var n,r=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,o=(i?i.dayNames:null)||this._defaults.dayNames,s=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,a=(i?i.monthNames:null)||this._defaults.monthNames,l=function(e){var i=n+1<t.length&&t.charAt(n+1)===e;return i&&n++,i},h=function(t,e,i){var n=""+e;if(l(t))for(;n.length<i;)n="0"+n;return n},u=function(t,e,i,n){return l(t)?n[e]:i[e]},c="",d=!1;if(e)for(n=0;n<t.length;n++)if(d)"'"!==t.charAt(n)||l("'")?c+=t.charAt(n):d=!1;else switch(t.charAt(n)){case"d":c+=h("d",e.getDate(),2);break;case"D":c+=u("D",e.getDay(),r,o);break;case"o":c+=h("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":c+=h("m",e.getMonth()+1,2);break;case"M":c+=u("M",e.getMonth(),s,a);break;case"y":c+=l("y")?e.getFullYear():(e.getYear()%100<10?"0":"")+e.getYear()%100;break;case"@":c+=e.getTime();break;case"!":c+=1e4*e.getTime()+this._ticksTo1970;break;case"'":l("'")?c+="'":d=!0;break;default:c+=t.charAt(n)}return c},_possibleChars:function(t){var e,i="",n=!1,r=function(i){var n=e+1<t.length&&t.charAt(e+1)===i;return n&&e++,n};for(e=0;e<t.length;e++)if(n)"'"!==t.charAt(e)||r("'")?i+=t.charAt(e):n=!1;else switch(t.charAt(e)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":r("'")?i+="'":n=!0;break;default:i+=t.charAt(e)}return i},_get:function(t,e){return void 0!==t.settings[e]?t.settings[e]:this._defaults[e]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var i=this._get(t,"dateFormat"),n=t.lastVal=t.input?t.input.val():null,r=this._getDefaultDate(t),o=r,s=this._getFormatConfig(t);try{o=this.parseDate(i,n,s)||r}catch(t){n=e?"":n}t.selectedDay=o.getDate(),t.drawMonth=t.selectedMonth=o.getMonth(),t.drawYear=t.selectedYear=o.getFullYear(),t.currentDay=n?o.getDate():0,t.currentMonth=n?o.getMonth():0,t.currentYear=n?o.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(e,i,n){var r=null==i||""===i?n:"string"==typeof i?function(i){try{return t.datepicker.parseDate(t.datepicker._get(e,"dateFormat"),i,t.datepicker._getFormatConfig(e))}catch(t){}for(var n=(i.toLowerCase().match(/^c/)?t.datepicker._getDate(e):null)||new Date,r=n.getFullYear(),o=n.getMonth(),s=n.getDate(),a=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=a.exec(i);l;){switch(l[2]||"d"){case"d":case"D":s+=parseInt(l[1],10);break;case"w":case"W":s+=7*parseInt(l[1],10);break;case"m":case"M":o+=parseInt(l[1],10),s=Math.min(s,t.datepicker._getDaysInMonth(r,o));break;case"y":case"Y":r+=parseInt(l[1],10),s=Math.min(s,t.datepicker._getDaysInMonth(r,o))}l=a.exec(i)}return new Date(r,o,s)}(i):"number"==typeof i?isNaN(i)?n:function(t){var e=new Date;return e.setDate(e.getDate()+t),e}(i):new Date(i.getTime());return r=r&&"Invalid Date"===r.toString()?n:r,r&&(r.setHours(0),r.setMinutes(0),r.setSeconds(0),r.setMilliseconds(0)),this._daylightSavingAdjust(r)},_daylightSavingAdjust:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},_setDate:function(t,e,i){var n=!e,r=t.selectedMonth,o=t.selectedYear,s=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=s.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=s.getMonth(),t.drawYear=t.selectedYear=t.currentYear=s.getFullYear(),r===t.selectedMonth&&o===t.selectedYear||i||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(n?"":this._formatDate(t))},_getDate:function(t){return!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay))},_attachHandlers:function(e){var i=this._get(e,"stepMonths"),n="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){t.datepicker._adjustDate(n,-i,"M")},next:function(){t.datepicker._adjustDate(n,+i,"M")},hide:function(){t.datepicker._hideDatepicker()},today:function(){t.datepicker._gotoToday(n)},selectDay:function(){return t.datepicker._selectDay(n,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return t.datepicker._selectMonthYear(n,this,"M"),!1},selectYear:function(){return t.datepicker._selectMonthYear(n,this,"Y"),!1}};t(this).bind(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(t){var e,i,n,r,o,s,a,l,h,u,c,d,p,f,g,m,v,y,_,x,b,w,k,C,T,S,D,M,A,P,L,E,q,I,j,O,R,N,F,z=new Date,B=this._daylightSavingAdjust(new Date(z.getFullYear(),z.getMonth(),z.getDate())),H=this._get(t,"isRTL"),W=this._get(t,"showButtonPanel"),U=this._get(t,"hideIfNoPrevNext"),Y=this._get(t,"navigationAsDateFormat"),X=this._getNumberOfMonths(t),G=this._get(t,"showCurrentAtPos"),Z=this._get(t,"stepMonths"),V=1!==X[0]||1!==X[1],$=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),J=this._getMinMaxDate(t,"min"),K=this._getMinMaxDate(t,"max"),Q=t.drawMonth-G,tt=t.drawYear;if(Q<0&&(Q+=12,tt--),K)for(e=this._daylightSavingAdjust(new Date(K.getFullYear(),K.getMonth()-X[0]*X[1]+1,K.getDate())),e=J&&e<J?J:e;this._daylightSavingAdjust(new Date(tt,Q,1))>e;)--Q<0&&(Q=11,tt--);for(t.drawMonth=Q,t.drawYear=tt,i=this._get(t,"prevText"),i=Y?this.formatDate(i,this._daylightSavingAdjust(new Date(tt,Q-Z,1)),this._getFormatConfig(t)):i,n=this._canAdjustMonth(t,-1,tt,Q)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(H?"e":"w")+"'>"+i+"</span></a>":U?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(H?"e":"w")+"'>"+i+"</span></a>",r=this._get(t,"nextText"),r=Y?this.formatDate(r,this._daylightSavingAdjust(new Date(tt,Q+Z,1)),this._getFormatConfig(t)):r,o=this._canAdjustMonth(t,1,tt,Q)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(H?"w":"e")+"'>"+r+"</span></a>":U?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(H?"w":"e")+"'>"+r+"</span></a>",s=this._get(t,"currentText"),a=this._get(t,"gotoCurrent")&&t.currentDay?$:B,s=Y?this.formatDate(s,a,this._getFormatConfig(t)):s,l=t.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>",h=W?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(H?l:"")+(this._isInRange(t,a)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+s+"</button>":"")+(H?"":l)+"</div>":"",u=parseInt(this._get(t,"firstDay"),10),u=isNaN(u)?0:u,c=this._get(t,"showWeek"),d=this._get(t,"dayNames"),p=this._get(t,"dayNamesMin"),f=this._get(t,"monthNames"),g=this._get(t,"monthNamesShort"),m=this._get(t,"beforeShowDay"),v=this._get(t,"showOtherMonths"),y=this._get(t,"selectOtherMonths"),_=this._getDefaultDate(t),x="",w=0;w<X[0];w++){for(k="",this.maxRows=4,C=0;C<X[1];C++){if(T=this._daylightSavingAdjust(new Date(tt,Q,t.selectedDay)),S=" ui-corner-all",D="",V){if(D+="<div class='ui-datepicker-group",X[1]>1)switch(C){case 0:D+=" ui-datepicker-group-first",S=" ui-corner-"+(H?"right":"left");break;case X[1]-1:D+=" ui-datepicker-group-last",S=" ui-corner-"+(H?"left":"right");break;default:D+=" ui-datepicker-group-middle",S=""}D+="'>"}for(D+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+S+"'>"+(/all|left/.test(S)&&0===w?H?o:n:"")+(/all|right/.test(S)&&0===w?H?n:o:"")+this._generateMonthYearHeader(t,Q,tt,J,K,w>0||C>0,f,g)+"</div><table class='ui-datepicker-calendar'><thead><tr>",M=c?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",b=0;b<7;b++)A=(b+u)%7,M+="<th scope='col'"+((b+u+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+d[A]+"'>"+p[A]+"</span></th>";for(D+=M+"</tr></thead><tbody>",P=this._getDaysInMonth(tt,Q),tt===t.selectedYear&&Q===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,P)),L=(this._getFirstDayOfMonth(tt,Q)-u+7)%7,E=Math.ceil((L+P)/7),q=V&&this.maxRows>E?this.maxRows:E,this.maxRows=q,I=this._daylightSavingAdjust(new Date(tt,Q,1-L)),j=0;j<q;j++){for(D+="<tr>",O=c?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(I)+"</td>":"",b=0;b<7;b++)R=m?m.apply(t.input?t.input[0]:null,[I]):[!0,""],N=I.getMonth()!==Q,F=N&&!y||!R[0]||J&&I<J||K&&I>K,O+="<td class='"+((b+u+6)%7>=5?" ui-datepicker-week-end":"")+(N?" ui-datepicker-other-month":"")+(I.getTime()===T.getTime()&&Q===t.selectedMonth&&t._keyEvent||_.getTime()===I.getTime()&&_.getTime()===T.getTime()?" "+this._dayOverClass:"")+(F?" "+this._unselectableClass+" ui-state-disabled":"")+(N&&!v?"":" "+R[1]+(I.getTime()===$.getTime()?" "+this._currentClass:"")+(I.getTime()===B.getTime()?" ui-datepicker-today":""))+"'"+(N&&!v||!R[2]?"":" title='"+R[2].replace(/'/g,"&#39;")+"'")+(F?"":" data-handler='selectDay' data-event='click' data-month='"+I.getMonth()+"' data-year='"+I.getFullYear()+"'")+">"+(N&&!v?"&#xa0;":F?"<span class='ui-state-default'>"+I.getDate()+"</span>":"<a class='ui-state-default"+(I.getTime()===B.getTime()?" ui-state-highlight":"")+(I.getTime()===$.getTime()?" ui-state-active":"")+(N?" ui-priority-secondary":"")+"' href='#'>"+I.getDate()+"</a>")+"</td>",I.setDate(I.getDate()+1),I=this._daylightSavingAdjust(I);D+=O+"</tr>"}Q++,Q>11&&(Q=0,tt++),D+="</tbody></table>"+(V?"</div>"+(X[0]>0&&C===X[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),k+=D}x+=k}return x+=h,t._keyEvent=!1,x},_generateMonthYearHeader:function(t,e,i,n,r,o,s,a){var l,h,u,c,d,p,f,g,m=this._get(t,"changeMonth"),v=this._get(t,"changeYear"),y=this._get(t,"showMonthAfterYear"),_="<div class='ui-datepicker-title'>",x="";if(o||!m)x+="<span class='ui-datepicker-month'>"+s[e]+"</span>";else{for(l=n&&n.getFullYear()===i,h=r&&r.getFullYear()===i,x+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",u=0;u<12;u++)(!l||u>=n.getMonth())&&(!h||u<=r.getMonth())&&(x+="<option value='"+u+"'"+(u===e?" selected='selected'":"")+">"+a[u]+"</option>");x+="</select>"}if(y||(_+=x+(!o&&m&&v?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",o||!v)_+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(c=this._get(t,"yearRange").split(":"),d=(new Date).getFullYear(),p=function(t){var e=t.match(/c[+\-].*/)?i+parseInt(t.substring(1),10):t.match(/[+\-].*/)?d+parseInt(t,10):parseInt(t,10);return isNaN(e)?d:e},f=p(c[0]),g=Math.max(f,p(c[1]||"")),f=n?Math.max(f,n.getFullYear()):f,g=r?Math.min(g,r.getFullYear()):g,t.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";f<=g;f++)t.yearshtml+="<option value='"+f+"'"+(f===i?" selected='selected'":"")+">"+f+"</option>";t.yearshtml+="</select>",_+=t.yearshtml,t.yearshtml=null}return _+=this._get(t,"yearSuffix"),y&&(_+=(!o&&m&&v?"":"&#xa0;")+x),_+="</div>"},_adjustInstDate:function(t,e,i){var n=t.drawYear+("Y"===i?e:0),r=t.drawMonth+("M"===i?e:0),o=Math.min(t.selectedDay,this._getDaysInMonth(n,r))+("D"===i?e:0),s=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(n,r,o)));t.selectedDay=s.getDate(),t.drawMonth=t.selectedMonth=s.getMonth(),t.drawYear=t.selectedYear=s.getFullYear(),"M"!==i&&"Y"!==i||this._notifyChange(t)},_restrictMinMax:function(t,e){var i=this._getMinMaxDate(t,"min"),n=this._getMinMaxDate(t,"max"),r=i&&e<i?i:e;return n&&r>n?n:r},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,i,n){var r=this._getNumberOfMonths(t),o=this._daylightSavingAdjust(new Date(i,n+(e<0?e:r[0]*r[1]),1));return e<0&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth())),this._isInRange(t,o)},_isInRange:function(t,e){var i,n,r=this._getMinMaxDate(t,"min"),o=this._getMinMaxDate(t,"max"),s=null,a=null,l=this._get(t,"yearRange");return l&&(i=l.split(":"),n=(new Date).getFullYear(),s=parseInt(i[0],10),a=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(s+=n),i[1].match(/[+\-].*/)&&(a+=n)),(!r||e.getTime()>=r.getTime())&&(!o||e.getTime()<=o.getTime())&&(!s||e.getFullYear()>=s)&&(!a||e.getFullYear()<=a)},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),{shortYearCutoff:e,dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,i,n){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var r=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(n,i,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),r,this._getFormatConfig(t))}}),t.fn.datepicker=function(e){if(!this.length)return this;t.datepicker.initialized||(t(document).mousedown(t.datepicker._checkExternalClick),t.datepicker.initialized=!0),0===t("#"+t.datepicker._mainDivId).length&&t("body").append(t.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof e?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this].concat(i)):t.datepicker._attachDatepicker(this,e)}):t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i))},t.datepicker=new r,t.datepicker.initialized=!1,t.datepicker.uuid=(new Date).getTime(),t.datepicker.version="1.11.4";var v=(t.datepicker,t.widget("ui.dialog",{version:"1.11.4",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"Close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var i=t(this).css(e).offset().top;i<0&&t(this).css("top",e.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&t.fn.draggable&&this._makeDraggable(),this.options.resizable&&t.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var e=this.options.appendTo;return e&&(e.jquery||e.nodeType)?t(e):this.document.find(e||"body").eq(0)},_destroy:function(){var t,e=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),t=e.parent.children().eq(e.index),t.length&&t[0]!==this.element[0]?t.before(this.element):e.parent.append(this.element)},widget:function(){return this.uiDialog},disable:t.noop,enable:t.noop,close:function(e){var i,n=this;if(this._isOpen&&!1!==this._trigger("beforeClose",e)){if(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),!this.opener.filter(":focusable").focus().length)try{i=this.document[0].activeElement,i&&"body"!==i.nodeName.toLowerCase()&&t(i).blur()}catch(t){}this._hide(this.uiDialog,this.options.hide,function(){n._trigger("close",e)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,i){var n=!1,r=this.uiDialog.siblings(".ui-front:visible").map(function(){return+t(this).css("z-index")}).get(),o=Math.max.apply(null,r);return o>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",o+1),n=!0),n&&!i&&this._trigger("focus",e),n},open:function(){var e=this;if(this._isOpen)return void(this._moveToTop()&&this._focusTabbable());this._isOpen=!0,this.opener=t(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){e._focusTabbable(),e._trigger("focus")}),this._makeFocusTarget(),this._trigger("open")},_focusTabbable:function(){var t=this._focusedElement;t||(t=this.element.find("[autofocus]")),t.length||(t=this.element.find(":tabbable")),t.length||(t=this.uiDialogButtonPane.find(":tabbable")),t.length||(t=this.uiDialogTitlebarClose.filter(":tabbable")),t.length||(t=this.uiDialog),t.eq(0).focus()},_keepFocus:function(e){function i(){var e=this.document[0].activeElement;this.uiDialog[0]===e||t.contains(this.uiDialog[0],e)||this._focusTabbable()}e.preventDefault(),i.call(this),this._delay(i)},_createWrapper:function(){this.uiDialog=t("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(e){if(this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===t.ui.keyCode.ESCAPE)return e.preventDefault(),void this.close(e);if(e.keyCode===t.ui.keyCode.TAB&&!e.isDefaultPrevented()){var i=this.uiDialog.find(":tabbable"),n=i.filter(":first"),r=i.filter(":last");e.target!==r[0]&&e.target!==this.uiDialog[0]||e.shiftKey?e.target!==n[0]&&e.target!==this.uiDialog[0]||!e.shiftKey||(this._delay(function(){r.focus()}),e.preventDefault()):(this._delay(function(){n.focus()}),e.preventDefault())}},mousedown:function(t){this._moveToTop(t)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var e;this.uiDialogTitlebar=t("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(e){t(e.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=t("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(t){t.preventDefault(),this.close(t)}}),e=t("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(e),this.uiDialog.attr({"aria-labelledby":e.attr("id")})},_title:function(t){this.options.title||t.html("&#160;"),t.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=t("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=t("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var e=this,i=this.options.buttons;if(this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),t.isEmptyObject(i)||t.isArray(i)&&!i.length)return void this.uiDialog.removeClass("ui-dialog-buttons");t.each(i,function(i,n){var r,o;n=t.isFunction(n)?{click:n,text:i}:n,n=t.extend({type:"button"},n),r=n.click,n.click=function(){r.apply(e.element[0],arguments)},o={icons:n.icons,text:n.showText},delete n.icons,delete n.showText,t("<button></button>",n).button(o).appendTo(e.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog)},_makeDraggable:function(){function e(t){return{position:t.position,offset:t.offset}}var i=this,n=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(n,r){t(this).addClass("ui-dialog-dragging"),i._blockFrames(),i._trigger("dragStart",n,e(r))},drag:function(t,n){i._trigger("drag",t,e(n))},stop:function(r,o){var s=o.offset.left-i.document.scrollLeft(),a=o.offset.top-i.document.scrollTop();n.position={my:"left top",at:"left"+(s>=0?"+":"")+s+" top"+(a>=0?"+":"")+a,of:i.window},t(this).removeClass("ui-dialog-dragging"),i._unblockFrames(),i._trigger("dragStop",r,e(o))}})},_makeResizable:function(){function e(t){return{originalPosition:t.originalPosition,originalSize:t.originalSize,position:t.position,size:t.size}}var i=this,n=this.options,r=n.resizable,o=this.uiDialog.css("position"),s="string"==typeof r?r:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:n.maxWidth,maxHeight:n.maxHeight,minWidth:n.minWidth,minHeight:this._minHeight(),handles:s,start:function(n,r){t(this).addClass("ui-dialog-resizing"),i._blockFrames(),i._trigger("resizeStart",n,e(r))},resize:function(t,n){i._trigger("resize",t,e(n))},stop:function(r,o){var s=i.uiDialog.offset(),a=s.left-i.document.scrollLeft(),l=s.top-i.document.scrollTop();n.height=i.uiDialog.height(),n.width=i.uiDialog.width(),n.position={my:"left top",at:"left"+(a>=0?"+":"")+a+" top"+(l>=0?"+":"")+l,of:i.window},t(this).removeClass("ui-dialog-resizing"),i._unblockFrames(),i._trigger("resizeStop",r,e(o))}}).css("position",o)},_trackFocus:function(){this._on(this.widget(),{focusin:function(e){this._makeFocusTarget(),this._focusedElement=t(e.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var e=this._trackingInstances(),i=t.inArray(this,e);-1!==i&&e.splice(i,1)},_trackingInstances:function(){var t=this.document.data("ui-dialog-instances");return t||(t=[],this.document.data("ui-dialog-instances",t)),t},_minHeight:function(){var t=this.options;return"auto"===t.height?t.minHeight:Math.min(t.minHeight,t.height)},_position:function(){var t=this.uiDialog.is(":visible");t||this.uiDialog.show(),this.uiDialog.position(this.options.position),t||this.uiDialog.hide()},_setOptions:function(e){var i=this,n=!1,r={};t.each(e,function(t,e){i._setOption(t,e),t in i.sizeRelatedOptions&&(n=!0),t in i.resizableRelatedOptions&&(r[t]=e)}),n&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",r)},_setOption:function(t,e){var i,n,r=this.uiDialog;"dialogClass"===t&&r.removeClass(this.options.dialogClass).addClass(e),"disabled"!==t&&(this._super(t,e),"appendTo"===t&&this.uiDialog.appendTo(this._appendTo()),"buttons"===t&&this._createButtons(),"closeText"===t&&this.uiDialogTitlebarClose.button({label:""+e}),"draggable"===t&&(i=r.is(":data(ui-draggable)"),i&&!e&&r.draggable("destroy"),!i&&e&&this._makeDraggable()),"position"===t&&this._position(),"resizable"===t&&(n=r.is(":data(ui-resizable)"),n&&!e&&r.resizable("destroy"),n&&"string"==typeof e&&r.resizable("option","handles",e),n||!1===e||this._makeResizable()),"title"===t&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var t,e,i,n=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),n.minWidth>n.width&&(n.width=n.minWidth),t=this.uiDialog.css({height:"auto",width:n.width}).outerHeight(),e=Math.max(0,n.minHeight-t),i="number"==typeof n.maxHeight?Math.max(0,n.maxHeight-t):"none","auto"===n.height?this.element.css({minHeight:e,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,n.height-t)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var e=t(this);return t("<div>").css({position:"absolute",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(e){return!!t(e.target).closest(".ui-dialog").length||!!t(e.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var e=!0;this._delay(function(){e=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(t){e||this._allowInteraction(t)||(t.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=t("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var t=this.document.data("ui-dialog-overlays")-1;t?this.document.data("ui-dialog-overlays",t):this.document.unbind("focusin").removeData("ui-dialog-overlays"),this.overlay.remove(),this.overlay=null}}}),t.widget("ui.menu",{version:"1.11.4",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item":function(t){t.preventDefault()},"click .ui-menu-item":function(e){var i=t(e.target);!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(e),e.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(e):!this.element.is(":focus")&&t(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){if(!this.previousFilter){var i=t(e.currentTarget);i.siblings(".ui-state-active").removeClass("ui-state-active"),this.focus(e,i)}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var i=this.active||this.element.find(this.options.items).eq(0);e||this.focus(t,i)},blur:function(e){this._delay(function(){t.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){this._closeOnDocumentClick(t)&&this.collapseAll(t),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var e=t(this);e.data("ui-menu-submenu-carat")&&e.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(e){var i,n,r,o,s=!0;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:s=!1,n=this.previousFilter||"",r=String.fromCharCode(e.keyCode),o=!1,clearTimeout(this.filterTimer),r===n?o=!0:r=n+r,i=this._filterMenuItems(r),i=o&&-1!==i.index(this.active.next())?this.active.nextAll(".ui-menu-item"):i,i.length||(r=String.fromCharCode(e.keyCode),i=this._filterMenuItems(r)),i.length?(this.focus(e,i),this.previousFilter=r,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}s&&e.preventDefault()},_activate:function(t){this.active.is(".ui-state-disabled")||(this.active.is("[aria-haspopup='true']")?this.expand(t):this.select(t))},refresh:function(){var e,i,n=this,r=this.options.icons.submenu,o=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),o.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=t(this),i=e.parent(),n=t("<span>").addClass("ui-menu-icon ui-icon "+r).data("ui-menu-submenu-carat",!0);i.attr("aria-haspopup","true").prepend(n),e.attr("aria-labelledby",i.attr("id"))}),e=o.add(this.element),i=e.find(this.options.items),i.not(".ui-menu-item").each(function(){var e=t(this);n._isDivider(e)&&e.addClass("ui-widget-content ui-menu-divider")}),i.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),i.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){"icons"===t&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(e.submenu),"disabled"===t&&this.element.toggleClass("ui-state-disabled",!!e).attr("aria-disabled",e),this._super(t,e)},focus:function(t,e){var i,n;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),n=this.active.addClass("ui-state-focus").removeClass("ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",n.attr("id")),this.active.parent().closest(".ui-menu-item").addClass("ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=e.children(".ui-menu"),i.length&&t&&/^mouse/.test(t.type)&&this._startOpening(i),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(e){var i,n,r,o,s,a;this._hasScroll()&&(i=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,n=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,r=e.offset().top-this.activeMenu.offset().top-i-n,o=this.activeMenu.scrollTop(),s=this.activeMenu.height(),a=e.outerHeight(),r<0?this.activeMenu.scrollTop(o+r):r+a>s&&this.activeMenu.scrollTop(o+r-s+a))},
blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this.active.removeClass("ui-state-focus"),this.active=null,this._trigger("blur",t,{item:this.active}))},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(e){var i=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(e,i){clearTimeout(this.timer),this.timer=this._delay(function(){var n=i?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));n.length||(n=this.element),this._close(n),this.blur(e),this.activeMenu=n},this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")},_closeOnDocumentClick:function(e){return!t(e.target).closest(".ui-menu").length},_isDivider:function(t){return!/[^\-\u2014\u2013\s]/.test(t.text())},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,i){var n;this.active&&(n="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),n&&n.length&&this.active||(n=this.activeMenu.find(this.options.items)[e]()),this.focus(i,n)},nextPage:function(e){var i,n,r;if(!this.active)return void this.next(e);this.isLastItem()||(this._hasScroll()?(n=this.active.offset().top,r=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=t(this),i.offset().top-n-r<0}),this.focus(e,i)):this.focus(e,this.activeMenu.find(this.options.items)[this.active?"last":"first"]()))},previousPage:function(e){var i,n,r;if(!this.active)return void this.next(e);this.isFirstItem()||(this._hasScroll()?(n=this.active.offset().top,r=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=t(this),i.offset().top-n+r>0}),this.focus(e,i)):this.focus(e,this.activeMenu.find(this.options.items).first()))},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,i)},_filterMenuItems:function(e){var i=e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),n=new RegExp("^"+i,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return n.test(t.trim(t(this).text()))})}}),t.widget("ui.selectmenu",{version:"1.11.4",defaultElement:"<select>",options:{appendTo:null,disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:null,change:null,close:null,focus:null,open:null,select:null},_create:function(){var t=this.element.uniqueId().attr("id");this.ids={element:t,button:t+"-button",menu:t+"-menu"},this._drawButton(),this._drawMenu(),this.options.disabled&&this.disable()},_drawButton:function(){var e=this;this.label=t("label[for='"+this.ids.element+"']").attr("for",this.ids.button),this._on(this.label,{click:function(t){this.button.focus(),t.preventDefault()}}),this.element.hide(),this.button=t("<span>",{class:"ui-selectmenu-button ui-widget ui-state-default ui-corner-all",tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true"}).insertAfter(this.element),t("<span>",{class:"ui-icon "+this.options.icons.button}).prependTo(this.button),this.buttonText=t("<span>",{class:"ui-selectmenu-text"}).appendTo(this.button),this._setText(this.buttonText,this.element.find("option:selected").text()),this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){e.menuItems||e._refreshMenu()}),this._hoverable(this.button),this._focusable(this.button)},_drawMenu:function(){var e=this;this.menu=t("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=t("<div>",{class:"ui-selectmenu-menu ui-front"}).append(this.menu).appendTo(this._appendTo()),this.menuInstance=this.menu.menu({role:"listbox",select:function(t,i){t.preventDefault(),e._setSelection(),e._select(i.item.data("ui-selectmenu-item"),t)},focus:function(t,i){var n=i.item.data("ui-selectmenu-item");null!=e.focusIndex&&n.index!==e.focusIndex&&(e._trigger("focus",t,{item:n}),e.isOpen||e._select(n,t)),e.focusIndex=n.index,e.button.attr("aria-activedescendant",e.menuItems.eq(n.index).attr("id"))}}).menu("instance"),this.menu.addClass("ui-corner-bottom").removeClass("ui-corner-all"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this._setText(this.buttonText,this._getSelectedItem().text()),this.options.width||this._resizeButton()},_refreshMenu:function(){this.menu.empty();var t,e=this.element.find("option");e.length&&(this._parseOptions(e),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup"),t=this._getSelectedItem(),this.menuInstance.focus(null,t),this._setAria(t.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(t){this.options.disabled||(this.menuItems?(this.menu.find(".ui-state-focus").removeClass("ui-state-focus"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",t))},_position:function(){this.menuWrap.position(t.extend({of:this.button},this.options.position))},close:function(t){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",t))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderMenu:function(e,i){var n=this,r="";t.each(i,function(i,o){o.optgroup!==r&&(t("<li>",{class:"ui-selectmenu-optgroup ui-menu-divider"+(o.element.parent("optgroup").prop("disabled")?" ui-state-disabled":""),text:o.optgroup}).appendTo(e),r=o.optgroup),n._renderItemData(e,o)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-selectmenu-item",e)},_renderItem:function(e,i){var n=t("<li>");return i.disabled&&n.addClass("ui-state-disabled"),this._setText(n,i.label),n.appendTo(e)},_setText:function(t,e){e?t.text(e):t.html("&#160;")},_move:function(t,e){var i,n,r=".ui-menu-item";this.isOpen?i=this.menuItems.eq(this.focusIndex):(i=this.menuItems.eq(this.element[0].selectedIndex),r+=":not(.ui-state-disabled)"),n="first"===t||"last"===t?i["first"===t?"prevAll":"nextAll"](r).eq(-1):i[t+"All"](r).eq(0),n.length&&this.menuInstance.focus(e,n)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex)},_toggle:function(t){this[this.isOpen?"close":"open"](t)},_setSelection:function(){var t;this.range&&(window.getSelection?(t=window.getSelection(),t.removeAllRanges(),t.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(e){this.isOpen&&(t(e.target).closest(".ui-selectmenu-menu, #"+this.ids.button).length||this.close(e))}},_buttonEvents:{mousedown:function(){var t;window.getSelection?(t=window.getSelection(),t.rangeCount&&(this.range=t.getRangeAt(0))):this.range=document.selection.createRange()},click:function(t){this._setSelection(),this._toggle(t)},keydown:function(e){var i=!0;switch(e.keyCode){case t.ui.keyCode.TAB:case t.ui.keyCode.ESCAPE:this.close(e),i=!1;break;case t.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(e);break;case t.ui.keyCode.UP:e.altKey?this._toggle(e):this._move("prev",e);break;case t.ui.keyCode.DOWN:e.altKey?this._toggle(e):this._move("next",e);break;case t.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(e):this._toggle(e);break;case t.ui.keyCode.LEFT:this._move("prev",e);break;case t.ui.keyCode.RIGHT:this._move("next",e);break;case t.ui.keyCode.HOME:case t.ui.keyCode.PAGE_UP:this._move("first",e);break;case t.ui.keyCode.END:case t.ui.keyCode.PAGE_DOWN:this._move("last",e);break;default:this.menu.trigger(e),i=!1}i&&e.preventDefault()}},_selectFocusedItem:function(t){var e=this.menuItems.eq(this.focusIndex);e.hasClass("ui-state-disabled")||this._select(e.data("ui-selectmenu-item"),t)},_select:function(t,e){var i=this.element[0].selectedIndex;this.element[0].selectedIndex=t.index,this._setText(this.buttonText,t.label),this._setAria(t),this._trigger("select",e,{item:t}),t.index!==i&&this._trigger("change",e,{item:t}),this.close(e)},_setAria:function(t){var e=this.menuItems.eq(t.index).attr("id");this.button.attr({"aria-labelledby":e,"aria-activedescendant":e}),this.menu.attr("aria-activedescendant",e)},_setOption:function(t,e){"icons"===t&&this.button.find("span.ui-icon").removeClass(this.options.icons.button).addClass(e.button),this._super(t,e),"appendTo"===t&&this.menuWrap.appendTo(this._appendTo()),"disabled"===t&&(this.menuInstance.option("disabled",e),this.button.toggleClass("ui-state-disabled",e).attr("aria-disabled",e),this.element.prop("disabled",e),e?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)),"width"===t&&this._resizeButton()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front")),e.length||(e=this.document[0].body),e},_toggleAttr:function(){this.button.toggleClass("ui-corner-top",this.isOpen).toggleClass("ui-corner-all",!this.isOpen).attr("aria-expanded",this.isOpen),this.menuWrap.toggleClass("ui-selectmenu-open",this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var t=this.options.width;t||(t=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(t)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){return{disabled:this.element.prop("disabled")}},_parseOptions:function(e){var i=[];e.each(function(e,n){var r=t(n),o=r.parent("optgroup");i.push({element:r,index:e,value:r.val(),label:r.text(),optgroup:o.attr("label")||"",disabled:o.prop("disabled")||r.prop("disabled")})}),this.items=i},_destroy:function(){this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.label.attr("for",this.ids.element)}}),t.widget("ui.slider",t.ui.mouse,{version:"1.11.4",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,i,n=this.options,r=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),o=[];for(i=n.values&&n.values.length||1,r.length>i&&(r.slice(i).remove(),r=r.slice(0,i)),e=r.length;e<i;e++)o.push("<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>");this.handles=r.add(t(o.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(e){t(this).data("ui-slider-handle-index",e)})},_createRange:function(){var e=this.options,i="";e.range?(!0===e.range&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:t.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=t("<div></div>").appendTo(this.element),i="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(i+("min"===e.range||"max"===e.range?" ui-slider-range-"+e.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(e){var i,n,r,o,s,a,l,h=this,u=this.options;return!u.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:e.pageX,y:e.pageY},n=this._normValueFromMouse(i),r=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var i=Math.abs(n-h.values(e));(r>i||r===i&&(e===h._lastChangedValue||h.values(e)===u.min))&&(r=i,o=t(this),s=e)}),!1!==this._start(e,s)&&(this._mouseSliding=!0,this._handleIndex=s,o.addClass("ui-state-active").focus(),a=o.offset(),l=!t(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:e.pageX-a.left-o.width()/2,top:e.pageY-a.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,s,n),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,i),!1},_mouseStop:function(t){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,i,n,r,o;return"horizontal"===this.orientation?(e=this.elementSize.width,i=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,i=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),n=i/e,n>1&&(n=1),n<0&&(n=0),"vertical"===this.orientation&&(n=1-n),r=this._valueMax()-this._valueMin(),o=this._valueMin()+n*r,this._trimAlignValue(o)},_start:function(t,e){var i={handle:this.handles[e],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger("start",t,i)},_slide:function(t,e,i){var n,r,o;this.options.values&&this.options.values.length?(n=this.values(e?0:1),2===this.options.values.length&&!0===this.options.range&&(0===e&&i>n||1===e&&i<n)&&(i=n),i!==this.values(e)&&(r=this.values(),r[e]=i,o=this._trigger("slide",t,{handle:this.handles[e],value:i,values:r}),n=this.values(e?0:1),!1!==o&&this.values(e,i))):i!==this.value()&&!1!==(o=this._trigger("slide",t,{handle:this.handles[e],value:i}))&&this.value(i)},_stop:function(t,e){var i={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger("stop",t,i)},_change:function(t,e){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._lastChangedValue=e,this._trigger("change",t,i)}},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),void this._change(null,0)):this._value()},values:function(e,i){var n,r,o;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(i),this._refreshValue(),void this._change(null,e);if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(e):this.value();for(n=this.options.values,r=arguments[0],o=0;o<n.length;o+=1)n[o]=this._trimAlignValue(r[o]),this._change(null,o);this._refreshValue()},_setOption:function(e,i){var n,r=0;switch("range"===e&&!0===this.options.range&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),t.isArray(this.options.values)&&(r=this.options.values.length),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!i),this._super(e,i),e){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue(),this.handles.css("horizontal"===i?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),n=0;n<r;n+=1)this._change(null,n);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,i,n;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);if(this.options.values&&this.options.values.length){for(i=this.options.values.slice(),n=0;n<i.length;n+=1)i[n]=this._trimAlignValue(i[n]);return i}return[]},_trimAlignValue:function(t){if(t<=this._valueMin())return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,i=(t-this._valueMin())%e,n=t-i;return 2*Math.abs(i)>=e&&(n+=i>0?e:-e),parseFloat(n.toFixed(5))},_calculateNewMax:function(){var t=this.options.max,e=this._valueMin(),i=this.options.step;t=Math.floor(+(t-e).toFixed(this._precision())/i)*i+e,this.max=parseFloat(t.toFixed(this._precision()))},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=t.toString(),i=e.indexOf(".");return-1===i?0:e.length-i-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshValue:function(){var e,i,n,r,o,s=this.options.range,a=this.options,l=this,h=!this._animateOff&&a.animate,u={};this.options.values&&this.options.values.length?this.handles.each(function(n){i=(l.values(n)-l._valueMin())/(l._valueMax()-l._valueMin())*100,u["horizontal"===l.orientation?"left":"bottom"]=i+"%",t(this).stop(1,1)[h?"animate":"css"](u,a.animate),!0===l.options.range&&("horizontal"===l.orientation?(0===n&&l.range.stop(1,1)[h?"animate":"css"]({left:i+"%"},a.animate),1===n&&l.range[h?"animate":"css"]({width:i-e+"%"},{queue:!1,duration:a.animate})):(0===n&&l.range.stop(1,1)[h?"animate":"css"]({bottom:i+"%"},a.animate),1===n&&l.range[h?"animate":"css"]({height:i-e+"%"},{queue:!1,duration:a.animate}))),e=i}):(n=this.value(),r=this._valueMin(),o=this._valueMax(),i=o!==r?(n-r)/(o-r)*100:0,u["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[h?"animate":"css"](u,a.animate),"min"===s&&"horizontal"===this.orientation&&this.range.stop(1,1)[h?"animate":"css"]({width:i+"%"},a.animate),"max"===s&&"horizontal"===this.orientation&&this.range[h?"animate":"css"]({width:100-i+"%"},{queue:!1,duration:a.animate}),"min"===s&&"vertical"===this.orientation&&this.range.stop(1,1)[h?"animate":"css"]({height:i+"%"},a.animate),"max"===s&&"vertical"===this.orientation&&this.range[h?"animate":"css"]({height:100-i+"%"},{queue:!1,duration:a.animate}))},_handleEvents:{keydown:function(e){var i,n,r,o=t(e.target).data("ui-slider-handle-index");switch(e.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(e.preventDefault(),!this._keySliding&&(this._keySliding=!0,t(e.target).addClass("ui-state-active"),!1===this._start(e,o)))return}switch(r=this.options.step,i=n=this.options.values&&this.options.values.length?this.values(o):this.value(),e.keyCode){case t.ui.keyCode.HOME:n=this._valueMin();break;case t.ui.keyCode.END:n=this._valueMax();break;case t.ui.keyCode.PAGE_UP:n=this._trimAlignValue(i+(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.PAGE_DOWN:n=this._trimAlignValue(i-(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(i===this._valueMax())return;n=this._trimAlignValue(i+r);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(i===this._valueMin())return;n=this._trimAlignValue(i-r)}this._slide(e,o,n)},keyup:function(e){var i=t(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,i),this._change(e,i),t(e.target).removeClass("ui-state-active"))}}}),t.widget("ui.tooltip",{version:"1.11.4",options:{content:function(){var e=t(this).attr("title")||"";return t("<a>").text(e).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_addDescribedBy:function(e,i){var n=(e.attr("aria-describedby")||"").split(/\s+/);n.push(i),e.data("ui-tooltip-id",i).attr("aria-describedby",t.trim(n.join(" ")))},_removeDescribedBy:function(e){var i=e.data("ui-tooltip-id"),n=(e.attr("aria-describedby")||"").split(/\s+/),r=t.inArray(i,n);-1!==r&&n.splice(r,1),e.removeData("ui-tooltip-id"),n=t.trim(n.join(" ")),n?e.attr("aria-describedby",n):e.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable(),this.liveRegion=t("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body)},_setOption:function(e,i){var n=this;if("disabled"===e)return this[i?"_disable":"_enable"](),void(this.options[e]=i);this._super(e,i),"content"===e&&t.each(this.tooltips,function(t,e){n._updateContent(e.element)})},_disable:function(){var e=this;t.each(this.tooltips,function(i,n){var r=t.Event("blur");r.target=r.currentTarget=n.element[0],e.close(r,!0)}),this.element.find(this.options.items).addBack().each(function(){var e=t(this);e.is("[title]")&&e.data("ui-tooltip-title",e.attr("title")).removeAttr("title")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var e=t(this);e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title"))})},open:function(e){var i=this,n=t(e?e.target:this.element).closest(this.options.items);n.length&&!n.data("ui-tooltip-id")&&(n.attr("title")&&n.data("ui-tooltip-title",n.attr("title")),n.data("ui-tooltip-open",!0),e&&"mouseover"===e.type&&n.parents().each(function(){var e,n=t(this);n.data("ui-tooltip-open")&&(e=t.Event("blur"),e.target=e.currentTarget=this,i.close(e,!0)),n.attr("title")&&(n.uniqueId(),i.parents[this.id]={element:this,title:n.attr("title")},n.attr("title",""))}),this._registerCloseHandlers(e,n),this._updateContent(n,e))},_updateContent:function(t,e){var i,n=this.options.content,r=this,o=e?e.type:null;if("string"==typeof n)return this._open(e,t,n);(i=n.call(t[0],function(i){r._delay(function(){t.data("ui-tooltip-open")&&(e&&(e.type=o),this._open(e,t,i))})}))&&this._open(e,t,i)},_open:function(e,i,n){function r(t){h.of=t,s.is(":hidden")||s.position(h)}var o,s,a,l,h=t.extend({},this.options.position);if(n){if(o=this._find(i))return void o.tooltip.find(".ui-tooltip-content").html(n);i.is("[title]")&&(e&&"mouseover"===e.type?i.attr("title",""):i.removeAttr("title")),o=this._tooltip(i),s=o.tooltip,this._addDescribedBy(i,s.attr("id")),s.find(".ui-tooltip-content").html(n),this.liveRegion.children().hide(),n.clone?(l=n.clone(),l.removeAttr("id").find("[id]").removeAttr("id")):l=n,t("<div>").html(l).appendTo(this.liveRegion),this.options.track&&e&&/^mouse/.test(e.type)?(this._on(this.document,{mousemove:r}),r(e)):s.position(t.extend({of:i},this.options.position)),s.hide(),this._show(s,this.options.show),this.options.show&&this.options.show.delay&&(a=this.delayedShow=setInterval(function(){s.is(":visible")&&(r(h.of),clearInterval(a))},t.fx.interval)),this._trigger("open",e,{tooltip:s})}},_registerCloseHandlers:function(e,i){var n={keyup:function(e){if(e.keyCode===t.ui.keyCode.ESCAPE){var n=t.Event(e);n.currentTarget=i[0],this.close(n,!0)}}};i[0]!==this.element[0]&&(n.remove=function(){this._removeTooltip(this._find(i).tooltip)}),e&&"mouseover"!==e.type||(n.mouseleave="close"),e&&"focusin"!==e.type||(n.focusout="close"),this._on(!0,i,n)},close:function(e){var i,n=this,r=t(e?e.currentTarget:this.element),o=this._find(r);if(!o)return void r.removeData("ui-tooltip-open");i=o.tooltip,o.closing||(clearInterval(this.delayedShow),r.data("ui-tooltip-title")&&!r.attr("title")&&r.attr("title",r.data("ui-tooltip-title")),this._removeDescribedBy(r),o.hiding=!0,i.stop(!0),this._hide(i,this.options.hide,function(){n._removeTooltip(t(this))}),r.removeData("ui-tooltip-open"),this._off(r,"mouseleave focusout keyup"),r[0]!==this.element[0]&&this._off(r,"remove"),this._off(this.document,"mousemove"),e&&"mouseleave"===e.type&&t.each(this.parents,function(e,i){t(i.element).attr("title",i.title),delete n.parents[e]}),o.closing=!0,this._trigger("close",e,{tooltip:i}),o.hiding||(o.closing=!1))},_tooltip:function(e){var i=t("<div>").attr("role","tooltip").addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||"")),n=i.uniqueId().attr("id");return t("<div>").addClass("ui-tooltip-content").appendTo(i),i.appendTo(this.document[0].body),this.tooltips[n]={element:e,tooltip:i}},_find:function(t){var e=t.data("ui-tooltip-id");return e?this.tooltips[e]:null},_removeTooltip:function(t){t.remove(),delete this.tooltips[t.attr("id")]},_destroy:function(){var e=this;t.each(this.tooltips,function(i,n){var r=t.Event("blur"),o=n.element;r.target=r.currentTarget=o[0],e.close(r,!0),t("#"+i).remove(),o.data("ui-tooltip-title")&&(o.attr("title")||o.attr("title",o.data("ui-tooltip-title")),o.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}}),t);t.effects={effect:{}},function(t,e){function i(t,e,i){var n=u[e.type]||{};return null==t?i||!e.def?null:e.def:(t=n.floor?~~t:parseFloat(t),isNaN(t)?e.def:n.mod?(t+n.mod)%n.mod:0>t?0:n.max<t?n.max:t)}function n(e){var i=l(),n=i._rgba=[];return e=e.toLowerCase(),p(a,function(t,r){var o,s=r.re.exec(e),a=s&&r.parse(s),l=r.space||"rgba";if(a)return o=i[l](a),i[h[l].cache]=o[h[l].cache],n=i._rgba=o._rgba,!1}),n.length?("0,0,0,0"===n.join()&&t.extend(n,o.transparent),i):o[e]}function r(t,e,i){return i=(i+1)%1,6*i<1?t+(e-t)*i*6:2*i<1?e:3*i<2?t+(e-t)*(2/3-i)*6:t}var o,s=/^([\-+])=\s*(\d+\.?\d*)/,a=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],l=t.Color=function(e,i,n,r){return new t.Color.fn.parse(e,i,n,r)},h={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},u={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},c=l.support={},d=t("<p>")[0],p=t.each;d.style.cssText="background-color:rgba(1,1,1,.5)",c.rgba=d.style.backgroundColor.indexOf("rgba")>-1,p(h,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),l.fn=t.extend(l.prototype,{parse:function(e,r,s,a){if(void 0===e)return this._rgba=[null,null,null,null],this;(e.jquery||e.nodeType)&&(e=t(e).css(r),r=void 0);var u=this,c=t.type(e),d=this._rgba=[];return void 0!==r&&(e=[e,r,s,a],c="array"),"string"===c?this.parse(n(e)||o._default):"array"===c?(p(h.rgba.props,function(t,n){d[n.idx]=i(e[n.idx],n)}),this):"object"===c?(e instanceof l?p(h,function(t,i){e[i.cache]&&(u[i.cache]=e[i.cache].slice())}):p(h,function(n,r){var o=r.cache;p(r.props,function(t,n){if(!u[o]&&r.to){if("alpha"===t||null==e[t])return;u[o]=r.to(u._rgba)}u[o][n.idx]=i(e[t],n,!0)}),u[o]&&t.inArray(null,u[o].slice(0,3))<0&&(u[o][3]=1,r.from&&(u._rgba=r.from(u[o])))}),this):void 0},is:function(t){var e=l(t),i=!0,n=this;return p(h,function(t,r){var o,s=e[r.cache];return s&&(o=n[r.cache]||r.to&&r.to(n._rgba)||[],p(r.props,function(t,e){if(null!=s[e.idx])return i=s[e.idx]===o[e.idx]})),i}),i},_space:function(){var t=[],e=this;return p(h,function(i,n){e[n.cache]&&t.push(i)}),t.pop()},transition:function(t,e){var n=l(t),r=n._space(),o=h[r],s=0===this.alpha()?l("transparent"):this,a=s[o.cache]||o.to(s._rgba),c=a.slice();return n=n[o.cache],p(o.props,function(t,r){var o=r.idx,s=a[o],l=n[o],h=u[r.type]||{};null!==l&&(null===s?c[o]=l:(h.mod&&(l-s>h.mod/2?s+=h.mod:s-l>h.mod/2&&(s-=h.mod)),c[o]=i((l-s)*e+s,r)))}),this[r](c)},blend:function(e){if(1===this._rgba[3])return this;var i=this._rgba.slice(),n=i.pop(),r=l(e)._rgba;return l(t.map(i,function(t,e){return(1-n)*r[e]+n*t}))},toRgbaString:function(){var e="rgba(",i=t.map(this._rgba,function(t,e){return null==t?e>2?1:0:t});return 1===i[3]&&(i.pop(),e="rgb("),e+i.join()+")"},toHslaString:function(){var e="hsla(",i=t.map(this.hsla(),function(t,e){return null==t&&(t=e>2?1:0),e&&e<3&&(t=Math.round(100*t)+"%"),t});return 1===i[3]&&(i.pop(),e="hsl("),e+i.join()+")"},toHexString:function(e){var i=this._rgba.slice(),n=i.pop();return e&&i.push(~~(255*n)),"#"+t.map(i,function(t){return t=(t||0).toString(16),1===t.length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),l.fn.parse.prototype=l.fn,h.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,i,n=t[0]/255,r=t[1]/255,o=t[2]/255,s=t[3],a=Math.max(n,r,o),l=Math.min(n,r,o),h=a-l,u=a+l,c=.5*u;return e=l===a?0:n===a?60*(r-o)/h+360:r===a?60*(o-n)/h+120:60*(n-r)/h+240,i=0===h?0:c<=.5?h/u:h/(2-u),[Math.round(e)%360,i,c,null==s?1:s]},h.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,i=t[1],n=t[2],o=t[3],s=n<=.5?n*(1+i):n+i-n*i,a=2*n-s;return[Math.round(255*r(a,s,e+1/3)),Math.round(255*r(a,s,e)),Math.round(255*r(a,s,e-1/3)),o]},p(h,function(e,n){var r=n.props,o=n.cache,a=n.to,h=n.from;l.fn[e]=function(e){
if(a&&!this[o]&&(this[o]=a(this._rgba)),void 0===e)return this[o].slice();var n,s=t.type(e),u="array"===s||"object"===s?e:arguments,c=this[o].slice();return p(r,function(t,e){var n=u["object"===s?t:e.idx];null==n&&(n=c[e.idx]),c[e.idx]=i(n,e)}),h?(n=l(h(c)),n[o]=c,n):l(c)},p(r,function(i,n){l.fn[i]||(l.fn[i]=function(r){var o,a=t.type(r),l="alpha"===i?this._hsla?"hsla":"rgba":e,h=this[l](),u=h[n.idx];return"undefined"===a?u:("function"===a&&(r=r.call(this,u),a=t.type(r)),null==r&&n.empty?this:("string"===a&&(o=s.exec(r))&&(r=u+parseFloat(o[2])*("+"===o[1]?1:-1)),h[n.idx]=r,this[l](h)))})})}),l.hook=function(e){var i=e.split(" ");p(i,function(e,i){t.cssHooks[i]={set:function(e,r){var o,s,a="";if("transparent"!==r&&("string"!==t.type(r)||(o=n(r)))){if(r=l(o||r),!c.rgba&&1!==r._rgba[3]){for(s="backgroundColor"===i?e.parentNode:e;(""===a||"transparent"===a)&&s&&s.style;)try{a=t.css(s,"backgroundColor"),s=s.parentNode}catch(t){}r=r.blend(a&&"transparent"!==a?a:"_default")}r=r.toRgbaString()}try{e.style[i]=r}catch(t){}}},t.fx.step[i]=function(e){e.colorInit||(e.start=l(e.elem,i),e.end=l(e.end),e.colorInit=!0),t.cssHooks[i].set(e.elem,e.start.transition(e.end,e.pos))}})},l.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),t.cssHooks.borderColor={expand:function(t){var e={};return p(["Top","Right","Bottom","Left"],function(i,n){e["border"+n+"Color"]=t}),e}},o=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(v),function(){function e(e){var i,n,r=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,o={};if(r&&r.length&&r[0]&&r[r[0]])for(n=r.length;n--;)i=r[n],"string"==typeof r[i]&&(o[t.camelCase(i)]=r[i]);else for(i in r)"string"==typeof r[i]&&(o[i]=r[i]);return o}function i(e,i){var n,o,s={};for(n in i)o=i[n],e[n]!==o&&(r[n]||!t.fx.step[n]&&isNaN(parseFloat(o))||(s[n]=o));return s}var n=["add","remove","toggle"],r={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,i){t.fx.step[i]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(v.style(t.elem,i,t.end),t.setAttr=!0)}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.effects.animateClass=function(r,o,s,a){var l=t.speed(o,s,a);return this.queue(function(){var o,s=t(this),a=s.attr("class")||"",h=l.children?s.find("*").addBack():s;h=h.map(function(){return{el:t(this),start:e(this)}}),o=function(){t.each(n,function(t,e){r[e]&&s[e+"Class"](r[e])})},o(),h=h.map(function(){return this.end=e(this.el[0]),this.diff=i(this.start,this.end),this}),s.attr("class",a),h=h.map(function(){var e=this,i=t.Deferred(),n=t.extend({},l,{queue:!1,complete:function(){i.resolve(e)}});return this.el.animate(this.diff,n),i.promise()}),t.when.apply(t,h.get()).done(function(){o(),t.each(arguments,function(){var e=this.el;t.each(this.diff,function(t){e.css(t,"")})}),l.complete.call(s[0])})})},t.fn.extend({addClass:function(e){return function(i,n,r,o){return n?t.effects.animateClass.call(this,{add:i},n,r,o):e.apply(this,arguments)}}(t.fn.addClass),removeClass:function(e){return function(i,n,r,o){return arguments.length>1?t.effects.animateClass.call(this,{remove:i},n,r,o):e.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(e){return function(i,n,r,o,s){return"boolean"==typeof n||void 0===n?r?t.effects.animateClass.call(this,n?{add:i}:{remove:i},r,o,s):e.apply(this,arguments):t.effects.animateClass.call(this,{toggle:i},n,r,o)}}(t.fn.toggleClass),switchClass:function(e,i,n,r,o){return t.effects.animateClass.call(this,{add:i,remove:e},n,r,o)}})}(),function(){function e(e,i,n,r){return t.isPlainObject(e)&&(i=e,e=e.effect),e={effect:e},null==i&&(i={}),t.isFunction(i)&&(r=i,n=null,i={}),("number"==typeof i||t.fx.speeds[i])&&(r=n,n=i,i={}),t.isFunction(n)&&(r=n,n=null),i&&t.extend(e,i),n=n||i.duration,e.duration=t.fx.off?0:"number"==typeof n?n:n in t.fx.speeds?t.fx.speeds[n]:t.fx.speeds._default,e.complete=r||i.complete,e}function i(e){return!(e&&"number"!=typeof e&&!t.fx.speeds[e])||("string"==typeof e&&!t.effects.effect[e]||(!!t.isFunction(e)||"object"==typeof e&&!e.effect))}t.extend(t.effects,{version:"1.11.4",save:function(t,e){for(var i=0;i<e.length;i++)null!==e[i]&&t.data("ui-effects-"+e[i],t[0].style[e[i]])},restore:function(t,e){var i,n;for(n=0;n<e.length;n++)null!==e[n]&&(i=t.data("ui-effects-"+e[n]),void 0===i&&(i=""),t.css(e[n],i))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},getBaseline:function(t,e){var i,n;switch(t[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=t[0]/e.height}switch(t[1]){case"left":n=0;break;case"center":n=.5;break;case"right":n=1;break;default:n=t[1]/e.width}return{x:n,y:i}},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var i={width:e.outerWidth(!0),height:e.outerHeight(!0),float:e.css("float")},n=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),r={width:e.width(),height:e.height()},o=document.activeElement;try{o.id}catch(t){o=document.body}return e.wrap(n),(e[0]===o||t.contains(e[0],o))&&t(o).focus(),n=e.parent(),"static"===e.css("position")?(n.css({position:"relative"}),e.css({position:"relative"})):(t.extend(i,{position:e.css("position"),zIndex:e.css("z-index")}),t.each(["top","left","bottom","right"],function(t,n){i[n]=e.css(n),isNaN(parseInt(i[n],10))&&(i[n]="auto")}),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),e.css(r),n.css(i).show()},removeWrapper:function(e){var i=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===i||t.contains(e[0],i))&&t(i).focus()),e},setTransition:function(e,i,n,r){return r=r||{},t.each(i,function(t,i){var o=e.cssUnit(i);o[0]>0&&(r[i]=o[0]*n+o[1])}),r}}),t.fn.extend({effect:function(){function i(e){function i(){t.isFunction(o)&&o.call(r[0]),t.isFunction(e)&&e()}var r=t(this),o=n.complete,a=n.mode;(r.is(":hidden")?"hide"===a:"show"===a)?(r[a](),i()):s.call(r[0],n,i)}var n=e.apply(this,arguments),r=n.mode,o=n.queue,s=t.effects.effect[n.effect];return t.fx.off||!s?r?this[r](n.duration,n.complete):this.each(function(){n.complete&&n.complete.call(this)}):!1===o?this.each(i):this.queue(o||"fx",i)},show:function(t){return function(n){if(i(n))return t.apply(this,arguments);var r=e.apply(this,arguments);return r.mode="show",this.effect.call(this,r)}}(t.fn.show),hide:function(t){return function(n){if(i(n))return t.apply(this,arguments);var r=e.apply(this,arguments);return r.mode="hide",this.effect.call(this,r)}}(t.fn.hide),toggle:function(t){return function(n){if(i(n)||"boolean"==typeof n)return t.apply(this,arguments);var r=e.apply(this,arguments);return r.mode="toggle",this.effect.call(this,r)}}(t.fn.toggle),cssUnit:function(e){var i=this.css(e),n=[];return t.each(["em","px","%","pt"],function(t,e){i.indexOf(e)>0&&(n=[parseFloat(i),e])}),n}})}(),function(){var e={};t.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,i){e[i]=function(e){return Math.pow(e,t+2)}}),t.extend(e,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,i=4;t<((e=Math.pow(2,--i))-1)/11;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*e-2)/22-t,2)}}),t.each(e,function(e,i){t.easing["easeIn"+e]=i,t.easing["easeOut"+e]=function(t){return 1-i(1-t)},t.easing["easeInOut"+e]=function(t){return t<.5?i(2*t)/2:1-i(-2*t+2)/2}})}();t.effects,t.effects.effect.blind=function(e,i){var n,r,o,s=t(this),a=/up|down|vertical/,l=/up|left|vertical|horizontal/,h=["position","top","bottom","left","right","height","width"],u=t.effects.setMode(s,e.mode||"hide"),c=e.direction||"up",d=a.test(c),p=d?"height":"width",f=d?"top":"left",g=l.test(c),m={},v="show"===u;s.parent().is(".ui-effects-wrapper")?t.effects.save(s.parent(),h):t.effects.save(s,h),s.show(),n=t.effects.createWrapper(s).css({overflow:"hidden"}),r=n[p](),o=parseFloat(n.css(f))||0,m[p]=v?r:0,g||(s.css(d?"bottom":"right",0).css(d?"top":"left","auto").css({position:"absolute"}),m[f]=v?o:r+o),v&&(n.css(p,0),g||n.css(f,o+r)),n.animate(m,{duration:e.duration,easing:e.easing,queue:!1,complete:function(){"hide"===u&&s.hide(),t.effects.restore(s,h),t.effects.removeWrapper(s),i()}})},t.effects.effect.bounce=function(e,i){var n,r,o,s=t(this),a=["position","top","bottom","left","right","height","width"],l=t.effects.setMode(s,e.mode||"effect"),h="hide"===l,u="show"===l,c=e.direction||"up",d=e.distance,p=e.times||5,f=2*p+(u||h?1:0),g=e.duration/f,m=e.easing,v="up"===c||"down"===c?"top":"left",y="up"===c||"left"===c,_=s.queue(),x=_.length;for((u||h)&&a.push("opacity"),t.effects.save(s,a),s.show(),t.effects.createWrapper(s),d||(d=s["top"===v?"outerHeight":"outerWidth"]()/3),u&&(o={opacity:1},o[v]=0,s.css("opacity",0).css(v,y?2*-d:2*d).animate(o,g,m)),h&&(d/=Math.pow(2,p-1)),o={},o[v]=0,n=0;n<p;n++)r={},r[v]=(y?"-=":"+=")+d,s.animate(r,g,m).animate(o,g,m),d=h?2*d:d/2;h&&(r={opacity:0},r[v]=(y?"-=":"+=")+d,s.animate(r,g,m)),s.queue(function(){h&&s.hide(),t.effects.restore(s,a),t.effects.removeWrapper(s),i()}),x>1&&_.splice.apply(_,[1,0].concat(_.splice(x,f+1))),s.dequeue()},t.effects.effect.clip=function(e,i){var n,r,o,s=t(this),a=["position","top","bottom","left","right","height","width"],l=t.effects.setMode(s,e.mode||"hide"),h="show"===l,u=e.direction||"vertical",c="vertical"===u,d=c?"height":"width",p=c?"top":"left",f={};t.effects.save(s,a),s.show(),n=t.effects.createWrapper(s).css({overflow:"hidden"}),r="IMG"===s[0].tagName?n:s,o=r[d](),h&&(r.css(d,0),r.css(p,o/2)),f[d]=h?o:0,f[p]=h?0:o/2,r.animate(f,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){h||s.hide(),t.effects.restore(s,a),t.effects.removeWrapper(s),i()}})},t.effects.effect.drop=function(e,i){var n,r=t(this),o=["position","top","bottom","left","right","opacity","height","width"],s=t.effects.setMode(r,e.mode||"hide"),a="show"===s,l=e.direction||"left",h="up"===l||"down"===l?"top":"left",u="up"===l||"left"===l?"pos":"neg",c={opacity:a?1:0};t.effects.save(r,o),r.show(),t.effects.createWrapper(r),n=e.distance||r["top"===h?"outerHeight":"outerWidth"](!0)/2,a&&r.css("opacity",0).css(h,"pos"===u?-n:n),c[h]=(a?"pos"===u?"+=":"-=":"pos"===u?"-=":"+=")+n,r.animate(c,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===s&&r.hide(),t.effects.restore(r,o),t.effects.removeWrapper(r),i()}})},t.effects.effect.explode=function(e,i){function n(){_.push(this),_.length===c*d&&r()}function r(){p.css({visibility:"visible"}),t(_).remove(),g||p.hide(),i()}var o,s,a,l,h,u,c=e.pieces?Math.round(Math.sqrt(e.pieces)):3,d=c,p=t(this),f=t.effects.setMode(p,e.mode||"hide"),g="show"===f,m=p.show().css("visibility","hidden").offset(),v=Math.ceil(p.outerWidth()/d),y=Math.ceil(p.outerHeight()/c),_=[];for(o=0;o<c;o++)for(l=m.top+o*y,u=o-(c-1)/2,s=0;s<d;s++)a=m.left+s*v,h=s-(d-1)/2,p.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-s*v,top:-o*y}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:v,height:y,left:a+(g?h*v:0),top:l+(g?u*y:0),opacity:g?0:1}).animate({left:a+(g?0:h*v),top:l+(g?0:u*y),opacity:g?1:0},e.duration||500,e.easing,n)},t.effects.effect.fade=function(e,i){var n=t(this),r=t.effects.setMode(n,e.mode||"toggle");n.animate({opacity:r},{queue:!1,duration:e.duration,easing:e.easing,complete:i})},t.effects.effect.fold=function(e,i){var n,r,o=t(this),s=["position","top","bottom","left","right","height","width"],a=t.effects.setMode(o,e.mode||"hide"),l="show"===a,h="hide"===a,u=e.size||15,c=/([0-9]+)%/.exec(u),d=!!e.horizFirst,p=l!==d,f=p?["width","height"]:["height","width"],g=e.duration/2,m={},v={};t.effects.save(o,s),o.show(),n=t.effects.createWrapper(o).css({overflow:"hidden"}),r=p?[n.width(),n.height()]:[n.height(),n.width()],c&&(u=parseInt(c[1],10)/100*r[h?0:1]),l&&n.css(d?{height:0,width:u}:{height:u,width:0}),m[f[0]]=l?r[0]:u,v[f[1]]=l?r[1]:0,n.animate(m,g,e.easing).animate(v,g,e.easing,function(){h&&o.hide(),t.effects.restore(o,s),t.effects.removeWrapper(o),i()})},t.effects.effect.highlight=function(e,i){var n=t(this),r=["backgroundImage","backgroundColor","opacity"],o=t.effects.setMode(n,e.mode||"show"),s={backgroundColor:n.css("backgroundColor")};"hide"===o&&(s.opacity=0),t.effects.save(n,r),n.show().css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(s,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===o&&n.hide(),t.effects.restore(n,r),i()}})},t.effects.effect.size=function(e,i){var n,r,o,s=t(this),a=["position","top","bottom","left","right","width","height","overflow","opacity"],l=["position","top","bottom","left","right","overflow","opacity"],h=["width","height","overflow"],u=["fontSize"],c=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],d=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],p=t.effects.setMode(s,e.mode||"effect"),f=e.restore||"effect"!==p,g=e.scale||"both",m=e.origin||["middle","center"],v=s.css("position"),y=f?a:l,_={height:0,width:0,outerHeight:0,outerWidth:0};"show"===p&&s.show(),n={height:s.height(),width:s.width(),outerHeight:s.outerHeight(),outerWidth:s.outerWidth()},"toggle"===e.mode&&"show"===p?(s.from=e.to||_,s.to=e.from||n):(s.from=e.from||("show"===p?_:n),s.to=e.to||("hide"===p?_:n)),o={from:{y:s.from.height/n.height,x:s.from.width/n.width},to:{y:s.to.height/n.height,x:s.to.width/n.width}},"box"!==g&&"both"!==g||(o.from.y!==o.to.y&&(y=y.concat(c),s.from=t.effects.setTransition(s,c,o.from.y,s.from),s.to=t.effects.setTransition(s,c,o.to.y,s.to)),o.from.x!==o.to.x&&(y=y.concat(d),s.from=t.effects.setTransition(s,d,o.from.x,s.from),s.to=t.effects.setTransition(s,d,o.to.x,s.to))),"content"!==g&&"both"!==g||o.from.y!==o.to.y&&(y=y.concat(u).concat(h),s.from=t.effects.setTransition(s,u,o.from.y,s.from),s.to=t.effects.setTransition(s,u,o.to.y,s.to)),t.effects.save(s,y),s.show(),t.effects.createWrapper(s),s.css("overflow","hidden").css(s.from),m&&(r=t.effects.getBaseline(m,n),s.from.top=(n.outerHeight-s.outerHeight())*r.y,s.from.left=(n.outerWidth-s.outerWidth())*r.x,s.to.top=(n.outerHeight-s.to.outerHeight)*r.y,s.to.left=(n.outerWidth-s.to.outerWidth)*r.x),s.css(s.from),"content"!==g&&"both"!==g||(c=c.concat(["marginTop","marginBottom"]).concat(u),d=d.concat(["marginLeft","marginRight"]),h=a.concat(c).concat(d),s.find("*[width]").each(function(){var i=t(this),n={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};f&&t.effects.save(i,h),i.from={height:n.height*o.from.y,width:n.width*o.from.x,outerHeight:n.outerHeight*o.from.y,outerWidth:n.outerWidth*o.from.x},i.to={height:n.height*o.to.y,width:n.width*o.to.x,outerHeight:n.height*o.to.y,outerWidth:n.width*o.to.x},o.from.y!==o.to.y&&(i.from=t.effects.setTransition(i,c,o.from.y,i.from),i.to=t.effects.setTransition(i,c,o.to.y,i.to)),o.from.x!==o.to.x&&(i.from=t.effects.setTransition(i,d,o.from.x,i.from),i.to=t.effects.setTransition(i,d,o.to.x,i.to)),i.css(i.from),i.animate(i.to,e.duration,e.easing,function(){f&&t.effects.restore(i,h)})})),s.animate(s.to,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){0===s.to.opacity&&s.css("opacity",s.from.opacity),"hide"===p&&s.hide(),t.effects.restore(s,y),f||("static"===v?s.css({position:"relative",top:s.to.top,left:s.to.left}):t.each(["top","left"],function(t,e){s.css(e,function(e,i){var n=parseInt(i,10),r=t?s.to.left:s.to.top;return"auto"===i?r+"px":n+r+"px"})})),t.effects.removeWrapper(s),i()}})},t.effects.effect.scale=function(e,i){var n=t(this),r=t.extend(!0,{},e),o=t.effects.setMode(n,e.mode||"effect"),s=parseInt(e.percent,10)||(0===parseInt(e.percent,10)?0:"hide"===o?0:100),a=e.direction||"both",l=e.origin,h={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()},u={y:"horizontal"!==a?s/100:1,x:"vertical"!==a?s/100:1};r.effect="size",r.queue=!1,r.complete=i,"effect"!==o&&(r.origin=l||["middle","center"],r.restore=!0),r.from=e.from||("show"===o?{height:0,width:0,outerHeight:0,outerWidth:0}:h),r.to={height:h.height*u.y,width:h.width*u.x,outerHeight:h.outerHeight*u.y,outerWidth:h.outerWidth*u.x},r.fade&&("show"===o&&(r.from.opacity=0,r.to.opacity=1),"hide"===o&&(r.from.opacity=1,r.to.opacity=0)),n.effect(r)},t.effects.effect.puff=function(e,i){var n=t(this),r=t.effects.setMode(n,e.mode||"hide"),o="hide"===r,s=parseInt(e.percent,10)||150,a=s/100,l={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()};t.extend(e,{effect:"scale",queue:!1,fade:!0,mode:r,complete:i,percent:o?s:100,from:o?l:{height:l.height*a,width:l.width*a,outerHeight:l.outerHeight*a,outerWidth:l.outerWidth*a}}),n.effect(e)},t.effects.effect.pulsate=function(e,i){var n,r=t(this),o=t.effects.setMode(r,e.mode||"show"),s="show"===o,a="hide"===o,l=s||"hide"===o,h=2*(e.times||5)+(l?1:0),u=e.duration/h,c=0,d=r.queue(),p=d.length;for(!s&&r.is(":visible")||(r.css("opacity",0).show(),c=1),n=1;n<h;n++)r.animate({opacity:c},u,e.easing),c=1-c;r.animate({opacity:c},u,e.easing),r.queue(function(){a&&r.hide(),i()}),p>1&&d.splice.apply(d,[1,0].concat(d.splice(p,h+1))),r.dequeue()},t.effects.effect.shake=function(e,i){var n,r=t(this),o=["position","top","bottom","left","right","height","width"],s=t.effects.setMode(r,e.mode||"effect"),a=e.direction||"left",l=e.distance||20,h=e.times||3,u=2*h+1,c=Math.round(e.duration/u),d="up"===a||"down"===a?"top":"left",p="up"===a||"left"===a,f={},g={},m={},v=r.queue(),y=v.length;for(t.effects.save(r,o),r.show(),t.effects.createWrapper(r),f[d]=(p?"-=":"+=")+l,g[d]=(p?"+=":"-=")+2*l,m[d]=(p?"-=":"+=")+2*l,r.animate(f,c,e.easing),n=1;n<h;n++)r.animate(g,c,e.easing).animate(m,c,e.easing);r.animate(g,c,e.easing).animate(f,c/2,e.easing).queue(function(){"hide"===s&&r.hide(),t.effects.restore(r,o),t.effects.removeWrapper(r),i()}),y>1&&v.splice.apply(v,[1,0].concat(v.splice(y,u+1))),r.dequeue()},t.effects.effect.slide=function(e,i){var n,r=t(this),o=["position","top","bottom","left","right","width","height"],s=t.effects.setMode(r,e.mode||"show"),a="show"===s,l=e.direction||"left",h="up"===l||"down"===l?"top":"left",u="up"===l||"left"===l,c={};t.effects.save(r,o),r.show(),n=e.distance||r["top"===h?"outerHeight":"outerWidth"](!0),t.effects.createWrapper(r).css({overflow:"hidden"}),a&&r.css(h,u?isNaN(n)?"-"+n:-n:n),c[h]=(a?u?"+=":"-=":u?"-=":"+=")+n,r.animate(c,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===s&&r.hide(),t.effects.restore(r,o),t.effects.removeWrapper(r),i()}})},t.effects.effect.transfer=function(e,i){var n=t(this),r=t(e.to),o="fixed"===r.css("position"),s=t("body"),a=o?s.scrollTop():0,l=o?s.scrollLeft():0,h=r.offset(),u={top:h.top-a,left:h.left-l,height:r.innerHeight(),width:r.innerWidth()},c=n.offset(),d=t("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(e.className).css({top:c.top-a,left:c.left-l,height:n.innerHeight(),width:n.innerWidth(),position:o?"fixed":"absolute"}).animate(u,e.duration,e.easing,function(){d.remove(),i()})}}),"function"==typeof define&&define.amd?define("timer",["jquery"],function(t){return TimerLoop}):"undefined"!=typeof exports&&"undefined"!=typeof module&&(module.exports=TimerLoop),TimerLoop.prototype.play=function(t){void 0===t&&(t=this.fast),this.isPaused&&this.timerPos==this.maxTimerPos&&this.setPos(this.minTimerPos),this.isPaused=!1,this.started||(this.started=!0),this.interval&&t!=this.fast&&(clearInterval(this.interval),this.interval=null),this.interval||(this.fast=t,this.interval=setInterval(function(){!0!==this.hiddenPause&&this.setPos(this.timerPos+(this.backward?-1:1))}.bind(this),this.fast?100:400)),$(this.selector).find(".playerControl.selectable").removeClass("selected"),this.backward?$(this.selector).find(t?".playerControl.fastbackward":".playerControl.backward").addClass("selected"):$(this.selector).find(t?".playerControl.fastforward":".playerControl.play").addClass("selected")},TimerLoop.prototype.pause=function(){this.isPaused=!0,clearInterval(this.interval),this.interval=null,$(this.selector).find(".playerControl.selectable").removeClass("selected"),$(this.selector).find(".playerControl.pause").addClass("selected")},TimerLoop.prototype.goForward=function(t,e){this.started||(this.timerPos=-1),this.backward=!1,t&&this.play(void 0!=e&&e),$(this.selector).find(".playerControl.selectable").removeClass("selected"),$(this.selector).find(e?".playerControl.fastforward":".playerControl.play").addClass("selected")},TimerLoop.prototype.goBackward=function(t,e){this.backward=!0,t&&this.play(void 0!=e&&e),$(this.selector).find(".playerControl.selectable").removeClass("selected"),$(this.selector).find(e?".playerControl.fastbackward":".playerControl.backward").addClass("selected")},TimerLoop.prototype.setPos=function(t,e){if("number"==typeof t&&isFinite(t)){t=Math.round(t),this.started=!0;var i=t>=this.timerPos;(t>this.maxTimerPos||t<this.minTimerPos)&&(t=e?i?this.maxTimerPos:this.minTimerPos:i?this.minTimerPos:this.maxTimerPos);this.onPosChange(t,this);this.timerPos=t,this.loop||this.timerPos!=this.maxTimerPos||this.pause()}},TimerLoop.prototype.backToStart=function(){this.setPos(this.minTimerPos)},TimerLoop.prototype.goToEnd=function(){this.setPos(this.maxTimerPos)},TimerLoop.prototype.next=function(t){"number"==typeof t&&isFinite(t)?this.setPos(this.timerPos+t,!0):this.setPos(this.timerPos+1,!0)},TimerLoop.prototype.back=function(t){"number"==typeof t&&isFinite(t)?this.setPos(this.timerPos-t,!0):this.setPos(this.timerPos-1,!0)},TimerLoop.prototype.getHiddenProp=function(){var t=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";if("Hidden"in document)return"Hidden";for(var e=0;e<t.length;e++){if(t[e]+"hidden"in document)return t[e]+"hidden";if(t[e]+"Hidden"in document)return t[e]+"Hidden"}return null},TimerLoop.prototype.isPageHidden=function(){var t=this.getHiddenProp();return!!t&&document[t]},TimerLoop.prototype.visChange=function(){this.isPageHidden()?this.isPaused||(this.hiddenPause=!0,this.pause()):this.hiddenPause&&(this.hiddenPause=!1,this.play())},TimerLoop.prototype.addPlayer=function(t){this.player=$(this.selector),this.player.hasClass("timerPlyer")||this.player.addClass("timerPlayer"),this.player.append('<div class="playerControl pause selectable" alt="pause" title="Pause"/>'),this.player.append('<div class="playerControl play selectable" alt="play" title="Play"/>'),this.player=$(this.player),this.player.children(".playerControl.pause").click(function(){this.pause()}.bind(this)),this.player.children(".playerControl.play").click(function(){this.goForward(!0)}.bind(this)),t&&(this.player.append('<img class="playerControl extended fastbackward hover-highlight selectable" src="resources/img/button_black_fast_backward.gif" alt="fast backward" title="Fast backward" />'),this.player.append('<img class="playerControl extended backward hover-highlight selectable" src="resources/img/button_black_play_back.gif" alt="play backward" title="Play backward" />'),this.player.append('<img class="playerControl extended fastforward hover-highlight selectable" src="resources/img/button_black_fast_forward.gif" alt="fast forward" title="Fast forward" />'),this.player.children(".playerControl.fastbackward").click(function(){this.goBackward(!0,!0)}.bind(this)),this.player.children(".playerControl.backward").click(function(){this.goBackward(!0)}.bind(this)),this.player.children(".playerControl.fastforward").click(function(){this.goForward(!0,!0)}.bind(this))),this.isPaused?this.player.children(".playerControl.pause").addClass("selected"):this.player.children(".playerControl.play").addClass("selected")},CycleClock.prototype.bindToElem=function(t,e,i,n){this.elem=$(t),!this.elem.is("canvas")&&this.elem.children("canvas.clock_canvas").length<=0&&this.elem.append("<canvas class='clock_canvas' width='"+(e||210)+"' height='"+(i||200)+"'/>"),this.elem.is("canvas")&&(this.elem.parent().length>0?this.elem=this.elem.parent():(this.canvas=this.elem[0],this.elem=void 0)),this.elem&&(this.canvas=this.elem.children("canvas.clock_canvas")[0]),n&&this.drawClock()},CycleClock.prototype.drawClock=function(){var t=this.canvas.getContext("2d"),e=this.radius,i=this.canvas.width/2,n=this.canvas.height/2;Math.TAU=2*Math.PI,t.clearRect(0,0,this.canvas.width,this.canvas.height),this.backgroundColor&&(t.fillStyle=this.backgroundColor,t.fillRect(0,0,this.canvas.width,this.canvas.height)),t.fillStyle="#9c9d9e",t.beginPath(),t.arc(i,n,1.1*e,0,Math.TAU),t.strokeStyle="#9c9d9e",t.lineWidth=2,t.stroke(),t.closePath(),t.font=this.fontSize+"px Georgia",this.drawCam(0,Math.PI/4,1.05*e,1,this.crise1Color),this.drawCam(Math.PI/4,Math.PI/2,1.05*e,1,this.crise2Color),this.drawCam(Math.PI/2,Math.PI-Math.PI/4,1.05*e,1,this.crise2MirrorColor),this.drawCam(Math.PI-Math.PI/4,Math.PI,1.05*e,1,this.crise1MirrorColor),this.noCriseColor&&this.drawCam(Math.TAU-Math.PI/2,Math.TAU,1.05*e,1,this.noCriseColor),this.noCriseMirrorColor&&this.drawCam(Math.PI,Math.TAU-Math.PI/2,1.05*e,1,this.noCriseMirrorColor),this.drawElt(-Math.PI/2,1,1.1,this.separatorsColor,"α"),this.drawElt(Math.PI/2,1,1.1,this.separatorsColor,"β"),this.drawElt(0,1,1.1,this.separatorsColor,"A"),this.drawElt(Math.PI/4,1,1.1,this.separatorsColor,"B"),this.drawElt(Math.PI-Math.PI/4,1,1.1,this.separatorsColor,"C"),this.drawElt(Math.PI,1,1.1,this.separatorsColor,"D")},CycleClock.prototype.updateClock=function(t){this.drawClock(),!isNaN(t)&&isFinite(t)&&this.drawArm(t,3,1,"#58595B")},CycleClock.prototype.drawArm=function(t,e,i,n){var r=this.canvas.getContext("2d"),o=this.radius,s=this.canvas.width/2,a=this.canvas.height/2,l=Math.TAU/4,h=t-l,u=i*o,c=s+Math.cos(h)*u,d=a+Math.sin(h)*u;r.lineWidth=e,r.strokeStyle=n,r.beginPath(),r.moveTo(s,a),r.lineTo(c,d),r.stroke()},CycleClock.prototype.drawArm2=function(t,e,i,n){var r=this.canvas.getContext("2d"),o=this.canvas.width/2,s=this.canvas.height/2;r.lineWidth=i,r.strokeStyle=n,r.beginPath(),r.moveTo(o,s),r.lineTo(t,e),r.stroke()},CycleClock.prototype.drawElt=function(t,e,i,n,r){var o=this.canvas.getContext("2d"),s=this.radius,a=this.canvas.width/2,l=this.canvas.height/2,h=t,u=Math.cos(h),c=Math.sin(h),d=0;h>3?d=this.fontSize*Math.TAU/10:h>2?d=.8*this.fontSize:h>1?d=this.fontSize*Math.TAU/10:h>0&&(d=this.fontSize/3);var p=s+this.innerDist,f=p+d,g=a+u*f,m=l+c*f;o.fillText(r,g,m);var v=i*s,y=a+u*v,_=l+c*v;this.drawArm2(y,_,e,n)},CycleClock.prototype.drawCam=function(t,e,i,n,r){var o=this.canvas.getContext("2d"),s=this.canvas.width/2,a=this.canvas.height/2,l=o.fillStyle,h=Math.cos(t),u=Math.sin(t),c=s+h*i,d=a+u*i;h=Math.cos(e),u=Math.sin(e),o.fillStyle=r,o.beginPath(),o.moveTo(s,a),o.lineTo(c,d),o.arc(s,a,i*n,t,e),o.lineTo(s,a),o.fill(),o.closePath(),o.fillStyle=l},define("cycleClock",function(){}),jQuery(function(t){t.datepicker.regional.de={closeText:"Schließen",prevText:"Früher",nextText:"Nächste",currentText:"heute",monthNames:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],monthNamesShort:["Jan","Feb","Mär","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],dayNames:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],dayNamesShort:["So","Mo","Di","Mi","Do","Fr","Sa"],dayNamesMin:["So","Mo","Di","Mi","Do","Fr","Sa"],weekHeader:"KW",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",year:"Jahr",prevYear:"Vorheriges Jahr",nextYear:"Nächstes Jahr",next12Years:"Folgenden Jahren",prev12Years:"Vorjahre",nextLabel:"Nächste",prevLabel:"Früher",buttonText:"Öffnen Monat Chooser",jumpYears:"Die Jahre",backTo:"Zurück zu",months:["Jan.","Feb.","März","Apr.","Mai","Juni","Juli","Aug.","Sep.","Okt.","Nov.","Dez."]},t.datepicker.setDefaults(t.datepicker.regional.de)}),define("datepicker-de",["jquery-ui"],function(){}),jQuery(function(t){t.datepicker.regional.fr={closeText:"Fermer",prevText:"Précédent",nextText:"Suivant",currentText:"Aujourd'hui",monthNames:["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"],monthNamesShort:["Janv.","Févr.","Mars","Avril","Mai","Juin","Juil.","Août","Sept.","Oct.","Nov.","Déc."],dayNames:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],dayNamesShort:["Dim.","Lun.","Mar.","Mer.","Jeu.","Ven.","Sam."],dayNamesMin:["D","L","M","M","J","V","S"],weekHeader:"Sem.",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:"",year:"Année",prevYear:"Année précédente",nextYear:"Année suivante",next12Years:"Années suivantes",prev12Years:"Années précédentes",nextLabel:"Suivant",prevLabel:"Précédent",buttonText:"Sélectionner un mois",jumpYears:"Choisir l'année",backTo:"Retour à",months:["Jan.","Fév.","Mar.","Avr.","Mai","Juin","Jui.","Août","Sep.","Oct.","Nov.","Déc."]},t.datepicker.setDefaults(t.datepicker.regional.fr)}),define("datepicker-fr",["jquery-ui"],function(){}),function(t){var e,i=function(){var t=document.createElement("input"),e="onpaste";return t.setAttribute(e,""),"function"==typeof t[e]?"paste":"input"}()+".mask",n=navigator.userAgent,r=/iphone/i.test(n),o=/android/i.test(n);t.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},dataName:"rawMaskFn",placeholder:"_"},t.fn.extend({caret:function(t,e){var i;if(0!==this.length&&!this.is(":hidden"))return"number"==typeof t?(e="number"==typeof e?e:t,this.each(function(){this.setSelectionRange?this.setSelectionRange(t,e):this.createTextRange&&(i=this.createTextRange(),i.collapse(!0),i.moveEnd("character",e),i.moveStart("character",t),i.select())})):(this[0].setSelectionRange?(t=this[0].selectionStart,e=this[0].selectionEnd):document.selection&&document.selection.createRange&&(i=document.selection.createRange(),t=0-i.duplicate().moveStart("character",-1e5),e=t+i.text.length),{begin:t,end:e})},unmask:function(){return this.trigger("unmask")},mask:function(n,s){var a,l,h,u,c,d;return!n&&this.length>0?(a=t(this[0]),a.data(t.mask.dataName)()):(s=t.extend({placeholder:t.mask.placeholder,completed:null},s),l=t.mask.definitions,h=[],u=d=n.length,c=null,t.each(n.split(""),function(t,e){"?"==e?(d--,u=t):l[e]?(h.push(RegExp(l[e])),null===c&&(c=h.length-1)):h.push(null)}),this.trigger("unmask").each(function(){function a(t){for(;d>++t&&!h[t];);return t}function p(t){for(;--t>=0&&!h[t];);return t}function f(t,e){var i,n;if(!(0>t)){for(i=t,n=a(e);d>i;i++)if(h[i]){if(!(d>n&&h[i].test(w[n])))break;w[i]=w[n],w[n]=s.placeholder,n=a(n)}_(),b.caret(Math.max(c,t))}}function g(t){var e,i,n,r;for(e=t,i=s.placeholder;d>e;e++)if(h[e]){if(n=a(e),r=w[e],w[e]=i,!(d>n&&h[n].test(r)))break;i=r}}function m(t){var e,i,n,o=t.which;8===o||46===o||r&&127===o?(e=b.caret(),i=e.begin,n=e.end,0==n-i&&(i=46!==o?p(i):n=a(i-1),n=46===o?a(n):n),y(i,n),f(i,n-1),t.preventDefault()):27==o&&(b.val(k),b.caret(0,x()),t.preventDefault())}function v(e){var i,n,r,l=e.which,u=b.caret();e.ctrlKey||e.altKey||e.metaKey||32>l||l&&(0!=u.end-u.begin&&(y(u.begin,u.end),f(u.begin,u.end-1)),i=a(u.begin-1),d>i&&(n=String.fromCharCode(l),h[i].test(n)&&(g(i),w[i]=n,_(),r=a(i),o?setTimeout(t.proxy(t.fn.caret,b,r),0):b.caret(r),s.completed&&r>=d&&s.completed.call(b))),e.preventDefault())}function y(t,e){var i;for(i=t;e>i&&d>i;i++)h[i]&&(w[i]=s.placeholder)}function _(){b.val(w.join(""))}function x(t){var e,i,n=b.val(),r=-1;for(e=0,pos=0;d>e;e++)if(h[e]){
for(w[e]=s.placeholder;pos++<n.length;)if(i=n.charAt(pos-1),h[e].test(i)){w[e]=i,r=e;break}if(pos>n.length)break}else w[e]===n.charAt(pos)&&e!==u&&(pos++,r=e);return t?_():u>r+1?(b.val(""),y(0,d)):(_(),b.val(b.val().substring(0,r+1))),u?e:c}var b=t(this),w=t.map(n.split(""),function(t){return"?"!=t?l[t]?s.placeholder:t:void 0}),k=b.val();b.data(t.mask.dataName,function(){return t.map(w,function(t,e){return h[e]&&t!=s.placeholder?t:null}).join("")}),b.attr("readonly")||b.one("unmask",function(){b.unbind(".mask").removeData(t.mask.dataName)}).bind("focus.mask",function(){clearTimeout(e);var t;k=b.val(),t=x(),e=setTimeout(function(){_(),t==n.length?b.caret(0,t):b.caret(t)},10)}).bind("blur.mask",function(){x(),b.val()!=k&&b.change()}).bind("keydown.mask",m).bind("keypress.mask",v).bind(i,function(){setTimeout(function(){var t=x(!0);b.caret(t),s.completed&&t==b.val().length&&s.completed.call(b)},0)}),x()}))}})}(jQuery),define("jquery_maskedinput",["jquery-ui"],function(){}),function(t){"function"==typeof define&&define.amd?define("monthPicker",["jquery"],t):t(jQuery)}(function(t){!function(t,e,i,n){"use strict";function r(t){return t.getMonth()+12*t.getFullYear()}function o(t){return Math.floor(t/12)}function s(){t(this).addClass(w)}function a(t,e){return t[e?"on":"off"]("mousenter mouseout",s).toggleClass(w,e)}function l(t,e,i){return(!e||t>=e)&&(!i||t<=i)}function h(e,i){if(null===i)return i;if(i instanceof n)return r(i);if(t.isNumeric(i))return r(new n)+parseInt(i,10);var o=e._parseMonth(i);return o?r(o):c(i)}function u(t,e){return q(e.options[t]||E,e.element[0])}function c(e,i){var o=t.trim(e);o=o.replace(/y/i,'":"y"'),o=o.replace(/m/i,'":"m"');try{var s=JSON.parse('{"'+o.replace(/ /g,',"')+"}"),a={};for(var l in s)a[s[l]]=l;var h=r(new n);return(h+=parseInt(a.m,10)||0)+12*(parseInt(a.y,10)||0)}catch(t){return!1}}function d(e){return t('<span id="MonthPicker_Button_'+this.id+'" class="month-picker-open-button">'+e.i18n.buttonText+"</span>").jqueryUIButton({text:!1,icons:{primary:e.ButtonIcon}})}function p(t,e){t.jqueryUIButton("option",{icons:{primary:"ui-icon-circle-triangle-"+(e?"w":"e")}})}function f(t){return!t.is("input")}function g(e,i){function n(){h=setTimeout(r,175)}function r(){h=null,c=t("span",e).animate({opacity:.45},u,o)}function o(){l=c.text(),c.animate({opacity:1},u).text(i)}function s(){h?clearTimeout(h):c=t("span",e).animate({opacity:.45},u,a)}function a(){c.text(l).animate({opacity:1},u)}var l,h,u=125,c=t();e.on("mouseenter"+_+"h",n),e.on("mouseleave"+_+"h",s),e.data(x,function(){clearTimeout(h),c.stop().css({opacity:1}),e.off(_+"h")})}function m(t,e){var i=t.data("ui-button");i.option("disabled")!==e&&i.option("disabled",e)}var v="MonthPicker Error: ";if(!t)return void alert(v+"jQuery must be loaded.");if(!t.ui)return void alert(v+"jQuery UI must be loaded.");if(!(t&&t.ui&&t.ui.button&&t.ui.datepicker))return void alert(v+"The jQuery UI button and datepicker plug-ins must be loaded.");t.widget.bridge("jqueryUIButton",t.ui.button);var y=t.fx.speeds,_=".MonthPicker",x="month-picker-clear-hint",b="ui-state-highlight",w="ui-state-active",k={my:"left top+1",at:"left bottom"},C={my:"right top+1",at:"right bottom"},T=v+"The jQuery UI position plug-in must be loaded.",S=v+"Unsupported % option value, supported values are: ",D=v+'"_" is not a valid %Month value.',M=null,A=!!t.ui.position,P={Animation:["slideToggle","fadeToggle","none"],ShowAnim:["fadeIn","slideDown","none"],HideAnim:["fadeOut","slideUp","none"]},L={ValidationErrorMessage:"_createValidationMessage",Disabled:"_setDisabledState",ShowIcon:"_updateButton",Button:"_updateButton",ShowOn:"_updateFieldEvents",IsRTL:"_setRTL",AltFormat:"_updateAlt",AltField:"_updateAlt",StartYear:"_setPickerYear",MinMonth:"_setMinMonth",MaxMonth:"_setMaxMonth",SelectedMonth:"_setSelectedMonth"},E=t.noop,q=t.proxy,I=t.datepicker,j="click"+_;t.MonthPicker={VERSION:"3.0.0",i18n:{year:"Year",prevYear:"Previous Year",nextYear:"Next Year",next12Years:"Jump Forward 12 Years",prev12Years:"Jump Back 12 Years",nextLabel:"Next",prevLabel:"Prev",buttonText:"Open Month Chooser",jumpYears:"Jump Years",backTo:"Back to",months:["Jan.","Feb.","Mar.","Apr.","May","June","July","Aug.","Sep.","Oct.","Nov.","Dec."]}};t.widget("KidSysco.MonthPicker",{options:{i18n:{},IsRTL:!1,Position:null,StartYear:null,ShowIcon:!0,UseInputMask:!1,ValidationErrorMessage:null,Disabled:!1,MonthFormat:"mm/yy",Animation:"fadeToggle",ShowAnim:null,HideAnim:null,ShowOn:null,MinMonth:null,MaxMonth:null,Duration:"normal",Button:d,ButtonIcon:"ui-icon-calculator"},_monthPickerButton:t(),_validationMessage:t(),_selectedBtn:t(),_destroy:function(){var e=this.element;t.mask&&this.options.UseInputMask&&(e.unmask(),this.GetSelectedDate()||e.val("")),e.removeClass("month-year-input").off(_),t(i).off(_+this.uuid),this._monthPickerMenu.remove();var n=this._monthPickerButton.off(j);this._removeOldBtn&&n.remove(),this._validationMessage.remove(),M===this&&(M=null)},_setOption:function(e,i){switch(e){case"i18n":i=t.extend({},i);break;case"Position":if(!A)return void alert(T);break;case"MonthFormat":var n=this.GetSelectedDate();n&&this.element.val(this.FormatMonth(n,i))}if(e in P&&-1===t.inArray(i,P[e]))return void alert(S.replace(/%/,e)+P[e]);this._super(e,i),L[e]&&this[L[e]](i)},_create:function(){var e=this.element,r=this.options,s=e.attr("type");if(!e.is("input,div,span")||"text"!==s&&"month"!==s&&void 0!==s){var a=v+"MonthPicker can only be called on text or month inputs.";return alert(a+" \n\nSee (developer tools) for more details."),console.error(a+"\n Caused by:"),console.log(e[0]),!1}if(!t.mask&&r.UseInputMask)return alert(v+"The UseInputMask option requires the Input Mask Plugin. Get it from digitalbush.com"),!1;if(null!==r.Position&&!A)return alert(T),!1;for(var l in P)if(null!==r[l]&&-1===t.inArray(r[l],P[l]))return alert(S.replace(/%/,l)+P[l]),!1;this._isMonthInputType="month"===e.attr("type"),this._isMonthInputType&&(this.options.MonthFormat=this.MonthInputFormat,e.css("width","auto"));var u=this._monthPickerMenu=t('<div id="MonthPicker_'+e[0].id+'" class="month-picker ui-widget ui-widget-content ui-corner-all"></div>').hide(),c=f(e);t('<div class="ui-widget-header month-picker-header ui-corner-all"><table class="month-picker-year-table"><tr><td class="month-picker-previous"><a /></td><td class="month-picker-title"><a /></td><td class="month-picker-next"><a /></td></tr></table></div><div><table class="month-picker-month-table" /></div>').appendTo(u),u.appendTo(c?e:i.body),this._titleButton=t(".month-picker-title",u).click(q(this._showYearsClickHandler,this)).find("a").jqueryUIButton().removeClass("ui-state-default"),this._applyJumpYearsHint(),this._createValidationMessage(),this._prevButton=t(".month-picker-previous>a",u).jqueryUIButton({text:!1}).removeClass("ui-state-default"),this._nextButton=t(".month-picker-next>a",u).jqueryUIButton({text:!1}).removeClass("ui-state-default"),this._setRTL(r.IsRTL),t(".ui-button-icon-primary",this._nextButton).text(this._i18n("nextLabel")),t(".ui-button-icon-primary",this._prevButton).text(this._i18n("prevLabel"));for(var d=t(".month-picker-month-table",u),p=0;p<12;p++){var g=p%3?g:t("<tr />").appendTo(d);g.append('<td><a class="button-'+(p+1)+'" /></td>')}this._buttons=t("a",d).jqueryUIButton(),u.on(j,function(t){return!1});var m=this;t.each(["Min","Max"],function(t,e){m["_set"+e+"Month"]=function(t){!1===(m["_"+e+"Month"]=h(m,t))&&alert(D.replace(/%/,e).replace(/_/,t))},m._setOption(e+"Month",m.options[e+"Month"])});var y=r.SelectedMonth;if(void 0!==y){var _=h(this,y);e.val(this._formatMonth(new n(o(_),_%12,1)))}this._updateAlt(),this._setUseInputMask(),this._setDisabledState(),this.Destroy=this.destroy,c?this.Open():(e.addClass("month-year-input"),e.change(q(this._updateAlt,this)))},GetSelectedDate:function(){return this._parseMonth()},GetSelectedYear:function(){var t=this.GetSelectedDate();return t?t.getFullYear():NaN},GetSelectedMonth:function(){var t=this.GetSelectedDate();return t?t.getMonth()+1:NaN},Validate:function(){var t=this.GetSelectedDate();return null===this.options.ValidationErrorMessage||this.options.Disabled||this._validationMessage.toggle(!t),t},GetSelectedMonthYear:function(){var t=this.Validate();return t?t.getMonth()+1+"/"+t.getFullYear():null},Disable:function(){this._setOption("Disabled",!0)},Enable:function(){this._setOption("Disabled",!1)},ClearAllCallbacks:function(){for(var t in this.options)0===t.indexOf("On")&&(this.options[t]=E)},Clear:function(){this.element.val(""),this._validationMessage.hide()},Toggle:function(t){return this._visible?this.Close(t):this.Open(t)},Open:function(e){var n=this.element,r=this.options;if(!r.Disabled&&!this._visible){if(e=e||t.Event(),!1===u("OnBeforeMenuOpen",this)(e)||e.isDefaultPrevented())return!1;this._visible=!0,this._ajustYear(r);var o=this._monthPickerMenu;if(this._showMonths(),f(n))o.css("position","static").show(),u("OnAfterMenuOpen",this)();else{M&&M.Close(e),M=this,t(i).on(j+this.uuid,q(this.Close,this)).on("keydown"+_+this.uuid,q(this._keyDown,this)),n.off("blur"+_).focus();var s=r.ShowAnim||r.Animation,a="none"===s;o[a?"fadeIn":s]({duration:a?0:this._duration(),start:q(this._position,this,o),complete:u("OnAfterMenuOpen",this)})}}return!1},Close:function(e){var n=this.element;if(!f(n)&&this._visible){var r=this._monthPickerMenu,o=this.options;if(e=e||t.Event(),!1===u("OnBeforeMenuClose",this)(e)||e.isDefaultPrevented())return;this._backToYear&&(this._applyJumpYearsHint(),this._backToYear=0),this._visible=!1,M=null,t(i).off("keydown"+_+this.uuid).off(j+this.uuid),this.Validate(),n.on("blur"+_,q(this.Validate,this));var s=u("OnAfterMenuClose",this),a=o.HideAnim||o.Animation;"none"===a?r.hide(0,s):r[a](this._duration(),s)}},SetSelectedMonth:function(t){this._setSelectedMonth(t)},MonthInputFormat:"yy-mm",ParseMonth:function(t,e){try{return I.parseDate("dd"+e,"01"+t)}catch(t){return null}},FormatMonth:function(t,e){try{return I.formatDate(e,t)||null}catch(t){return null}},_setSelectedMonth:function(t){var e=h(this,t),i=this.element;e?i.val(this._formatMonth(new n(o(e),e%12,1))):i.val(""),this._ajustYear(this.options),this._showMonths()},_applyJumpYearsHint:function(){g(this._titleButton,this._i18n("jumpYears"))},_i18n:function(e){return this.options.i18n[e]||t.MonthPicker.i18n[e]},_parseMonth:function(t,e){return this.ParseMonth(t||this.element.val(),e||this.options.MonthFormat)},_formatMonth:function(t,e){return this.FormatMonth(t||this._parseMonth(),e||this.options.MonthFormat)},_updateButton:function(){var t=this.options.Disabled;this._createButton();var e=this._monthPickerButton;try{e.jqueryUIButton("option","disabled",t)}catch(i){e.filter("button,input").prop("disabled",t)}this._updateFieldEvents()},_createButton:function(){var e=this.element,n=this.options;if(!f(e)){var r=this._monthPickerButton.off(_),o=!!n.ShowIcon&&n.Button;if(t.isFunction(o)){var s=t.extend(!0,{i18n:t.extend(!0,{},t.MonthPicker.i18n)},this.options);o=o.call(e[0],s)}var a=!1;this._monthPickerButton=(o instanceof t?o:t(o)).each(function(){t.contains(i.body,this)||(a=!0,t(this).insertAfter(e))}).on(j,q(this.Toggle,this)),this._removeOldBtn&&r.remove(),this._removeOldBtn=a}},_updateFieldEvents:function(){var t=j+" focus"+_;this.element.off(t),"both"!==this.options.ShowOn&&this._monthPickerButton.length||this.element.on(t,q(this.Open,this))},_createValidationMessage:function(){var e=this.options.ValidationErrorMessage,i=this.element;if(-1===t.inArray(e,[null,""])){var n=t('<span id="MonthPicker_Validation_'+i[0].id+'" class="month-picker-invalid-message">'+e+"</span>"),r=this._monthPickerButton;this._validationMessage=n.insertAfter(r.length?r:i),i.on("blur"+_,q(this.Validate,this))}else this._validationMessage.remove()},_setRTL:function(t){p(this._prevButton.css("float",t?"right":"left"),!t),p(this._nextButton.css("float",t?"left":"right"),t)},_keyDown:function(t){switch(t.keyCode){case 13:this.element.val()||this._chooseMonth((new n).getMonth()+1),this.Close(t);break;case 27:case 9:this.Close(t)}},_duration:function(){var e=this.options.Duration;return t.isNumeric(e)?e:e in y?y[e]:y._default},_position:A?function(e){var i=this.options.IsRTL?C:k,n=t.extend(i,this.options.Position);return e.position(t.extend({of:this.element},n))}:function(t){var e=this.element,i={top:e.offset().top+e.height()+7+"px"};return this.options.IsRTL?i.left=e.offset().left-t.width()+e.width()+7+"px":i.left=e.offset().left+"px",t.css(i)},_setUseInputMask:function(){if(!this._isMonthInputType)try{this.options.UseInputMask?this.element.mask(this._formatMonth(new n).replace(/\d/g,9)):this.element.unmask()}catch(t){}},_setDisabledState:function(){var t=this.options.Disabled,e=this.element;e[0].disabled=t,e.toggleClass("month-picker-disabled",t),t&&this._validationMessage.hide(),this.Close(),this._updateButton(),u("OnAfterSetDisabled",this)(t)},_getPickerYear:function(){return this._pickerYear},_setPickerYear:function(t){this._pickerYear=t||(new n).getFullYear(),this._titleButton.jqueryUIButton({label:this._i18n("year")+" "+this._pickerYear})},_updateAlt:function(e,i){var n=t(this.options.AltField);n.length&&n.val(this._formatMonth(i,this.options.AltFormat))},_chooseMonth:function(e){var i=this._getPickerYear(),r=new n(i,e-1);this.element.val(this._formatMonth(r)).blur(),this._updateAlt(0,r),a(this._selectedBtn,!1),this._selectedBtn=a(t(this._buttons[e-1]),!0),u("OnAfterChooseMonth",this)(r)},_chooseYear:function(t){this._backToYear=0,this._setPickerYear(t),this._buttons.removeClass(b),this._showMonths(),this._applyJumpYearsHint(),u("OnAfterChooseYear",this)()},_showMonths:function(){var e=this._i18n("months");this._prevButton.attr("title",this._i18n("prevYear")).off(j).on(j,q(this._addToYear,this,-1)),this._nextButton.attr("title",this._i18n("nextYear")).off(j).on(j,q(this._addToYear,this,1)),this._buttons.off(_);var i=this,n=q(i._onMonthClick,i);t.each(e,function(e,r){t(i._buttons[e]).on(j,{month:e+1},n).jqueryUIButton("option","label",r)}),this._decorateButtons()},_showYearsClickHandler:function(){if(this._buttons.removeClass(b),this._backToYear)this._setPickerYear(this._backToYear),this._applyJumpYearsHint(),this._showMonths(),this._backToYear=0;else{this._backToYear=this._getPickerYear(),this._showYears();var t=this._i18n("backTo")+" "+this._getPickerYear();this._titleButton.jqueryUIButton({label:t}).data(x)(),u("OnAfterChooseYears",this)()}},_showYears:function(){var e=this._getPickerYear(),i=-4,r=e+i,s=(new n).getFullYear(),h=this._MinMonth,u=this._MaxMonth,c=h?o(h):0,d=u?o(u):0;this._prevButton.attr("title",this._i18n("prev12Years")).off(j).on(j,q(this._addToYears,this,-12)),this._nextButton.attr("title",this._i18n("next12Years")).off(j).on(j,q(this._addToYears,this,12)),m(this._prevButton,c&&r-1<c),m(this._nextButton,d&&r+12-1>d),this._buttons.off(_),a(this._selectedBtn,!1);for(var p=this.GetSelectedYear(),f=q(this._onYearClick,this),g=l(s,c,d),v=l(p,c,d),y=0;y<12;y++){var x=e+i,w=t(this._buttons[y]).jqueryUIButton({disabled:!l(x,c,d),label:x}).toggleClass(b,x===s&&g).on(j,{year:x},f);v&&p&&p===x&&(this._selectedBtn=a(w,!0)),i++}},_onMonthClick:function(t){this._chooseMonth(t.data.month),this.Close(t)},_onYearClick:function(t){this._chooseYear(t.data.year)},_addToYear:function(t){this._setPickerYear(this._getPickerYear()+t),this.element.focus(),this._decorateButtons(),u("OnAfter"+(t>0?"Next":"Previous")+"Year",this)()},_addToYears:function(t){this._pickerYear=this._getPickerYear()+t,this._showYears(),this.element.focus(),u("OnAfter"+(t>0?"Next":"Previous")+"Years",this)()},_ajustYear:function(t){var e=t.StartYear||this.GetSelectedYear()||(new n).getFullYear();null!==this._MinMonth&&(e=Math.max(o(this._MinMonth),e)),null!==this._MaxMonth&&(e=Math.min(o(this._MaxMonth),e)),this._setPickerYear(e)},_decorateButtons:function(){var e=this._getPickerYear(),i=r(new n),s=this._MinMonth,h=this._MaxMonth;a(this._selectedBtn,!1);var u=this.GetSelectedDate(),c=l(u?r(u):null,s,h);u&&u.getFullYear()===e&&(this._selectedBtn=a(t(this._buttons[u.getMonth()]),c)),m(this._prevButton,s&&e==o(s)),m(this._nextButton,h&&e==o(h));for(var d=0;d<12;d++){var p=12*e+d,f=l(p,s,h);t(this._buttons[d]).jqueryUIButton({disabled:!f}).toggleClass(b,f&&p==i)}}})}(jQuery,window,document,Date)}),ClocksNavList.prototype.getSelectedCountry=function(){var t=$(this.selector).find(".country.selectable.selected[data-country-code]");return t.length>0?t.attr("data-country-code"):void 0},ClocksNavList.prototype.getShownCountries=function(){for(var t=$(this.selector).find(".country.selectable[data-country-code]"),e=[],i=0;i<t.length;i++)e.push($(t[i]).attr("data-country-code"));return e},ClocksNavList.prototype.getClockForCountry=function(t){return $(this.selector).find(".country[data-country-code='"+t+"']")},ClocksNavList.prototype.getClockIndex=function(t){var e=$(this.selector).find(".country thead select[data-country-ongraph]");return $.inArray(t,e)},ClocksNavList.prototype.getNewClockIndex=function(){return $(this.selector).find(".country thead select[data-country-ongraph]").length},ClocksNavList.prototype.updateSelectorsList=function(t){void 0!==t&&t||(t=this.retrieveCountryShownCodes()),$.each(t,function(e,i){$(this.selector).find(".country[data-country-code='"+i+"'] th select").html(this.getSelectorOptions(i,t))}.bind(this));var e=this.getSelectorOptions(null,t,!0);$(this.addCountrySelector).find("select#addCountrySelect").html(e),$(this.addCountrySelector).find("select#addCountrySelectButton").html(e),t.length>=this.maxClock?$(this.addCountrySelector).hide():$(this.addCountrySelector).show()},ClocksNavList.prototype.retrieveCountriesShown=function(){return $(this.selector).find(".country[data-country-code]")},ClocksNavList.prototype.retrieveCountryShownCodes=function(){var t=this.retrieveCountriesShown(),e=[];return $.each(t,function(t,i){e.push($(i).attr("data-country-code"))}.bind(this)),e},ClocksNavList.prototype.removeCountryInNavlist=function(t){$(this.selector).find(".country[data-country-code='"+t+"']").parent().remove()},ClocksNavList.prototype.addCountryInNavlist=function(t,e,i,n,r,o,s,a){void 0!==s&&s||(s=this.retrieveCountryShownCodes());var l=$(this.selector).find("li#addCountry"),h=$(this.selector+" li"),u='<li><div class="country hover-highlight selectable" data-country-code="'+t+'"><table><thead><tr><th><select data-country-ongraph="'+t+'" onmousedown="if(this.options.length>11){this.size=11;}" onchange="setTimeout(function(){this.size=0;}.bind(this),1);" onblur="this.size=0;" size="0">'+this.getSelectorOptions(t,s)+"</select>"+(a?"":'<img class="deleteIcon" src="resources/img/Delete-icon.png" alt="remove" title="remove" data-i18n="[title]remove_country;[alt]remove_country"/>')+'</th></tr></thead><tbody><tr><td><div class="oneClock" ><canvas class="clock_canvas" width="210" height="200"></canvas><span class="currentDate"></span>';1===h.length&&(u+='<button class="help_button" data-i18n="[title]help" title="'+$.i18n.t("help")+'" onclick="$(\'#clockHelpPanel\').show(); bcc.cycleClockHelp.pie.flush();"/>'),u+="</div></td></tr></tbody></table></div></li>",l.length>0?l.before(u):$(this.selector).append(u);var c=$(this.selector).find(".country[data-country-code='"+t+"']");c.find("thead select[data-country-ongraph='"+t+"']").change(e);var d=c.find(".oneClock");return d.mouseenter(i),d.mouseleave(n),d.click(r),a||c.find("img.deleteIcon").click(o),c[0]},ClocksNavList.prototype.selectCountry=function(t){$(this.selector).find(".country[data-country-code]").removeClass("selected"),$(this.selector).find(".country[data-country-code='"+t+"']").addClass("selected")};var orderedCountyCodes=["BE","BG","CZ","DK","DE","EE","IE","EL","GR","ES","FR","HR","IT","CY","LV","LT","LU","HU","MT","NL","AT","PL","PT","RO","SI","SK","FI","SE","UK","GB"];ClocksNavList.prototype.getSelectorOptions=function(t,e,i){void 0!==e&&e||(e=this.retrieveCountryShownCodes());var n="";return $.each(bcc.dataSetInfo,function(i,r){i==t?n=n+'<option value="'+i+'" selected="selected" data-i18n="country:'+r.code+'">'+$.i18n.t("country:"+r.code)+"</option>":$.inArray(i,e)<0&&(n=n+'<option value="'+i+'" data-i18n="country:'+r.code+'">'+$.i18n.t("country:"+r.code)+"</option>")}.bind(this)),n=$(n).sort(function(t,e){return"EA"==$(t).val()?-1:"EA"==$(e).val()?1:$.inArray($(t).val(),orderedCountyCodes)<$.inArray($(e).val(),orderedCountyCodes)?-1:1}),i&&(n=n.toArray(),n.unshift($('<option value="" selected="selected" data-i18n="add_country_button">'+$.i18n.t("add_country_button")+"</option>")[0])),$(n)},MonthRangeSelector.prototype.getCustomFromValue=function(){return $(this.fromInputSelector).MonthPicker("Validate")},MonthRangeSelector.prototype.getCustomToValue=function(){return this.toInputSelector?$(this.toInputSelector).MonthPicker("Validate"):this.range.clock.max.date},MonthRangeSelector.prototype.setValue=function(t,e,i){$(this.rangeSelectSelector).val(t),"custom"==t&&($(this.fromInputSelector).val($.datepicker.formatDate("mm/yy",e)),$(this.toInputSelector).val($.datepicker.formatDate("mm/yy",i)))},MonthRangeSelector.prototype.getValue=function(){return $(this.rangeSelectSelector).val()},MonthRangeSelector.prototype.getValues=function(){var t=$(this.rangeSelectSelector).val();switch(t){case"1":case"2":case"5":case"10":case"15":case"20":return{from:new Date(bcc.range.initial.clock.max.date).setFullYear(bcc.range.initial.clock.max.date.getFullYear()-Number(t)),to:bcc.range.initial.clock.max.date};case"all":return{from:bcc.range.initial.clock.min.date,to:bcc.range.initial.clock.max.date};case"custom":var e=$(this.fromInputSelector).MonthPicker("Validate"),i=this.toInputSelector?$(this.toInputSelector).MonthPicker("Validate"):this.range.clock.max.date;if(e&&i)return e.getTime()<i.getTime()?{from:e,to:i}:{from:i,to:e}}},MonthRangeSelector.prototype.applyRangeSelection=function(t){var e=this.getValues();t(e.from,e.to)},"function"==typeof define&&define.amd?define("bcc_ui",["jquery","c3","i18nextBCC","jquery-ui","datepicker-de","datepicker-fr","monthPicker","bcc_commons"],function(t,e){return CycleClockHelp.prototype.c3=e,null}):"undefined"!=typeof exports&&"undefined"!=typeof module&&(module.exports=null),"function"==typeof define&&define.amd?define("bcc",["jquery","c3Chart","i18nextBCC","timer","cycleClock","jquery-ui","datepicker-de","datepicker-fr","monthPicker","bcc_commons","bcc_ui"],function(t){return BCC}):"undefined"!=typeof exports&&"undefined"!=typeof module&&(module.exports=BCC),BCC.prototype.initMonthRangeSelectors=function(t){this.monthRangeSelector=new MonthRangeSelector("#range_selector","#from_month_picker","#to_month_picker",t),this.genMonthRangeSelector=new MonthRangeSelector("#genRange_select","#genFrom_month_picker","#genTo_month_picker",t),$("#genClockTimeSelect_month_picker").val($.datepicker.formatDate("mm/yy",t.clock.max.date)),$("#genClockTimeSelect_month_picker").MonthPicker({ShowIcon:!1,UseInputMask:!0,StartYear:t.clock.max.date.getFullYear(),MaxMonth:t.clock.max.date,MinMonth:t.clock.min.date,i18n:$.datepicker.regional[$.i18n.language.substr(0,2)]}),$("#genRange_select").change(function(t){updateGenClockTimeSelect()}),$("#genFrom_month_picker").change(function(t){updateGenClockTimeSelect()}),$("#genTo_month_picker").change(function(t){updateGenClockTimeSelect()})},BCC.prototype.onTimerPosChanged=function(t,e){var i=t,n=this.getChartPos(t);return(n>this.range.chart.max.pos&&i>e.maxTimerPos||i<0)&&(i=e.backward?e.maxTimerPos:0),n!=this.chartPos&&n<=this.range.chart.max.pos&&n>=0&&(this.chart.selectPointAllSeries(n),this.chartPos=n),i<=e.maxTimerPos&&(this.updateClocks(i,this.navList.retrieveCountriesShown()),this.timeSlider.slider("value",i),this.updateAsideStats(this.navList.retrieveCountryShownCodes(),i)),i},BCC.prototype.selectCountry=function(t){this.navList.selectCountry(t),this.chart.loadCountryRegions(t,!1,!0),this.chart.focusCountry(t),this.updateAsideStats(this.navList.retrieveCountryShownCodes())},BCC.prototype.getChartPos=function(t){void 0===t&&(t=this.timer.timerPos);var e=t/3;return e>0?Math.floor(e):Math.ceil(e)},BCC.prototype.getInitialRange=function(t){var e={chart:this.getInitialChartRange(t),clock:this.getInitialClocktRange(t)};return{chart:this.getInitialChartRange(t),clock:this.getInitialClocktRange(t),initial:e}},BCC.prototype.cycleClockOptions={width:210,height:220,radius:80,fontSize:16,innerDist:15,crise1Color:"#FAA61A",crise1MirrorColor:"#FEDEB3",crise2Color:"#F26522",crise2MirrorColor:"#F89F6C",noCriseColor:"#8BD1D1",noCriseMirrorColor:"#3BBFBD"},BCC.prototype.switchCountryForSelector=function(t){var e=$(t);if(e.length>0){var i=e.attr("data-country-ongraph"),n=e[0].value;if(i!==n){this.chart.loadCountry(n,this.navList.getClockIndex(t)),this.chart.unloadCountry(i,!1),e.attr("data-country-ongraph",n);var r=e.parents(".country[data-country-code]");r.attr("data-country-code",n),this.selectCountry(n),this.clocks[n]=new CycleClock(r.find(".oneClock"),this.cycleClockOptions),this.updateClockForCountry(n),this.navList.updateSelectorsList(),this.chart.reDraw()}}},BCC.prototype.removeCountry=function(t){var e=$(t).parents(".country[data-country-code]"),i=e.attr("data-country-code"),n=e.hasClass("selected");if(this.chart.unloadCountry(i),this.clocks[i]=void 0,this.navList.removeCountryInNavlist(i),this.navList.updateSelectorsList(),n){this.chart.clearRegions(!0),this.getCountryCodes(),1==this.navList.getShownCountries().length?this.updateAsideStats(this.navList.retrieveCountryShownCodes()):this.updateAsideStats();var r=this.navList.retrieveCountryShownCodes();this.selectCountry(r[r.length-1])}else 1==this.navList.getShownCountries().length&&this.updateAsideStats(this.navList.retrieveCountryShownCodes());this.chart.reDraw()},BCC.prototype.updateClockForCountry=function(t){var e=this.navList.getClockForCountry(t);this.updateClocks(bcc.timer.timerPos,e)},BCC.prototype.updateRangeDate=function(t,e,i,n,r){var o=toDate(t,n,r),s=toDate(e,n,r);i&&o<this.range.initial.clock.min.date&&(o=this.range.initial.clock.min.date),i&&e>this.range.initial.clock.max.date&&(s=this.range.initial.clock.max.date);for(var a=0;a<this.dataSetInfo[this.range.clock.refCountry].date.length;a++){var l=toDate(this.dataSetInfo[this.range.clock.refCountry].date[a]);if(l.getTime()>=s.getTime()){this.range.clock.max.date=l,this.range.clock.max.pos=a;break}}for(var a=this.dataSetInfo[this.range.clock.refCountry].date.length-1;a>=0;a--){var l=toDate(this.dataSetInfo[this.range.clock.refCountry].date[a]);if(l.getTime()<=o.getTime()){this.range.clock.min.date=l,this.range.clock.min.pos=a;break}}return this.afterClockRangeUpdated(),this.range},BCC.prototype.afterClockRangeUpdated=function(){this.updateChartRange(this.dataSetInfo,this.range),this.chart.setRange(this.range.chart.min.date,this.range.chart.max.date),this.timeSlider.slider("option",{min:this.range.clock.min.pos,max:this.range.clock.max.pos}),this.timer.minTimerPos=this.range.clock.min.pos,this.timer.maxTimerPos=this.range.clock.max.pos,(this.timer.timerPos>this.range.clock.max.pos||this.timer.timerPos<this.range.clock.min.pos)&&this.timer.setPos(this.range.clock.min.pos)},BCC.prototype.updateChartRange=function(t,e){for(var i=1;i<t[e.chart.refCountry].dates.length;i++){var n=toDate(t[e.chart.refCountry].dates[i],"dd/mm/yyyy","/");if(new Date(n).setDate(1)>=new Date(e.clock.min.date).setDate(1)){e.chart.min.pos=i-1,e.chart.min.date=new Date(new Date(e.clock.min.date).setDate(31));break}}for(var i=t[e.chart.refCountry].dates.length-1;i>0;i--){var n=toDate(t[e.chart.refCountry].dates[i],"dd/mm/yyyy","/");if(new Date(n).setDate(1)<=new Date(e.clock.max.date).setDate(1)){e.chart.max.pos=i-1,e.chart.max.date=new Date(new Date(e.clock.max.date).setDate(31));break}}},BCC.prototype.getInitialChartRange=function(t){var e={min:{date:0,pos:0},max:{date:0,pos:0},refCountry:"EA"};return void 0!==t&&t&&$.each(t,function(t,i){i.dates.length-2>e.max.pos&&(e.max.pos=i.dates.length-2,e.max.date=toDate(i.dates[e.max.pos+1],"dd/mm/yyyy","/"),e.min.pos=0,e.min.date=toDate(i.dates[1],"dd/mm/yyyy","/"),e.refCountry=t)}.bind(this)),e},BCC.prototype.getInitialClocktRange=function(t){var e={min:{date:0,pos:0},max:{date:0,pos:0},refCountry:"EA"};return void 0!==t&&t&&$.each(t,function(t,i){if(i.date.length-1>e.max.pos){for(var n=i.date.length-1;n>0&&(!i.angle[n]||isNaN(i.angle[n]));n--);e.max.pos=n,e.max.date=toDate(i.date[e.max.pos],"dd/mm/yyyy","/"),e.min.pos=0,e.min.date=toDate(i.date[0],"dd/mm/yyyy","/"),e.refCountry=t}}.bind(this)),e},BCC.prototype.initTimeSlider=function(t){var e=this.dataset.DataSet.Data[0].Country["@attributes"].code,i=this.dataSetInfo[e].date.length-1;return $("<div id='timeSlider'></div>").insertAfter("#countriesChart").slider({min:0,max:i,value:i,slide:function(t,e){this.timer.setPos(e.value)}.bind(this)}),$("#timeSlider")},BCC.prototype.updateClocks=function(t,e){void 0!==e&&e||(e=this.navList.retrieveCountriesShown()),e.each(function(e,i){var n=t,r=$(i).attr("data-country-code"),o=$(i).find(".oneClock>canvas"),s=void 0;if(o.length>0&&this.clocks[r]){var a=this.dataSetInfo[r];if(s||(s=a.date[t],$("#currentQuarter").html(formatQuarterHtml(s))),a&&a.angle&&n<=a.angle.length){var l=NaN;if(!a.gdpgc||Math.floor(n/3)>a.gdpgc.length||isNaN(a.angle[n]))for(var h=t;h>0;h--)if(!isNaN(a.angle[h])&&isFinite(a.angle[h])){n=h;break}l=a.angle[n],this.clocks[r].updateClock(l)}if(a&&a.date&&n<=a.date.length){var u=a.date[n];$(i).find("span#currentDate, span.currentDate").html($.datepicker.formatDate("MM yy",toDate(u),$.datepicker.regional[$.i18n.language.substr(0,2)]))}}}.bind(this))},BCC.prototype.getCountryCodes=function(){var t=[];for(var e in this.dataSetInfo)t.push(e);return t},BCC.prototype.getCountrySeriesData=function(t){var e=[];return e.push(this.dataSetInfo[t].dates),e.push(this.dataSetInfo[t].ser2),e},BCC.prototype.addCountry=function(t,e){if(this.dataSetInfo[t]){this.chart.loadCountry(t,this.navList.getNewClockIndex()),this.chart.selectPointAllSeries(this.getChartPos(this.timer.timerPos));var i=this.navList.addCountryInNavlist(t,function(t){this.switchCountryForSelector(t.target)}.bind(this),function(t){this.mouseEnteredCountry(t.target)}.bind(this),function(t){this.mouseLeavedCountry(t.target)}.bind(this),function(t){this.clickedCountry(t.target)}.bind(this),function(t){this.removeCountry(t.target)}.bind(this),void 0,e);this.selectCountry(t),this.chart.reDraw(),this.clocks[t]=new CycleClock($(i).find(".oneClock"),this.cycleClockOptions),this.updateClockForCountry(t)}this.navList.updateSelectorsList()},BCC.prototype.mouseEnteredCountry=function(t){var e=$(t).parents(".country[data-country-code]").attr("data-country-code");this.chart.focusCountry(e)},BCC.prototype.mouseLeavedCountry=function(t){bcc.chart.unfocusCountry();var e=this.navList.getSelectedCountry();e?bcc.chart.focusCountry(e):bcc.chart.clearRegions(!0)},BCC.prototype.clickedCountry=function(t){var e=$(t).parents(".country[data-country-code]").attr("data-country-code");bcc.selectCountry(e)},BCC.prototype.findPreviousTP=function(t,e,i){var n=[],r=void 0;if(this.dataSetInfo[t].tps.length>0)for(var o=0;o<this.dataSetInfo[t].tps.length;o++)this.dataSetInfo[t].tps[o].date.getTime()<e.getTime()&&(void 0===r||this.dataSetInfo[t].tps[o].date.getTime()>r[0].date.getTime()?(void 0===r&&(r=[]),n=r,r=[],r.push(this.dataSetInfo[t].tps[o])):void 0!==r&&this.dataSetInfo[t].tps[o].date.getTime()!==r[0].date.getTime()||(void 0===r&&(r=[]),n=r,r.push(this.dataSetInfo[t].tps[o])));return i?n:r},BCC.prototype.findPreviousABCD_TP=function(t,e,i){var n=[],r=void 0;if(this.dataSetInfo[t].tps.length>0)for(var o=0;o<this.dataSetInfo[t].tps.length;o++)this.dataSetInfo[t].tps[o].date.getTime()<e.getTime()&&"α"!=this.dataSetInfo[t].tps[o].tp&&"β"!=this.dataSetInfo[t].tps[o].tp&&(void 0===r||this.dataSetInfo[t].tps[o].date.getTime()>r[0].date.getTime()?(void 0===r&&(r=[]),n=r,r=[],r.push(this.dataSetInfo[t].tps[o])):void 0!==r&&this.dataSetInfo[t].tps[o].date.getTime()!==r[0].date.getTime()||(void 0===r&&(r=[]),n=r,r.push(this.dataSetInfo[t].tps[o])));return i?n:r},
BCC.prototype.updateAsideStats=function(t,e){e||(e=this.timer.timerPos);var i="<div>",n=this.navList.getSelectedCountry();if(n){if(t)for(var r=0;r<t.length;r++)if(n==t[r]){var o=toDate(this.dataSetInfo[t[r]].date[e],"dd/mm/yyyy","/"),s=getQuarterEndDate(o);s.getTime()>toDate(this.dataSetInfo[t[r]].dates[this.dataSetInfo[t[r]].dates.length-1],"dd/mm/yyyy","/").getTime()&&(s=toDate(this.dataSetInfo[t[r]].dates[this.dataSetInfo[t[r]].dates.length-1],"dd/mm/yyyy","/"));for(var a,l=this.dataSetInfo[t[r]].gdp.length-1;l>=0&&!a;){if(this.dataSetInfo[t[r]].gdp[l]&&this.dataSetInfo[t[r]].gdp[l]>0){s.getTime(),getQuarterEndDate(toDate(this.dataSetInfo[t[r]].dates[l+1],"dd/mm/yyyy","/")),getQuarterEndDate(toDate(this.dataSetInfo[t[r]].dates[l+1],"dd/mm/yyyy","/")).getTime();s.getTime()>getQuarterEndDate(toDate(this.dataSetInfo[t[r]].dates[l+1],"dd/mm/yyyy","/")).getTime()&&(a=l,s=getQuarterEndDate(toDate(this.dataSetInfo[t[r]].dates[l+1],"dd/mm/yyyy","/")))}l--}var h=this.findPreviousTP(t[r],s);if(h&&s.getTime()){i+='<span data-i18n="for">'+$.i18n.t("for")+"</span>: "+this.dataSetInfo[t[r]].description;var u;if(haveTP(h,"D"))u=Math.floor(monthDiff(getQuarterEndDate(getTP(h,"D").date),s)/3)+1,i+='<br/><span data-i18n="expansion">'+$.i18n.t("expansion")+"</span>: "+u+' <span data-i18n="quarters">'+$.i18n.t("quarters")+"</span>";else if(haveTP(h,"C"))u=Math.floor(monthDiff(getQuarterEndDate(getTP(h,"C").date),s)/3)+1,i+='<br/><span data-i18n="recovery">'+$.i18n.t("recovery")+"</span>: "+u+' <span data-i18n="quarters">'+$.i18n.t("quarters")+"</span>";else if(haveTP(h,"β")){u=Math.floor(monthDiff(getQuarterEndDate(getTP(h,"β").date),s)/3)+1;var c=this.findPreviousTP(t[r],s,!0);c&&haveTP(c,"B")&&(i+='<br/><span data-i18n="recession">'+$.i18n.t("recession")+"</span>: "+Math.floor(monthDiff(getQuarterEndDate(getTP(c,"B").date),s)/3)+' <span data-i18n="quarters">'+$.i18n.t("quarters")+"</span>")}else haveTP(h,"B")?(u=Math.floor(monthDiff(getQuarterEndDate(getTP(h,"B").date),s)/3)+1,i+='<br/><span data-i18n="recession">'+$.i18n.t("recession")+"</span>: "+u+' <span data-i18n="quarters">'+$.i18n.t("quarters")+"</span>"):haveTP(h,"A")?(u=Math.floor(monthDiff(getQuarterEndDate(getTP(h,"A").date),s)/3)+1,i+='<br/><span data-i18n="slowdown">'+$.i18n.t("slowdown")+"</span>: "+u+' <span data-i18n="quarters">'+$.i18n.t("quarters")+"</span>"):haveTP(h,"α")&&(u=Math.floor(monthDiff(getQuarterEndDate(getTP(h,"α").date),s)/3)+1,i+='<br/><span data-i18n="deceleration">'+$.i18n.t("deceleration")+"</span>: "+u+' <span data-i18n="quarters">'+$.i18n.t("quarters")+"</span>");h=this.findPreviousABCD_TP(t[r],s)}}$("#docClock").html(i+"</div>"),$("#docClock").toggleClass("animate"),setTimeout(function(){$("#docClock").toggleClass("animate")},600)}},BCC.prototype.updateAsideStatsOld=function(t,e){var i='<div><h1 data-i18n="current_cycle_durations">'+$.i18n.t("current_cycle_durations")+"</h1><br/><b>"+("GB"==t?"UK":"GR"==t?"EL":t)+"</b>";if(t){e||(e=this.timer.timerPos);for(var n=toDate(this.dataSetInfo[t].date[e],"dd/mm/yyyy","/"),r=this.getRegions(t),o=!1,s=0;s<r.length;s++){var a=toDate(r[s].start,"dd/mm/yyyy","/");a.setDate(0);var l=toDate(r[s].end,"dd/mm/yyyy","/");if(l.setMonth(3*Math.floor(l.getMonth()/3)+2),n.getTime()>=a.getTime()&&n.getTime()<=l.getTime()){var h=monthDiff(a,l);"crise2"==r[s].class?(i+='<br/><span data-i18n="recession">'+$.i18n.t("recession")+"</span> = "+Math.floor(h/3)+' <span data-i18n="quarters">'+$.i18n.t("quarters")+"</span>",o=!0):"crise1"==r[s].class&&(i+='<br/><span data-i18n="slowdown">'+$.i18n.t("slowdown")+"</span> = "+Math.floor(h/3)+' <span data-i18n="quarters">'+$.i18n.t("quarters")+"</span>",o=!0)}else(!a||isNaN(a.getTime()))&&!isNaN(l.getTime())&&n.getTime()<=l.getTime()?"crise2"==r[s].class?(i+='<br/><span data-i18n="recession">'+$.i18n.t("recession")+'</span> <span data-i18n="until">'+$.i18n.t("until")+"</span> "+formatQuarterHtml(l),o=!0):"crise1"==r[s].class&&(i+='<br/><span data-i18n="slowdown">'+$.i18n.t("slowdown")+'</span> <span data-i18n="until">'+$.i18n.t("until")+"</span> "+formatQuarterHtml(l),o=!0):(!l||isNaN(l.getTime()))&&!isNaN(a.getTime())&&n.getTime()>=a.getTime()&&("crise2"==r[s].class?(i+='<br/><span data-i18n="recession">'+$.i18n.t("recession")+'</span> <span data-i18n="since">'+$.i18n.t("since")+"</span> "+formatQuarterHtml(a),o=!0):"crise1"==r[s].class&&(i+='<br/><span data-i18n="slowdown">'+$.i18n.t("slowdown")+'</span> <span data-i18n="since">'+$.i18n.t("since")+"</span> "+formatQuarterHtml(a),o=!0))}if(!o){var u=this.findGrowthDuration(n,r);if(u.startDate&&u.stopDate){var h=monthDiff(u.startDate,u.stopDate);i+='<br/><span data-i18n="growth">'+$.i18n.t("growth")+"</span> = "+Math.floor(h/3)+' <span data-i18n="quarters">'+$.i18n.t("quarters")+"</span>"}else!u.startDate&&u.stopDate?i+='<br/><span data-i18n="growth">'+$.i18n.t("growth")+'</span> <span data-i18n="until">'+$.i18n.t("until")+"</span> "+formatQuarterHtml(u.stopDate):!u.stopDate&&u.startDate&&(i+='<br/><span data-i18n="growth">'+$.i18n.t("growth")+'</span> <span data-i18n="since">'+$.i18n.t("since")+"</span> "+formatQuarterHtml(u.startDate))}}i.length>0&&$("#docClock").html(i+"</div>")},BCC.prototype.findGrowthDuration=function(t,e){for(var i,n,r=0;r<e.length;r++){var o=toDate(e[r].start,"dd/mm/yyyy","/"),s=toDate(e[r].end,"dd/mm/yyyy","/");o&&!isNaN(o.getTime())&&o.getTime()>t.getTime()&&(!n||o.getTime()<n.getTime())&&(n=o),s&&!isNaN(s.getTime())&&s.getTime()<t.getTime()&&(!i||s.getTime()>i.getTime())&&(i=s)}return{startDate:i,stopDate:n}};var regionsByCountry=[];BCC.prototype.getRegions=function(t){if(regionsByCountry[t])return regionsByCountry[t];for(var e=this.dataSetInfo[t],i=[],n=!1,r=!1,o=!1,s=!1,a="",l="",h="",u="",c=0;c<e.region.length;c++)"A"==e.region[c][0]&&(a=e.region[c][1],n=!0),"B"==e.region[c][0]&&(l=e.region[c][1],r=!0),"C"==e.region[c][0]&&(h=e.region[c][1],o=!0),"D"==e.region[c][0]&&(u=e.region[c][1],s=!0),o&&(r?(i.push({start:l,end:h,class:"crise2"}),r=o=!1):(i.push({end:h,class:"crise2"}),o=!1)),s&&(n?(i.unshift({start:a,end:u,class:"crise1"}),s=n=!1):(i.unshift({end:u,class:"crise1"}),s=!1));return"B"==e.region[e.region.length-1][0]?(i.push({start:e.region[e.region.length-1][1],class:"crise2"}),"A"==e.region[e.region.length-2][0]&&i.unshift({start:e.region[e.region.length-2][1],class:"crise1"})):"A"==e.region[e.region.length-1][0]&&(i.unshift({start:e.region[e.region.length-1][1],class:"crise1"}),"B"==e.region[e.region.length-2][0]&&i.push({start:e.region[e.region.length-2][1],class:"crise2"})),regionsByCountry[t]=i,i},function(t,e,i){var n=t.L,r={};r.version="0.7.7","object"==typeof module&&"object"==typeof module.exports?module.exports=r:"function"==typeof define&&define.amd&&define("leaflet",r),r.noConflict=function(){return t.L=n,this},t.L=r,r.Util={extend:function(t){var e,i,n,r,o=Array.prototype.slice.call(arguments,1);for(i=0,n=o.length;n>i;i++){r=o[i]||{};for(e in r)r.hasOwnProperty(e)&&(t[e]=r[e])}return t},bind:function(t,e){var i=arguments.length>2?Array.prototype.slice.call(arguments,2):null;return function(){return t.apply(e,i||arguments)}},stamp:function(){var t=0,e="_leaflet_id";return function(i){return i[e]=i[e]||++t,i[e]}}(),invokeEach:function(t,e,i){var n,r;if("object"==typeof t){r=Array.prototype.slice.call(arguments,3);for(n in t)e.apply(i,[n,t[n]].concat(r));return!0}return!1},limitExecByInterval:function(t,e,i){var n,r;return function o(){var s=arguments;return n?void(r=!0):(n=!0,setTimeout(function(){n=!1,r&&(o.apply(i,s),r=!1)},e),void t.apply(i,s))}},falseFn:function(){return!1},formatNum:function(t,e){var i=Math.pow(10,e||5);return Math.round(t*i)/i},trim:function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},splitWords:function(t){return r.Util.trim(t).split(/\s+/)},setOptions:function(t,e){return t.options=r.extend({},t.options,e),t.options},getParamString:function(t,e,i){var n=[];for(var r in t)n.push(encodeURIComponent(i?r.toUpperCase():r)+"="+encodeURIComponent(t[r]));return(e&&-1!==e.indexOf("?")?"&":"?")+n.join("&")},template:function(t,e){return t.replace(/\{ *([\w_]+) *\}/g,function(t,n){var r=e[n];if(r===i)throw new Error("No value provided for variable "+t);return"function"==typeof r&&(r=r(e)),r})},isArray:Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},emptyImageUrl:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="},function(){function e(e){var i,n,r=["webkit","moz","o","ms"];for(i=0;i<r.length&&!n;i++)n=t[r[i]+e];return n}function i(e){var i=+new Date,r=Math.max(0,16-(i-n));return n=i+r,t.setTimeout(e,r)}var n=0,o=t.requestAnimationFrame||e("RequestAnimationFrame")||i,s=t.cancelAnimationFrame||e("CancelAnimationFrame")||e("CancelRequestAnimationFrame")||function(e){t.clearTimeout(e)};r.Util.requestAnimFrame=function(e,n,s,a){return e=r.bind(e,n),s&&o===i?void e():o.call(t,e,a)},r.Util.cancelAnimFrame=function(e){e&&s.call(t,e)}}(),r.extend=r.Util.extend,r.bind=r.Util.bind,r.stamp=r.Util.stamp,r.setOptions=r.Util.setOptions,r.Class=function(){},r.Class.extend=function(t){var e=function(){this.initialize&&this.initialize.apply(this,arguments),this._initHooks&&this.callInitHooks()},i=function(){};i.prototype=this.prototype;var n=new i;n.constructor=e,e.prototype=n;for(var o in this)this.hasOwnProperty(o)&&"prototype"!==o&&(e[o]=this[o]);t.statics&&(r.extend(e,t.statics),delete t.statics),t.includes&&(r.Util.extend.apply(null,[n].concat(t.includes)),delete t.includes),t.options&&n.options&&(t.options=r.extend({},n.options,t.options)),r.extend(n,t),n._initHooks=[];var s=this;return e.__super__=s.prototype,n.callInitHooks=function(){if(!this._initHooksCalled){s.prototype.callInitHooks&&s.prototype.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=n._initHooks.length;e>t;t++)n._initHooks[t].call(this)}},e},r.Class.include=function(t){r.extend(this.prototype,t)},r.Class.mergeOptions=function(t){r.extend(this.prototype.options,t)},r.Class.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),i="function"==typeof t?t:function(){this[t].apply(this,e)};this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(i)};var o="_leaflet_events";r.Mixin={},r.Mixin.Events={addEventListener:function(t,e,i){if(r.Util.invokeEach(t,this.addEventListener,this,e,i))return this;var n,s,a,l,h,u,c,d=this[o]=this[o]||{},p=i&&i!==this&&r.stamp(i);for(t=r.Util.splitWords(t),n=0,s=t.length;s>n;n++)a={action:e,context:i||this},l=t[n],p?(h=l+"_idx",u=h+"_len",c=d[h]=d[h]||{},c[p]||(c[p]=[],d[u]=(d[u]||0)+1),c[p].push(a)):(d[l]=d[l]||[],d[l].push(a));return this},hasEventListeners:function(t){var e=this[o];return!!e&&(t in e&&e[t].length>0||t+"_idx"in e&&e[t+"_idx_len"]>0)},removeEventListener:function(t,e,i){if(!this[o])return this;if(!t)return this.clearAllEventListeners();if(r.Util.invokeEach(t,this.removeEventListener,this,e,i))return this;var n,s,a,l,h,u,c,d,p,f=this[o],g=i&&i!==this&&r.stamp(i);for(t=r.Util.splitWords(t),n=0,s=t.length;s>n;n++)if(a=t[n],u=a+"_idx",c=u+"_len",d=f[u],e){if(l=g&&d?d[g]:f[a]){for(h=l.length-1;h>=0;h--)l[h].action!==e||i&&l[h].context!==i||(p=l.splice(h,1),p[0].action=r.Util.falseFn);i&&d&&0===l.length&&(delete d[g],f[c]--)}}else delete f[a],delete f[u],delete f[c];return this},clearAllEventListeners:function(){return delete this[o],this},fireEvent:function(t,e){if(!this.hasEventListeners(t))return this;var i,n,s,a,l,h=r.Util.extend({},e,{type:t,target:this}),u=this[o];if(u[t])for(i=u[t].slice(),n=0,s=i.length;s>n;n++)i[n].action.call(i[n].context,h);a=u[t+"_idx"];for(l in a)if(i=a[l].slice())for(n=0,s=i.length;s>n;n++)i[n].action.call(i[n].context,h);return this},addOneTimeEventListener:function(t,e,i){if(r.Util.invokeEach(t,this.addOneTimeEventListener,this,e,i))return this;var n=r.bind(function(){this.removeEventListener(t,e,i).removeEventListener(t,n,i)},this);return this.addEventListener(t,e,i).addEventListener(t,n,i)}},r.Mixin.Events.on=r.Mixin.Events.addEventListener,r.Mixin.Events.off=r.Mixin.Events.removeEventListener,r.Mixin.Events.once=r.Mixin.Events.addOneTimeEventListener,r.Mixin.Events.fire=r.Mixin.Events.fireEvent,function(){var n="ActiveXObject"in t,o=n&&!e.addEventListener,s=navigator.userAgent.toLowerCase(),a=-1!==s.indexOf("webkit"),l=-1!==s.indexOf("chrome"),h=-1!==s.indexOf("phantom"),u=-1!==s.indexOf("android"),c=-1!==s.search("android [23]"),d=-1!==s.indexOf("gecko"),p=typeof orientation!=i+"",f=!t.PointerEvent&&t.MSPointerEvent,g=t.PointerEvent&&t.navigator.pointerEnabled||f,m="devicePixelRatio"in t&&t.devicePixelRatio>1||"matchMedia"in t&&t.matchMedia("(min-resolution:144dpi)")&&t.matchMedia("(min-resolution:144dpi)").matches,v=e.documentElement,y=n&&"transition"in v.style,_="WebKitCSSMatrix"in t&&"m11"in new t.WebKitCSSMatrix&&!c,x="MozPerspective"in v.style,b="OTransition"in v.style,w=!t.L_DISABLE_3D&&(y||_||x||b)&&!h,k=!t.L_NO_TOUCH&&!h&&(g||"ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch);r.Browser={ie:n,ielt9:o,webkit:a,gecko:d&&!a&&!t.opera&&!n,android:u,android23:c,chrome:l,ie3d:y,webkit3d:_,gecko3d:x,opera3d:b,any3d:w,mobile:p,mobileWebkit:p&&a,mobileWebkit3d:p&&_,mobileOpera:p&&t.opera,touch:k,msPointer:f,pointer:g,retina:m}}(),r.Point=function(t,e,i){this.x=i?Math.round(t):t,this.y=i?Math.round(e):e},r.Point.prototype={clone:function(){return new r.Point(this.x,this.y)},add:function(t){return this.clone()._add(r.point(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(r.point(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},distanceTo:function(t){t=r.point(t);var e=t.x-this.x,i=t.y-this.y;return Math.sqrt(e*e+i*i)},equals:function(t){return t=r.point(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=r.point(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+r.Util.formatNum(this.x)+", "+r.Util.formatNum(this.y)+")"}},r.point=function(t,e,n){return t instanceof r.Point?t:r.Util.isArray(t)?new r.Point(t[0],t[1]):t===i||null===t?t:new r.Point(t,e,n)},r.Bounds=function(t,e){if(t)for(var i=e?[t,e]:t,n=0,r=i.length;r>n;n++)this.extend(i[n])},r.Bounds.prototype={extend:function(t){return t=r.point(t),this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(t.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(t.y,this.max.y)):(this.min=t.clone(),this.max=t.clone()),this},getCenter:function(t){return new r.Point((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return new r.Point(this.min.x,this.max.y)},getTopRight:function(){return new r.Point(this.max.x,this.min.y)},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,i;return t="number"==typeof t[0]||t instanceof r.Point?r.point(t):r.bounds(t),t instanceof r.Bounds?(e=t.min,i=t.max):e=i=t,e.x>=this.min.x&&i.x<=this.max.x&&e.y>=this.min.y&&i.y<=this.max.y},intersects:function(t){t=r.bounds(t);var e=this.min,i=this.max,n=t.min,o=t.max,s=o.x>=e.x&&n.x<=i.x,a=o.y>=e.y&&n.y<=i.y;return s&&a},isValid:function(){return!(!this.min||!this.max)}},r.bounds=function(t,e){return!t||t instanceof r.Bounds?t:new r.Bounds(t,e)},r.Transformation=function(t,e,i,n){this._a=t,this._b=e,this._c=i,this._d=n},r.Transformation.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new r.Point((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}},r.DomUtil={get:function(t){return"string"==typeof t?e.getElementById(t):t},getStyle:function(t,i){var n=t.style[i];if(!n&&t.currentStyle&&(n=t.currentStyle[i]),(!n||"auto"===n)&&e.defaultView){var r=e.defaultView.getComputedStyle(t,null);n=r?r[i]:null}return"auto"===n?null:n},getViewportOffset:function(t){var i,n=0,o=0,s=t,a=e.body,l=e.documentElement;do{if(n+=s.offsetTop||0,o+=s.offsetLeft||0,n+=parseInt(r.DomUtil.getStyle(s,"borderTopWidth"),10)||0,o+=parseInt(r.DomUtil.getStyle(s,"borderLeftWidth"),10)||0,i=r.DomUtil.getStyle(s,"position"),s.offsetParent===a&&"absolute"===i)break;if("fixed"===i){n+=a.scrollTop||l.scrollTop||0,o+=a.scrollLeft||l.scrollLeft||0;break}if("relative"===i&&!s.offsetLeft){var h=r.DomUtil.getStyle(s,"width"),u=r.DomUtil.getStyle(s,"max-width"),c=s.getBoundingClientRect();("none"!==h||"none"!==u)&&(o+=c.left+s.clientLeft),n+=c.top+(a.scrollTop||l.scrollTop||0);break}s=s.offsetParent}while(s);s=t;do{if(s===a)break;n-=s.scrollTop||0,o-=s.scrollLeft||0,s=s.parentNode}while(s);return new r.Point(o,n)},documentIsLtr:function(){return r.DomUtil._docIsLtrCached||(r.DomUtil._docIsLtrCached=!0,r.DomUtil._docIsLtr="ltr"===r.DomUtil.getStyle(e.body,"direction")),r.DomUtil._docIsLtr},create:function(t,i,n){var r=e.createElement(t);return r.className=i,n&&n.appendChild(r),r},hasClass:function(t,e){if(t.classList!==i)return t.classList.contains(e);var n=r.DomUtil._getClass(t);return n.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(n)},addClass:function(t,e){if(t.classList!==i)for(var n=r.Util.splitWords(e),o=0,s=n.length;s>o;o++)t.classList.add(n[o]);else if(!r.DomUtil.hasClass(t,e)){var a=r.DomUtil._getClass(t);r.DomUtil._setClass(t,(a?a+" ":"")+e)}},removeClass:function(t,e){t.classList!==i?t.classList.remove(e):r.DomUtil._setClass(t,r.Util.trim((" "+r.DomUtil._getClass(t)+" ").replace(" "+e+" "," ")))},_setClass:function(t,e){t.className.baseVal===i?t.className=e:t.className.baseVal=e},_getClass:function(t){return t.className.baseVal===i?t.className:t.className.baseVal},setOpacity:function(t,e){if("opacity"in t.style)t.style.opacity=e;else if("filter"in t.style){var i=!1,n="DXImageTransform.Microsoft.Alpha";try{i=t.filters.item(n)}catch(t){if(1===e)return}e=Math.round(100*e),i?(i.Enabled=100!==e,i.Opacity=e):t.style.filter+=" progid:"+n+"(opacity="+e+")"}},testProp:function(t){for(var i=e.documentElement.style,n=0;n<t.length;n++)if(t[n]in i)return t[n];return!1},getTranslateString:function(t){var e=r.Browser.webkit3d,i="translate"+(e?"3d":"")+"(",n=(e?",0":"")+")";return i+t.x+"px,"+t.y+"px"+n},getScaleString:function(t,e){return r.DomUtil.getTranslateString(e.add(e.multiplyBy(-1*t)))+" scale("+t+") "},setPosition:function(t,e,i){t._leaflet_pos=e,!i&&r.Browser.any3d?t.style[r.DomUtil.TRANSFORM]=r.DomUtil.getTranslateString(e):(t.style.left=e.x+"px",t.style.top=e.y+"px")},getPosition:function(t){return t._leaflet_pos}},r.DomUtil.TRANSFORM=r.DomUtil.testProp(["transform","WebkitTransform","OTransform","MozTransform","msTransform"]),r.DomUtil.TRANSITION=r.DomUtil.testProp(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),r.DomUtil.TRANSITION_END="webkitTransition"===r.DomUtil.TRANSITION||"OTransition"===r.DomUtil.TRANSITION?r.DomUtil.TRANSITION+"End":"transitionend",function(){if("onselectstart"in e)r.extend(r.DomUtil,{disableTextSelection:function(){r.DomEvent.on(t,"selectstart",r.DomEvent.preventDefault)},enableTextSelection:function(){r.DomEvent.off(t,"selectstart",r.DomEvent.preventDefault)}});else{var i=r.DomUtil.testProp(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);r.extend(r.DomUtil,{disableTextSelection:function(){if(i){var t=e.documentElement.style;this._userSelect=t[i],t[i]="none"}},enableTextSelection:function(){i&&(e.documentElement.style[i]=this._userSelect,delete this._userSelect)}})}r.extend(r.DomUtil,{disableImageDrag:function(){r.DomEvent.on(t,"dragstart",r.DomEvent.preventDefault)},enableImageDrag:function(){r.DomEvent.off(t,"dragstart",r.DomEvent.preventDefault)}})}(),r.LatLng=function(t,e,n){if(t=parseFloat(t),e=parseFloat(e),isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=t,this.lng=e,n!==i&&(this.alt=parseFloat(n))},r.extend(r.LatLng,{DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,MAX_MARGIN:1e-9}),r.LatLng.prototype={equals:function(t){return!!t&&(t=r.latLng(t),Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng))<=r.LatLng.MAX_MARGIN)},toString:function(t){return"LatLng("+r.Util.formatNum(this.lat,t)+", "+r.Util.formatNum(this.lng,t)+")"},distanceTo:function(t){t=r.latLng(t);var e=r.LatLng.DEG_TO_RAD,i=(t.lat-this.lat)*e,n=(t.lng-this.lng)*e,o=this.lat*e,s=t.lat*e,a=Math.sin(i/2),l=Math.sin(n/2),h=a*a+l*l*Math.cos(o)*Math.cos(s);return 12756274*Math.atan2(Math.sqrt(h),Math.sqrt(1-h))},wrap:function(t,e){var i=this.lng;return t=t||-180,e=e||180,i=(i+e)%(e-t)+(t>i||i===e?e:t),new r.LatLng(this.lat,i)}},r.latLng=function(t,e){return t instanceof r.LatLng?t:r.Util.isArray(t)?"number"==typeof t[0]||"string"==typeof t[0]?new r.LatLng(t[0],t[1],t[2]):null:t===i||null===t?t:"object"==typeof t&&"lat"in t?new r.LatLng(t.lat,"lng"in t?t.lng:t.lon):e===i?null:new r.LatLng(t,e)},r.LatLngBounds=function(t,e){if(t)for(var i=e?[t,e]:t,n=0,r=i.length;r>n;n++)this.extend(i[n])},r.LatLngBounds.prototype={extend:function(t){if(!t)return this;var e=r.latLng(t);return t=null!==e?e:r.latLngBounds(t),t instanceof r.LatLng?this._southWest||this._northEast?(this._southWest.lat=Math.min(t.lat,this._southWest.lat),this._southWest.lng=Math.min(t.lng,this._southWest.lng),this._northEast.lat=Math.max(t.lat,this._northEast.lat),this._northEast.lng=Math.max(t.lng,this._northEast.lng)):(this._southWest=new r.LatLng(t.lat,t.lng),this._northEast=new r.LatLng(t.lat,t.lng)):t instanceof r.LatLngBounds&&(this.extend(t._southWest),this.extend(t._northEast)),this},pad:function(t){var e=this._southWest,i=this._northEast,n=Math.abs(e.lat-i.lat)*t,o=Math.abs(e.lng-i.lng)*t;return new r.LatLngBounds(new r.LatLng(e.lat-n,e.lng-o),new r.LatLng(i.lat+n,i.lng+o))},getCenter:function(){return new r.LatLng((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new r.LatLng(this.getNorth(),this.getWest())},getSouthEast:function(){return new r.LatLng(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t="number"==typeof t[0]||t instanceof r.LatLng?r.latLng(t):r.latLngBounds(t);var e,i,n=this._southWest,o=this._northEast;return t instanceof r.LatLngBounds?(e=t.getSouthWest(),i=t.getNorthEast()):e=i=t,e.lat>=n.lat&&i.lat<=o.lat&&e.lng>=n.lng&&i.lng<=o.lng},intersects:function(t){t=r.latLngBounds(t);var e=this._southWest,i=this._northEast,n=t.getSouthWest(),o=t.getNorthEast(),s=o.lat>=e.lat&&n.lat<=i.lat,a=o.lng>=e.lng&&n.lng<=i.lng;return s&&a},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t){return!!t&&(t=r.latLngBounds(t),this._southWest.equals(t.getSouthWest())&&this._northEast.equals(t.getNorthEast()))},isValid:function(){return!(!this._southWest||!this._northEast)}},r.latLngBounds=function(t,e){return!t||t instanceof r.LatLngBounds?t:new r.LatLngBounds(t,e)},r.Projection={},r.Projection.SphericalMercator={MAX_LATITUDE:85.0511287798,project:function(t){var e=r.LatLng.DEG_TO_RAD,i=this.MAX_LATITUDE,n=Math.max(Math.min(i,t.lat),-i),o=t.lng*e,s=n*e;return s=Math.log(Math.tan(Math.PI/4+s/2)),new r.Point(o,s)},unproject:function(t){var e=r.LatLng.RAD_TO_DEG,i=t.x*e,n=(2*Math.atan(Math.exp(t.y))-Math.PI/2)*e;return new r.LatLng(n,i)}},r.Projection.LonLat={project:function(t){return new r.Point(t.lng,t.lat)},unproject:function(t){return new r.LatLng(t.y,t.x)}},r.CRS={latLngToPoint:function(t,e){var i=this.projection.project(t),n=this.scale(e);return this.transformation._transform(i,n)},pointToLatLng:function(t,e){var i=this.scale(e),n=this.transformation.untransform(t,i);return this.projection.unproject(n)},project:function(t){return this.projection.project(t)},scale:function(t){return 256*Math.pow(2,t)},getSize:function(t){var e=this.scale(t);return r.point(e,e)}},r.CRS.Simple=r.extend({},r.CRS,{projection:r.Projection.LonLat,transformation:new r.Transformation(1,0,-1,0),scale:function(t){return Math.pow(2,t)}}),r.CRS.EPSG3857=r.extend({},r.CRS,{code:"EPSG:3857",projection:r.Projection.SphericalMercator,transformation:new r.Transformation(.5/Math.PI,.5,-.5/Math.PI,.5),project:function(t){return this.projection.project(t).multiplyBy(6378137)}}),r.CRS.EPSG900913=r.extend({},r.CRS.EPSG3857,{code:"EPSG:900913"}),r.CRS.EPSG4326=r.extend({},r.CRS,{code:"EPSG:4326",projection:r.Projection.LonLat,transformation:new r.Transformation(1/360,.5,-1/360,.5)}),r.Map=r.Class.extend({includes:r.Mixin.Events,options:{crs:r.CRS.EPSG3857,fadeAnimation:r.DomUtil.TRANSITION&&!r.Browser.android23,trackResize:!0,markerZoomAnimation:r.DomUtil.TRANSITION&&r.Browser.any3d},initialize:function(t,e){e=r.setOptions(this,e),this._initContainer(t),this._initLayout(),this._onResize=r.bind(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),e.center&&e.zoom!==i&&this.setView(r.latLng(e.center),e.zoom,{reset:!0}),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._tileLayersNum=0,this.callInitHooks(),this._addLayers(e.layers)},setView:function(t,e){return e=e===i?this.getZoom():e,this._resetView(r.latLng(t),this._limitZoom(e)),this},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=this._limitZoom(t),this)},zoomIn:function(t,e){return this.setZoom(this._zoom+(t||1),e)},zoomOut:function(t,e){return this.setZoom(this._zoom-(t||1),e)},setZoomAround:function(t,e,i){var n=this.getZoomScale(e),o=this.getSize().divideBy(2),s=t instanceof r.Point?t:this.latLngToContainerPoint(t),a=s.subtract(o).multiplyBy(1-1/n),l=this.containerPointToLatLng(o.add(a));return this.setView(l,e,{zoom:i})},fitBounds:function(t,e){e=e||{},t=t.getBounds?t.getBounds():r.latLngBounds(t);var i=r.point(e.paddingTopLeft||e.padding||[0,0]),n=r.point(e.paddingBottomRight||e.padding||[0,0]),o=this.getBoundsZoom(t,!1,i.add(n));o=e.maxZoom?Math.min(e.maxZoom,o):o;var s=n.subtract(i).divideBy(2),a=this.project(t.getSouthWest(),o),l=this.project(t.getNorthEast(),o),h=this.unproject(a.add(l).divideBy(2).add(s),o);return this.setView(h,o,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t){return this.fire("movestart"),this._rawPanBy(r.point(t)),this.fire("move"),this.fire("moveend")},setMaxBounds:function(t){return t=r.latLngBounds(t),this.options.maxBounds=t,t?(this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds,this)):this.off("moveend",this._panInsideMaxBounds,this)},panInsideBounds:function(t,e){var i=this.getCenter(),n=this._limitCenter(i,this._zoom,t);return i.equals(n)?this:this.panTo(n,e)},addLayer:function(t){var e=r.stamp(t);return this._layers[e]?this:(this._layers[e]=t,!t.options||isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[e]=t,this._updateZoomLevels()),this.options.zoomAnimation&&r.TileLayer&&t instanceof r.TileLayer&&(this._tileLayersNum++,this._tileLayersToLoad++,t.on("load",this._onTileLayerLoad,this)),this._loaded&&this._layerAdd(t),this)},removeLayer:function(t){var e=r.stamp(t);return this._layers[e]?(this._loaded&&t.onRemove(this),delete this._layers[e],this._loaded&&this.fire("layerremove",{layer:t}),this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels()),this.options.zoomAnimation&&r.TileLayer&&t instanceof r.TileLayer&&(this._tileLayersNum--,this._tileLayersToLoad--,t.off("load",this._onTileLayerLoad,this)),this):this},hasLayer:function(t){return!!t&&r.stamp(t)in this._layers},eachLayer:function(t,e){for(var i in this._layers)t.call(e,this._layers[i]);return this},invalidateSize:function(t){if(!this._loaded)return this;t=r.extend({animate:!1,pan:!0},!0===t?{animate:!0}:t);var e=this.getSize();this._sizeChanged=!0,this._initialCenter=null;var i=this.getSize(),n=e.divideBy(2).round(),o=i.divideBy(2).round(),s=n.subtract(o);return s.x||s.y?(t.animate&&t.pan?this.panBy(s):(t.pan&&this._rawPanBy(s),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(r.bind(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:e,newSize:i})):this},addHandler:function(t,e){if(!e)return this;var i=this[t]=new e(this);return this._handlers.push(i),this.options[t]&&i.enable(),this},remove:function(){this._loaded&&this.fire("unload"),this._initEvents("off");try{delete this._container._leaflet}catch(t){this._container._leaflet=i}return this._clearPanes(),this._clearControlPos&&this._clearControlPos(),this._clearHandlers(),this},getCenter:function(){return this._checkIfLoaded(),this._initialCenter&&!this._moved()?this._initialCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),e=this.unproject(t.getBottomLeft()),i=this.unproject(t.getTopRight());return new r.LatLngBounds(e,i)},getMinZoom:function(){return this.options.minZoom===i?this._layersMinZoom===i?0:this._layersMinZoom:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===i?this._layersMaxZoom===i?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,i){t=r.latLngBounds(t);var n,o=this.getMinZoom()-(e?1:0),s=this.getMaxZoom(),a=this.getSize(),l=t.getNorthWest(),h=t.getSouthEast(),u=!0;i=r.point(i||[0,0]);do{o++,n=this.project(h,o).subtract(this.project(l,o)).add(i),u=e?n.x<a.x||n.y<a.y:a.contains(n)}while(u&&s>=o);return u&&e?null:e?o:o-1},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new r.Point(this._container.clientWidth,this._container.clientHeight),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(){var t=this._getTopLeftPoint();return new r.Bounds(t,t.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._initialTopLeftPoint},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t){var e=this.options.crs;return e.scale(t)/e.scale(this._zoom)},getScaleZoom:function(t){return this._zoom+Math.log(t)/Math.LN2},project:function(t,e){return e=e===i?this._zoom:e,this.options.crs.latLngToPoint(r.latLng(t),e)},unproject:function(t,e){return e=e===i?this._zoom:e,this.options.crs.pointToLatLng(r.point(t),e)},layerPointToLatLng:function(t){var e=r.point(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){return this.project(r.latLng(t))._round()._subtract(this.getPixelOrigin())},containerPointToLayerPoint:function(t){return r.point(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return r.point(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(r.point(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(r.latLng(t)))},mouseEventToContainerPoint:function(t){return r.DomEvent.getMousePosition(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=r.DomUtil.get(t);if(!e)throw new Error("Map container not found.")
;if(e._leaflet)throw new Error("Map container is already initialized.");e._leaflet=!0},_initLayout:function(){var t=this._container;r.DomUtil.addClass(t,"leaflet-container"+(r.Browser.touch?" leaflet-touch":"")+(r.Browser.retina?" leaflet-retina":"")+(r.Browser.ielt9?" leaflet-oldie":"")+(this.options.fadeAnimation?" leaflet-fade-anim":""));var e=r.DomUtil.getStyle(t,"position");"absolute"!==e&&"relative"!==e&&"fixed"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._mapPane=t.mapPane=this._createPane("leaflet-map-pane",this._container),this._tilePane=t.tilePane=this._createPane("leaflet-tile-pane",this._mapPane),t.objectsPane=this._createPane("leaflet-objects-pane",this._mapPane),t.shadowPane=this._createPane("leaflet-shadow-pane"),t.overlayPane=this._createPane("leaflet-overlay-pane"),t.markerPane=this._createPane("leaflet-marker-pane"),t.popupPane=this._createPane("leaflet-popup-pane");var e=" leaflet-zoom-hide";this.options.markerZoomAnimation||(r.DomUtil.addClass(t.markerPane,e),r.DomUtil.addClass(t.shadowPane,e),r.DomUtil.addClass(t.popupPane,e))},_createPane:function(t,e){return r.DomUtil.create("div",t,e||this._panes.objectsPane)},_clearPanes:function(){this._container.removeChild(this._mapPane)},_addLayers:function(t){t=t?r.Util.isArray(t)?t:[t]:[];for(var e=0,i=t.length;i>e;e++)this.addLayer(t[e])},_resetView:function(t,e,i,n){var o=this._zoom!==e;n||(this.fire("movestart"),o&&this.fire("zoomstart")),this._zoom=e,this._initialCenter=t,this._initialTopLeftPoint=this._getNewTopLeftPoint(t),i?this._initialTopLeftPoint._add(this._getMapPanePos()):r.DomUtil.setPosition(this._mapPane,new r.Point(0,0)),this._tileLayersToLoad=this._tileLayersNum;var s=!this._loaded;this._loaded=!0,this.fire("viewreset",{hard:!i}),s&&(this.fire("load"),this.eachLayer(this._layerAdd,this)),this.fire("move"),(o||n)&&this.fire("zoomend"),this.fire("moveend",{hard:!i})},_rawPanBy:function(t){r.DomUtil.setPosition(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_updateZoomLevels:function(){var t,e=1/0,n=-1/0,r=this._getZoomSpan();for(t in this._zoomBoundLayers){var o=this._zoomBoundLayers[t];isNaN(o.options.minZoom)||(e=Math.min(e,o.options.minZoom)),isNaN(o.options.maxZoom)||(n=Math.max(n,o.options.maxZoom))}t===i?this._layersMaxZoom=this._layersMinZoom=i:(this._layersMaxZoom=n,this._layersMinZoom=e),r!==this._getZoomSpan()&&this.fire("zoomlevelschange")},_panInsideMaxBounds:function(){this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){if(r.DomEvent){e=e||"on",r.DomEvent[e](this._container,"click",this._onMouseClick,this);var i,n,o=["dblclick","mousedown","mouseup","mouseenter","mouseleave","mousemove","contextmenu"];for(i=0,n=o.length;n>i;i++)r.DomEvent[e](this._container,o[i],this._fireMouseEvent,this);this.options.trackResize&&r.DomEvent[e](t,"resize",this._onResize,this)}},_onResize:function(){r.Util.cancelAnimFrame(this._resizeRequest),this._resizeRequest=r.Util.requestAnimFrame(function(){this.invalidateSize({debounceMoveend:!0})},this,!1,this._container)},_onMouseClick:function(t){!this._loaded||!t._simulated&&(this.dragging&&this.dragging.moved()||this.boxZoom&&this.boxZoom.moved())||r.DomEvent._skipped(t)||(this.fire("preclick"),this._fireMouseEvent(t))},_fireMouseEvent:function(t){if(this._loaded&&!r.DomEvent._skipped(t)){var e=t.type;if(e="mouseenter"===e?"mouseover":"mouseleave"===e?"mouseout":e,this.hasEventListeners(e)){"contextmenu"===e&&r.DomEvent.preventDefault(t);var i=this.mouseEventToContainerPoint(t),n=this.containerPointToLayerPoint(i),o=this.layerPointToLatLng(n);this.fire(e,{latlng:o,layerPoint:n,containerPoint:i,originalEvent:t})}}},_onTileLayerLoad:function(){this._tileLayersToLoad--,this._tileLayersNum&&!this._tileLayersToLoad&&this.fire("tilelayersload")},_clearHandlers:function(){for(var t=0,e=this._handlers.length;e>t;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,this):this.on("load",t,e),this},_layerAdd:function(t){t.onAdd(this),this.fire("layeradd",{layer:t})},_getMapPanePos:function(){return r.DomUtil.getPosition(this._mapPane)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(){return this.getPixelOrigin().subtract(this._getMapPanePos())},_getNewTopLeftPoint:function(t,e){var i=this.getSize()._divideBy(2);return this.project(t,e)._subtract(i)._round()},_latLngToNewLayerPoint:function(t,e,i){var n=this._getNewTopLeftPoint(i,e).add(this._getMapPanePos());return this.project(t,e)._subtract(n)},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,i){if(!i)return t;var n=this.project(t,e),o=this.getSize().divideBy(2),s=new r.Bounds(n.subtract(o),n.add(o)),a=this._getBoundsOffset(s,i,e);return this.unproject(n.add(a),e)},_limitOffset:function(t,e){if(!e)return t;var i=this.getPixelBounds(),n=new r.Bounds(i.min.add(t),i.max.add(t));return t.add(this._getBoundsOffset(n,e))},_getBoundsOffset:function(t,e,i){var n=this.project(e.getNorthWest(),i).subtract(t.min),o=this.project(e.getSouthEast(),i).subtract(t.max),s=this._rebound(n.x,-o.x),a=this._rebound(n.y,-o.y);return new r.Point(s,a)},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),i=this.getMaxZoom();return Math.max(e,Math.min(i,t))}}),r.map=function(t,e){return new r.Map(t,e)},r.Projection.Mercator={MAX_LATITUDE:85.0840591556,R_MINOR:6356752.314245179,R_MAJOR:6378137,project:function(t){var e=r.LatLng.DEG_TO_RAD,i=this.MAX_LATITUDE,n=Math.max(Math.min(i,t.lat),-i),o=this.R_MAJOR,s=this.R_MINOR,a=t.lng*e*o,l=n*e,h=s/o,u=Math.sqrt(1-h*h),c=u*Math.sin(l);c=Math.pow((1-c)/(1+c),.5*u);var d=Math.tan(.5*(.5*Math.PI-l))/c;return l=-o*Math.log(d),new r.Point(a,l)},unproject:function(t){for(var e,i=r.LatLng.RAD_TO_DEG,n=this.R_MAJOR,o=this.R_MINOR,s=t.x*i/n,a=o/n,l=Math.sqrt(1-a*a),h=Math.exp(-t.y/n),u=Math.PI/2-2*Math.atan(h),c=15,d=.1;Math.abs(d)>1e-7&&--c>0;)e=l*Math.sin(u),d=Math.PI/2-2*Math.atan(h*Math.pow((1-e)/(1+e),.5*l))-u,u+=d;return new r.LatLng(u*i,s)}},r.CRS.EPSG3395=r.extend({},r.CRS,{code:"EPSG:3395",projection:r.Projection.Mercator,transformation:function(){var t=r.Projection.Mercator,e=t.R_MAJOR,i=.5/(Math.PI*e);return new r.Transformation(i,.5,-i,.5)}()}),r.TileLayer=r.Class.extend({includes:r.Mixin.Events,options:{minZoom:0,maxZoom:18,tileSize:256,subdomains:"abc",errorTileUrl:"",attribution:"",zoomOffset:0,opacity:1,unloadInvisibleTiles:r.Browser.mobile,updateWhenIdle:r.Browser.mobile},initialize:function(t,e){e=r.setOptions(this,e),e.detectRetina&&r.Browser.retina&&e.maxZoom>0&&(e.tileSize=Math.floor(e.tileSize/2),e.zoomOffset++,e.minZoom>0&&e.minZoom--,this.options.maxZoom--),e.bounds&&(e.bounds=r.latLngBounds(e.bounds)),this._url=t;var i=this.options.subdomains;"string"==typeof i&&(this.options.subdomains=i.split(""))},onAdd:function(t){this._map=t,this._animated=t._zoomAnimated,this._initContainer(),t.on({viewreset:this._reset,moveend:this._update},this),this._animated&&t.on({zoomanim:this._animateZoom,zoomend:this._endZoomAnim},this),this.options.updateWhenIdle||(this._limitedUpdate=r.Util.limitExecByInterval(this._update,150,this),t.on("move",this._limitedUpdate,this)),this._reset(),this._update()},addTo:function(t){return t.addLayer(this),this},onRemove:function(t){this._container.parentNode.removeChild(this._container),t.off({viewreset:this._reset,moveend:this._update},this),this._animated&&t.off({zoomanim:this._animateZoom,zoomend:this._endZoomAnim},this),this.options.updateWhenIdle||t.off("move",this._limitedUpdate,this),this._container=null,this._map=null},bringToFront:function(){var t=this._map._panes.tilePane;return this._container&&(t.appendChild(this._container),this._setAutoZIndex(t,Math.max)),this},bringToBack:function(){var t=this._map._panes.tilePane;return this._container&&(t.insertBefore(this._container,t.firstChild),this._setAutoZIndex(t,Math.min)),this},getAttribution:function(){return this.options.attribution},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},setUrl:function(t,e){return this._url=t,e||this.redraw(),this},redraw:function(){return this._map&&(this._reset({hard:!0}),this._update()),this},_updateZIndex:function(){this._container&&this.options.zIndex!==i&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t,e){var i,n,r,o=t.children,s=-e(1/0,-1/0);for(n=0,r=o.length;r>n;n++)o[n]!==this._container&&(i=parseInt(o[n].style.zIndex,10),isNaN(i)||(s=e(s,i)));this.options.zIndex=this._container.style.zIndex=(isFinite(s)?s:0)+e(1,-1)},_updateOpacity:function(){var t,e=this._tiles;if(r.Browser.ielt9)for(t in e)r.DomUtil.setOpacity(e[t],this.options.opacity);else r.DomUtil.setOpacity(this._container,this.options.opacity)},_initContainer:function(){var t=this._map._panes.tilePane;if(!this._container){if(this._container=r.DomUtil.create("div","leaflet-layer"),this._updateZIndex(),this._animated){var e="leaflet-tile-container";this._bgBuffer=r.DomUtil.create("div",e,this._container),this._tileContainer=r.DomUtil.create("div",e,this._container)}else this._tileContainer=this._container;t.appendChild(this._container),this.options.opacity<1&&this._updateOpacity()}},_reset:function(t){for(var e in this._tiles)this.fire("tileunload",{tile:this._tiles[e]});this._tiles={},this._tilesToLoad=0,this.options.reuseTiles&&(this._unusedTiles=[]),this._tileContainer.innerHTML="",this._animated&&t&&t.hard&&this._clearBgBuffer(),this._initContainer()},_getTileSize:function(){var t=this._map,e=t.getZoom()+this.options.zoomOffset,i=this.options.maxNativeZoom,n=this.options.tileSize;return i&&e>i&&(n=Math.round(t.getZoomScale(e)/t.getZoomScale(i)*n)),n},_update:function(){if(this._map){var t=this._map,e=t.getPixelBounds(),i=t.getZoom(),n=this._getTileSize();if(!(i>this.options.maxZoom||i<this.options.minZoom)){var o=r.bounds(e.min.divideBy(n)._floor(),e.max.divideBy(n)._floor());this._addTilesFromCenterOut(o),(this.options.unloadInvisibleTiles||this.options.reuseTiles)&&this._removeOtherTiles(o)}}},_addTilesFromCenterOut:function(t){var i,n,o,s=[],a=t.getCenter();for(i=t.min.y;i<=t.max.y;i++)for(n=t.min.x;n<=t.max.x;n++)o=new r.Point(n,i),this._tileShouldBeLoaded(o)&&s.push(o);var l=s.length;if(0!==l){s.sort(function(t,e){return t.distanceTo(a)-e.distanceTo(a)});var h=e.createDocumentFragment();for(this._tilesToLoad||this.fire("loading"),this._tilesToLoad+=l,n=0;l>n;n++)this._addTile(s[n],h);this._tileContainer.appendChild(h)}},_tileShouldBeLoaded:function(t){if(t.x+":"+t.y in this._tiles)return!1;var e=this.options;if(!e.continuousWorld){var i=this._getWrapTileNum();if(e.noWrap&&(t.x<0||t.x>=i.x)||t.y<0||t.y>=i.y)return!1}if(e.bounds){var n=this._getTileSize(),r=t.multiplyBy(n),o=r.add([n,n]),s=this._map.unproject(r),a=this._map.unproject(o);if(e.continuousWorld||e.noWrap||(s=s.wrap(),a=a.wrap()),!e.bounds.intersects([s,a]))return!1}return!0},_removeOtherTiles:function(t){var e,i,n,r;for(r in this._tiles)e=r.split(":"),i=parseInt(e[0],10),n=parseInt(e[1],10),(i<t.min.x||i>t.max.x||n<t.min.y||n>t.max.y)&&this._removeTile(r)},_removeTile:function(t){var e=this._tiles[t];this.fire("tileunload",{tile:e,url:e.src}),this.options.reuseTiles?(r.DomUtil.removeClass(e,"leaflet-tile-loaded"),this._unusedTiles.push(e)):e.parentNode===this._tileContainer&&this._tileContainer.removeChild(e),r.Browser.android||(e.onload=null,e.src=r.Util.emptyImageUrl),delete this._tiles[t]},_addTile:function(t,e){var i=this._getTilePos(t),n=this._getTile();r.DomUtil.setPosition(n,i,r.Browser.chrome),this._tiles[t.x+":"+t.y]=n,this._loadTile(n,t),n.parentNode!==this._tileContainer&&e.appendChild(n)},_getZoomForUrl:function(){var t=this.options,e=this._map.getZoom();return t.zoomReverse&&(e=t.maxZoom-e),e+=t.zoomOffset,t.maxNativeZoom?Math.min(e,t.maxNativeZoom):e},_getTilePos:function(t){var e=this._map.getPixelOrigin(),i=this._getTileSize();return t.multiplyBy(i).subtract(e)},getTileUrl:function(t){return r.Util.template(this._url,r.extend({s:this._getSubdomain(t),z:t.z,x:t.x,y:t.y},this.options))},_getWrapTileNum:function(){return this._map.options.crs.getSize(this._map.getZoom()).divideBy(this._getTileSize())._floor()},_adjustTilePoint:function(t){var e=this._getWrapTileNum();this.options.continuousWorld||this.options.noWrap||(t.x=(t.x%e.x+e.x)%e.x),this.options.tms&&(t.y=e.y-t.y-1),t.z=this._getZoomForUrl()},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_getTile:function(){if(this.options.reuseTiles&&this._unusedTiles.length>0){var t=this._unusedTiles.pop();return this._resetTile(t),t}return this._createTile()},_resetTile:function(){},_createTile:function(){var t=r.DomUtil.create("img","leaflet-tile");return t.style.width=t.style.height=this._getTileSize()+"px",t.galleryimg="no",t.onselectstart=t.onmousemove=r.Util.falseFn,r.Browser.ielt9&&this.options.opacity!==i&&r.DomUtil.setOpacity(t,this.options.opacity),r.Browser.mobileWebkit3d&&(t.style.WebkitBackfaceVisibility="hidden"),t},_loadTile:function(t,e){t._layer=this,t.onload=this._tileOnLoad,t.onerror=this._tileOnError,this._adjustTilePoint(e),t.src=this.getTileUrl(e),this.fire("tileloadstart",{tile:t,url:t.src})},_tileLoaded:function(){this._tilesToLoad--,this._animated&&r.DomUtil.addClass(this._tileContainer,"leaflet-zoom-animated"),this._tilesToLoad||(this.fire("load"),this._animated&&(clearTimeout(this._clearBgBufferTimer),this._clearBgBufferTimer=setTimeout(r.bind(this._clearBgBuffer,this),500)))},_tileOnLoad:function(){var t=this._layer;this.src!==r.Util.emptyImageUrl&&(r.DomUtil.addClass(this,"leaflet-tile-loaded"),t.fire("tileload",{tile:this,url:this.src})),t._tileLoaded()},_tileOnError:function(){var t=this._layer;t.fire("tileerror",{tile:this,url:this.src});var e=t.options.errorTileUrl;e&&(this.src=e),t._tileLoaded()}}),r.tileLayer=function(t,e){return new r.TileLayer(t,e)},r.TileLayer.WMS=r.TileLayer.extend({defaultWmsParams:{service:"WMS",request:"GetMap",version:"1.1.1",layers:"",styles:"",format:"image/jpeg",transparent:!1},initialize:function(t,e){this._url=t;var i=r.extend({},this.defaultWmsParams),n=e.tileSize||this.options.tileSize;e.detectRetina&&r.Browser.retina?i.width=i.height=2*n:i.width=i.height=n;for(var o in e)this.options.hasOwnProperty(o)||"crs"===o||(i[o]=e[o]);this.wmsParams=i,r.setOptions(this,e)},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,r.TileLayer.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._map,i=this.options.tileSize,n=t.multiplyBy(i),o=n.add([i,i]),s=this._crs.project(e.unproject(n,t.z)),a=this._crs.project(e.unproject(o,t.z)),l=this._wmsVersion>=1.3&&this._crs===r.CRS.EPSG4326?[a.y,s.x,s.y,a.x].join(","):[s.x,a.y,a.x,s.y].join(","),h=r.Util.template(this._url,{s:this._getSubdomain(t)});return h+r.Util.getParamString(this.wmsParams,h,!0)+"&BBOX="+l},setParams:function(t,e){return r.extend(this.wmsParams,t),e||this.redraw(),this}}),r.tileLayer.wms=function(t,e){return new r.TileLayer.WMS(t,e)},r.TileLayer.Canvas=r.TileLayer.extend({options:{async:!1},initialize:function(t){r.setOptions(this,t)},redraw:function(){this._map&&(this._reset({hard:!0}),this._update());for(var t in this._tiles)this._redrawTile(this._tiles[t]);return this},_redrawTile:function(t){this.drawTile(t,t._tilePoint,this._map._zoom)},_createTile:function(){var t=r.DomUtil.create("canvas","leaflet-tile");return t.width=t.height=this.options.tileSize,t.onselectstart=t.onmousemove=r.Util.falseFn,t},_loadTile:function(t,e){t._layer=this,t._tilePoint=e,this._redrawTile(t),this.options.async||this.tileDrawn(t)},drawTile:function(){},tileDrawn:function(t){this._tileOnLoad.call(t)}}),r.tileLayer.canvas=function(t){return new r.TileLayer.Canvas(t)},r.ImageOverlay=r.Class.extend({includes:r.Mixin.Events,options:{opacity:1},initialize:function(t,e,i){this._url=t,this._bounds=r.latLngBounds(e),r.setOptions(this,i)},onAdd:function(t){this._map=t,this._image||this._initImage(),t._panes.overlayPane.appendChild(this._image),t.on("viewreset",this._reset,this),t.options.zoomAnimation&&r.Browser.any3d&&t.on("zoomanim",this._animateZoom,this),this._reset()},onRemove:function(t){t.getPanes().overlayPane.removeChild(this._image),t.off("viewreset",this._reset,this),t.options.zoomAnimation&&t.off("zoomanim",this._animateZoom,this)},addTo:function(t){return t.addLayer(this),this},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},bringToFront:function(){return this._image&&this._map._panes.overlayPane.appendChild(this._image),this},bringToBack:function(){var t=this._map._panes.overlayPane;return this._image&&t.insertBefore(this._image,t.firstChild),this},setUrl:function(t){this._url=t,this._image.src=this._url},getAttribution:function(){return this.options.attribution},_initImage:function(){this._image=r.DomUtil.create("img","leaflet-image-layer"),this._map.options.zoomAnimation&&r.Browser.any3d?r.DomUtil.addClass(this._image,"leaflet-zoom-animated"):r.DomUtil.addClass(this._image,"leaflet-zoom-hide"),this._updateOpacity(),r.extend(this._image,{galleryimg:"no",onselectstart:r.Util.falseFn,onmousemove:r.Util.falseFn,onload:r.bind(this._onImageLoad,this),src:this._url})},_animateZoom:function(t){var e=this._map,i=this._image,n=e.getZoomScale(t.zoom),o=this._bounds.getNorthWest(),s=this._bounds.getSouthEast(),a=e._latLngToNewLayerPoint(o,t.zoom,t.center),l=e._latLngToNewLayerPoint(s,t.zoom,t.center)._subtract(a),h=a._add(l._multiplyBy(.5*(1-1/n)));i.style[r.DomUtil.TRANSFORM]=r.DomUtil.getTranslateString(h)+" scale("+n+") "},_reset:function(){var t=this._image,e=this._map.latLngToLayerPoint(this._bounds.getNorthWest()),i=this._map.latLngToLayerPoint(this._bounds.getSouthEast())._subtract(e);r.DomUtil.setPosition(t,e),t.style.width=i.x+"px",t.style.height=i.y+"px"},_onImageLoad:function(){this.fire("load")},_updateOpacity:function(){r.DomUtil.setOpacity(this._image,this.options.opacity)}}),r.imageOverlay=function(t,e,i){return new r.ImageOverlay(t,e,i)},r.Icon=r.Class.extend({options:{className:""},initialize:function(t){r.setOptions(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var i=this._getIconUrl(t);if(!i){if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var n;return n=e&&"IMG"===e.tagName?this._createImg(i,e):this._createImg(i),this._setIconStyles(n,t),n},_setIconStyles:function(t,e){var i,n=this.options,o=r.point(n[e+"Size"]);i="shadow"===e?r.point(n.shadowAnchor||n.iconAnchor):r.point(n.iconAnchor),!i&&o&&(i=o.divideBy(2,!0)),t.className="leaflet-marker-"+e+" "+n.className,i&&(t.style.marginLeft=-i.x+"px",t.style.marginTop=-i.y+"px"),o&&(t.style.width=o.x+"px",t.style.height=o.y+"px")},_createImg:function(t,i){return i=i||e.createElement("img"),i.src=t,i},_getIconUrl:function(t){return r.Browser.retina&&this.options[t+"RetinaUrl"]?this.options[t+"RetinaUrl"]:this.options[t+"Url"]}}),r.icon=function(t){return new r.Icon(t)},r.Icon.Default=r.Icon.extend({options:{iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]},_getIconUrl:function(t){var e=t+"Url";if(this.options[e])return this.options[e];r.Browser.retina&&"icon"===t&&(t+="-2x");var i=r.Icon.Default.imagePath;if(!i)throw new Error("Couldn't autodetect L.Icon.Default.imagePath, set it manually.");return i+"/marker-"+t+".png"}}),r.Icon.Default.imagePath=function(){var t,i,n,r,o=e.getElementsByTagName("script"),s=/[\/^]leaflet[\-\._]?([\w\-\._]*)\.js\??/;for(t=0,i=o.length;i>t;t++)if(n=o[t].src,n.match(s))return r=n.split(s)[0],(r?r+"/":"")+"images"}(),r.Marker=r.Class.extend({includes:r.Mixin.Events,options:{icon:new r.Icon.Default,title:"",alt:"",clickable:!0,draggable:!1,keyboard:!0,zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250},initialize:function(t,e){r.setOptions(this,e),this._latlng=r.latLng(t)},onAdd:function(t){this._map=t,t.on("viewreset",this.update,this),this._initIcon(),this.update(),this.fire("add"),t.options.zoomAnimation&&t.options.markerZoomAnimation&&t.on("zoomanim",this._animateZoom,this)},addTo:function(t){return t.addLayer(this),this},onRemove:function(t){this.dragging&&this.dragging.disable(),this._removeIcon(),this._removeShadow(),this.fire("remove"),t.off({viewreset:this.update,zoomanim:this._animateZoom},this),this._map=null},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=r.latLng(t),this.update(),this.fire("move",{latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update(),this},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup),this},update:function(){return this._icon&&this._setPos(this._map.latLngToLayerPoint(this._latlng).round()),this},_initIcon:function(){var t=this.options,e=this._map,i=e.options.zoomAnimation&&e.options.markerZoomAnimation,n=i?"leaflet-zoom-animated":"leaflet-zoom-hide",o=t.icon.createIcon(this._icon),s=!1;o!==this._icon&&(this._icon&&this._removeIcon(),s=!0,t.title&&(o.title=t.title),t.alt&&(o.alt=t.alt)),r.DomUtil.addClass(o,n),t.keyboard&&(o.tabIndex="0"),this._icon=o,this._initInteraction(),t.riseOnHover&&r.DomEvent.on(o,"mouseover",this._bringToFront,this).on(o,"mouseout",this._resetZIndex,this);var a=t.icon.createShadow(this._shadow),l=!1;a!==this._shadow&&(this._removeShadow(),l=!0),a&&r.DomUtil.addClass(a,n),this._shadow=a,t.opacity<1&&this._updateOpacity();var h=this._map._panes;s&&h.markerPane.appendChild(this._icon),a&&l&&h.shadowPane.appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&r.DomEvent.off(this._icon,"mouseover",this._bringToFront).off(this._icon,"mouseout",this._resetZIndex),this._map._panes.markerPane.removeChild(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&this._map._panes.shadowPane.removeChild(this._shadow),this._shadow=null},_setPos:function(t){r.DomUtil.setPosition(this._icon,t),this._shadow&&r.DomUtil.setPosition(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon.style.zIndex=this._zIndex+t},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.clickable){var t=this._icon,e=["dblclick","mousedown","mouseover","mouseout","contextmenu"];r.DomUtil.addClass(t,"leaflet-clickable"),r.DomEvent.on(t,"click",this._onMouseClick,this),r.DomEvent.on(t,"keypress",this._onKeyPress,this);for(var i=0;i<e.length;i++)r.DomEvent.on(t,e[i],this._fireMouseEvent,this);r.Handler.MarkerDrag&&(this.dragging=new r.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())}},_onMouseClick:function(t){var e=this.dragging&&this.dragging.moved();(this.hasEventListeners(t.type)||e)&&r.DomEvent.stopPropagation(t),e||(this.dragging&&this.dragging._enabled||!this._map.dragging||!this._map.dragging.moved())&&this.fire(t.type,{originalEvent:t,latlng:this._latlng})},_onKeyPress:function(t){13===t.keyCode&&this.fire("click",{originalEvent:t,latlng:this._latlng})},_fireMouseEvent:function(t){this.fire(t.type,{originalEvent:t,latlng:this._latlng}),"contextmenu"===t.type&&this.hasEventListeners(t.type)&&r.DomEvent.preventDefault(t),"mousedown"!==t.type?r.DomEvent.stopPropagation(t):r.DomEvent.preventDefault(t)},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){r.DomUtil.setOpacity(this._icon,this.options.opacity),this._shadow&&r.DomUtil.setOpacity(this._shadow,this.options.opacity)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)}}),r.marker=function(t,e){return new r.Marker(t,e)},r.DivIcon=r.Icon.extend({options:{iconSize:[12,12],className:"leaflet-div-icon",html:!1},createIcon:function(t){var i=t&&"DIV"===t.tagName?t:e.createElement("div"),n=this.options;return!1!==n.html?i.innerHTML=n.html:i.innerHTML="",n.bgPos&&(i.style.backgroundPosition=-n.bgPos.x+"px "+-n.bgPos.y+"px"),this._setIconStyles(i,"icon"),i},createShadow:function(){return null}}),r.divIcon=function(t){return new r.DivIcon(t)},r.Map.mergeOptions({closePopupOnClick:!0}),r.Popup=r.Class.extend({includes:r.Mixin.Events,options:{minWidth:50,maxWidth:300,autoPan:!0,closeButton:!0,offset:[0,7],autoPanPadding:[5,5],keepInView:!1,className:"",zoomAnimation:!0},initialize:function(t,e){r.setOptions(this,t),this._source=e,this._animated=r.Browser.any3d&&this.options.zoomAnimation,this._isOpen=!1},onAdd:function(t){this._map=t,this._container||this._initLayout();var e=t.options.fadeAnimation;e&&r.DomUtil.setOpacity(this._container,0),t._panes.popupPane.appendChild(this._container),t.on(this._getEvents(),this),this.update(),e&&r.DomUtil.setOpacity(this._container,1),this.fire("open"),t.fire("popupopen",{popup:this}),this._source&&this._source.fire("popupopen",{popup:this})},addTo:function(t){return t.addLayer(this),this},openOn:function(t){return t.openPopup(this),this},onRemove:function(t){t._panes.popupPane.removeChild(this._container),r.Util.falseFn(this._container.offsetWidth),t.off(this._getEvents(),this),t.options.fadeAnimation&&r.DomUtil.setOpacity(this._container,0),this._map=null,this.fire("close"),t.fire("popupclose",{popup:this}),this._source&&this._source.fire("popupclose",{popup:this})},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=r.latLng(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},_getEvents:function(){var t={viewreset:this._updatePosition};return this._animated&&(t.zoomanim=this._zoomAnimation),("closeOnClick"in this.options?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this._close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var t,e="leaflet-popup",i=e+" "+this.options.className+" leaflet-zoom-"+(this._animated?"animated":"hide"),n=this._container=r.DomUtil.create("div",i);this.options.closeButton&&(t=this._closeButton=r.DomUtil.create("a",e+"-close-button",n),t.href="#close",t.innerHTML="&#215;",r.DomEvent.disableClickPropagation(t),r.DomEvent.on(t,"click",this._onCloseButtonClick,this));var o=this._wrapper=r.DomUtil.create("div",e+"-content-wrapper",n);r.DomEvent.disableClickPropagation(o),this._contentNode=r.DomUtil.create("div",e+"-content",o),r.DomEvent.disableScrollPropagation(this._contentNode),r.DomEvent.on(o,"contextmenu",r.DomEvent.stopPropagation),this._tipContainer=r.DomUtil.create("div",e+"-tip-container",n),this._tip=r.DomUtil.create("div",e+"-tip",this._tipContainer)},_updateContent:function(){if(this._content){if("string"==typeof this._content)this._contentNode.innerHTML=this._content;else{for(;this._contentNode.hasChildNodes();)this._contentNode.removeChild(this._contentNode.firstChild);this._contentNode.appendChild(this._content)}this.fire("contentupdate")}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var i=t.offsetWidth;i=Math.min(i,this.options.maxWidth),i=Math.max(i,this.options.minWidth),e.width=i+1+"px",e.whiteSpace="",e.height="";var n=t.offsetHeight,o=this.options.maxHeight,s="leaflet-popup-scrolled";o&&n>o?(e.height=o+"px",r.DomUtil.addClass(t,s)):r.DomUtil.removeClass(t,s),this._containerWidth=this._container.offsetWidth},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=this._animated,i=r.point(this.options.offset);e&&r.DomUtil.setPosition(this._container,t),this._containerBottom=-i.y-(e?0:t.y),this._containerLeft=-Math.round(this._containerWidth/2)+i.x+(e?0:t.x),this._container.style.bottom=this._containerBottom+"px",this._container.style.left=this._containerLeft+"px"}},_zoomAnimation:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);r.DomUtil.setPosition(this._container,e)},_adjustPan:function(){if(this.options.autoPan){var t=this._map,e=this._container.offsetHeight,i=this._containerWidth,n=new r.Point(this._containerLeft,-e-this._containerBottom);this._animated&&n._add(r.DomUtil.getPosition(this._container));var o=t.layerPointToContainerPoint(n),s=r.point(this.options.autoPanPadding),a=r.point(this.options.autoPanPaddingTopLeft||s),l=r.point(this.options.autoPanPaddingBottomRight||s),h=t.getSize(),u=0,c=0;o.x+i+l.x>h.x&&(u=o.x+i-h.x+l.x),o.x-u-a.x<0&&(u=o.x-a.x),o.y+e+l.y>h.y&&(c=o.y+e-h.y+l.y),o.y-c-a.y<0&&(c=o.y-a.y),(u||c)&&t.fire("autopanstart").panBy([u,c])}},_onCloseButtonClick:function(t){this._close(),r.DomEvent.stop(t)}}),r.popup=function(t,e){return new r.Popup(t,e)},r.Map.include({openPopup:function(t,e,i){if(this.closePopup(),!(t instanceof r.Popup)){var n=t;t=new r.Popup(i).setLatLng(e).setContent(n)}return t._isOpen=!0,this._popup=t,this.addLayer(t)},closePopup:function(t){return t&&t!==this._popup||(t=this._popup,this._popup=null),t&&(this.removeLayer(t),t._isOpen=!1),this}}),r.Marker.include({openPopup:function(){return this._popup&&this._map&&!this._map.hasLayer(this._popup)&&(this._popup.setLatLng(this._latlng),this._map.openPopup(this._popup)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(){return this._popup&&(this._popup._isOpen?this.closePopup():this.openPopup()),this},bindPopup:function(t,e){var i=r.point(this.options.icon.options.popupAnchor||[0,0]);return i=i.add(r.Popup.prototype.options.offset),e&&e.offset&&(i=i.add(e.offset)),e=r.extend({offset:i},e),this._popupHandlersAdded||(this.on("click",this.togglePopup,this).on("remove",this.closePopup,this).on("move",this._movePopup,this),this._popupHandlersAdded=!0),t instanceof r.Popup?(r.setOptions(t,e),this._popup=t,t._source=this):this._popup=new r.Popup(e,this).setContent(t),this},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},unbindPopup:function(){return this._popup&&(this._popup=null,this.off("click",this.togglePopup,this).off("remove",this.closePopup,this).off("move",this._movePopup,this),this._popupHandlersAdded=!1),this},getPopup:function(){return this._popup},_movePopup:function(t){this._popup.setLatLng(t.latlng)}}),r.LayerGroup=r.Class.extend({initialize:function(t){this._layers={};var e,i;if(t)for(e=0,i=t.length;i>e;e++)this.addLayer(t[e])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){return!!t&&(t in this._layers||this.getLayerId(t)in this._layers)},clearLayers:function(){return this.eachLayer(this.removeLayer,this),this},invoke:function(t){var e,i,n=Array.prototype.slice.call(arguments,1);for(e in this._layers)i=this._layers[e],i[t]&&i[t].apply(i,n);return this},onAdd:function(t){this._map=t,
this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t),this._map=null},addTo:function(t){return t.addLayer(this),this},eachLayer:function(t,e){for(var i in this._layers)t.call(e,this._layers[i]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];for(var e in this._layers)t.push(this._layers[e]);return t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return r.stamp(t)}}),r.layerGroup=function(t){return new r.LayerGroup(t)},r.FeatureGroup=r.LayerGroup.extend({includes:r.Mixin.Events,statics:{EVENTS:"click dblclick mouseover mouseout mousemove contextmenu popupopen popupclose"},addLayer:function(t){return this.hasLayer(t)?this:("on"in t&&t.on(r.FeatureGroup.EVENTS,this._propagateEvent,this),r.LayerGroup.prototype.addLayer.call(this,t),this._popupContent&&t.bindPopup&&t.bindPopup(this._popupContent,this._popupOptions),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),"off"in t&&t.off(r.FeatureGroup.EVENTS,this._propagateEvent,this),r.LayerGroup.prototype.removeLayer.call(this,t),this._popupContent&&this.invoke("unbindPopup"),this.fire("layerremove",{layer:t})):this},bindPopup:function(t,e){return this._popupContent=t,this._popupOptions=e,this.invoke("bindPopup",t,e)},openPopup:function(t){for(var e in this._layers){this._layers[e].openPopup(t);break}return this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new r.LatLngBounds;return this.eachLayer(function(e){t.extend(e instanceof r.Marker?e.getLatLng():e.getBounds())}),t},_propagateEvent:function(t){t=r.extend({layer:t.target,target:this},t),this.fire(t.type,t)}}),r.featureGroup=function(t){return new r.FeatureGroup(t)},r.Path=r.Class.extend({includes:[r.Mixin.Events],statics:{CLIP_PADDING:function(){var e=r.Browser.mobile?1280:2e3,i=(e/Math.max(t.outerWidth,t.outerHeight)-1)/2;return Math.max(0,Math.min(.5,i))}()},options:{stroke:!0,color:"#0033ff",dashArray:null,lineCap:null,lineJoin:null,weight:5,opacity:.5,fill:!1,fillColor:null,fillOpacity:.2,clickable:!0},initialize:function(t){r.setOptions(this,t)},onAdd:function(t){this._map=t,this._container||(this._initElements(),this._initEvents()),this.projectLatlngs(),this._updatePath(),this._container&&this._map._pathRoot.appendChild(this._container),this.fire("add"),t.on({viewreset:this.projectLatlngs,moveend:this._updatePath},this)},addTo:function(t){return t.addLayer(this),this},onRemove:function(t){t._pathRoot.removeChild(this._container),this.fire("remove"),this._map=null,r.Browser.vml&&(this._container=null,this._stroke=null,this._fill=null),t.off({viewreset:this.projectLatlngs,moveend:this._updatePath},this)},projectLatlngs:function(){},setStyle:function(t){return r.setOptions(this,t),this._container&&this._updateStyle(),this},redraw:function(){return this._map&&(this.projectLatlngs(),this._updatePath()),this}}),r.Map.include({_updatePathViewport:function(){var t=r.Path.CLIP_PADDING,e=this.getSize(),i=r.DomUtil.getPosition(this._mapPane),n=i.multiplyBy(-1)._subtract(e.multiplyBy(t)._round()),o=n.add(e.multiplyBy(1+2*t)._round());this._pathViewport=new r.Bounds(n,o)}}),r.Path.SVG_NS="http://www.w3.org/2000/svg",r.Browser.svg=!(!e.createElementNS||!e.createElementNS(r.Path.SVG_NS,"svg").createSVGRect),r.Path=r.Path.extend({statics:{SVG:r.Browser.svg},bringToFront:function(){var t=this._map._pathRoot,e=this._container;return e&&t.lastChild!==e&&t.appendChild(e),this},bringToBack:function(){var t=this._map._pathRoot,e=this._container,i=t.firstChild;return e&&i!==e&&t.insertBefore(e,i),this},getPathString:function(){},_createElement:function(t){return e.createElementNS(r.Path.SVG_NS,t)},_initElements:function(){this._map._initPathRoot(),this._initPath(),this._initStyle()},_initPath:function(){this._container=this._createElement("g"),this._path=this._createElement("path"),this.options.className&&r.DomUtil.addClass(this._path,this.options.className),this._container.appendChild(this._path)},_initStyle:function(){this.options.stroke&&(this._path.setAttribute("stroke-linejoin","round"),this._path.setAttribute("stroke-linecap","round")),this.options.fill&&this._path.setAttribute("fill-rule","evenodd"),this.options.pointerEvents&&this._path.setAttribute("pointer-events",this.options.pointerEvents),this.options.clickable||this.options.pointerEvents||this._path.setAttribute("pointer-events","none"),this._updateStyle()},_updateStyle:function(){this.options.stroke?(this._path.setAttribute("stroke",this.options.color),this._path.setAttribute("stroke-opacity",this.options.opacity),this._path.setAttribute("stroke-width",this.options.weight),this.options.dashArray?this._path.setAttribute("stroke-dasharray",this.options.dashArray):this._path.removeAttribute("stroke-dasharray"),this.options.lineCap&&this._path.setAttribute("stroke-linecap",this.options.lineCap),this.options.lineJoin&&this._path.setAttribute("stroke-linejoin",this.options.lineJoin)):this._path.setAttribute("stroke","none"),this.options.fill?(this._path.setAttribute("fill",this.options.fillColor||this.options.color),this._path.setAttribute("fill-opacity",this.options.fillOpacity)):this._path.setAttribute("fill","none")},_updatePath:function(){var t=this.getPathString();t||(t="M0 0"),this._path.setAttribute("d",t)},_initEvents:function(){if(this.options.clickable){(r.Browser.svg||!r.Browser.vml)&&r.DomUtil.addClass(this._path,"leaflet-clickable"),r.DomEvent.on(this._container,"click",this._onMouseClick,this);for(var t=["dblclick","mousedown","mouseover","mouseout","mousemove","contextmenu"],e=0;e<t.length;e++)r.DomEvent.on(this._container,t[e],this._fireMouseEvent,this)}},_onMouseClick:function(t){this._map.dragging&&this._map.dragging.moved()||this._fireMouseEvent(t)},_fireMouseEvent:function(t){if(this._map&&this.hasEventListeners(t.type)){var e=this._map,i=e.mouseEventToContainerPoint(t),n=e.containerPointToLayerPoint(i),o=e.layerPointToLatLng(n);this.fire(t.type,{latlng:o,layerPoint:n,containerPoint:i,originalEvent:t}),"contextmenu"===t.type&&r.DomEvent.preventDefault(t),"mousemove"!==t.type&&r.DomEvent.stopPropagation(t)}}}),r.Map.include({_initPathRoot:function(){this._pathRoot||(this._pathRoot=r.Path.prototype._createElement("svg"),this._panes.overlayPane.appendChild(this._pathRoot),this.options.zoomAnimation&&r.Browser.any3d?(r.DomUtil.addClass(this._pathRoot,"leaflet-zoom-animated"),this.on({zoomanim:this._animatePathZoom,zoomend:this._endPathZoom})):r.DomUtil.addClass(this._pathRoot,"leaflet-zoom-hide"),this.on("moveend",this._updateSvgViewport),this._updateSvgViewport())},_animatePathZoom:function(t){var e=this.getZoomScale(t.zoom),i=this._getCenterOffset(t.center)._multiplyBy(-e)._add(this._pathViewport.min);this._pathRoot.style[r.DomUtil.TRANSFORM]=r.DomUtil.getTranslateString(i)+" scale("+e+") ",this._pathZooming=!0},_endPathZoom:function(){this._pathZooming=!1},_updateSvgViewport:function(){if(!this._pathZooming){this._updatePathViewport();var t=this._pathViewport,e=t.min,i=t.max,n=i.x-e.x,o=i.y-e.y,s=this._pathRoot,a=this._panes.overlayPane;r.Browser.mobileWebkit&&a.removeChild(s),r.DomUtil.setPosition(s,e),s.setAttribute("width",n),s.setAttribute("height",o),s.setAttribute("viewBox",[e.x,e.y,n,o].join(" ")),r.Browser.mobileWebkit&&a.appendChild(s)}}}),r.Path.include({bindPopup:function(t,e){return t instanceof r.Popup?this._popup=t:((!this._popup||e)&&(this._popup=new r.Popup(e,this)),this._popup.setContent(t)),this._popupHandlersAdded||(this.on("click",this._openPopup,this).on("remove",this.closePopup,this),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this._popup=null,this.off("click",this._openPopup).off("remove",this.closePopup),this._popupHandlersAdded=!1),this},openPopup:function(t){return this._popup&&(t=t||this._latlng||this._latlngs[Math.floor(this._latlngs.length/2)],this._openPopup({latlng:t})),this},closePopup:function(){return this._popup&&this._popup._close(),this},_openPopup:function(t){this._popup.setLatLng(t.latlng),this._map.openPopup(this._popup)}}),r.Browser.vml=!r.Browser.svg&&function(){try{var t=e.createElement("div");t.innerHTML='<v:shape adj="1"/>';var i=t.firstChild;return i.style.behavior="url(#default#VML)",i&&"object"==typeof i.adj}catch(t){return!1}}(),r.Path=r.Browser.svg||!r.Browser.vml?r.Path:r.Path.extend({statics:{VML:!0,CLIP_PADDING:.02},_createElement:function(){try{return e.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return e.createElement("<lvml:"+t+' class="lvml">')}}catch(t){return function(t){return e.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),_initPath:function(){var t=this._container=this._createElement("shape");r.DomUtil.addClass(t,"leaflet-vml-shape"+(this.options.className?" "+this.options.className:"")),this.options.clickable&&r.DomUtil.addClass(t,"leaflet-clickable"),t.coordsize="1 1",this._path=this._createElement("path"),t.appendChild(this._path),this._map._pathRoot.appendChild(t)},_initStyle:function(){this._updateStyle()},_updateStyle:function(){var t=this._stroke,e=this._fill,i=this.options,n=this._container;n.stroked=i.stroke,n.filled=i.fill,i.stroke?(t||(t=this._stroke=this._createElement("stroke"),t.endcap="round",n.appendChild(t)),t.weight=i.weight+"px",t.color=i.color,t.opacity=i.opacity,i.dashArray?t.dashStyle=r.Util.isArray(i.dashArray)?i.dashArray.join(" "):i.dashArray.replace(/( *, *)/g," "):t.dashStyle="",i.lineCap&&(t.endcap=i.lineCap.replace("butt","flat")),i.lineJoin&&(t.joinstyle=i.lineJoin)):t&&(n.removeChild(t),this._stroke=null),i.fill?(e||(e=this._fill=this._createElement("fill"),n.appendChild(e)),e.color=i.fillColor||i.color,e.opacity=i.fillOpacity):e&&(n.removeChild(e),this._fill=null)},_updatePath:function(){var t=this._container.style;t.display="none",this._path.v=this.getPathString()+" ",t.display=""}}),r.Map.include(r.Browser.svg||!r.Browser.vml?{}:{_initPathRoot:function(){if(!this._pathRoot){var t=this._pathRoot=e.createElement("div");t.className="leaflet-vml-container",this._panes.overlayPane.appendChild(t),this.on("moveend",this._updatePathViewport),this._updatePathViewport()}}}),r.Browser.canvas=function(){return!!e.createElement("canvas").getContext}(),r.Path=r.Path.SVG&&!t.L_PREFER_CANVAS||!r.Browser.canvas?r.Path:r.Path.extend({statics:{CANVAS:!0,SVG:!1},redraw:function(){return this._map&&(this.projectLatlngs(),this._requestUpdate()),this},setStyle:function(t){return r.setOptions(this,t),this._map&&(this._updateStyle(),this._requestUpdate()),this},onRemove:function(t){t.off("viewreset",this.projectLatlngs,this).off("moveend",this._updatePath,this),this.options.clickable&&(this._map.off("click",this._onClick,this),this._map.off("mousemove",this._onMouseMove,this)),this._requestUpdate(),this.fire("remove"),this._map=null},_requestUpdate:function(){this._map&&!r.Path._updateRequest&&(r.Path._updateRequest=r.Util.requestAnimFrame(this._fireMapMoveEnd,this._map))},_fireMapMoveEnd:function(){r.Path._updateRequest=null,this.fire("moveend")},_initElements:function(){this._map._initPathRoot(),this._ctx=this._map._canvasCtx},_updateStyle:function(){var t=this.options;t.stroke&&(this._ctx.lineWidth=t.weight,this._ctx.strokeStyle=t.color),t.fill&&(this._ctx.fillStyle=t.fillColor||t.color),t.lineCap&&(this._ctx.lineCap=t.lineCap),t.lineJoin&&(this._ctx.lineJoin=t.lineJoin)},_drawPath:function(){var t,e,i,n,o,s;for(this._ctx.beginPath(),t=0,i=this._parts.length;i>t;t++){for(e=0,n=this._parts[t].length;n>e;e++)o=this._parts[t][e],s=(0===e?"move":"line")+"To",this._ctx[s](o.x,o.y);this instanceof r.Polygon&&this._ctx.closePath()}},_checkIfEmpty:function(){return!this._parts.length},_updatePath:function(){if(!this._checkIfEmpty()){var t=this._ctx,e=this.options;this._drawPath(),t.save(),this._updateStyle(),e.fill&&(t.globalAlpha=e.fillOpacity,t.fill(e.fillRule||"evenodd")),e.stroke&&(t.globalAlpha=e.opacity,t.stroke()),t.restore()}},_initEvents:function(){this.options.clickable&&(this._map.on("mousemove",this._onMouseMove,this),this._map.on("click dblclick contextmenu",this._fireMouseEvent,this))},_fireMouseEvent:function(t){this._containsPoint(t.layerPoint)&&this.fire(t.type,t)},_onMouseMove:function(t){this._map&&!this._map._animatingZoom&&(this._containsPoint(t.layerPoint)?(this._ctx.canvas.style.cursor="pointer",this._mouseInside=!0,this.fire("mouseover",t)):this._mouseInside&&(this._ctx.canvas.style.cursor="",this._mouseInside=!1,this.fire("mouseout",t)))}}),r.Map.include(r.Path.SVG&&!t.L_PREFER_CANVAS||!r.Browser.canvas?{}:{_initPathRoot:function(){var t,i=this._pathRoot;i||(i=this._pathRoot=e.createElement("canvas"),i.style.position="absolute",t=this._canvasCtx=i.getContext("2d"),t.lineCap="round",t.lineJoin="round",this._panes.overlayPane.appendChild(i),this.options.zoomAnimation&&(this._pathRoot.className="leaflet-zoom-animated",this.on("zoomanim",this._animatePathZoom),this.on("zoomend",this._endPathZoom)),this.on("moveend",this._updateCanvasViewport),this._updateCanvasViewport())},_updateCanvasViewport:function(){if(!this._pathZooming){this._updatePathViewport();var t=this._pathViewport,e=t.min,i=t.max.subtract(e),n=this._pathRoot;r.DomUtil.setPosition(n,e),n.width=i.x,n.height=i.y,n.getContext("2d").translate(-e.x,-e.y)}}}),r.LineUtil={simplify:function(t,e){if(!e||!t.length)return t.slice();var i=e*e;return t=this._reducePoints(t,i),t=this._simplifyDP(t,i)},pointToSegmentDistance:function(t,e,i){return Math.sqrt(this._sqClosestPointOnSegment(t,e,i,!0))},closestPointOnSegment:function(t,e,i){return this._sqClosestPointOnSegment(t,e,i)},_simplifyDP:function(t,e){var n=t.length,r=typeof Uint8Array!=i+""?Uint8Array:Array,o=new r(n);o[0]=o[n-1]=1,this._simplifyDPStep(t,o,e,0,n-1);var s,a=[];for(s=0;n>s;s++)o[s]&&a.push(t[s]);return a},_simplifyDPStep:function(t,e,i,n,r){var o,s,a,l=0;for(s=n+1;r-1>=s;s++)(a=this._sqClosestPointOnSegment(t[s],t[n],t[r],!0))>l&&(o=s,l=a);l>i&&(e[o]=1,this._simplifyDPStep(t,e,i,n,o),this._simplifyDPStep(t,e,i,o,r))},_reducePoints:function(t,e){for(var i=[t[0]],n=1,r=0,o=t.length;o>n;n++)this._sqDist(t[n],t[r])>e&&(i.push(t[n]),r=n);return o-1>r&&i.push(t[o-1]),i},clipSegment:function(t,e,i,n){var r,o,s,a=n?this._lastCode:this._getBitCode(t,i),l=this._getBitCode(e,i);for(this._lastCode=l;;){if(!(a|l))return[t,e];if(a&l)return!1;r=a||l,o=this._getEdgeIntersection(t,e,r,i),s=this._getBitCode(o,i),r===a?(t=o,a=s):(e=o,l=s)}},_getEdgeIntersection:function(t,e,i,n){var o=e.x-t.x,s=e.y-t.y,a=n.min,l=n.max;return 8&i?new r.Point(t.x+o*(l.y-t.y)/s,l.y):4&i?new r.Point(t.x+o*(a.y-t.y)/s,a.y):2&i?new r.Point(l.x,t.y+s*(l.x-t.x)/o):1&i?new r.Point(a.x,t.y+s*(a.x-t.x)/o):void 0},_getBitCode:function(t,e){var i=0;return t.x<e.min.x?i|=1:t.x>e.max.x&&(i|=2),t.y<e.min.y?i|=4:t.y>e.max.y&&(i|=8),i},_sqDist:function(t,e){var i=e.x-t.x,n=e.y-t.y;return i*i+n*n},_sqClosestPointOnSegment:function(t,e,i,n){var o,s=e.x,a=e.y,l=i.x-s,h=i.y-a,u=l*l+h*h;return u>0&&(o=((t.x-s)*l+(t.y-a)*h)/u,o>1?(s=i.x,a=i.y):o>0&&(s+=l*o,a+=h*o)),l=t.x-s,h=t.y-a,n?l*l+h*h:new r.Point(s,a)}},r.Polyline=r.Path.extend({initialize:function(t,e){r.Path.prototype.initialize.call(this,e),this._latlngs=this._convertLatLngs(t)},options:{smoothFactor:1,noClip:!1},projectLatlngs:function(){this._originalPoints=[];for(var t=0,e=this._latlngs.length;e>t;t++)this._originalPoints[t]=this._map.latLngToLayerPoint(this._latlngs[t])},getPathString:function(){for(var t=0,e=this._parts.length,i="";e>t;t++)i+=this._getPathPartStr(this._parts[t]);return i},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._latlngs=this._convertLatLngs(t),this.redraw()},addLatLng:function(t){return this._latlngs.push(r.latLng(t)),this.redraw()},spliceLatLngs:function(){var t=[].splice.apply(this._latlngs,arguments);return this._convertLatLngs(this._latlngs,!0),this.redraw(),t},closestLayerPoint:function(t){for(var e,i,n=1/0,o=this._parts,s=null,a=0,l=o.length;l>a;a++)for(var h=o[a],u=1,c=h.length;c>u;u++){e=h[u-1],i=h[u];var d=r.LineUtil._sqClosestPointOnSegment(t,e,i,!0);n>d&&(n=d,s=r.LineUtil._sqClosestPointOnSegment(t,e,i))}return s&&(s.distance=Math.sqrt(n)),s},getBounds:function(){return new r.LatLngBounds(this.getLatLngs())},_convertLatLngs:function(t,e){var i,n,o=e?t:[];for(i=0,n=t.length;n>i;i++){if(r.Util.isArray(t[i])&&"number"!=typeof t[i][0])return;o[i]=r.latLng(t[i])}return o},_initEvents:function(){r.Path.prototype._initEvents.call(this)},_getPathPartStr:function(t){for(var e,i=r.Path.VML,n=0,o=t.length,s="";o>n;n++)e=t[n],i&&e._round(),s+=(n?"L":"M")+e.x+" "+e.y;return s},_clipPoints:function(){var t,e,i,n=this._originalPoints,o=n.length;if(this.options.noClip)return void(this._parts=[n]);this._parts=[];var s=this._parts,a=this._map._pathViewport,l=r.LineUtil;for(t=0,e=0;o-1>t;t++)(i=l.clipSegment(n[t],n[t+1],a,t))&&(s[e]=s[e]||[],s[e].push(i[0]),(i[1]!==n[t+1]||t===o-2)&&(s[e].push(i[1]),e++))},_simplifyPoints:function(){for(var t=this._parts,e=r.LineUtil,i=0,n=t.length;n>i;i++)t[i]=e.simplify(t[i],this.options.smoothFactor)},_updatePath:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),r.Path.prototype._updatePath.call(this))}}),r.polyline=function(t,e){return new r.Polyline(t,e)},r.PolyUtil={},r.PolyUtil.clipPolygon=function(t,e){var i,n,o,s,a,l,h,u,c,d=[1,4,2,8],p=r.LineUtil;for(n=0,h=t.length;h>n;n++)t[n]._code=p._getBitCode(t[n],e);for(s=0;4>s;s++){for(u=d[s],i=[],n=0,h=t.length,o=h-1;h>n;o=n++)a=t[n],l=t[o],a._code&u?l._code&u||(c=p._getEdgeIntersection(l,a,u,e),c._code=p._getBitCode(c,e),i.push(c)):(l._code&u&&(c=p._getEdgeIntersection(l,a,u,e),c._code=p._getBitCode(c,e),i.push(c)),i.push(a));t=i}return t},r.Polygon=r.Polyline.extend({options:{fill:!0},initialize:function(t,e){r.Polyline.prototype.initialize.call(this,t,e),this._initWithHoles(t)},_initWithHoles:function(t){var e,i,n;if(t&&r.Util.isArray(t[0])&&"number"!=typeof t[0][0])for(this._latlngs=this._convertLatLngs(t[0]),this._holes=t.slice(1),e=0,i=this._holes.length;i>e;e++)n=this._holes[e]=this._convertLatLngs(this._holes[e]),n[0].equals(n[n.length-1])&&n.pop();t=this._latlngs,t.length>=2&&t[0].equals(t[t.length-1])&&t.pop()},projectLatlngs:function(){if(r.Polyline.prototype.projectLatlngs.call(this),this._holePoints=[],this._holes){var t,e,i,n;for(t=0,i=this._holes.length;i>t;t++)for(this._holePoints[t]=[],e=0,n=this._holes[t].length;n>e;e++)this._holePoints[t][e]=this._map.latLngToLayerPoint(this._holes[t][e])}},setLatLngs:function(t){return t&&r.Util.isArray(t[0])&&"number"!=typeof t[0][0]?(this._initWithHoles(t),this.redraw()):r.Polyline.prototype.setLatLngs.call(this,t)},_clipPoints:function(){var t=this._originalPoints,e=[];if(this._parts=[t].concat(this._holePoints),!this.options.noClip){for(var i=0,n=this._parts.length;n>i;i++){var o=r.PolyUtil.clipPolygon(this._parts[i],this._map._pathViewport);o.length&&e.push(o)}this._parts=e}},_getPathPartStr:function(t){return r.Polyline.prototype._getPathPartStr.call(this,t)+(r.Browser.svg?"z":"x")}}),r.polygon=function(t,e){return new r.Polygon(t,e)},function(){function t(t){return r.FeatureGroup.extend({initialize:function(t,e){this._layers={},this._options=e,this.setLatLngs(t)},setLatLngs:function(e){var i=0,n=e.length;for(this.eachLayer(function(t){n>i?t.setLatLngs(e[i++]):this.removeLayer(t)},this);n>i;)this.addLayer(new t(e[i++],this._options));return this},getLatLngs:function(){var t=[];return this.eachLayer(function(e){t.push(e.getLatLngs())}),t}})}r.MultiPolyline=t(r.Polyline),r.MultiPolygon=t(r.Polygon),r.multiPolyline=function(t,e){return new r.MultiPolyline(t,e)},r.multiPolygon=function(t,e){return new r.MultiPolygon(t,e)}}(),r.Rectangle=r.Polygon.extend({initialize:function(t,e){r.Polygon.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=r.latLngBounds(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}}),r.rectangle=function(t,e){return new r.Rectangle(t,e)},r.Circle=r.Path.extend({initialize:function(t,e,i){r.Path.prototype.initialize.call(this,i),this._latlng=r.latLng(t),this._mRadius=e},options:{fill:!0},setLatLng:function(t){return this._latlng=r.latLng(t),this.redraw()},setRadius:function(t){return this._mRadius=t,this.redraw()},projectLatlngs:function(){var t=this._getLngRadius(),e=this._latlng,i=this._map.latLngToLayerPoint([e.lat,e.lng-t]);this._point=this._map.latLngToLayerPoint(e),this._radius=Math.max(this._point.x-i.x,1)},getBounds:function(){var t=this._getLngRadius(),e=this._mRadius/40075017*360,i=this._latlng;return new r.LatLngBounds([i.lat-e,i.lng-t],[i.lat+e,i.lng+t])},getLatLng:function(){return this._latlng},getPathString:function(){var t=this._point,e=this._radius;return this._checkIfEmpty()?"":r.Browser.svg?"M"+t.x+","+(t.y-e)+"A"+e+","+e+",0,1,1,"+(t.x-.1)+","+(t.y-e)+" z":(t._round(),e=Math.round(e),"AL "+t.x+","+t.y+" "+e+","+e+" 0,23592600")},getRadius:function(){return this._mRadius},_getLatRadius:function(){return this._mRadius/40075017*360},_getLngRadius:function(){return this._getLatRadius()/Math.cos(r.LatLng.DEG_TO_RAD*this._latlng.lat)},_checkIfEmpty:function(){if(!this._map)return!1;var t=this._map._pathViewport,e=this._radius,i=this._point;return i.x-e>t.max.x||i.y-e>t.max.y||i.x+e<t.min.x||i.y+e<t.min.y}}),r.circle=function(t,e,i){return new r.Circle(t,e,i)},r.CircleMarker=r.Circle.extend({options:{radius:10,weight:2},initialize:function(t,e){r.Circle.prototype.initialize.call(this,t,null,e),this._radius=this.options.radius},projectLatlngs:function(){this._point=this._map.latLngToLayerPoint(this._latlng)},_updateStyle:function(){r.Circle.prototype._updateStyle.call(this),this.setRadius(this.options.radius)},setLatLng:function(t){return r.Circle.prototype.setLatLng.call(this,t),this._popup&&this._popup._isOpen&&this._popup.setLatLng(t),this},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius}}),r.circleMarker=function(t,e){return new r.CircleMarker(t,e)},r.Polyline.include(r.Path.CANVAS?{_containsPoint:function(t,e){var i,n,o,s,a,l,h,u=this.options.weight/2;for(r.Browser.touch&&(u+=10),i=0,s=this._parts.length;s>i;i++)for(h=this._parts[i],n=0,a=h.length,o=a-1;a>n;o=n++)if((e||0!==n)&&(l=r.LineUtil.pointToSegmentDistance(t,h[o],h[n]),u>=l))return!0;return!1}}:{}),r.Polygon.include(r.Path.CANVAS?{_containsPoint:function(t){var e,i,n,o,s,a,l,h,u=!1;if(r.Polyline.prototype._containsPoint.call(this,t,!0))return!0;for(o=0,l=this._parts.length;l>o;o++)for(e=this._parts[o],s=0,h=e.length,a=h-1;h>s;a=s++)i=e[s],n=e[a],i.y>t.y!=n.y>t.y&&t.x<(n.x-i.x)*(t.y-i.y)/(n.y-i.y)+i.x&&(u=!u);return u}}:{}),r.Circle.include(r.Path.CANVAS?{_drawPath:function(){var t=this._point;this._ctx.beginPath(),this._ctx.arc(t.x,t.y,this._radius,0,2*Math.PI,!1)},_containsPoint:function(t){var e=this._point,i=this.options.stroke?this.options.weight/2:0;return t.distanceTo(e)<=this._radius+i}}:{}),r.CircleMarker.include(r.Path.CANVAS?{_updateStyle:function(){r.Path.prototype._updateStyle.call(this)}}:{}),r.GeoJSON=r.FeatureGroup.extend({initialize:function(t,e){r.setOptions(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,i,n,o=r.Util.isArray(t)?t:t.features;if(o){for(e=0,i=o.length;i>e;e++)n=o[e],(n.geometries||n.geometry||n.features||n.coordinates)&&this.addData(o[e]);return this}var s=this.options;if(!s.filter||s.filter(t)){var a=r.GeoJSON.geometryToLayer(t,s.pointToLayer,s.coordsToLatLng,s);return a.feature=r.GeoJSON.asFeature(t),a.defaultOptions=a.options,this.resetStyle(a),s.onEachFeature&&s.onEachFeature(t,a),this.addLayer(a)}},resetStyle:function(t){var e=this.options.style;e&&(r.Util.extend(t.options,t.defaultOptions),this._setLayerStyle(t,e))},setStyle:function(t){this.eachLayer(function(e){this._setLayerStyle(e,t)},this)},_setLayerStyle:function(t,e){"function"==typeof e&&(e=e(t.feature)),t.setStyle&&t.setStyle(e)}}),r.extend(r.GeoJSON,{geometryToLayer:function(t,e,i,n){var o,s,a,l,h="Feature"===t.type?t.geometry:t,u=h.coordinates,c=[];switch(i=i||this.coordsToLatLng,h.type){case"Point":return o=i(u),e?e(t,o):new r.Marker(o);case"MultiPoint":for(a=0,l=u.length;l>a;a++)o=i(u[a]),c.push(e?e(t,o):new r.Marker(o));return new r.FeatureGroup(c);case"LineString":return s=this.coordsToLatLngs(u,0,i),new r.Polyline(s,n);case"Polygon":if(2===u.length&&!u[1].length)throw new Error("Invalid GeoJSON object.");return s=this.coordsToLatLngs(u,1,i),new r.Polygon(s,n);case"MultiLineString":return s=this.coordsToLatLngs(u,1,i),new r.MultiPolyline(s,n);case"MultiPolygon":return s=this.coordsToLatLngs(u,2,i),new r.MultiPolygon(s,n);case"GeometryCollection":for(a=0,l=h.geometries.length;l>a;a++)c.push(this.geometryToLayer({geometry:h.geometries[a],type:"Feature",properties:t.properties},e,i,n));return new r.FeatureGroup(c);default:throw new Error("Invalid GeoJSON object.")}},coordsToLatLng:function(t){return new r.LatLng(t[1],t[0],t[2])},coordsToLatLngs:function(t,e,i){var n,r,o,s=[];for(r=0,o=t.length;o>r;r++)n=e?this.coordsToLatLngs(t[r],e-1,i):(i||this.coordsToLatLng)(t[r]),s.push(n);return s},latLngToCoords:function(t){var e=[t.lng,t.lat];return t.alt!==i&&e.push(t.alt),e},latLngsToCoords:function(t){for(var e=[],i=0,n=t.length;n>i;i++)e.push(r.GeoJSON.latLngToCoords(t[i]));return e},getFeature:function(t,e){return t.feature?r.extend({},t.feature,{geometry:e}):r.GeoJSON.asFeature(e)},asFeature:function(t){return"Feature"===t.type?t:{type:"Feature",properties:{},geometry:t}}});var s={toGeoJSON:function(){return r.GeoJSON.getFeature(this,{type:"Point",coordinates:r.GeoJSON.latLngToCoords(this.getLatLng())})}};r.Marker.include(s),r.Circle.include(s),r.CircleMarker.include(s),r.Polyline.include({toGeoJSON:function(){return r.GeoJSON.getFeature(this,{type:"LineString",coordinates:r.GeoJSON.latLngsToCoords(this.getLatLngs())})}}),r.Polygon.include({toGeoJSON:function(){var t,e,i,n=[r.GeoJSON.latLngsToCoords(this.getLatLngs())];if(n[0].push(n[0][0]),this._holes)for(t=0,e=this._holes.length;e>t;t++)i=r.GeoJSON.latLngsToCoords(this._holes[t]),i.push(i[0]),n.push(i);return r.GeoJSON.getFeature(this,{type:"Polygon",coordinates:n})}}),function(){function t(t){return function(){var e=[];return this.eachLayer(function(t){e.push(t.toGeoJSON().geometry.coordinates)}),r.GeoJSON.getFeature(this,{type:t,coordinates:e})}}r.MultiPolyline.include({toGeoJSON:t("MultiLineString")}),r.MultiPolygon.include({toGeoJSON:t("MultiPolygon")}),r.LayerGroup.include({toGeoJSON:function(){var e,i=this.feature&&this.feature.geometry,n=[];if(i&&"MultiPoint"===i.type)return t("MultiPoint").call(this);var o=i&&"GeometryCollection"===i.type;return this.eachLayer(function(t){t.toGeoJSON&&(e=t.toGeoJSON(),n.push(o?e.geometry:r.GeoJSON.asFeature(e)))}),o?r.GeoJSON.getFeature(this,{geometries:n,type:"GeometryCollection"}):{type:"FeatureCollection",features:n}}})}(),r.geoJson=function(t,e){return new r.GeoJSON(t,e)},r.DomEvent={addListener:function(t,e,i,n){var o,s,a,l=r.stamp(i),h="_leaflet_"+e+l;return t[h]?this:(o=function(e){return i.call(n||t,e||r.DomEvent._getEvent())},r.Browser.pointer&&0===e.indexOf("touch")?this.addPointerListener(t,e,o,l):(r.Browser.touch&&"dblclick"===e&&this.addDoubleTapListener&&this.addDoubleTapListener(t,o,l),"addEventListener"in t?"mousewheel"===e?(t.addEventListener("DOMMouseScroll",o,!1),t.addEventListener(e,o,!1)):"mouseenter"===e||"mouseleave"===e?(s=o,a="mouseenter"===e?"mouseover":"mouseout",o=function(e){return r.DomEvent._checkMouse(t,e)?s(e):void 0},t.addEventListener(a,o,!1)):"click"===e&&r.Browser.android?(s=o,o=function(t){return r.DomEvent._filterClick(t,s)},t.addEventListener(e,o,!1)):t.addEventListener(e,o,!1):"attachEvent"in t&&t.attachEvent("on"+e,o),t[h]=o,this))},removeListener:function(t,e,i){var n=r.stamp(i),o="_leaflet_"+e+n,s=t[o];return s?(r.Browser.pointer&&0===e.indexOf("touch")?this.removePointerListener(t,e,n):r.Browser.touch&&"dblclick"===e&&this.removeDoubleTapListener?this.removeDoubleTapListener(t,n):"removeEventListener"in t?"mousewheel"===e?(t.removeEventListener("DOMMouseScroll",s,!1),t.removeEventListener(e,s,!1)):"mouseenter"===e||"mouseleave"===e?t.removeEventListener("mouseenter"===e?"mouseover":"mouseout",s,!1):t.removeEventListener(e,s,!1):"detachEvent"in t&&t.detachEvent("on"+e,s),t[o]=null,this):this},stopPropagation:function(t){return t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,r.DomEvent._skipped(t),this},disableScrollPropagation:function(t){var e=r.DomEvent.stopPropagation;return r.DomEvent.on(t,"mousewheel",e).on(t,"MozMousePixelScroll",e)},disableClickPropagation:function(t){for(var e=r.DomEvent.stopPropagation,i=r.Draggable.START.length-1;i>=0;i--)r.DomEvent.on(t,r.Draggable.START[i],e);return r.DomEvent.on(t,"click",r.DomEvent._fakeStop).on(t,"dblclick",e)},preventDefault:function(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this},stop:function(t){return r.DomEvent.preventDefault(t).stopPropagation(t)},getMousePosition:function(t,e){if(!e)return new r.Point(t.clientX,t.clientY);var i=e.getBoundingClientRect();return new r.Point(t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop)},getWheelDelta:function(t){var e=0;return t.wheelDelta&&(e=t.wheelDelta/120),t.detail&&(e=-t.detail/3),e},_skipEvents:{},_fakeStop:function(t){r.DomEvent._skipEvents[t.type]=!0},_skipped:function(t){var e=this._skipEvents[t.type];return this._skipEvents[t.type]=!1,e},_checkMouse:function(t,e){var i=e.relatedTarget;if(!i)return!0;try{for(;i&&i!==t;)i=i.parentNode}catch(t){return!1}return i!==t},_getEvent:function(){var e=t.event;if(!e)for(var i=arguments.callee.caller;i&&(!(e=i.arguments[0])||t.Event!==e.constructor);)i=i.caller;return e},_filterClick:function(t,e){var i=t.timeStamp||t.originalEvent.timeStamp,n=r.DomEvent._lastClick&&i-r.DomEvent._lastClick;return n&&n>100&&500>n||t.target._simulatedClick&&!t._simulated?void r.DomEvent.stop(t):(r.DomEvent._lastClick=i,e(t))}},r.DomEvent.on=r.DomEvent.addListener,r.DomEvent.off=r.DomEvent.removeListener,r.Draggable=r.Class.extend({includes:r.Mixin.Events,statics:{START:r.Browser.touch?["touchstart","mousedown"]:["mousedown"],END:{mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},MOVE:{mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"}},initialize:function(t,e){this._element=t,this._dragStartTarget=e||t},enable:function(){if(!this._enabled){for(var t=r.Draggable.START.length-1;t>=0;t--)r.DomEvent.on(this._dragStartTarget,r.Draggable.START[t],this._onDown,this);this._enabled=!0}},disable:function(){if(this._enabled){for(var t=r.Draggable.START.length-1;t>=0;t--)r.DomEvent.off(this._dragStartTarget,r.Draggable.START[t],this._onDown,this);this._enabled=!1,this._moved=!1}},_onDown:function(t){if(this._moved=!1,!t.shiftKey&&(1===t.which||1===t.button||t.touches)&&(r.DomEvent.stopPropagation(t),!r.Draggable._disabled&&(r.DomUtil.disableImageDrag(),r.DomUtil.disableTextSelection(),!this._moving))){var i=t.touches?t.touches[0]:t;this._startPoint=new r.Point(i.clientX,i.clientY),this._startPos=this._newPos=r.DomUtil.getPosition(this._element),r.DomEvent.on(e,r.Draggable.MOVE[t.type],this._onMove,this).on(e,r.Draggable.END[t.type],this._onUp,this)}},_onMove:function(t){if(t.touches&&t.touches.length>1)return void(this._moved=!0);var i=t.touches&&1===t.touches.length?t.touches[0]:t,n=new r.Point(i.clientX,i.clientY),o=n.subtract(this._startPoint);(o.x||o.y)&&(r.Browser.touch&&Math.abs(o.x)+Math.abs(o.y)<3||(r.DomEvent.preventDefault(t),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=r.DomUtil.getPosition(this._element).subtract(o),r.DomUtil.addClass(e.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,r.DomUtil.addClass(this._lastTarget,"leaflet-drag-target")),
this._newPos=this._startPos.add(o),this._moving=!0,r.Util.cancelAnimFrame(this._animRequest),this._animRequest=r.Util.requestAnimFrame(this._updatePosition,this,!0,this._dragStartTarget)))},_updatePosition:function(){this.fire("predrag"),r.DomUtil.setPosition(this._element,this._newPos),this.fire("drag")},_onUp:function(){r.DomUtil.removeClass(e.body,"leaflet-dragging"),this._lastTarget&&(r.DomUtil.removeClass(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null);for(var t in r.Draggable.MOVE)r.DomEvent.off(e,r.Draggable.MOVE[t],this._onMove).off(e,r.Draggable.END[t],this._onUp);r.DomUtil.enableImageDrag(),r.DomUtil.enableTextSelection(),this._moved&&this._moving&&(r.Util.cancelAnimFrame(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1}}),r.Handler=r.Class.extend({initialize:function(t){this._map=t},enable:function(){this._enabled||(this._enabled=!0,this.addHooks())},disable:function(){this._enabled&&(this._enabled=!1,this.removeHooks())},enabled:function(){return!!this._enabled}}),r.Map.mergeOptions({dragging:!0,inertia:!r.Browser.android23,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,inertiaThreshold:r.Browser.touch?32:18,easeLinearity:.25,worldCopyJump:!1}),r.Map.Drag=r.Handler.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new r.Draggable(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDrag,this),t.on("viewreset",this._onViewReset,this),t.whenReady(this._onViewReset,this))}this._draggable.enable()},removeHooks:function(){this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){var t=this._map;t._panAnim&&t._panAnim.stop(),t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(){if(this._map.options.inertia){var t=this._lastTime=+new Date,e=this._lastPos=this._draggable._newPos;this._positions.push(e),this._times.push(t),t-this._times[0]>200&&(this._positions.shift(),this._times.shift())}this._map.fire("move").fire("drag")},_onViewReset:function(){var t=this._map.getSize()._divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.project([0,180]).x},_onPreDrag:function(){var t=this._worldWidth,e=Math.round(t/2),i=this._initialWorldOffset,n=this._draggable._newPos.x,r=(n-e+i)%t+e-i,o=(n+e+i)%t-e-i,s=Math.abs(r+i)<Math.abs(o+i)?r:o;this._draggable._newPos.x=s},_onDragEnd:function(t){var e=this._map,i=e.options,n=+new Date-this._lastTime,o=!i.inertia||n>i.inertiaThreshold||!this._positions[0];if(e.fire("dragend",t),o)e.fire("moveend");else{var s=this._lastPos.subtract(this._positions[0]),a=(this._lastTime+n-this._times[0])/1e3,l=i.easeLinearity,h=s.multiplyBy(l/a),u=h.distanceTo([0,0]),c=Math.min(i.inertiaMaxSpeed,u),d=h.multiplyBy(c/u),p=c/(i.inertiaDeceleration*l),f=d.multiplyBy(-p/2).round();f.x&&f.y?(f=e._limitOffset(f,e.options.maxBounds),r.Util.requestAnimFrame(function(){e.panBy(f,{duration:p,easeLinearity:l,noMoveStart:!0})})):e.fire("moveend")}}}),r.Map.addInitHook("addHandler","dragging",r.Map.Drag),r.Map.mergeOptions({doubleClickZoom:!0}),r.Map.DoubleClickZoom=r.Handler.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,i=e.getZoom()+(t.originalEvent.shiftKey?-1:1);"center"===e.options.doubleClickZoom?e.setZoom(i):e.setZoomAround(t.containerPoint,i)}}),r.Map.addInitHook("addHandler","doubleClickZoom",r.Map.DoubleClickZoom),r.Map.mergeOptions({scrollWheelZoom:!0}),r.Map.ScrollWheelZoom=r.Handler.extend({addHooks:function(){r.DomEvent.on(this._map._container,"mousewheel",this._onWheelScroll,this),r.DomEvent.on(this._map._container,"MozMousePixelScroll",r.DomEvent.preventDefault),this._delta=0},removeHooks:function(){r.DomEvent.off(this._map._container,"mousewheel",this._onWheelScroll),r.DomEvent.off(this._map._container,"MozMousePixelScroll",r.DomEvent.preventDefault)},_onWheelScroll:function(t){var e=r.DomEvent.getWheelDelta(t);this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var i=Math.max(40-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(r.bind(this._performZoom,this),i),r.DomEvent.preventDefault(t),r.DomEvent.stopPropagation(t)},_performZoom:function(){var t=this._map,e=this._delta,i=t.getZoom();e=e>0?Math.ceil(e):Math.floor(e),e=Math.max(Math.min(e,4),-4),e=t._limitZoom(i+e)-i,this._delta=0,this._startTime=null,e&&("center"===t.options.scrollWheelZoom?t.setZoom(i+e):t.setZoomAround(this._lastMousePos,i+e))}}),r.Map.addInitHook("addHandler","scrollWheelZoom",r.Map.ScrollWheelZoom),r.extend(r.DomEvent,{_touchstart:r.Browser.msPointer?"MSPointerDown":r.Browser.pointer?"pointerdown":"touchstart",_touchend:r.Browser.msPointer?"MSPointerUp":r.Browser.pointer?"pointerup":"touchend",addDoubleTapListener:function(t,i,n){function o(t){var e;if(r.Browser.pointer?(f.push(t.pointerId),e=f.length):e=t.touches.length,!(e>1)){var i=Date.now(),n=i-(a||i);l=t.touches?t.touches[0]:t,h=n>0&&u>=n,a=i}}function s(t){if(r.Browser.pointer){var e=f.indexOf(t.pointerId);if(-1===e)return;f.splice(e,1)}if(h){if(r.Browser.pointer){var n,o={};for(var s in l)n=l[s],o[s]="function"==typeof n?n.bind(l):n;l=o}l.type="dblclick",i(l),a=null}}var a,l,h=!1,u=250,c="_leaflet_",d=this._touchstart,p=this._touchend,f=[];t[c+d+n]=o,t[c+p+n]=s;var g=r.Browser.pointer?e.documentElement:t;return t.addEventListener(d,o,!1),g.addEventListener(p,s,!1),r.Browser.pointer&&g.addEventListener(r.DomEvent.POINTER_CANCEL,s,!1),this},removeDoubleTapListener:function(t,i){var n="_leaflet_";return t.removeEventListener(this._touchstart,t[n+this._touchstart+i],!1),(r.Browser.pointer?e.documentElement:t).removeEventListener(this._touchend,t[n+this._touchend+i],!1),r.Browser.pointer&&e.documentElement.removeEventListener(r.DomEvent.POINTER_CANCEL,t[n+this._touchend+i],!1),this}}),r.extend(r.DomEvent,{POINTER_DOWN:r.Browser.msPointer?"MSPointerDown":"pointerdown",POINTER_MOVE:r.Browser.msPointer?"MSPointerMove":"pointermove",POINTER_UP:r.Browser.msPointer?"MSPointerUp":"pointerup",POINTER_CANCEL:r.Browser.msPointer?"MSPointerCancel":"pointercancel",_pointers:[],_pointerDocumentListener:!1,addPointerListener:function(t,e,i,n){switch(e){case"touchstart":return this.addPointerListenerStart(t,e,i,n);case"touchend":return this.addPointerListenerEnd(t,e,i,n);case"touchmove":return this.addPointerListenerMove(t,e,i,n);default:throw"Unknown touch event type"}},addPointerListenerStart:function(t,i,n,o){var s=this._pointers,a=function(t){"mouse"!==t.pointerType&&t.pointerType!==t.MSPOINTER_TYPE_MOUSE&&r.DomEvent.preventDefault(t);for(var e=!1,i=0;i<s.length;i++)if(s[i].pointerId===t.pointerId){e=!0;break}e||s.push(t),t.touches=s.slice(),t.changedTouches=[t],n(t)};if(t["_leaflet_touchstart"+o]=a,t.addEventListener(this.POINTER_DOWN,a,!1),!this._pointerDocumentListener){var l=function(t){for(var e=0;e<s.length;e++)if(s[e].pointerId===t.pointerId){s.splice(e,1);break}};e.documentElement.addEventListener(this.POINTER_UP,l,!1),e.documentElement.addEventListener(this.POINTER_CANCEL,l,!1),this._pointerDocumentListener=!0}return this},addPointerListenerMove:function(t,e,i,n){function r(t){if(t.pointerType!==t.MSPOINTER_TYPE_MOUSE&&"mouse"!==t.pointerType||0!==t.buttons){for(var e=0;e<o.length;e++)if(o[e].pointerId===t.pointerId){o[e]=t;break}t.touches=o.slice(),t.changedTouches=[t],i(t)}}var o=this._pointers;return t["_leaflet_touchmove"+n]=r,t.addEventListener(this.POINTER_MOVE,r,!1),this},addPointerListenerEnd:function(t,e,i,n){var r=this._pointers,o=function(t){for(var e=0;e<r.length;e++)if(r[e].pointerId===t.pointerId){r.splice(e,1);break}t.touches=r.slice(),t.changedTouches=[t],i(t)};return t["_leaflet_touchend"+n]=o,t.addEventListener(this.POINTER_UP,o,!1),t.addEventListener(this.POINTER_CANCEL,o,!1),this},removePointerListener:function(t,e,i){var n=t["_leaflet_"+e+i];switch(e){case"touchstart":t.removeEventListener(this.POINTER_DOWN,n,!1);break;case"touchmove":t.removeEventListener(this.POINTER_MOVE,n,!1);break;case"touchend":t.removeEventListener(this.POINTER_UP,n,!1),t.removeEventListener(this.POINTER_CANCEL,n,!1)}return this}}),r.Map.mergeOptions({touchZoom:r.Browser.touch&&!r.Browser.android23,bounceAtZoomLimits:!0}),r.Map.TouchZoom=r.Handler.extend({addHooks:function(){r.DomEvent.on(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){r.DomEvent.off(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var i=this._map;if(t.touches&&2===t.touches.length&&!i._animatingZoom&&!this._zooming){var n=i.mouseEventToLayerPoint(t.touches[0]),o=i.mouseEventToLayerPoint(t.touches[1]),s=i._getCenterLayerPoint();this._startCenter=n.add(o)._divideBy(2),this._startDist=n.distanceTo(o),this._moved=!1,this._zooming=!0,this._centerOffset=s.subtract(this._startCenter),i._panAnim&&i._panAnim.stop(),r.DomEvent.on(e,"touchmove",this._onTouchMove,this).on(e,"touchend",this._onTouchEnd,this),r.DomEvent.preventDefault(t)}},_onTouchMove:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&this._zooming){var i=e.mouseEventToLayerPoint(t.touches[0]),n=e.mouseEventToLayerPoint(t.touches[1]);this._scale=i.distanceTo(n)/this._startDist,this._delta=i._add(n)._divideBy(2)._subtract(this._startCenter),1!==this._scale&&(e.options.bounceAtZoomLimits||!(e.getZoom()===e.getMinZoom()&&this._scale<1||e.getZoom()===e.getMaxZoom()&&this._scale>1))&&(this._moved||(r.DomUtil.addClass(e._mapPane,"leaflet-touching"),e.fire("movestart").fire("zoomstart"),this._moved=!0),r.Util.cancelAnimFrame(this._animRequest),this._animRequest=r.Util.requestAnimFrame(this._updateOnMove,this,!0,this._map._container),r.DomEvent.preventDefault(t))}},_updateOnMove:function(){var t=this._map,e=this._getScaleOrigin(),i=t.layerPointToLatLng(e),n=t.getScaleZoom(this._scale);t._animateZoom(i,n,this._startCenter,this._scale,this._delta,!1,!0)},_onTouchEnd:function(){if(!this._moved||!this._zooming)return void(this._zooming=!1);var t=this._map;this._zooming=!1,r.DomUtil.removeClass(t._mapPane,"leaflet-touching"),r.Util.cancelAnimFrame(this._animRequest),r.DomEvent.off(e,"touchmove",this._onTouchMove).off(e,"touchend",this._onTouchEnd);var i=this._getScaleOrigin(),n=t.layerPointToLatLng(i),o=t.getZoom(),s=t.getScaleZoom(this._scale)-o,a=s>0?Math.ceil(s):Math.floor(s),l=t._limitZoom(o+a),h=t.getZoomScale(l)/this._scale;t._animateZoom(n,l,i,h)},_getScaleOrigin:function(){var t=this._centerOffset.subtract(this._delta).divideBy(this._scale);return this._startCenter.add(t)}}),r.Map.addInitHook("addHandler","touchZoom",r.Map.TouchZoom),r.Map.mergeOptions({tap:!0,tapTolerance:15}),r.Map.Tap=r.Handler.extend({addHooks:function(){r.DomEvent.on(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){r.DomEvent.off(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(t.touches){if(r.DomEvent.preventDefault(t),this._fireClick=!0,t.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var i=t.touches[0],n=i.target;this._startPos=this._newPos=new r.Point(i.clientX,i.clientY),n.tagName&&"a"===n.tagName.toLowerCase()&&r.DomUtil.addClass(n,"leaflet-active"),this._holdTimeout=setTimeout(r.bind(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",i))},this),1e3),r.DomEvent.on(e,"touchmove",this._onMove,this).on(e,"touchend",this._onUp,this)}},_onUp:function(t){if(clearTimeout(this._holdTimeout),r.DomEvent.off(e,"touchmove",this._onMove,this).off(e,"touchend",this._onUp,this),this._fireClick&&t&&t.changedTouches){var i=t.changedTouches[0],n=i.target;n&&n.tagName&&"a"===n.tagName.toLowerCase()&&r.DomUtil.removeClass(n,"leaflet-active"),this._isTapValid()&&this._simulateEvent("click",i)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(t){var e=t.touches[0];this._newPos=new r.Point(e.clientX,e.clientY)},_simulateEvent:function(i,n){var r=e.createEvent("MouseEvents");r._simulated=!0,n.target._simulatedClick=!0,r.initMouseEvent(i,!0,!0,t,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),n.target.dispatchEvent(r)}}),r.Browser.touch&&!r.Browser.pointer&&r.Map.addInitHook("addHandler","tap",r.Map.Tap),r.Map.mergeOptions({boxZoom:!0}),r.Map.BoxZoom=r.Handler.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._moved=!1},addHooks:function(){r.DomEvent.on(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){r.DomEvent.off(this._container,"mousedown",this._onMouseDown),this._moved=!1},moved:function(){return this._moved},_onMouseDown:function(t){return this._moved=!1,!(!t.shiftKey||1!==t.which&&1!==t.button)&&(r.DomUtil.disableTextSelection(),r.DomUtil.disableImageDrag(),this._startLayerPoint=this._map.mouseEventToLayerPoint(t),void r.DomEvent.on(e,"mousemove",this._onMouseMove,this).on(e,"mouseup",this._onMouseUp,this).on(e,"keydown",this._onKeyDown,this))},_onMouseMove:function(t){this._moved||(this._box=r.DomUtil.create("div","leaflet-zoom-box",this._pane),r.DomUtil.setPosition(this._box,this._startLayerPoint),this._container.style.cursor="crosshair",this._map.fire("boxzoomstart"));var e=this._startLayerPoint,i=this._box,n=this._map.mouseEventToLayerPoint(t),o=n.subtract(e),s=new r.Point(Math.min(n.x,e.x),Math.min(n.y,e.y));r.DomUtil.setPosition(i,s),this._moved=!0,i.style.width=Math.max(0,Math.abs(o.x)-4)+"px",i.style.height=Math.max(0,Math.abs(o.y)-4)+"px"},_finish:function(){this._moved&&(this._pane.removeChild(this._box),this._container.style.cursor=""),r.DomUtil.enableTextSelection(),r.DomUtil.enableImageDrag(),r.DomEvent.off(e,"mousemove",this._onMouseMove).off(e,"mouseup",this._onMouseUp).off(e,"keydown",this._onKeyDown)},_onMouseUp:function(t){this._finish();var e=this._map,i=e.mouseEventToLayerPoint(t);if(!this._startLayerPoint.equals(i)){var n=new r.LatLngBounds(e.layerPointToLatLng(this._startLayerPoint),e.layerPointToLatLng(i));e.fitBounds(n),e.fire("boxzoomend",{boxZoomBounds:n})}},_onKeyDown:function(t){27===t.keyCode&&this._finish()}}),r.Map.addInitHook("addHandler","boxZoom",r.Map.BoxZoom),r.Map.mergeOptions({keyboard:!0,keyboardPanOffset:80,keyboardZoomOffset:1}),r.Map.Keyboard=r.Handler.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,173]},initialize:function(t){this._map=t,this._setPanOffset(t.options.keyboardPanOffset),this._setZoomOffset(t.options.keyboardZoomOffset)},addHooks:function(){var t=this._map._container;-1===t.tabIndex&&(t.tabIndex="0"),r.DomEvent.on(t,"focus",this._onFocus,this).on(t,"blur",this._onBlur,this).on(t,"mousedown",this._onMouseDown,this),this._map.on("focus",this._addHooks,this).on("blur",this._removeHooks,this)},removeHooks:function(){this._removeHooks();var t=this._map._container;r.DomEvent.off(t,"focus",this._onFocus,this).off(t,"blur",this._onBlur,this).off(t,"mousedown",this._onMouseDown,this),this._map.off("focus",this._addHooks,this).off("blur",this._removeHooks,this)},_onMouseDown:function(){if(!this._focused){var i=e.body,n=e.documentElement,r=i.scrollTop||n.scrollTop,o=i.scrollLeft||n.scrollLeft;this._map._container.focus(),t.scrollTo(o,r)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanOffset:function(t){var e,i,n=this._panKeys={},r=this.keyCodes;for(e=0,i=r.left.length;i>e;e++)n[r.left[e]]=[-1*t,0];for(e=0,i=r.right.length;i>e;e++)n[r.right[e]]=[t,0];for(e=0,i=r.down.length;i>e;e++)n[r.down[e]]=[0,t];for(e=0,i=r.up.length;i>e;e++)n[r.up[e]]=[0,-1*t]},_setZoomOffset:function(t){var e,i,n=this._zoomKeys={},r=this.keyCodes;for(e=0,i=r.zoomIn.length;i>e;e++)n[r.zoomIn[e]]=t;for(e=0,i=r.zoomOut.length;i>e;e++)n[r.zoomOut[e]]=-t},_addHooks:function(){r.DomEvent.on(e,"keydown",this._onKeyDown,this)},_removeHooks:function(){r.DomEvent.off(e,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){var e=t.keyCode,i=this._map;if(e in this._panKeys){if(i._panAnim&&i._panAnim._inProgress)return;i.panBy(this._panKeys[e]),i.options.maxBounds&&i.panInsideBounds(i.options.maxBounds)}else{if(!(e in this._zoomKeys))return;i.setZoom(i.getZoom()+this._zoomKeys[e])}r.DomEvent.stop(t)}}),r.Map.addInitHook("addHandler","keyboard",r.Map.Keyboard),r.Handler.MarkerDrag=r.Handler.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new r.Draggable(t,t)),this._draggable.on("dragstart",this._onDragStart,this).on("drag",this._onDrag,this).on("dragend",this._onDragEnd,this),this._draggable.enable(),r.DomUtil.addClass(this._marker._icon,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off("dragstart",this._onDragStart,this).off("drag",this._onDrag,this).off("dragend",this._onDragEnd,this),this._draggable.disable(),r.DomUtil.removeClass(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){this._marker.closePopup().fire("movestart").fire("dragstart")},_onDrag:function(){var t=this._marker,e=t._shadow,i=r.DomUtil.getPosition(t._icon),n=t._map.layerPointToLatLng(i);e&&r.DomUtil.setPosition(e,i),t._latlng=n,t.fire("move",{latlng:n}).fire("drag")},_onDragEnd:function(t){this._marker.fire("moveend").fire("dragend",t)}}),r.Control=r.Class.extend({options:{position:"topright"},initialize:function(t){r.setOptions(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this._map=t;var e=this._container=this.onAdd(t),i=this.getPosition(),n=t._controlCorners[i];return r.DomUtil.addClass(e,"leaflet-control"),-1!==i.indexOf("bottom")?n.insertBefore(e,n.firstChild):n.appendChild(e),this},removeFrom:function(t){var e=this.getPosition();return t._controlCorners[e].removeChild(this._container),this._map=null,this.onRemove&&this.onRemove(t),this},_refocusOnMap:function(){this._map&&this._map.getContainer().focus()}}),r.control=function(t){return new r.Control(t)},r.Map.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.removeFrom(this),this},_initControlPos:function(){function t(t,o){var s=i+t+" "+i+o;e[t+o]=r.DomUtil.create("div",s,n)}var e=this._controlCorners={},i="leaflet-",n=this._controlContainer=r.DomUtil.create("div",i+"control-container",this._container);t("top","left"),t("top","right"),t("bottom","left"),t("bottom","right")},_clearControlPos:function(){this._container.removeChild(this._controlContainer)}}),r.Control.Zoom=r.Control.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"-",zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",i=r.DomUtil.create("div",e+" leaflet-bar");return this._map=t,this._zoomInButton=this._createButton(this.options.zoomInText,this.options.zoomInTitle,e+"-in",i,this._zoomIn,this),this._zoomOutButton=this._createButton(this.options.zoomOutText,this.options.zoomOutTitle,e+"-out",i,this._zoomOut,this),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),i},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},_zoomIn:function(t){this._map.zoomIn(t.shiftKey?3:1)},_zoomOut:function(t){this._map.zoomOut(t.shiftKey?3:1)},_createButton:function(t,e,i,n,o,s){var a=r.DomUtil.create("a",i,n);a.innerHTML=t,a.href="#",a.title=e;var l=r.DomEvent.stopPropagation;return r.DomEvent.on(a,"click",l).on(a,"mousedown",l).on(a,"dblclick",l).on(a,"click",r.DomEvent.preventDefault).on(a,"click",o,s).on(a,"click",this._refocusOnMap,s),a},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";r.DomUtil.removeClass(this._zoomInButton,e),r.DomUtil.removeClass(this._zoomOutButton,e),t._zoom===t.getMinZoom()&&r.DomUtil.addClass(this._zoomOutButton,e),t._zoom===t.getMaxZoom()&&r.DomUtil.addClass(this._zoomInButton,e)}}),r.Map.mergeOptions({zoomControl:!0}),r.Map.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new r.Control.Zoom,this.addControl(this.zoomControl))}),r.control.zoom=function(t){return new r.Control.Zoom(t)},r.Control.Attribution=r.Control.extend({options:{position:"bottomright",prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(t){r.setOptions(this,t),this._attributions={}},onAdd:function(t){this._container=r.DomUtil.create("div","leaflet-control-attribution"),r.DomEvent.disableClickPropagation(this._container);for(var e in t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return t.on("layeradd",this._onLayerAdd,this).on("layerremove",this._onLayerRemove,this),this._update(),this._container},onRemove:function(t){t.off("layeradd",this._onLayerAdd).off("layerremove",this._onLayerRemove)},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):void 0},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):void 0},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var i=[];this.options.prefix&&i.push(this.options.prefix),t.length&&i.push(t.join(", ")),this._container.innerHTML=i.join(" | ")}},_onLayerAdd:function(t){t.layer.getAttribution&&this.addAttribution(t.layer.getAttribution())},_onLayerRemove:function(t){t.layer.getAttribution&&this.removeAttribution(t.layer.getAttribution())}}),r.Map.mergeOptions({attributionControl:!0}),r.Map.addInitHook(function(){this.options.attributionControl&&(this.attributionControl=(new r.Control.Attribution).addTo(this))}),r.control.attribution=function(t){return new r.Control.Attribution(t)},r.Control.Scale=r.Control.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0,updateWhenIdle:!1},onAdd:function(t){this._map=t;var e="leaflet-control-scale",i=r.DomUtil.create("div",e),n=this.options;return this._addScales(n,e,i),t.on(n.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),i},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,i){t.metric&&(this._mScale=r.DomUtil.create("div",e+"-line",i)),t.imperial&&(this._iScale=r.DomUtil.create("div",e+"-line",i))},_update:function(){var t=this._map.getBounds(),e=t.getCenter().lat,i=6378137*Math.PI*Math.cos(e*Math.PI/180),n=i*(t.getNorthEast().lng-t.getSouthWest().lng)/180,r=this._map.getSize(),o=this.options,s=0;r.x>0&&(s=n*(o.maxWidth/r.x)),this._updateScales(o,s)},_updateScales:function(t,e){t.metric&&e&&this._updateMetric(e),t.imperial&&e&&this._updateImperial(e)},_updateMetric:function(t){var e=this._getRoundNum(t);this._mScale.style.width=this._getScaleWidth(e/t)+"px",this._mScale.innerHTML=1e3>e?e+" m":e/1e3+" km"},_updateImperial:function(t){var e,i,n,r=3.2808399*t,o=this._iScale;r>5280?(e=r/5280,i=this._getRoundNum(e),o.style.width=this._getScaleWidth(i/e)+"px",o.innerHTML=i+" mi"):(n=this._getRoundNum(r),o.style.width=this._getScaleWidth(n/r)+"px",o.innerHTML=n+" ft")},_getScaleWidth:function(t){return Math.round(this.options.maxWidth*t)-10},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),i=t/e;return i=i>=10?10:i>=5?5:i>=3?3:i>=2?2:1,e*i}}),r.control.scale=function(t){return new r.Control.Scale(t)},r.Control.Layers=r.Control.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0},initialize:function(t,e,i){r.setOptions(this,i),this._layers={},this._lastZIndex=0,this._handlingClick=!1;for(var n in t)this._addLayer(t[n],n);for(n in e)this._addLayer(e[n],n,!0)},onAdd:function(t){return this._initLayout(),this._update(),t.on("layeradd",this._onLayerChange,this).on("layerremove",this._onLayerChange,this),this._container},onRemove:function(t){t.off("layeradd",this._onLayerChange,this).off("layerremove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._update(),this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._update(),this},removeLayer:function(t){var e=r.stamp(t);return delete this._layers[e],this._update(),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=r.DomUtil.create("div",t);e.setAttribute("aria-haspopup",!0),r.Browser.touch?r.DomEvent.on(e,"click",r.DomEvent.stopPropagation):r.DomEvent.disableClickPropagation(e).disableScrollPropagation(e);var i=this._form=r.DomUtil.create("form",t+"-list");if(this.options.collapsed){r.Browser.android||r.DomEvent.on(e,"mouseover",this._expand,this).on(e,"mouseout",this._collapse,this);var n=this._layersLink=r.DomUtil.create("a",t+"-toggle",e);n.href="#",n.title="Layers",r.Browser.touch?r.DomEvent.on(n,"click",r.DomEvent.stop).on(n,"click",this._expand,this):r.DomEvent.on(n,"focus",this._expand,this),r.DomEvent.on(i,"click",function(){setTimeout(r.bind(this._onInputClick,this),0)},this),this._map.on("click",this._collapse,this)}else this._expand();this._baseLayersList=r.DomUtil.create("div",t+"-base",i),this._separator=r.DomUtil.create("div",t+"-separator",i),this._overlaysList=r.DomUtil.create("div",t+"-overlays",i),e.appendChild(i)},_addLayer:function(t,e,i){var n=r.stamp(t);this._layers[n]={layer:t,name:e,overlay:i},this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex))},_update:function(){if(this._container){this._baseLayersList.innerHTML="",this._overlaysList.innerHTML="";var t,e,i=!1,n=!1;for(t in this._layers)e=this._layers[t],this._addItem(e),n=n||e.overlay,i=i||!e.overlay;this._separator.style.display=n&&i?"":"none"}},_onLayerChange:function(t){var e=this._layers[r.stamp(t.layer)];if(e){this._handlingClick||this._update();var i=e.overlay?"layeradd"===t.type?"overlayadd":"overlayremove":"layeradd"===t.type?"baselayerchange":null;i&&this._map.fire(i,e)}},_createRadioElement:function(t,i){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"';i&&(n+=' checked="checked"'),n+="/>";var r=e.createElement("div");return r.innerHTML=n,r.firstChild},_addItem:function(t){var i,n=e.createElement("label"),o=this._map.hasLayer(t.layer);t.overlay?(i=e.createElement("input"),i.type="checkbox",i.className="leaflet-control-layers-selector",i.defaultChecked=o):i=this._createRadioElement("leaflet-base-layers",o),i.layerId=r.stamp(t.layer),r.DomEvent.on(i,"click",this._onInputClick,this);var s=e.createElement("span");return s.innerHTML=" "+t.name,n.appendChild(i),n.appendChild(s),(t.overlay?this._overlaysList:this._baseLayersList).appendChild(n),n},_onInputClick:function(){var t,e,i,n=this._form.getElementsByTagName("input"),r=n.length;for(this._handlingClick=!0,t=0;r>t;t++)e=n[t],i=this._layers[e.layerId],e.checked&&!this._map.hasLayer(i.layer)?this._map.addLayer(i.layer):!e.checked&&this._map.hasLayer(i.layer)&&this._map.removeLayer(i.layer);this._handlingClick=!1,this._refocusOnMap()},_expand:function(){r.DomUtil.addClass(this._container,"leaflet-control-layers-expanded")},_collapse:function(){this._container.className=this._container.className.replace(" leaflet-control-layers-expanded","")}}),r.control.layers=function(t,e,i){return new r.Control.Layers(t,e,i)},r.PosAnimation=r.Class.extend({includes:r.Mixin.Events,run:function(t,e,i,n){this.stop(),this._el=t,this._inProgress=!0,this._newPos=e,this.fire("start"),t.style[r.DomUtil.TRANSITION]="all "+(i||.25)+"s cubic-bezier(0,0,"+(n||.5)+",1)",r.DomEvent.on(t,r.DomUtil.TRANSITION_END,this._onTransitionEnd,this),r.DomUtil.setPosition(t,e),r.Util.falseFn(t.offsetWidth),this._stepTimer=setInterval(r.bind(this._onStep,this),50)},stop:function(){this._inProgress&&(r.DomUtil.setPosition(this._el,this._getPos()),this._onTransitionEnd(),r.Util.falseFn(this._el.offsetWidth))},_onStep:function(){var t=this._getPos();return t?(this._el._leaflet_pos=t,void this.fire("step")):void this._onTransitionEnd()},_transformRe:/([-+]?(?:\d*\.)?\d+)\D*, ([-+]?(?:\d*\.)?\d+)\D*\)/,_getPos:function(){var e,i,n,o=this._el,s=t.getComputedStyle(o);if(r.Browser.any3d){if(!(n=s[r.DomUtil.TRANSFORM].match(this._transformRe)))return;e=parseFloat(n[1]),i=parseFloat(n[2])}else e=parseFloat(s.left),i=parseFloat(s.top);return new r.Point(e,i,!0)},_onTransitionEnd:function(){r.DomEvent.off(this._el,r.DomUtil.TRANSITION_END,this._onTransitionEnd,this),this._inProgress&&(this._inProgress=!1,this._el.style[r.DomUtil.TRANSITION]="",this._el._leaflet_pos=this._newPos,clearInterval(this._stepTimer),this.fire("step").fire("end"))}}),r.Map.include({setView:function(t,e,n){if(e=e===i?this._zoom:this._limitZoom(e),t=this._limitCenter(r.latLng(t),e,this.options.maxBounds),n=n||{},this._panAnim&&this._panAnim.stop(),this._loaded&&!n.reset&&!0!==n){n.animate!==i&&(n.zoom=r.extend({animate:n.animate},n.zoom),n.pan=r.extend({animate:n.animate},n.pan));if(this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,n.zoom):this._tryAnimatedPan(t,n.pan))return clearTimeout(this._sizeTimer),this}return this._resetView(t,e),this},panBy:function(t,e){if(t=r.point(t).round(),e=e||{},!t.x&&!t.y)return this;if(this._panAnim||(this._panAnim=new r.PosAnimation,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),!1!==e.animate){r.DomUtil.addClass(this._mapPane,"leaflet-pan-anim");var i=this._getMapPanePos().subtract(t);this._panAnim.run(this._mapPane,i,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){r.DomUtil.removeClass(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var i=this._getCenterOffset(t)._floor();return!(!0!==(e&&e.animate)&&!this.getSize().contains(i))&&(this.panBy(i,e),!0)}}),r.PosAnimation=r.DomUtil.TRANSITION?r.PosAnimation:r.PosAnimation.extend({run:function(t,e,i,n){this.stop(),this._el=t,this._inProgress=!0,this._duration=i||.25,this._easeOutPower=1/Math.max(n||.5,.2),this._startPos=r.DomUtil.getPosition(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(),this._complete())},_animate:function(){this._animId=r.Util.requestAnimFrame(this._animate,this),this._step()},_step:function(){var t=+new Date-this._startTime,e=1e3*this._duration;e>t?this._runFrame(this._easeOut(t/e)):(this._runFrame(1),this._complete())},_runFrame:function(t){var e=this._startPos.add(this._offset.multiplyBy(t));r.DomUtil.setPosition(this._el,e),this.fire("step")},_complete:function(){r.Util.cancelAnimFrame(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),r.Map.mergeOptions({zoomAnimation:!0,zoomAnimationThreshold:4}),r.DomUtil.TRANSITION&&r.Map.addInitHook(function(){this._zoomAnimated=this.options.zoomAnimation&&r.DomUtil.TRANSITION&&r.Browser.any3d&&!r.Browser.android23&&!r.Browser.mobileOpera,this._zoomAnimated&&r.DomEvent.on(this._mapPane,r.DomUtil.TRANSITION_END,this._catchTransitionEnd,this)}),r.Map.include(r.DomUtil.TRANSITION?{_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,i){
if(this._animatingZoom)return!0;if(i=i||{},!this._zoomAnimated||!1===i.animate||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var n=this.getZoomScale(e),r=this._getCenterOffset(t)._divideBy(1-1/n),o=this._getCenterLayerPoint()._add(r);return!(!0!==i.animate&&!this.getSize().contains(r))&&(this.fire("movestart").fire("zoomstart"),this._animateZoom(t,e,o,n,null,!0),!0)},_animateZoom:function(t,e,i,n,o,s,a){a||(this._animatingZoom=!0),r.DomUtil.addClass(this._mapPane,"leaflet-zoom-anim"),this._animateToCenter=t,this._animateToZoom=e,r.Draggable&&(r.Draggable._disabled=!0),r.Util.requestAnimFrame(function(){this.fire("zoomanim",{center:t,zoom:e,origin:i,scale:n,delta:o,backwards:s}),setTimeout(r.bind(this._onZoomTransitionEnd,this),250)},this)},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._animatingZoom=!1,r.DomUtil.removeClass(this._mapPane,"leaflet-zoom-anim"),r.Util.requestAnimFrame(function(){this._resetView(this._animateToCenter,this._animateToZoom,!0,!0),r.Draggable&&(r.Draggable._disabled=!1)},this))}}:{}),r.TileLayer.include({_animateZoom:function(t){this._animating||(this._animating=!0,this._prepareBgBuffer());var e=this._bgBuffer,i=r.DomUtil.TRANSFORM,n=t.delta?r.DomUtil.getTranslateString(t.delta):e.style[i],o=r.DomUtil.getScaleString(t.scale,t.origin);e.style[i]=t.backwards?o+" "+n:n+" "+o},_endZoomAnim:function(){var t=this._tileContainer,e=this._bgBuffer;t.style.visibility="",t.parentNode.appendChild(t),r.Util.falseFn(e.offsetWidth);var i=this._map.getZoom();(i>this.options.maxZoom||i<this.options.minZoom)&&this._clearBgBuffer(),this._animating=!1},_clearBgBuffer:function(){var t=this._map;!t||t._animatingZoom||t.touchZoom._zooming||(this._bgBuffer.innerHTML="",this._bgBuffer.style[r.DomUtil.TRANSFORM]="")},_prepareBgBuffer:function(){var t=this._tileContainer,e=this._bgBuffer,i=this._getLoadedTilesPercentage(e),n=this._getLoadedTilesPercentage(t);return e&&i>.5&&.5>n?(t.style.visibility="hidden",void this._stopLoadingImages(t)):(e.style.visibility="hidden",e.style[r.DomUtil.TRANSFORM]="",this._tileContainer=e,e=this._bgBuffer=t,this._stopLoadingImages(e),void clearTimeout(this._clearBgBufferTimer))},_getLoadedTilesPercentage:function(t){var e,i,n=t.getElementsByTagName("img"),r=0;for(e=0,i=n.length;i>e;e++)n[e].complete&&r++;return r/i},_stopLoadingImages:function(t){var e,i,n,o=Array.prototype.slice.call(t.getElementsByTagName("img"));for(e=0,i=o.length;i>e;e++)n=o[e],n.complete||(n.onload=r.Util.falseFn,n.onerror=r.Util.falseFn,n.src=r.Util.emptyImageUrl,n.parentNode.removeChild(n))}}),r.Map.include({_defaultLocateOptions:{watch:!1,setView:!1,maxZoom:1/0,timeout:1e4,maximumAge:0,enableHighAccuracy:!1},locate:function(t){if(t=this._locateOptions=r.extend(this._defaultLocateOptions,t),!navigator.geolocation)return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var e=r.bind(this._handleGeolocationResponse,this),i=r.bind(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,i,t):navigator.geolocation.getCurrentPosition(e,i,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){var e=t.code,i=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+i+"."})},_handleGeolocationResponse:function(t){var e=t.coords.latitude,i=t.coords.longitude,n=new r.LatLng(e,i),o=180*t.coords.accuracy/40075017,s=o/Math.cos(r.LatLng.DEG_TO_RAD*e),a=r.latLngBounds([e-o,i-s],[e+o,i+s]),l=this._locateOptions;if(l.setView){var h=Math.min(this.getBoundsZoom(a),l.maxZoom);this.setView(n,h)}var u={latlng:n,bounds:a,timestamp:t.timestamp};for(var c in t.coords)"number"==typeof t.coords[c]&&(u[c]=t.coords[c]);this.fire("locationfound",u)}})}(window,document),"function"==typeof define&&define.amd?define("bcc_map",["jquery","d3","leaflet","bcc_commons","cycleClock","timer","jquery-ui","datepicker-de","datepicker-fr","monthPicker"],function(t,e,i){return window.L=i,BCCMapApp}):"undefined"!=typeof exports&&"undefined"!=typeof module&&(module.exports=BCCMapApp),BCCMapApp.prototype.initEAClock=function(t){this.eaClock=new CycleClock(t,{width:210,height:200,radius:70,crise1Color:"#FAA61A",crise1MirrorColor:"#FEDEB3",crise2Color:"#F26522",crise2MirrorColor:"#F89F6C",noCriseColor:"#8BD1D1",noCriseMirrorColor:"#3BBFBD"})},BCCMapApp.prototype.nextMonth=function(){this.bccMapControls.nextMonth()},BCCMapApp.prototype.prevMonth=function(){this.bccMapControls.prevMonth()},BCCMapApp.prototype.setDate=function(t){this.bccMapControls.setDate(t)},BCCMap.prototype.initLeaflet=function(t,e){var i=$(t).attr("id");this.leafletMap=L.map(i,{center:L.latLng(53.008939,12.389892),zoom:4.3,minZoom:4,maxZoom:10,maxBounds:[[34.274,-24.511],[71.746,45.099]],attributionControl:!1,zoomControl:!1}),L.control.zoom({position:"bottomleft"}).addTo(this.leafletMap);var n=L.control({position:"topleft"});n.onAdd=function(t){for(var e=L.DomUtil.create("div","info_legend"),i=["#3BBFBD","#8BD1D1","#FAA61A","#F26522","#F89F6C","#FEDEB3","#7F7F7F","#E5E5E5"],n=["solid 1px black","solid 1px black","solid 1px black","solid 1px black","solid 1px black","solid 1px black","solid 1px black","none"],r=["expansion","deceleration","slowdown","recession","recession2","recovery","no_data","out_BCC_coverage"],o=[$.i18n.t("expansion"),$.i18n.t("deceleration"),$.i18n.t("slowdown"),$.i18n.t("recession"),$.i18n.t("recession2"),$.i18n.t("recovery"),$.i18n.t("no_data"),$.i18n.t("out_BCC_coverage")],s=0;s<i.length;s++)e.innerHTML+='<div><i style="background:'+i[s]+"; border:"+n[s]+'"></i><span data-i18n="'+r[s]+'">'+o[s]+"</span></div>";return e},n.addTo(this.leafletMap),this.countryInfo=L.control({position:"topright"}),this.countryInfo.onAdd=function(t){return this.countryInfoDiv=L.DomUtil.create("div","country_info"),this.setCountryInfo(),this.countryInfoDiv}.bind(this),this.countryInfo.addTo(this.leafletMap),$.getJSON(e).done(function(t){this.geojsonLayer=L.geoJson(t,{style:this.styleFeature.bind(this),onEachFeature:this.initFeature.bind(this)}).addTo(this.leafletMap),this.reorderLayers()}.bind(this)).fail(function(){console.log("error")})},BCCMap.prototype.setCountryInfo=function(t){var e,i=!1;if(t&&(e=t.CNTR_ID,"UK"==e&&(e="GB"),"EL"==e&&(e="GR"),i=!!this.dataSetInfo[e]),this.countryInfoDiv){var n=isEUMember(t)?'<span data-i18n="eu_member">'+$.i18n.t("eu_member")+"</span>":isEFTAMember(t)&&isEUCandidate(t)?'<span data-i18n="efta_member">'+$.i18n.t("efta_member")+'</span data-i18n="eu_candidate"><br/><span>'+$.i18n.t("eu_candidate")+"</span>":isEFTAMember(t)?'<span data-i18n="efta_member">'+$.i18n.t("efta_member")+"</span>":isEUCandidate(t)?'<span data-i18n="eu_candidate">'+$.i18n.t("eu_candidate")+"<span>":'<span data-i18n="out_ES">'+$.i18n.t("out_ES")+"</span>";isEAMember(t)&&(n+='<br/><span data-i18n="ea_member">'+$.i18n.t("ea_member")+"</span>"),this.countryInfoDiv.innerHTML='<div id="map_countryClock" style="display:inline-block;"></div><div style="display:inline-block;vertical-align: top;">'+(t?'<b data-i18n="country:'+e+'">'+$.i18n.t("country:"+e)+'</b><br /><span class="ue_member">'+n+"</span>":'<span data-i18n="mouse_over_for_data">'+$.i18n.t("mouse_over_for_data")+"</span>")+"</div>"}t&&i&&($("#map_countryClock").attr("data-countryCode",e),$("#map_countryData").attr("data-countryCode",e),this.clock=new CycleClock("#map_countryClock",{width:105,height:105,radius:34,crise1Color:"#FAA61A",crise1MirrorColor:"#FEDEB3",crise2Color:"#F26522",crise2MirrorColor:"#F89F6C",noCriseColor:"#8BD1D1",noCriseMirrorColor:"#3BBFBD",fontSize:14,innerDist:8}),this.updateMapCountryClock())},BCCMap.prototype.updateMapCountryClock=function(){var t=$("#map_countryClock[data-countryCode]");if(this.clock&&t&&t.length>0){var e=t.attr("data-countryCode"),i=this.getAngleForCountryDate(e,this.selectedDate);isValidNumeric(i)?this.clock.updateClock(i):this.clock.drawClock()}},BCCMap.prototype.reorderLayers=function(){null!=this.geojsonLayer&&this.geojsonLayer.eachLayer(function(t){isBccCoverage(t.feature.properties)?t.bringToFront():isEUMember(t.feature.properties)||t.bringToBack()}.bind(this))},BCCMap.prototype.initFeature=function(t,e){e.on({mouseover:this.highlightFeature.bind(this),mouseout:this.resetHighlight.bind(this)})},BCCMap.prototype.resetHighlight=function(t){this.geojsonLayer.resetStyle(t.target),isBccCoverage(t.target.feature.properties)?t.target.bringToFront():t.target.bringToBack(),this.setCountryInfo()},BCCMap.prototype.highlightFeature=function(t){var e=t.target;e.setStyle({weight:1.5,color:"#000000",opacity:.9}),L.Browser.ie||L.Browser.opera||e.bringToFront(),this.setCountryInfo(e.feature.properties)},BCCMap.prototype.styleFeature=function(t){return this.getCountryStyle(t,this.selectedDate)},BCCMap.prototype.getCountryStyle=function(t,e,i,n){var r=t.properties.CNTR_ID.toUpperCase(),o=isBccCoverage(t.properties);"UK"==r?r="GB":"EL"==r&&(r="GR");var s=this.getAngleForCountryDate(r,e,i,n),a=this.getColorForAngle(s,o?"#7F7F7F":"#E5E5E5");return{fillColor:a,weight:1,opacity:o?.5:0,color:o?"#555555":a,fillOpacity:1}},BCCMap.prototype.getAngleForCountryDate=function(t,e,i,n){var e=toDate(e,i,n),r=0;if(this.dataSetInfo[t]){for(var o=0;o<this.dataSetInfo[t].date.length;o++){if(stringToDate(this.dataSetInfo[t].date[o],"dd/mm/yyyy","/").getTime()>=e.getTime()){r=o;break}}return this.dataSetInfo[t].angle[r]}},BCCMap.prototype.getDataForCountryDate=function(t,e,i,n){var e=toDate(e,i,n),r=0;if(this.dataSetInfo[t]){for(var o=0;o<this.dataSetInfo[t].date.length;o++){if(stringToDate(this.dataSetInfo[t].date[o],"dd/mm/yyyy","/").getTime()>=e.getTime()){r=o;break}}return{angle:this.dataSetInfo[t].angle[r],gdp:this.dataSetInfo[t].gdp[r/3],gdpgc:this.dataSetInfo[t].gdpgc[r/3]}}},BCCMap.prototype.getColorForAngle=function(t,e){for(var i=Number(t);i>2*Math.PI;)i-=2*Math.PI;for(;i<0;)i+=2*Math.PI;return i>=0&&i<=Math.PI/2?"#8BD1D1":i>Math.PI/2&&i<=3*Math.PI/4?"#FAA61A":i>3*Math.PI/4&&i<=Math.PI?"#F26522":i>Math.PI&&i<=5*Math.PI/4?"#F89F6C":i>5*Math.PI/4&&i<=3*Math.PI/2?"#FEDEB3":i>3*Math.PI/2&&i<=2*Math.PI?"#3BBFBD":e},BCCMap.prototype.setDate=function(t,e,i){this.selectedDate=toDate(t,e,i),null!=this.geojsonLayer&&this.geojsonLayer.eachLayer(function(t){t.setStyle(this.styleFeature(t.feature))}.bind(this))},BCCMapControls.prototype.initTimer=function(t,e){this.timer=new TimerLoop(this.setPos.bind(this),t,0,getMaxClockIndex(e),!0,!1,!0)},BCCMapControls.prototype.initMonthPicker=function(){this.monthPicker.MonthPicker({SelectedMonth:this.maxDate,MonthFormat:"mm/yy",MaxMonth:this.maxDate,MinMonth:this.minDate,OnAfterChooseMonth:function(t){this.setDate(t)}.bind(this),i18n:$.datepicker.regional[$.i18n.language.substr(0,2)]})},BCCMapControls.prototype.updateRange=function(t,e,i,n,r,o){this.minDate=toDate(i,r,o),this.maxDate=toDate(n,r,o),this.timer.maxTimerPos=e,this.timer.minTimerPos=t,this.monthPicker.MonthPicker("Destroy"),this.initMonthPicker(),this.selectedDate.getTime()<this.minDate.getTime()?this.setDate(this.minDate):this.selectedDate.getTime()>this.maxDate.getTime()?this.setDate(this.maxDate):this.monthPicker.MonthPicker("SetSelectedMonth",this.selectedDate)},BCCMapControls.prototype.setDate=function(t,e,i){this.selectedDate=toDate(t,e,i),this.onDateChanged(this.selectedDate),this.monthPicker.MonthPicker("SetSelectedMonth",t)},BCCMapControls.prototype.setPos=function(t){var e=toDate(this.minDate);e.setMonth(e.getMonth()+(t-this.timer.minTimerPos)),this.setDate(e)},BCCMapControls.prototype.nextMonth=function(){var t=toDate(this.selectedDate);t.setMonth(t.getMonth()+1),t.getTime()<=this.maxDate.getTime()&&t.getTime()>=this.minDate.getTime()&&(this.monthPicker.val($.datepicker.formatDate("mm/yy",t,$.datepicker.regional[$.i18n.language.substr(0,2)])),this.setDate(t))},BCCMapControls.prototype.prevMonth=function(){var t=toDate(this.selectedDate);t.setMonth(t.getMonth()-1),t.getTime()<=this.maxDate.getTime()&&t.getTime()>=this.minDate.getTime()&&(this.monthPicker.val($.datepicker.formatDate("mm/yy",t,$.datepicker.regional[$.i18n.language.substr(0,2)])),this.setDate(t))};var jsPDF=function(){"use strict";function t(n,r,o,s){n=void 0===n?"p":n.toString().toLowerCase(),void 0===r&&(r="mm"),void 0===o&&(o="a4"),void 0===s&&"undefined"==typeof zpipe&&(s=!1);var a,l,h,u,c,d,p,f,g,m=o.toString().toLowerCase(),v=[],y=0,_=s,x={a3:[841.89,1190.55],a4:[595.28,841.89],a5:[420.94,595.28],letter:[612,792],legal:[612,1008]},b="0 g",w=0,k=[],C=2,T=!1,S=[],D={},M={},A=16,P={title:"",subject:"",author:"",keywords:"",creator:""},L=0,E=0,q={},I=new i(q),j=function(t){return t.toFixed(2)},O=function(t){return t.toFixed(3)},R=function(t){var e=t.toFixed(0);return t<10?"0"+e:e},N=function(t){try{var e=t.toFixed(0);return e.length<10?new Array(11-e.length).join("0")+e:e}catch(t){return e}},F=function(t){T?k[w].push(t):(v.push(t),y+=t.length+1)},z=function(){return C++,S[C]=y,F(C+" 0 obj"),C},B=function(t){F("stream"),F(t),F("endstream")},H=function(){p=h*u,f=l*u;var t,e,i,n,r,o;for(t=1;t<=w;t++){if(z(),F("<</Type /Page"),F("/Parent 1 0 R"),F("/Resources 2 0 R"),F("/Contents "+(C+1)+" 0 R>>"),F("endobj"),e=k[t].join("\n"),z(),_){for(i=[],n=0;n<e.length;++n)i[n]=e.charCodeAt(n);o=adler32cs.from(e),r=new Deflater(6),r.append(new Uint8Array(i)),e=r.flush(),i=[new Uint8Array([120,156]),new Uint8Array(e),new Uint8Array([255&o,o>>8&255,o>>16&255,o>>24&255])],e="";for(n in i)i.hasOwnProperty(n)&&(e+=String.fromCharCode.apply(null,i[n]));F("<</Length "+e.length+" /Filter [/FlateDecode]>>")}else F("<</Length "+e.length+">>");B(e),F("endobj")}for(S[1]=y,F("1 0 obj"),F("<</Type /Pages"),g="/Kids [",n=0;n<w;n++)g+=3+2*n+" 0 R ";F(g+"]"),F("/Count "+w),F("/MediaBox [0 0 "+j(p)+" "+j(f)+"]"),F(">>"),F("endobj")},W=function(t){t.objectNumber=z(),F("<</BaseFont/"+t.PostScriptName+"/Type/Font"),"string"==typeof t.encoding&&F("/Encoding/"+t.encoding),F("/Subtype/Type1>>"),F("endobj")},U=function(){var t;for(t in D)D.hasOwnProperty(t)&&W(D[t])},Y=function(){I.publish("putXobjectDict")},X=function(){F("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),F("/Font <<");var t;for(t in D)D.hasOwnProperty(t)&&F("/"+t+" "+D[t].objectNumber+" 0 R");F(">>"),F("/XObject <<"),Y(),F(">>")},G=function(){U(),I.publish("putResources"),S[2]=y,F("2 0 obj"),F("<<"),X(),F(">>"),F("endobj"),I.publish("postPutResources")},Z=function(t,e,i){void 0===M[e]&&(M[e]={}),M[e][i]=t},V=function(t,i,n,r){var o="F"+(e(D)+1).toString(10),s=D[o]={id:o,PostScriptName:t,fontName:i,fontStyle:n,encoding:r,metadata:{}};return Z(o,i,n),I.publish("addFont",s),o},$=function(t,e){var i,n,r,o,s,l,h,u,c,d;if(e===r&&(e={}),o=e.sourceEncoding?o:"Unicode",l=e.outputEncoding,(e.autoencode||l)&&D[a].metadata&&D[a].metadata[o]&&D[a].metadata[o].encoding&&(s=D[a].metadata[o].encoding,!l&&D[a].encoding&&(l=D[a].encoding),!l&&s.codePages&&(l=s.codePages[0]),"string"==typeof l&&(l=s[l]),l)){for(u=!1,h=[],i=0,n=t.length;i<n;i++)c=l[t.charCodeAt(i)],c?h.push(String.fromCharCode(c)):h.push(t[i]),h[i].charCodeAt(0)>>8&&(u=!0);t=h.join("")}for(i=t.length;u===r&&0!==i;)t.charCodeAt(i-1)>>8&&(u=!0),i--;if(u){for(h=e.noBOM?[]:[254,255],i=0,n=t.length;i<n;i++){if(c=t.charCodeAt(i),(d=c>>8)>>8)throw new Error("Character at position "+i.toString(10)+" of string '"+t+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");h.push(d),h.push(c-(d<<8))}return String.fromCharCode.apply(r,h)}return t},J=function(t,e){return $(t,e).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},K=function(){F("/Producer (jsPDF 20120619)"),P.title&&F("/Title ("+J(P.title)+")"),P.subject&&F("/Subject ("+J(P.subject)+")"),P.author&&F("/Author ("+J(P.author)+")"),P.keywords&&F("/Keywords ("+J(P.keywords)+")"),P.creator&&F("/Creator ("+J(P.creator)+")");var t=new Date;F("/CreationDate (D:"+[t.getFullYear(),R(t.getMonth()+1),R(t.getDate()),R(t.getHours()),R(t.getMinutes()),R(t.getSeconds())].join("")+")")},Q=function(){F("/Type /Catalog"),F("/Pages 1 0 R"),F("/OpenAction [3 0 R /FitH null]"),F("/PageLayout /OneColumn"),I.publish("putCatalog")},tt=function(){F("/Size "+(C+1)),F("/Root "+C+" 0 R"),F("/Info "+(C-1)+" 0 R")},et=function(){w++,T=!0,k[w]=[]},it=function(){et(),F(j(.200025*u)+" w"),F("0 G"),0!==L&&F(L.toString(10)+" J"),0!==E&&F(E.toString(10)+" j"),I.publish("addPage",{pageNumber:w})},nt=function(t,e){var i,n;t===n&&(t=D[a].fontName),e===n&&(e=D[a].fontStyle);try{i=M[t][e]}catch(t){i=n}if(!i)throw new Error("Unable to look up font label for font '"+t+"', '"+e+"'. Refer to getFontList() for available fonts.");return i},rt=function(){T=!1,v=[],S=[],F("%PDF-1.3"),H(),G(),z(),F("<<"),K(),F(">>"),F("endobj"),z(),F("<<"),Q(),F(">>"),F("endobj");var t,e=y;for(F("xref"),F("0 "+(C+1)),F("0000000000 65535 f "),t=1;t<=C;t++)F(N(S[t])+" 00000 n ");return F("trailer"),F("<<"),tt(),F(">>"),F("startxref"),F(e),F("%%EOF"),T=!0,v.join("\n")},ot=function(t){var e="S";return"F"===t?e="f":"FD"!==t&&"DF"!==t||(e="B"),e},st=function(t,e){var i,n,r,o,s;switch(t){case void 0:return rt();case"save":if(navigator.getUserMedia){if(void 0===window.URL)return q.output("dataurlnewwindow");if(void 0===window.URL.createObjectURL)return q.output("dataurlnewwindow")}for(i=rt(),n=i.length,r=new Uint8Array(new ArrayBuffer(n)),o=0;o<n;o++)r[o]=i.charCodeAt(o);s=new Blob([r],{type:"application/pdf"}),saveAs(s,e);break;case"datauristring":case"dataurlstring":return"data:application/pdf;base64,"+btoa(rt());case"datauri":case"dataurl":document.location.href="data:application/pdf;base64,"+btoa(rt());break;case"dataurlnewwindow":window.open("data:application/pdf;base64,"+btoa(rt()));break;default:throw new Error('Output type "'+t+'" is not supported.')}};if("pt"===r)u=1;else if("mm"===r)u=72/25.4;else if("cm"===r)u=72/2.54;else{if("in"!==r)throw"Invalid unit: "+r;u=72}if(x.hasOwnProperty(m))l=x[m][1]/u,h=x[m][0]/u;else try{l=o[1],h=o[0]}catch(t){throw"Invalid format: "+o}if("p"===n||"portrait"===n)n="p",h>l&&(c=h,h=l,l=c);else{if("l"!==n&&"landscape"!==n)throw"Invalid orientation: "+n;n="l",l>h&&(c=h,h=l,l=c)}q.internal={pdfEscape:J,getStyle:ot,getFont:function(){return D[nt.apply(q,arguments)]},getFontSize:function(){return A},btoa:btoa,write:function(t,e,i,n){F(1===arguments.length?t:Array.prototype.join.call(arguments," "))},getCoordinateString:function(t){return j(t*u)},getVerticalCoordinateString:function(t){return j((l-t)*u)},collections:{},newObject:z,putStream:B,events:I,scaleFactor:u,pageSize:{width:h,height:l},output:function(t,e){return st(t,e)}},q.addPage=function(){return it(),this},q.text=function(t,e,i,n){var r,o,s,h,c,d,p;if("number"==typeof t&&(o=i,s=t,h=e,t=o,e=s,i=h),"string"==typeof t&&t.match(/[\n\r]/)&&(t=t.split(/\r\n|\r|\n/g)),void 0===n?n={noBOM:!0,autoencode:!0}:(n.noBOM===r&&(n.noBOM=!0),n.autoencode===r&&(n.autoencode=!0)),"string"==typeof t)d=J(t,n);else{if(!(t instanceof Array))throw new Error('Type of text must be string or Array. "'+t+'" is not recognized.');for(c=t.concat(),p=c.length-1;-1!==p;p--)c[p]=J(c[p],n);d=c.join(") Tj\nT* (")}return F("BT\n/"+a+" "+A+" Tf\n"+A+" TL\n"+b+"\n"+j(e*u)+" "+j((l-i)*u)+" Td\n("+d+") Tj\nET"),this},q.line=function(t,e,i,n){return F(j(t*u)+" "+j((l-e)*u)+" m "+j(i*u)+" "+j((l-n)*u)+" l S"),this},q.lines=function(t,e,i,n,r){var o,s,a,h,c,d,p,f,g,m,v,y,_,x;for("number"==typeof t&&(o=i,s=t,a=e,t=o,e=s,i=a),r=ot(r),n=void 0===n?[1,1]:n,F(O(e*u)+" "+O((l-i)*u)+" m "),h=n[0],c=n[1],p=t.length,_=e,x=i,d=0;d<p;d++)f=t[d],2===f.length?(_=f[0]*h+_,x=f[1]*c+x,F(O(_*u)+" "+O((l-x)*u)+" l")):(g=f[0]*h+_,m=f[1]*c+x,v=f[2]*h+_,y=f[3]*c+x,_=f[4]*h+_,x=f[5]*c+x,F(O(g*u)+" "+O((l-m)*u)+" "+O(v*u)+" "+O((l-y)*u)+" "+O(_*u)+" "+O((l-x)*u)+" c"));return F(r),this},q.rect=function(t,e,i,n,r){var o=ot(r);return F([j(t*u),j((l-e)*u),j(i*u),j(-n*u),"re",o].join(" ")),this},q.triangle=function(t,e,i,n,r,o,s){return this.lines([[i-t,n-e],[r-i,o-n],[t-r,e-o]],t,e,[1,1],s),this},q.roundedRect=function(t,e,i,n,r,o,s){var a=4/3*(Math.SQRT2-1);return this.lines([[i-2*r,0],[r*a,0,r,o-o*a,r,o],[0,n-2*o],[0,o*a,-r*a,o,-r,o],[2*r-i,0],[-r*a,0,-r,-o*a,-r,-o],[0,2*o-n],[0,-o*a,r*a,-o,r,-o]],t+r,e,[1,1],s),this},q.ellipse=function(t,e,i,n,r){var o=ot(r),s=4/3*(Math.SQRT2-1)*i,a=4/3*(Math.SQRT2-1)*n;return F([j((t+i)*u),j((l-e)*u),"m",j((t+i)*u),j((l-(e-a))*u),j((t+s)*u),j((l-(e-n))*u),j(t*u),j((l-(e-n))*u),"c"].join(" ")),F([j((t-s)*u),j((l-(e-n))*u),j((t-i)*u),j((l-(e-a))*u),j((t-i)*u),j((l-e)*u),"c"].join(" ")),F([j((t-i)*u),j((l-(e+a))*u),j((t-s)*u),j((l-(e+n))*u),j(t*u),j((l-(e+n))*u),"c"].join(" ")),F([j((t+s)*u),j((l-(e+n))*u),j((t+i)*u),j((l-(e+a))*u),j((t+i)*u),j((l-e)*u),"c",o].join(" ")),this},q.circle=function(t,e,i,n){return this.ellipse(t,e,i,i,n)},q.setProperties=function(t){var e;for(e in P)P.hasOwnProperty(e)&&t[e]&&(P[e]=t[e]);return this},q.setFontSize=function(t){return A=t,this},q.setFont=function(t,e){return a=nt(t,e),this},q.setFontStyle=q.setFontType=function(t){return a=nt(void 0,t),this},q.getFontList=function(){var t,e,i,n={};for(t in M)if(M.hasOwnProperty(t)){n[t]=i=[];for(e in M[t])M[t].hasOwnProperty(e)&&i.push(e)}return n},q.setLineWidth=function(t){return F((t*u).toFixed(2)+" w"),this},q.setDrawColor=function(t,e,i,n){var r;return r=void 0===e||void 0===n&&t===e===i?"string"==typeof t?t+" G":j(t/255)+" G":void 0===n?"string"==typeof t?[t,e,i,"RG"].join(" "):[j(t/255),j(e/255),j(i/255),"RG"].join(" "):"string"==typeof t?[t,e,i,n,"K"].join(" "):[j(t),j(e),j(i),j(n),"K"].join(" "),F(r),this},q.setFillColor=function(t,e,i,n){var r;return r=void 0===e||void 0===n&&t===e===i?"string"==typeof t?t+" g":j(t/255)+" g":void 0===n?"string"==typeof t?[t,e,i,"rg"].join(" "):[j(t/255),j(e/255),j(i/255),"rg"].join(" "):"string"==typeof t?[t,e,i,n,"k"].join(" "):[j(t),j(e),j(i),j(n),"k"].join(" "),F(r),this},q.setTextColor=function(t,e,i){return b=0===t&&0===e&&0===i||void 0===e?O(t/255)+" g":[O(t/255),O(e/255),O(i/255),"rg"].join(" "),this},q.CapJoinStyles={0:0,butt:0,but:0,bevel:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,milter:2},q.setLineCap=function(t){var e=this.CapJoinStyles[t];if(void 0===e)throw new Error("Line cap style of '"+t+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return L=e,F(e.toString(10)+" J"),this},q.setLineJoin=function(t){var e=this.CapJoinStyles[t];if(void 0===e)throw new Error("Line join style of '"+t+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return E=e,F(e.toString(10)+" j"),this},q.output=st,q.save=function(t){q.output("save",t)};for(d in t.API)t.API.hasOwnProperty(d)&&("events"===d&&t.API.events.length?function(t,e){var i,n,r;for(r=e.length-1;-1!==r;r--)i=e[r][0],n=e[r][1],t.subscribe.apply(t,[i].concat("function"==typeof n?[n]:n))}(I,t.API.events):q[d]=t.API[d]);return function(){var t,e,i,n,r="helvetica",o="times",s="courier",a="normal",l="bold",h="italic",u="bolditalic",c=[["Helvetica",r,a],["Helvetica-Bold",r,l],["Helvetica-Oblique",r,h],["Helvetica-BoldOblique",r,u],["Courier",s,a],["Courier-Bold",s,l],["Courier-Oblique",s,h],["Courier-BoldOblique",s,u],["Times-Roman",o,a],["Times-Bold",o,l],["Times-Italic",o,h],["Times-BoldItalic",o,u]];for(t=0,e=c.length;t<e;t++)i=V(c[t][0],c[t][1],c[t][2],"StandardEncoding"),n=c[t][0].split("-"),Z(i,n[0],n[1]||"");I.publish("addFonts",{fonts:D,dictionary:M})}(),a="F1",it(),I.publish("initialized"),q}"undefined"==typeof btoa&&(window.btoa=function(t){var e,i,n,r,o,s,a,l,h,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c=u.split(""),d=0,p=0,f="",g=[];do{e=t.charCodeAt(d++),i=t.charCodeAt(d++),n=t.charCodeAt(d++),l=e<<16|i<<8|n,r=l>>18&63,o=l>>12&63,s=l>>6&63,a=63&l,g[p++]=c[r]+c[o]+c[s]+c[a]}while(d<t.length);return f=g.join(""),h=t.length%3,(h?f.slice(0,h-3):f)+"===".slice(h||3)}),"undefined"==typeof atob&&(window.atob=function(t){var e,i,n,r,o,s,a,l,h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",u=0,c=0,d=[];if(!t)return t;t+="";do{r=h.indexOf(t.charAt(u++)),o=h.indexOf(t.charAt(u++)),s=h.indexOf(t.charAt(u++)),a=h.indexOf(t.charAt(u++)),l=r<<18|o<<12|s<<6|a,e=l>>16&255,i=l>>8&255,n=255&l,d[c++]=64===s?String.fromCharCode(e):64===a?String.fromCharCode(e,i):String.fromCharCode(e,i,n)}while(u<t.length);return d.join("")});var e="function"==typeof Object.keys?function(t){return Object.keys(t).length}:function(t){var e,i=0;for(e in t)t.hasOwnProperty(e)&&i++;return i},i=function(t){this.topics={},this.context=t,this.publish=function(t,e){if(this.topics[t]){var i,n,r,o,s=this.topics[t],a=[],l=function(){};for(e=Array.prototype.slice.call(arguments,1),n=0,r=s.length;n<r;n++)o=s[n],i=o[0],o[1]&&(o[0]=l,a.push(n)),i.apply(this.context,e);for(n=0,r=a.length;n<r;n++)s.splice(a[n],1)}},this.subscribe=function(t,e,i){return this.topics[t]?this.topics[t].push([e,i]):this.topics[t]=[[e,i]],{topic:t,callback:e}},this.unsubscribe=function(t){if(this.topics[t.topic]){var e,i,n=this.topics[t.topic];for(e=0,i=n.length;e<i;e++)n[e][0]===t.callback&&n.splice(e,1)}}};return t.API={events:[]},t}();!function(t){"use strict";var e="addImage_",i=function(t){var e,i;if(255===!t.charCodeAt(0)||216===!t.charCodeAt(1)||255===!t.charCodeAt(2)||224===!t.charCodeAt(3)||!t.charCodeAt(6)==="J".charCodeAt(0)||!t.charCodeAt(7)==="F".charCodeAt(0)||!t.charCodeAt(8)==="I".charCodeAt(0)||!t.charCodeAt(9)==="F".charCodeAt(0)||0===!t.charCodeAt(10))throw new Error("getJpegSize requires a binary jpeg file");for(var n=256*t.charCodeAt(4)+t.charCodeAt(5),r=4,o=t.length;r<o;){if(r+=n,255!==t.charCodeAt(r))throw new Error("getJpegSize could not find the size of the image");if(192===t.charCodeAt(r+1))return i=256*t.charCodeAt(r+5)+t.charCodeAt(r+6),e=256*t.charCodeAt(r+7)+t.charCodeAt(r+8),[e,i];r+=2,n=256*t.charCodeAt(r)+t.charCodeAt(r+1)}},n=function(t){var e=this.internal.newObject(),i=this.internal.write,n=this.internal.putStream;if(t.n=e,i("<</Type /XObject"),i("/Subtype /Image"),i("/Width "+t.w),i("/Height "+t.h),"Indexed"===t.cs?i("/ColorSpace [/Indexed /DeviceRGB "+(t.pal.length/3-1)+" "+(e+1)+" 0 R]"):(i("/ColorSpace /"+t.cs),"DeviceCMYK"===t.cs&&i("/Decode [1 0 1 0 1 0 1 0]")),i("/BitsPerComponent "+t.bpc),"f"in t&&i("/Filter /"+t.f),"dp"in t&&i("/DecodeParms <<"+t.dp+">>"),"trns"in t&&t.trns.constructor==Array)for(var r="",o=0;o<t.trns.length;o++)r+=t[r][o]+" "+t.trns[o]+" ",i("/Mask ["+r+"]");"smask"in t&&i("/SMask "+(e+1)+" 0 R"),i("/Length "+t.data.length+">>"),n(t.data),i("endobj")},r=function(){var t=this.internal.collections[e+"images"];for(var i in t)n.call(this,t[i])},o=function(){var t,i=this.internal.collections[e+"images"],n=this.internal.write;for(var r in i)t=i[r],n("/I"+t.i,t.n,"0","R")};t.addImage=function(t,n,s,a,l,h){if("object"==typeof t&&1===t.nodeType){var u=document.createElement("canvas");u.width=t.clientWidth,u.height=t.clientHeight;var c=u.getContext("2d");if(!c)throw"addImage requires canvas to be supported by browser.";c.drawImage(t,0,0,u.width,u.height),t=u.toDataURL("image/jpeg"),n="JPEG"}if("JPEG"!==n.toUpperCase())throw new Error("addImage currently only supports format 'JPEG', not '"+n+"'");var d,p=this.internal.collections[e+"images"],f=this.internal.getCoordinateString,g=this.internal.getVerticalCoordinateString;"data:image/jpeg;base64,"===t.substring(0,23)&&(t=atob(t.replace("data:image/jpeg;base64,",""))),p?d=Object.keys?Object.keys(p).length:function(t){var e=0;for(var i in t)t.hasOwnProperty(i)&&e++;return e}(p):(d=0,this.internal.collections[e+"images"]=p={},this.internal.events.subscribe("putResources",r),this.internal.events.subscribe("putXobjectDict",o));var m=i(t),v={w:m[0],h:m[1],cs:"DeviceRGB",bpc:8,f:"DCTDecode",i:d,data:t};return p[d]=v,l||h||(l=-96,h=-96),l<0&&(l=-1*v.w*72/l/this.internal.scaleFactor),h<0&&(h=-1*v.h*72/h/this.internal.scaleFactor),0===l&&(l=h*v.w/v.h),0===h&&(h=l*v.h/v.w),this.internal.write("q",f(l),"0 0",f(h),f(s),g(a+h),"cm /I"+v.i,"Do Q"),this}}(jsPDF.API),function(t){"use strict";function e(t){for(var e,i=0,n=t.length,r=!1,o=!1;!r&&i!==n;)e=t[i]=t[i].trimLeft(),e&&(r=!0),i++;for(i=n-1;n&&!o&&-1!==i;)e=t[i]=t[i].trimRight(),e&&(o=!0),i--;var s=/\s+$/g,a=!0;for(i=0;i!==n;i++)e=t[i].replace(/\s+/g," "),a&&(e=e.trimLeft()),e&&(a=s.test(e)),t[i]=e;return t}function i(t,e,i,n){return this.pdf=t,this.x=e,this.y=i,this.settings=n,this.init(),this}function n(t){for(var e,i=t.split(","),n=i.shift();!e&&n;)e=h[n.trim().toLowerCase()],n=i.shift();return e}function r(t){var e=d[t];return e||(e={"xx-small":9,"x-small":11,small:13,medium:16,large:19,"x-large":23,"xx-large":28,auto:0}[t],void 0!==e?d[t]=e/16:(e=parseFloat(t))?d[t]=e/16:(e=t.match(/([\d\.]+)(px)/),3===e.length?d[t]=parseFloat(e[1])/16:d[t]=1))}function o(t){var e,i=$(t),o={};return o["font-family"]=n(i.css("font-family"))||"times",o["font-style"]=c[i.css("font-style")]||"normal",e=u[i.css("font-weight")]||"normal","bold"===e&&("normal"===o["font-style"]?o["font-style"]=e:o["font-style"]=e+o["font-style"]),o["font-size"]=r(i.css("font-size"))||1,o["line-height"]=r(i.css("line-height"))||1,o.display="inline"===i.css("display")?"inline":"block","block"===o.display&&(o["margin-top"]=r(i.css("margin-top"))||0,o["margin-bottom"]=r(i.css("margin-bottom"))||0,o["padding-top"]=r(i.css("padding-top"))||0,o["padding-bottom"]=r(i.css("padding-bottom"))||0),o}function s(t,e,i){var n,r,o=!1,s=i["#"+t.id];if(s)if("function"==typeof s)o=s(t,e);else for(n=0,r=s.length;!o&&n!==r;)o=s[n](t,e),n++;if(s=i[t.nodeName],!o&&s)if("function"==typeof s)o=s(t,e);else for(n=0,r=s.length;!o&&n!==r;)o=s[n](t,e),n++;return o}function a(t,e,i){var n,r=t.childNodes,l=o(t),h="block"===l.display;h&&(e.setBlockBoundary(),e.setBlockStyle(l));for(var u=0,c=r.length;u<c;u++)n=r[u],"object"==typeof n?1===n.nodeType&&"SCRIPT"!=n.nodeName?s(n,e,i)||a(n,e,i):3===n.nodeType&&e.addText(n.nodeValue,l):"string"==typeof n&&e.addText(n,l);h&&e.setBlockBoundary()}function l(t,e,n,r,o){"string"==typeof e&&(e=function(t){var e="jsPDFhtmlText"+Date.now().toString()+(1e3*Math.random()).toFixed(0),i=($('<div style="position: absolute !important;clip: rect(1px 1px 1px 1px); /* IE6, IE7 */clip: rect(1px, 1px, 1px, 1px);padding:0 !important;border:0 !important;height: 1px !important;width: 1px !important; top:auto;left:-100px;overflow: hidden;"><iframe style="height:1px;width:1px" name="'+e+'" /></div>').appendTo(document.body),window.frames[e]);return $(i.document.body).html(t)[0]}(e));var s=new i(t,n,r,o);return a(e,s,o.elementHandlers),s.dispose()}String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),String.prototype.trimLeft||(String.prototype.trimLeft=function(){return this.replace(/^\s+/g,"")}),String.prototype.trimRight||(String.prototype.trimRight=function(){return this.replace(/\s+$/g,"")}),i.prototype.init=function(){this.paragraph={text:[],style:[]},this.pdf.internal.write("q")},i.prototype.dispose=function(){return this.pdf.internal.write("Q"),{x:this.x,y:this.y}},i.prototype.splitFragmentsIntoLines=function(t,e){for(var i,n,r,o,s,a,l,h,u=this.pdf.internal.scaleFactor,c={},d=[],p=[d],f=0,g=this.settings.width;t.length;)if(o=t.shift(),s=e.shift(),o)if(i=s["font-family"],n=s["font-style"],r=c[i+n],r||(r=this.pdf.internal.getFont(i,n).metadata.Unicode,c[i+n]=r),a={widths:r.widths,kerning:r.kerning,fontSize:12*s["font-size"],textIndent:f},l=this.pdf.getStringUnitWidth(o,a)*a.fontSize/u,f+l>g){for(h=this.pdf.splitTextToSize(o,g,a),d.push([h.shift(),s]);h.length;)d=[[h.shift(),s]],p.push(d);f=this.pdf.getStringUnitWidth(d[0][0],a)*a.fontSize/u}else d.push([o,s]),f+=l;return p},i.prototype.RenderTextFragment=function(t,e){var i=this.pdf.internal.getFont(e["font-family"],e["font-style"]);this.pdf.internal.write("/"+i.id,(12*e["font-size"]).toFixed(2),"Tf","("+this.pdf.internal.pdfEscape(t)+") Tj")},i.prototype.renderParagraph=function(){
var t=e(this.paragraph.text),i=this.paragraph.style,n=this.paragraph.blockstyle,r=this.paragraph.blockstyle||{};if(this.paragraph={text:[],style:[],blockstyle:{},priorblockstyle:n},t.join("").trim()){var o,s,a,l,h=this.splitFragmentsIntoLines(t,i),u=12/this.pdf.internal.scaleFactor,c=(Math.max((n["margin-top"]||0)-(r["margin-bottom"]||0),0)+(n["padding-top"]||0))*u,d=((n["margin-bottom"]||0)+(n["padding-bottom"]||0))*u,p=this.pdf.internal.write;for(this.y+=c,p("q","BT",this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),"Td");h.length;){for(o=h.shift(),s=0,a=0,l=o.length;a!==l;a++)o[a][0].trim()&&(s=Math.max(s,o[a][1]["line-height"],o[a][1]["font-size"]));for(p(0,(-12*s).toFixed(2),"Td"),a=0,l=o.length;a!==l;a++)o[a][0]&&this.RenderTextFragment(o[a][0],o[a][1]);this.y+=s*u}p("ET","Q"),this.y+=d}},i.prototype.setBlockBoundary=function(){this.renderParagraph()},i.prototype.setBlockStyle=function(t){this.paragraph.blockstyle=t},i.prototype.addText=function(t,e){this.paragraph.text.push(t),this.paragraph.style.push(e)};var h={helvetica:"helvetica","sans-serif":"helvetica",serif:"times",times:"times","times new roman":"times",monospace:"courier",courier:"courier"},u={100:"normal",200:"normal",300:"normal",400:"normal",500:"bold",600:"bold",700:"bold",800:"bold",900:"bold",normal:"normal",bold:"bold",bolder:"bold",lighter:"normal"},c={normal:"normal",italic:"italic",oblique:"italic"},d={normal:1};t.fromHTML=function(t,e,i,n){return l(this,t,e,i,n)}}(jsPDF.API),function(t){"use strict";t.addSVG=function(t,e,i,n,r){function o(t,e){var i=e.createElement("style");i.type="text/css",i.styleSheet?i.styleSheet.cssText=t:i.appendChild(e.createTextNode(t)),e.getElementsByTagName("head")[0].appendChild(i)}var s;if(e===s||e===s)throw new Error("addSVG needs values for 'x' and 'y'");var a=function(t){var e=t.createElement("iframe");return o(".jsPDF_sillysvg_iframe {display:none;position:absolute;}",t),e.name="childframe",e.setAttribute("width",0),e.setAttribute("height",0),e.setAttribute("frameborder","0"),e.setAttribute("scrolling","no"),e.setAttribute("seamless","seamless"),e.setAttribute("class","jsPDF_sillysvg_iframe"),t.body.appendChild(e),e}(document),l=function(t,e){var i=(e.contentWindow||e.contentDocument).document;return i.write(t),i.close(),i.getElementsByTagName("svg")[0]}(t,a),h=[1,1],u=parseFloat(l.getAttribute("width")),c=parseFloat(l.getAttribute("height"));u&&c&&(n&&r?h=[n/u,r/c]:n?h=[n/u,n/u]:r&&(h=[r/c,r/c]));var d,p,f,g,m=l.childNodes;for(d=0,p=m.length;d<p;d++)f=m[d],f.tagName&&"PATH"===f.tagName.toUpperCase()&&(g=function(t){for(var e=parseFloat(t[1]),i=parseFloat(t[2]),n=[],r=3,o=t.length;r<o;)"c"===t[r]?(n.push([parseFloat(t[r+1]),parseFloat(t[r+2]),parseFloat(t[r+3]),parseFloat(t[r+4]),parseFloat(t[r+5]),parseFloat(t[r+6])]),r+=7):"l"===t[r]?(n.push([parseFloat(t[r+1]),parseFloat(t[r+2])]),r+=3):r+=1;return[e,i,n]}(f.getAttribute("d").split(" ")),g[0]=g[0]*h[0]+e,g[1]=g[1]*h[1]+i,this.lines.call(this,g[2],g[0],g[1],h));return this}}(jsPDF.API),function(t){"use strict";var e=t.getCharWidthsArray=function(t,e){e||(e={});var i,n,r,o=e.widths?e.widths:this.internal.getFont().metadata.Unicode.widths,s=o.fof?o.fof:1,a=e.kerning?e.kerning:this.internal.getFont().metadata.Unicode.kerning,l=a.fof?a.fof:1,h=0,u=o[0]||s,c=[];for(i=0,n=t.length;i<n;i++)r=t.charCodeAt(i),c.push((o[r]||u)/s+(a[r]&&a[r][h]||0)/l),h=r;return c},i=function(t){for(var e=t.length,i=0;e;)e--,i+=t[e];return i},n=(t.getStringUnitWidth=function(t,n){return i(e.call(this,t,n))},function(t,e,i,n){for(var r=[],o=0,s=t.length,a=0;o!==s&&a+e[o]<i;)a+=e[o],o++;r.push(t.slice(0,o));var l=o;for(a=0;o!==s;)a+e[o]>n&&(r.push(t.slice(l,o)),a=0,l=o),a+=e[o],o++;return l!==o&&r.push(t.slice(l,o)),r}),r=function(t,r,o){o||(o={});var s,a,l,h,u,c=e(" ",o)[0],d=t.split(" "),p=[],f=[p],g=o.textIndent||0,m=0,v=0;for(l=0,h=d.length;l<h;l++)if(s=d[l],a=e(s,o),v=i(a),g+m+v>r){if(v>r){for(u=n(s,a,r-(g+m),r),p.push(u.shift()),p=[u.pop()];u.length;)f.push([u.shift()]);v=i(a.slice(s.length-p[0].length))}else p=[s];f.push(p),g=v,m=c}else p.push(s),g+=m+v,m=c;var y=[];for(l=0,h=f.length;l<h;l++)y.push(f[l].join(" "));return y};t.splitTextToSize=function(t,e,i){i||(i={});var n,o=i.fontSize||this.internal.getFontSize(),s=function(t){var e={0:1},i={};if(t.widths&&t.kerning)return{widths:t.widths,kerning:t.kerning};var n=this.internal.getFont(t.fontName,t.fontStyle),r="Unicode";return n.metadata[r]?{widths:n.metadata[r].widths||e,kerning:n.metadata[r].kerning||i}:{widths:e,kerning:i}}.call(this,i);n=t.match(/[\n\r]/)?t.split(/\r\n|\r|\n/g):[t];var a=1*this.internal.scaleFactor*e/o;s.textIndent=i.textIndent?1*i.textIndent*this.internal.scaleFactor/o:0;var l,h,u=[];for(l=0,h=n.length;l<h;l++)u=u.concat(r(n[l],a,s));return u}}(jsPDF.API),function(t){"use strict";var e=function(t){for(var e="klmnopqrstuvwxyz",i={},n=0;n<e.length;n++)i[e[n]]="0123456789abcdef"[n];var r,o,s,a,l,h={},u=1,c=h,d=[],p="",f="",g=t.length-1;for(n=1;n!=g;)l=t[n],n+=1,"'"==l?o?(a=o.join(""),o=r):o=[]:o?o.push(l):"{"==l?(d.push([c,a]),c={},a=r):"}"==l?(s=d.pop(),s[0][s[1]]=c,a=r,c=s[0]):"-"==l?u=-1:a===r?i.hasOwnProperty(l)?(p+=i[l],a=parseInt(p,16)*u,u=1,p=""):p+=l:i.hasOwnProperty(l)?(f+=i[l],c[a]=parseInt(f,16)*u,u=1,a=r,f=""):f+=l;return h},i={codePages:["WinAnsiEncoding"],WinAnsiEncoding:e("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},n={Unicode:{Courier:i,"Courier-Bold":i,"Courier-BoldOblique":i,"Courier-Oblique":i,Helvetica:i,"Helvetica-Bold":i,"Helvetica-BoldOblique":i,"Helvetica-Oblique":i,"Times-Roman":i,"Times-Bold":i,"Times-BoldItalic":i,"Times-Italic":i}},r={Unicode:{"Courier-Oblique":e("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":e("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":e("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:e("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":e("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":e("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Helvetica:e("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":e("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),"Courier-Bold":e("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":e("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":e("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":e("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFonts",function(t){var e,i,o,s,a,l="Unicode";for(i in t.fonts)t.fonts.hasOwnProperty(i)&&(e=t.fonts[i],o=r[l][e.PostScriptName],o&&(s=e.metadata[l]?e.metadata[l]:e.metadata[l]={},s.widths=o.widths,s.kerning=o.kerning),(a=n[l][e.PostScriptName])&&(s=e.metadata[l]?e.metadata[l]:e.metadata[l]={},s.encoding=a,a.codePages&&a.codePages.length&&(e.encoding=a.codePages[0])))}])}(jsPDF.API);var BlobBuilder=BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder||function(t){"use strict";var e=function(t){return Object.prototype.toString.call(t).match(/^\[object\s(.*)\]$/)[1]},i=function(){this.data=[]},n=function(t,e,i){this.data=t,this.size=t.length,this.type=e,this.encoding=i},r=i.prototype,o=n.prototype,s=t.FileReaderSync,a=function(t){this.code=this[this.name=t]},l="NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR".split(" "),h=l.length,u=t.URL||t.webkitURL||t,c=u.createObjectURL,d=u.revokeObjectURL,p=u,f=t.btoa,g=t.atob,m=!1,v=function(t){m=!t},y=t.ArrayBuffer,_=t.Uint8Array;for(i.fake=o.fake=!0;h--;)a.prototype[l[h]]=h+1;try{_&&v.apply(0,new _(1))}catch(t){}return u.createObjectURL||(p=t.URL={}),p.createObjectURL=function(t){var e,i=t.type;return null===i&&(i="application/octet-stream"),t instanceof n?(e="data:"+i,"base64"===t.encoding?e+";base64,"+t.data:"URI"===t.encoding?e+","+decodeURIComponent(t.data):f?e+";base64,"+f(t.data):e+","+encodeURIComponent(t.data)):c?c.call(u,t):void 0},p.revokeObjectURL=function(t){"data:"!==t.substring(0,5)&&d&&d.call(u,t)},r.append=function(t){var i=this.data;if(_&&t instanceof y)if(m)i.push(String.fromCharCode.apply(String,new _(t)));else for(var r="",o=new _(t),l=0,h=o.length;l<h;l++)r+=String.fromCharCode(o[l]);else if("Blob"===e(t)||"File"===e(t)){if(!s)throw new a("NOT_READABLE_ERR");var u=new s;i.push(u.readAsBinaryString(t))}else t instanceof n?"base64"===t.encoding&&g?i.push(g(t.data)):"URI"===t.encoding?i.push(decodeURIComponent(t.data)):"raw"===t.encoding&&i.push(t.data):("string"!=typeof t&&(t+=""),i.push(unescape(encodeURIComponent(t))))},r.getBlob=function(t){return arguments.length||(t=null),new n(this.data.join(""),t,"raw")},r.toString=function(){return"[object BlobBuilder]"},o.slice=function(t,e,i){var r=arguments.length;return r<3&&(i=null),new n(this.data.slice(t,r>1?e:this.data.length),i,this.encoding)},o.toString=function(){return"[object Blob]"},i}(self),saveAs=saveAs||navigator.msSaveBlob&&navigator.msSaveBlob.bind(navigator)||function(t){"use strict";var e=t.document,i=function(){return t.URL||t.webkitURL||t},n=t.URL||t.webkitURL||t,r=e.createElementNS("http://www.w3.org/1999/xhtml","a"),o="download"in r,s=function(i){var n=e.createEvent("MouseEvents");return n.initMouseEvent("click",!0,!1,t,0,0,0,0,0,!1,!1,!1,!1,0,null),i.dispatchEvent(n)},a=t.webkitRequestFileSystem,l=t.requestFileSystem||a||t.mozRequestFileSystem,h=function(e){(t.setImmediate||t.setTimeout)(function(){throw e},0)},u="application/octet-stream",c=0,d=[],p=function(){for(var t=d.length;t--;){var e=d[t];"string"==typeof e?n.revokeObjectURL(e):e.remove()}d.length=0},f=function(t,e,i){e=[].concat(e);for(var n=e.length;n--;){var r=t["on"+e[n]];if("function"==typeof r)try{r.call(t,i||t)}catch(t){h(t)}}},g=function(e,n){var h,p,g,m=this,v=e.type,y=!1,_=function(){var t=i().createObjectURL(e);return d.push(t),t},x=function(){f(m,"writestart progress write writeend".split(" "))},b=function(){!y&&h||(h=_()),p&&(p.location.href=h),m.readyState=m.DONE,x()},w=function(t){return function(){if(m.readyState!==m.DONE)return t.apply(this,arguments)}},k={create:!0,exclusive:!1};return m.readyState=m.INIT,n||(n="download"),o&&(h=_(),r.href=h,r.download=n,s(r))?(m.readyState=m.DONE,void x()):(t.chrome&&v&&v!==u&&(g=e.slice||e.webkitSlice,e=g.call(e,0,e.size,u),y=!0),a&&"download"!==n&&(n+=".download"),p=v===u||a?t:t.open(),l?(c+=e.size,void l(t.TEMPORARY,c,w(function(t){t.root.getDirectory("saved",k,w(function(t){var i=function(){t.getFile(n,k,w(function(t){t.createWriter(w(function(i){i.onwriteend=function(e){p.location.href=t.toURL(),d.push(t),m.readyState=m.DONE,f(m,"writeend",e)},i.onerror=function(){var t=i.error;t.code!==t.ABORT_ERR&&b()},"writestart progress write abort".split(" ").forEach(function(t){i["on"+t]=m["on"+t]}),i.write(e),m.abort=function(){i.abort(),m.readyState=m.DONE},m.readyState=m.WRITING}),b)}),b)};t.getFile(n,{create:!1},w(function(t){t.remove(),i()}),w(function(t){t.code===t.NOT_FOUND_ERR?i():b()}))}),b)}),b)):void b())},m=g.prototype,v=function(t,e){return new g(t,e)};return m.abort=function(){var t=this;t.readyState=t.DONE,f(t,"abort")},m.readyState=m.INIT=0,m.WRITING=1,m.DONE=2,m.error=m.onwritestart=m.onprogress=m.onwrite=m.onabort=m.onerror=m.onwriteend=null,t.addEventListener("unload",p,!1),v}(self),MAX_BITS=15,D_CODES=30,BL_CODES=19,LENGTH_CODES=29,LITERALS=256,L_CODES=LITERALS+1+LENGTH_CODES,HEAP_SIZE=2*L_CODES+1,END_BLOCK=256,MAX_BL_BITS=7,REP_3_6=16,REPZ_3_10=17,REPZ_11_138=18,Buf_size=16,Z_DEFAULT_COMPRESSION=-1,Z_FILTERED=1,Z_HUFFMAN_ONLY=2,Z_DEFAULT_STRATEGY=0,Z_NO_FLUSH=0,Z_PARTIAL_FLUSH=1,Z_FULL_FLUSH=3,Z_FINISH=4,Z_OK=0,Z_STREAM_END=1,Z_NEED_DICT=2,Z_STREAM_ERROR=-2,Z_DATA_ERROR=-3,Z_BUF_ERROR=-5,_dist_code=[0,1,2,3,4,4,5,5,6,6,6,6,7,7,7,7,8,8,8,8,8,8,8,8,9,9,9,9,9,9,9,9,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,16,17,18,18,19,19,20,20,20,20,21,21,21,21,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29];Tree._length_code=[0,1,2,3,4,5,6,7,8,8,9,9,10,10,11,11,12,12,12,12,13,13,13,13,14,14,14,14,15,15,15,15,16,16,16,16,16,16,16,16,17,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28],Tree.base_length=[0,1,2,3,4,5,6,7,8,10,12,14,16,20,24,28,32,40,48,56,64,80,96,112,128,160,192,224,0],Tree.base_dist=[0,1,2,3,4,6,8,12,16,24,32,48,64,96,128,192,256,384,512,768,1024,1536,2048,3072,4096,6144,8192,12288,16384,24576],Tree.d_code=function(t){return t<256?_dist_code[t]:_dist_code[256+(t>>>7)]},Tree.extra_lbits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Tree.extra_dbits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Tree.extra_blbits=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Tree.bl_order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],StaticTree.static_ltree=[12,8,140,8,76,8,204,8,44,8,172,8,108,8,236,8,28,8,156,8,92,8,220,8,60,8,188,8,124,8,252,8,2,8,130,8,66,8,194,8,34,8,162,8,98,8,226,8,18,8,146,8,82,8,210,8,50,8,178,8,114,8,242,8,10,8,138,8,74,8,202,8,42,8,170,8,106,8,234,8,26,8,154,8,90,8,218,8,58,8,186,8,122,8,250,8,6,8,134,8,70,8,198,8,38,8,166,8,102,8,230,8,22,8,150,8,86,8,214,8,54,8,182,8,118,8,246,8,14,8,142,8,78,8,206,8,46,8,174,8,110,8,238,8,30,8,158,8,94,8,222,8,62,8,190,8,126,8,254,8,1,8,129,8,65,8,193,8,33,8,161,8,97,8,225,8,17,8,145,8,81,8,209,8,49,8,177,8,113,8,241,8,9,8,137,8,73,8,201,8,41,8,169,8,105,8,233,8,25,8,153,8,89,8,217,8,57,8,185,8,121,8,249,8,5,8,133,8,69,8,197,8,37,8,165,8,101,8,229,8,21,8,149,8,85,8,213,8,53,8,181,8,117,8,245,8,13,8,141,8,77,8,205,8,45,8,173,8,109,8,237,8,29,8,157,8,93,8,221,8,61,8,189,8,125,8,253,8,19,9,275,9,147,9,403,9,83,9,339,9,211,9,467,9,51,9,307,9,179,9,435,9,115,9,371,9,243,9,499,9,11,9,267,9,139,9,395,9,75,9,331,9,203,9,459,9,43,9,299,9,171,9,427,9,107,9,363,9,235,9,491,9,27,9,283,9,155,9,411,9,91,9,347,9,219,9,475,9,59,9,315,9,187,9,443,9,123,9,379,9,251,9,507,9,7,9,263,9,135,9,391,9,71,9,327,9,199,9,455,9,39,9,295,9,167,9,423,9,103,9,359,9,231,9,487,9,23,9,279,9,151,9,407,9,87,9,343,9,215,9,471,9,55,9,311,9,183,9,439,9,119,9,375,9,247,9,503,9,15,9,271,9,143,9,399,9,79,9,335,9,207,9,463,9,47,9,303,9,175,9,431,9,111,9,367,9,239,9,495,9,31,9,287,9,159,9,415,9,95,9,351,9,223,9,479,9,63,9,319,9,191,9,447,9,127,9,383,9,255,9,511,9,0,7,64,7,32,7,96,7,16,7,80,7,48,7,112,7,8,7,72,7,40,7,104,7,24,7,88,7,56,7,120,7,4,7,68,7,36,7,100,7,20,7,84,7,52,7,116,7,3,8,131,8,67,8,195,8,35,8,163,8,99,8,227,8],StaticTree.static_dtree=[0,5,16,5,8,5,24,5,4,5,20,5,12,5,28,5,2,5,18,5,10,5,26,5,6,5,22,5,14,5,30,5,1,5,17,5,9,5,25,5,5,5,21,5,13,5,29,5,3,5,19,5,11,5,27,5,7,5,23,5],StaticTree.static_l_desc=new StaticTree(StaticTree.static_ltree,Tree.extra_lbits,LITERALS+1,L_CODES,MAX_BITS),StaticTree.static_d_desc=new StaticTree(StaticTree.static_dtree,Tree.extra_dbits,0,D_CODES,MAX_BITS),StaticTree.static_bl_desc=new StaticTree(null,Tree.extra_blbits,0,BL_CODES,MAX_BL_BITS);var MAX_MEM_LEVEL=9,DEF_MEM_LEVEL=8,STORED=0,FAST=1,SLOW=2,config_table=[new Config(0,0,0,0,STORED),new Config(4,4,8,4,FAST),new Config(4,5,16,8,FAST),new Config(4,6,32,32,FAST),new Config(4,4,16,16,SLOW),new Config(8,16,32,32,SLOW),new Config(8,16,128,128,SLOW),new Config(8,32,128,256,SLOW),new Config(32,128,258,1024,SLOW),new Config(32,258,258,4096,SLOW)],z_errmsg=["need dictionary","stream end","","","stream error","data error","","buffer error","",""],NeedMore=0,BlockDone=1,FinishStarted=2,FinishDone=3,PRESET_DICT=32,INIT_STATE=42,BUSY_STATE=113,FINISH_STATE=666,Z_DEFLATED=8,STORED_BLOCK=0,STATIC_TREES=1,DYN_TREES=2,MIN_MATCH=3,MAX_MATCH=258,MIN_LOOKAHEAD=MAX_MATCH+MIN_MATCH+1;ZStream.prototype={deflateInit:function(t,e){var i=this;return i.dstate=new Deflate,e||(e=MAX_BITS),i.dstate.deflateInit(i,t,e)},deflate:function(t){var e=this;return e.dstate?e.dstate.deflate(e,t):Z_STREAM_ERROR},deflateEnd:function(){var t=this;if(!t.dstate)return Z_STREAM_ERROR;var e=t.dstate.deflateEnd();return t.dstate=null,e},deflateParams:function(t,e){var i=this;return i.dstate?i.dstate.deflateParams(i,t,e):Z_STREAM_ERROR},deflateSetDictionary:function(t,e){var i=this;return i.dstate?i.dstate.deflateSetDictionary(i,t,e):Z_STREAM_ERROR},read_buf:function(t,e,i){var n=this,r=n.avail_in;return r>i&&(r=i),0===r?0:(n.avail_in-=r,t.set(n.next_in.subarray(n.next_in_index,n.next_in_index+r),e),n.next_in_index+=r,n.total_in+=r,r)},flush_pending:function(){var t=this,e=t.dstate.pending;e>t.avail_out&&(e=t.avail_out),
0!==e&&(t.next_out.set(t.dstate.pending_buf.subarray(t.dstate.pending_out,t.dstate.pending_out+e),t.next_out_index),t.next_out_index+=e,t.dstate.pending_out+=e,t.total_out+=e,t.avail_out-=e,t.dstate.pending-=e,0===t.dstate.pending&&(t.dstate.pending_out=0))}},function(t,e){"object"==typeof module?module.exports=e():"function"==typeof define?define("jsPdf",e):t.adler32cs=e()}(this,function(){var t="function"==typeof ArrayBuffer&&"function"==typeof Uint8Array,e=null,i=function(){if(!t)return function(){return!1};try{var i=require("buffer");"function"==typeof i.Buffer&&(e=i.Buffer)}catch(t){}return function(t){return t instanceof ArrayBuffer||null!==e&&t instanceof e}}(),n=function(){return null!==e?function(t){return new e(t,"utf8").toString("binary")}:function(t){return unescape(encodeURIComponent(t))}}(),r=65521,o=function(t,e){for(var i=65535&t,n=t>>>16,o=0,s=e.length;o<s;o++)i=(i+(255&e.charCodeAt(o)))%r,n=(n+i)%r;return(n<<16|i)>>>0},s=function(t,e){for(var i=65535&t,n=t>>>16,o=0,s=e.length;o<s;o++)i=(i+e[o])%r,n=(n+i)%r;return(n<<16|i)>>>0},a={},l=a.Adler32=function(){var e=function(t){if(!(this instanceof e))throw new TypeError("Constructor cannot called be as a function.");if(!isFinite(t=null==t?1:+t))throw new Error("First arguments needs to be a finite number.");this.checksum=t>>>0},r=e.prototype={};return r.constructor=e,e.from=function(t){return t.prototype=r,t}(function(t){if(!(this instanceof e))throw new TypeError("Constructor cannot called be as a function.");if(null==t)throw new Error("First argument needs to be a string.");this.checksum=o(1,t.toString())}),e.fromUtf8=function(t){return t.prototype=r,t}(function(t){if(!(this instanceof e))throw new TypeError("Constructor cannot called be as a function.");if(null==t)throw new Error("First argument needs to be a string.");var i=n(t.toString());this.checksum=o(1,i)}),t&&(e.fromBuffer=function(t){return t.prototype=r,t}(function(t){if(!(this instanceof e))throw new TypeError("Constructor cannot called be as a function.");if(!i(t))throw new Error("First argument needs to be ArrayBuffer.");var n=new Uint8Array(t);return this.checksum=s(1,n)})),r.update=function(t){if(null==t)throw new Error("First argument needs to be a string.");return t=t.toString(),this.checksum=o(this.checksum,t)},r.updateUtf8=function(t){if(null==t)throw new Error("First argument needs to be a string.");var e=n(t.toString());return this.checksum=o(this.checksum,e)},t&&(r.updateBuffer=function(t){if(!i(t))throw new Error("First argument needs to be ArrayBuffer.");var e=new Uint8Array(t);return this.checksum=s(this.checksum,e)}),r.clone=function(){return new l(this.checksum)},e}();return a.from=function(t){if(null==t)throw new Error("First argument needs to be a string.");return o(1,t.toString())},a.fromUtf8=function(t){if(null==t)throw new Error("First argument needs to be a string.");var e=n(t.toString());return o(1,e)},t&&(a.fromBuffer=function(t){if(!i(t))throw new Error("First argument need to be ArrayBuffer.");var e=new Uint8Array(t);return s(1,e)}),a}),function(t){function e(e){t.jqplot.ElemContainer.call(this),this.name=e,this._series=[],this.show=!1,this.tickRenderer=t.jqplot.AxisTickRenderer,this.tickOptions={},this.labelRenderer=t.jqplot.AxisLabelRenderer,this.labelOptions={},this.label=null,this.showLabel=!0,this.min=null,this.max=null,this.autoscale=!1,this.pad=1.2,this.padMax=null,this.padMin=null,this.ticks=[],this.numberTicks,this.tickInterval,this.renderer=t.jqplot.LinearAxisRenderer,this.rendererOptions={},this.showTicks=!0,this.showTickMarks=!0,this.showMinorTicks=!0,this.drawMajorGridlines=!0,this.drawMinorGridlines=!1,this.drawMajorTickMarks=!0,this.drawMinorTickMarks=!0,this.useSeriesColor=!1,this.borderWidth=null,this.borderColor=null,this.scaleToHiddenSeries=!1,this._dataBounds={min:null,max:null},this._intervalStats=[],this._offsets={min:null,max:null},this._ticks=[],this._label=null,this.syncTicks=null,this.tickSpacing=75,this._min=null,this._max=null,this._tickInterval=null,this._numberTicks=null,this.__ticks=null,this._options={}}function i(e){t.jqplot.ElemContainer.call(this),this.show=!1,this.location="ne",this.labels=[],this.showLabels=!0,this.showSwatches=!0,this.placement="insideGrid",this.xoffset=0,this.yoffset=0,this.border,this.background,this.textColor,this.fontFamily,this.fontSize,this.rowSpacing="0.5em",this.renderer=t.jqplot.TableLegendRenderer,this.rendererOptions={},this.preDraw=!1,this.marginTop=null,this.marginRight=null,this.marginBottom=null,this.marginLeft=null,this.escapeHtml=!1,this._series=[],t.extend(!0,this,e)}function n(e){t.jqplot.ElemContainer.call(this),this.text=e,this.show=!0,this.fontFamily,this.fontSize,this.textAlign,this.textColor,this.renderer=t.jqplot.DivTitleRenderer,this.rendererOptions={},this.escapeHtml=!1}function r(e){e=e||{},t.jqplot.ElemContainer.call(this),this.show=!0,this.xaxis="xaxis",this._xaxis,this.yaxis="yaxis",this._yaxis,this.gridBorderWidth=2,this.renderer=t.jqplot.LineRenderer,this.rendererOptions={},this.data=[],this.gridData=[],this.label="",this.showLabel=!0,this.color,this.negativeColor,this.lineWidth=2.5,this.lineJoin="round",this.lineCap="round",this.linePattern="solid",this.shadow=!0,this.shadowAngle=45,this.shadowOffset=1.25,this.shadowDepth=3,this.shadowAlpha="0.1",this.breakOnNull=!1,this.markerRenderer=t.jqplot.MarkerRenderer,this.markerOptions={},this.showLine=!0,this.showMarker=!0,this.index,this.fill=!1,this.fillColor,this.fillAlpha,this.fillAndStroke=!1,this.disableStack=!1,this._stack=!1,this.neighborThreshold=4,this.fillToZero=!1,this.fillToValue=0,this.fillAxis="y",this.useNegativeColors=!0,this._stackData=[],this._plotData=[],this._plotValues={x:[],y:[]},this._intervals={x:{},y:{}},this._prevPlotData=[],this._prevGridData=[],this._stackAxis="y",this._primaryAxis="_xaxis",this.canvas=new t.jqplot.GenericCanvas,this.shadowCanvas=new t.jqplot.GenericCanvas,this.plugins={},this._sumy=0,this._sumx=0,this._type=""}function o(){t.jqplot.ElemContainer.call(this),this.drawGridlines=!0,this.gridLineColor="#cccccc",this.gridLineWidth=1,this.background="#fffdf6",this.borderColor="#999999",this.borderWidth=2,this.drawBorder=!0,this.shadow=!0,this.shadowAngle=45,this.shadowOffset=1.5,this.shadowWidth=3,this.shadowDepth=3,this.shadowColor=null,this.shadowAlpha="0.07",this._left,this._top,this._right,this._bottom,this._width,this._height,this._axes=[],this.renderer=t.jqplot.CanvasGridRenderer,this.rendererOptions={},this._offsets={top:null,bottom:null,left:null,right:null}}function s(){function a(t){for(var e,i=0;i<t.length;i++)for(var n,r=[t[i].data,t[i]._stackData,t[i]._plotData,t[i]._prevPlotData],o=0;o<4;o++)if(n=!0,e=r[o],"x"==t[i]._stackAxis){for(var s=0;s<e.length;s++)if("number"!=typeof e[s][1]){n=!1;break}n&&e.sort(function(t,e){return t[1]-e[1]})}else{for(var s=0;s<e.length;s++)if("number"!=typeof e[s][0]){n=!1;break}n&&e.sort(function(t,e){return t[0]-e[0]})}}function l(t){var e,i,n=t.data.plot,r=n.eventCanvas._elem.offset(),o={x:t.pageX-r.left,y:t.pageY-r.top},s={xaxis:null,yaxis:null,x2axis:null,y2axis:null,y3axis:null,y4axis:null,y5axis:null,y6axis:null,y7axis:null,y8axis:null,y9axis:null,yMidAxis:null},a=["xaxis","yaxis","x2axis","y2axis","y3axis","y4axis","y5axis","y6axis","y7axis","y8axis","y9axis","yMidAxis"],l=n.axes;for(e=11;e>0;e--)i=a[e-1],l[i].show&&(s[i]=l[i].series_p2u(o[i.charAt(0)]));return{offsets:r,gridPos:o,dataPos:s}}function h(e,i){function n(t,e,i){var n=(e[1]-i[1])/(e[0]-i[0]),r=e[1]-n*e[0],o=t+e[1];return[(o-r)/n,o]}var r,o,s,a,l,h,u,c,d,p,f,g,m,v,y,_,x,b,w,k=i.series;for(s=i.seriesStack.length-1;s>=0;s--)switch(r=i.seriesStack[s],a=k[r],x=a._highlightThreshold,a.renderer.constructor){case t.jqplot.BarRenderer:for(h=e.x,u=e.y,o=0;o<a._barPoints.length;o++)if(_=a._barPoints[o],y=a.gridData[o],h>_[0][0]&&h<_[2][0]&&u>_[2][1]&&u<_[0][1])return{seriesIndex:a.index,pointIndex:o,gridData:y,data:a.data[o],points:a._barPoints[o]};break;case t.jqplot.PyramidRenderer:for(h=e.x,u=e.y,o=0;o<a._barPoints.length;o++)if(_=a._barPoints[o],y=a.gridData[o],h>_[0][0]+x[0][0]&&h<_[2][0]+x[2][0]&&u>_[2][1]&&u<_[0][1])return{seriesIndex:a.index,pointIndex:o,gridData:y,data:a.data[o],points:a._barPoints[o]};break;case t.jqplot.DonutRenderer:if(p=a.startAngle/180*Math.PI,h=e.x-a._center[0],u=e.y-a._center[1],l=Math.sqrt(Math.pow(h,2)+Math.pow(u,2)),h>0&&-u>=0?c=2*Math.PI-Math.atan(-u/h):h>0&&-u<0?c=-Math.atan(-u/h):h<0?c=Math.PI-Math.atan(-u/h):0==h&&-u>0?c=3*Math.PI/2:0==h&&-u<0?c=Math.PI/2:0==h&&0==u&&(c=0),p&&(c-=p,c<0?c+=2*Math.PI:c>2*Math.PI&&(c-=2*Math.PI)),d=a.sliceMargin/180*Math.PI,l<a._radius&&l>a._innerRadius)for(o=0;o<a.gridData.length;o++)if(f=o>0?a.gridData[o-1][1]+d:d,g=a.gridData[o][1],c>f&&c<g)return{seriesIndex:a.index,pointIndex:o,gridData:[e.x,e.y],data:a.data[o]};break;case t.jqplot.PieRenderer:if(p=a.startAngle/180*Math.PI,h=e.x-a._center[0],u=e.y-a._center[1],l=Math.sqrt(Math.pow(h,2)+Math.pow(u,2)),h>0&&-u>=0?c=2*Math.PI-Math.atan(-u/h):h>0&&-u<0?c=-Math.atan(-u/h):h<0?c=Math.PI-Math.atan(-u/h):0==h&&-u>0?c=3*Math.PI/2:0==h&&-u<0?c=Math.PI/2:0==h&&0==u&&(c=0),p&&(c-=p,c<0?c+=2*Math.PI:c>2*Math.PI&&(c-=2*Math.PI)),d=a.sliceMargin/180*Math.PI,l<a._radius)for(o=0;o<a.gridData.length;o++)if(f=o>0?a.gridData[o-1][1]+d:d,g=a.gridData[o][1],c>f&&c<g)return{seriesIndex:a.index,pointIndex:o,gridData:[e.x,e.y],data:a.data[o]};break;case t.jqplot.BubbleRenderer:h=e.x,u=e.y;var C=null;if(a.show){for(var o=0;o<a.gridData.length;o++)y=a.gridData[o],(v=Math.sqrt((h-y[0])*(h-y[0])+(u-y[1])*(u-y[1])))<=y[2]&&(v<=m||null==m)&&(m=v,C={seriesIndex:r,pointIndex:o,gridData:y,data:a.data[o]});if(null!=C)return C}break;case t.jqplot.FunnelRenderer:h=e.x,u=e.y;var T,S,D,M=a._vertices,A=M[0],P=M[M.length-1];for(T=n(u,A[0],P[3]),S=n(u,A[1],P[2]),o=0;o<M.length;o++)if(D=M[o],u>=D[0][1]&&u<=D[3][1]&&h>=T[0]&&h<=S[0])return{seriesIndex:a.index,pointIndex:o,gridData:null,data:a.data[o]};break;case t.jqplot.LineRenderer:if(h=e.x,u=e.y,l=a.renderer,a.show){if(!(!(a.fill||a.renderer.bands.show&&a.renderer.bands.fill)||i.plugins.highlighter&&i.plugins.highlighter.show)){var L=!1;if(h>a._boundingBox[0][0]&&h<a._boundingBox[1][0]&&u>a._boundingBox[1][1]&&u<a._boundingBox[0][1])for(var E,q=a._areaPoints.length,o=q-1,E=0;E<q;E++){var I=[a._areaPoints[E][0],a._areaPoints[E][1]],j=[a._areaPoints[o][0],a._areaPoints[o][1]];(I[1]<u&&j[1]>=u||j[1]<u&&I[1]>=u)&&I[0]+(u-I[1])/(j[1]-I[1])*(j[0]-I[0])<h&&(L=!L),o=E}if(L)return{seriesIndex:r,pointIndex:null,gridData:a.gridData,data:a.data,points:a._areaPoints};break}w=a.markerRenderer.size/2+a.neighborThreshold,b=w>0?w:0;for(var o=0;o<a.gridData.length;o++)if(y=a.gridData[o],l.constructor==t.jqplot.OHLCRenderer)if(l.candleStick){var O=a._yaxis.series_u2p;if(h>=y[0]-l._bodyWidth/2&&h<=y[0]+l._bodyWidth/2&&u>=O(a.data[o][2])&&u<=O(a.data[o][3]))return{seriesIndex:r,pointIndex:o,gridData:y,data:a.data[o]}}else if(l.hlc){var O=a._yaxis.series_u2p;if(h>=y[0]-l._tickLength&&h<=y[0]+l._tickLength&&u>=O(a.data[o][1])&&u<=O(a.data[o][2]))return{seriesIndex:r,pointIndex:o,gridData:y,data:a.data[o]}}else{var O=a._yaxis.series_u2p;if(h>=y[0]-l._tickLength&&h<=y[0]+l._tickLength&&u>=O(a.data[o][2])&&u<=O(a.data[o][3]))return{seriesIndex:r,pointIndex:o,gridData:y,data:a.data[o]}}else if(null!=y[0]&&null!=y[1]&&(v=Math.sqrt((h-y[0])*(h-y[0])+(u-y[1])*(u-y[1])))<=b&&(v<=m||null==m))return m=v,{seriesIndex:r,pointIndex:o,gridData:y,data:a.data[o]}}break;default:if(h=e.x,u=e.y,l=a.renderer,a.show){w=a.markerRenderer.size/2+a.neighborThreshold,b=w>0?w:0;for(var o=0;o<a.gridData.length;o++)if(y=a.gridData[o],l.constructor==t.jqplot.OHLCRenderer)if(l.candleStick){var O=a._yaxis.series_u2p;if(h>=y[0]-l._bodyWidth/2&&h<=y[0]+l._bodyWidth/2&&u>=O(a.data[o][2])&&u<=O(a.data[o][3]))return{seriesIndex:r,pointIndex:o,gridData:y,data:a.data[o]}}else if(l.hlc){var O=a._yaxis.series_u2p;if(h>=y[0]-l._tickLength&&h<=y[0]+l._tickLength&&u>=O(a.data[o][1])&&u<=O(a.data[o][2]))return{seriesIndex:r,pointIndex:o,gridData:y,data:a.data[o]}}else{var O=a._yaxis.series_u2p;if(h>=y[0]-l._tickLength&&h<=y[0]+l._tickLength&&u>=O(a.data[o][2])&&u<=O(a.data[o][3]))return{seriesIndex:r,pointIndex:o,gridData:y,data:a.data[o]}}else if((v=Math.sqrt((h-y[0])*(h-y[0])+(u-y[1])*(u-y[1])))<=b&&(v<=m||null==m))return m=v,{seriesIndex:r,pointIndex:o,gridData:y,data:a.data[o]}}}return null}this.animate=!1,this.animateReplot=!1,this.axes={xaxis:new e("xaxis"),yaxis:new e("yaxis"),x2axis:new e("x2axis"),y2axis:new e("y2axis"),y3axis:new e("y3axis"),y4axis:new e("y4axis"),y5axis:new e("y5axis"),y6axis:new e("y6axis"),y7axis:new e("y7axis"),y8axis:new e("y8axis"),y9axis:new e("y9axis"),yMidAxis:new e("yMidAxis")},this.baseCanvas=new t.jqplot.GenericCanvas,this.captureRightClick=!1,this.data=[],this.dataRenderer,this.dataRendererOptions,this.defaults={axesDefaults:{},axes:{xaxis:{},yaxis:{},x2axis:{},y2axis:{},y3axis:{},y4axis:{},y5axis:{},y6axis:{},y7axis:{},y8axis:{},y9axis:{},yMidAxis:{}},seriesDefaults:{},series:[]},this.defaultAxisStart=1,this.drawIfHidden=!1,this.eventCanvas=new t.jqplot.GenericCanvas,this.fillBetween={series1:null,series2:null,color:null,baseSeries:0,fill:!0},this.fontFamily,this.fontSize,this.grid=new o,this.legend=new i,this.noDataIndicator={show:!1,indicator:"Loading Data...",axes:{xaxis:{min:0,max:10,tickInterval:2,show:!0},yaxis:{min:0,max:12,tickInterval:3,show:!0}}},this.negativeSeriesColors=t.jqplot.config.defaultNegativeColors,this.options={},this.previousSeriesStack=[],this.plugins={},this.series=[],this.seriesStack=[],this.seriesColors=t.jqplot.config.defaultColors,this.sortData=!0,this.stackSeries=!1,this.syncXTicks=!0,this.syncYTicks=!0,this.target=null,this.targetId=null,this.textColor,this.title=new n,this._drawCount=0,this._sumy=0,this._sumx=0,this._stackData=[],this._plotData=[],this._width=null,this._height=null,this._plotDimensions={height:null,width:null},this._gridPadding={top:null,right:null,bottom:null,left:null},this._defaultGridPadding={top:10,right:10,bottom:23,left:10},this._addDomReference=t.jqplot.config.addDomReference,this.preInitHooks=new t.jqplot.HooksManager,this.postInitHooks=new t.jqplot.HooksManager,this.preParseOptionsHooks=new t.jqplot.HooksManager,this.postParseOptionsHooks=new t.jqplot.HooksManager,this.preDrawHooks=new t.jqplot.HooksManager,this.postDrawHooks=new t.jqplot.HooksManager,this.preDrawSeriesHooks=new t.jqplot.HooksManager,this.postDrawSeriesHooks=new t.jqplot.HooksManager,this.preDrawLegendHooks=new t.jqplot.HooksManager,this.addLegendRowHooks=new t.jqplot.HooksManager,this.preSeriesInitHooks=new t.jqplot.HooksManager,this.postSeriesInitHooks=new t.jqplot.HooksManager,this.preParseSeriesOptionsHooks=new t.jqplot.HooksManager,this.postParseSeriesOptionsHooks=new t.jqplot.HooksManager,this.eventListenerHooks=new t.jqplot.EventListenerManager,this.preDrawSeriesShadowHooks=new t.jqplot.HooksManager,this.postDrawSeriesShadowHooks=new t.jqplot.HooksManager,this.colorGenerator=new t.jqplot.ColorGenerator,this.negativeColorGenerator=new t.jqplot.ColorGenerator,this.canvasManager=new t.jqplot.CanvasManager,this.themeEngine=new t.jqplot.ThemeEngine;this.init=function(i,n,r){r=r||{};for(var o=0;o<t.jqplot.preInitHooks.length;o++)t.jqplot.preInitHooks[o].call(this,i,n,r);for(var o=0;o<this.preInitHooks.hooks.length;o++)this.preInitHooks.hooks[o].call(this,i,n,r);if(this.targetId="#"+i,this.target=t("#"+i),this._addDomReference&&this.target.data("jqplot",this),this.target.removeClass("jqplot-error"),!this.target.get(0))throw new Error("No plot target specified");if("static"==this.target.css("position")&&this.target.css("position","relative"),this.target.hasClass("jqplot-target")||this.target.addClass("jqplot-target"),this.target.height())this._height=s=this.target.height();else{var s;s=r&&r.height?parseInt(r.height,10):this.target.attr("data-height")?parseInt(this.target.attr("data-height"),10):parseInt(t.jqplot.config.defaultHeight,10),this._height=s,this.target.css("height",s+"px")}if(this.target.width())this._width=l=this.target.width();else{var l;l=r&&r.width?parseInt(r.width,10):this.target.attr("data-width")?parseInt(this.target.attr("data-width"),10):parseInt(t.jqplot.config.defaultWidth,10),this._width=l,this.target.css("width",l+"px")}for(var o=0,h=E.length;o<h;o++)this.axes[E[o]]=new e(E[o]);if(this._plotDimensions.height=this._height,this._plotDimensions.width=this._width,this.grid._plotDimensions=this._plotDimensions,this.title._plotDimensions=this._plotDimensions,this.baseCanvas._plotDimensions=this._plotDimensions,this.eventCanvas._plotDimensions=this._plotDimensions,this.legend._plotDimensions=this._plotDimensions,this._height<=0||this._width<=0||!this._height||!this._width)throw new Error("Canvas dimension not set");if(r.dataRenderer&&t.isFunction(r.dataRenderer)&&(r.dataRendererOptions&&(this.dataRendererOptions=r.dataRendererOptions),this.dataRenderer=r.dataRenderer,n=this.dataRenderer(n,this,this.dataRendererOptions)),r.noDataIndicator&&t.isPlainObject(r.noDataIndicator)&&t.extend(!0,this.noDataIndicator,r.noDataIndicator),null==n||0==t.isArray(n)||0==n.length||0==t.isArray(n[0])||0==n[0].length){if(0==this.noDataIndicator.show)throw new Error("No data specified");for(var u in this.noDataIndicator.axes)for(var c in this.noDataIndicator.axes[u])this.axes[u][c]=this.noDataIndicator.axes[u][c];this.postDrawHooks.add(function(){var e=this.eventCanvas.getHeight(),i=this.eventCanvas.getWidth(),n=t('<div class="jqplot-noData-container" style="position:absolute;"></div>');this.target.append(n),n.height(e),n.width(i),n.css("top",this.eventCanvas._offsets.top),n.css("left",this.eventCanvas._offsets.left);var r=t('<div class="jqplot-noData-contents" style="text-align:center; position:relative; margin-left:auto; margin-right:auto;"></div>');n.append(r),r.html(this.noDataIndicator.indicator);var o=r.height(),s=r.width();r.height(o),r.width(s),r.css("top",(e-o)/2+"px")})}this.data=t.extend(!0,[],n),this.parseOptions(r),this.textColor&&this.target.css("color",this.textColor),this.fontFamily&&this.target.css("font-family",this.fontFamily),this.fontSize&&this.target.css("font-size",this.fontSize),this.title.init(),this.legend.init(),this._sumy=0,this._sumx=0,this.computePlotData();for(var o=0;o<this.series.length;o++){this.seriesStack.push(o),this.previousSeriesStack.push(o),this.series[o].shadowCanvas._plotDimensions=this._plotDimensions,this.series[o].canvas._plotDimensions=this._plotDimensions;for(var d=0;d<t.jqplot.preSeriesInitHooks.length;d++)t.jqplot.preSeriesInitHooks[d].call(this.series[o],i,this.data,this.options.seriesDefaults,this.options.series[o],this);for(var d=0;d<this.preSeriesInitHooks.hooks.length;d++)this.preSeriesInitHooks.hooks[d].call(this.series[o],i,this.data,this.options.seriesDefaults,this.options.series[o],this);this.series[o]._plotDimensions=this._plotDimensions,this.series[o].init(o,this.grid.borderWidth,this);for(var d=0;d<t.jqplot.postSeriesInitHooks.length;d++)t.jqplot.postSeriesInitHooks[d].call(this.series[o],i,this.data,this.options.seriesDefaults,this.options.series[o],this);for(var d=0;d<this.postSeriesInitHooks.hooks.length;d++)this.postSeriesInitHooks.hooks[d].call(this.series[o],i,this.data,this.options.seriesDefaults,this.options.series[o],this);this._sumy+=this.series[o]._sumy,this._sumx+=this.series[o]._sumx}for(var p,f,o=0,h=E.length;o<h;o++)p=E[o],f=this.axes[p],f._plotDimensions=this._plotDimensions,f.init(),null==this.axes[p].borderColor&&("x"!==p.charAt(0)&&!0===f.useSeriesColor&&f.show?f.borderColor=f._series[0].color:f.borderColor=this.grid.borderColor);this.sortData&&a(this.series),this.grid.init(),this.grid._axes=this.axes,this.legend._series=this.series;for(var o=0;o<t.jqplot.postInitHooks.length;o++)t.jqplot.postInitHooks[o].call(this,i,this.data,r);for(var o=0;o<this.postInitHooks.hooks.length;o++)this.postInitHooks.hooks[o].call(this,i,this.data,r)},this.resetAxesScale=function(e,i){var n=i||{},r=e||this.axes;if(!0===r&&(r=this.axes),t.isArray(r))for(var o=0;o<r.length;o++)this.axes[r[o]].resetScale(n[r[o]]);else if("object"==typeof r)for(var s in r)this.axes[s].resetScale(n[s])},this.reInitialize=function(i,n){for(var r=t.extend(!0,{},this.options,n),o=this.targetId.substr(1),s=null==i?this.data:i,l=0;l<t.jqplot.preInitHooks.length;l++)t.jqplot.preInitHooks[l].call(this,o,s,r);for(var l=0;l<this.preInitHooks.hooks.length;l++)this.preInitHooks.hooks[l].call(this,o,s,r);if(this._height=this.target.height(),this._width=this.target.width(),this._height<=0||this._width<=0||!this._height||!this._width)throw new Error("Target dimension not set");this._plotDimensions.height=this._height,this._plotDimensions.width=this._width,this.grid._plotDimensions=this._plotDimensions,this.title._plotDimensions=this._plotDimensions,this.baseCanvas._plotDimensions=this._plotDimensions,this.eventCanvas._plotDimensions=this._plotDimensions,this.legend._plotDimensions=this._plotDimensions;for(var h,u,c,d,l=0,p=E.length;l<p;l++){h=E[l],d=this.axes[h],u=d._ticks;for(var c=0,f=u.length;c<f;c++){var g=u[c]._elem;g&&(t.jqplot.use_excanvas&&window.G_vmlCanvasManager.uninitElement!==L&&window.G_vmlCanvasManager.uninitElement(g.get(0)),g.emptyForce(),g=null,u._elem=null)}u=null,delete d.ticks,delete d._ticks,this.axes[h]=new e(h),this.axes[h]._plotWidth=this._width,this.axes[h]._plotHeight=this._height}i&&(r.dataRenderer&&t.isFunction(r.dataRenderer)&&(r.dataRendererOptions&&(this.dataRendererOptions=r.dataRendererOptions),this.dataRenderer=r.dataRenderer,i=this.dataRenderer(i,this,this.dataRendererOptions)),this.data=t.extend(!0,[],i)),n&&this.parseOptions(r),this.title._plotWidth=this._width,this.textColor&&this.target.css("color",this.textColor),this.fontFamily&&this.target.css("font-family",this.fontFamily),this.fontSize&&this.target.css("font-size",this.fontSize),this.title.init(),this.legend.init(),this._sumy=0,this._sumx=0,this.seriesStack=[],this.previousSeriesStack=[],this.computePlotData();for(var l=0,p=this.series.length;l<p;l++){this.seriesStack.push(l),this.previousSeriesStack.push(l),this.series[l].shadowCanvas._plotDimensions=this._plotDimensions,this.series[l].canvas._plotDimensions=this._plotDimensions;for(var c=0;c<t.jqplot.preSeriesInitHooks.length;c++)t.jqplot.preSeriesInitHooks[c].call(this.series[l],o,this.data,this.options.seriesDefaults,this.options.series[l],this);for(var c=0;c<this.preSeriesInitHooks.hooks.length;c++)this.preSeriesInitHooks.hooks[c].call(this.series[l],o,this.data,this.options.seriesDefaults,this.options.series[l],this);this.series[l]._plotDimensions=this._plotDimensions,this.series[l].init(l,this.grid.borderWidth,this);for(var c=0;c<t.jqplot.postSeriesInitHooks.length;c++)t.jqplot.postSeriesInitHooks[c].call(this.series[l],o,this.data,this.options.seriesDefaults,this.options.series[l],this);for(var c=0;c<this.postSeriesInitHooks.hooks.length;c++)this.postSeriesInitHooks.hooks[c].call(this.series[l],o,this.data,this.options.seriesDefaults,this.options.series[l],this);this._sumy+=this.series[l]._sumy,this._sumx+=this.series[l]._sumx}for(var l=0,p=E.length;l<p;l++)h=E[l],d=this.axes[h],d._plotDimensions=this._plotDimensions,d.init(),null==d.borderColor&&("x"!==h.charAt(0)&&!0===d.useSeriesColor&&d.show?d.borderColor=d._series[0].color:d.borderColor=this.grid.borderColor);this.sortData&&a(this.series),this.grid.init(),this.grid._axes=this.axes,this.legend._series=this.series;for(var l=0,p=t.jqplot.postInitHooks.length;l<p;l++)t.jqplot.postInitHooks[l].call(this,o,this.data,r);for(var l=0,p=this.postInitHooks.hooks.length;l<p;l++)this.postInitHooks.hooks[l].call(this,o,this.data,r)},this.quickInit=function(){if(this._height=this.target.height(),this._width=this.target.width(),this._height<=0||this._width<=0||!this._height||!this._width)throw new Error("Target dimension not set");this._plotDimensions.height=this._height,this._plotDimensions.width=this._width,this.grid._plotDimensions=this._plotDimensions,this.title._plotDimensions=this._plotDimensions,this.baseCanvas._plotDimensions=this._plotDimensions,this.eventCanvas._plotDimensions=this._plotDimensions,this.legend._plotDimensions=this._plotDimensions;for(var e in this.axes)this.axes[e]._plotWidth=this._width,this.axes[e]._plotHeight=this._height;this.title._plotWidth=this._width,this.textColor&&this.target.css("color",this.textColor),this.fontFamily&&this.target.css("font-family",this.fontFamily),this.fontSize&&this.target.css("font-size",this.fontSize),this._sumy=0,this._sumx=0,this.computePlotData();for(var i=0;i<this.series.length;i++)"line"===this.series[i]._type&&this.series[i].renderer.bands.show&&this.series[i].renderer.initBands.call(this.series[i],this.series[i].renderer.options,this),this.series[i]._plotDimensions=this._plotDimensions,this.series[i].canvas._plotDimensions=this._plotDimensions,this._sumy+=this.series[i]._sumy,this._sumx+=this.series[i]._sumx;for(var n,r=0;r<12;r++){n=E[r];for(var o=this.axes[n]._ticks,i=0;i<o.length;i++){var s=o[i]._elem;s&&(t.jqplot.use_excanvas&&window.G_vmlCanvasManager.uninitElement!==L&&window.G_vmlCanvasManager.uninitElement(s.get(0)),s.emptyForce(),s=null,o._elem=null)}o=null,this.axes[n]._plotDimensions=this._plotDimensions,this.axes[n]._ticks=[]}this.sortData&&a(this.series),this.grid._axes=this.axes,this.legend._series=this.series},this.computePlotData=function(){this._plotData=[],this._stackData=[];var e,i,n;for(i=0,n=this.series.length;i<n;i++){e=this.series[i],this._plotData.push([]),this._stackData.push([]);var r=e.data;this._plotData[i]=t.extend(!0,[],r),this._stackData[i]=t.extend(!0,[],r),e._plotData=this._plotData[i],e._stackData=this._stackData[i];var o={x:[],y:[]};if(this.stackSeries&&!e.disableStack){e._stack=!0;for(var s="x"===e._stackAxis?0:1,a=0,l=r.length;a<l;a++){var h=r[a][s];if(null==h&&(h=0),this._plotData[i][a][s]=h,this._stackData[i][a][s]=h,i>0)for(var u=i;u--;){var c=this._plotData[u][a][s];if(h*c>=0){this._plotData[i][a][s]+=c,this._stackData[i][a][s]+=c;break}}}}else{for(var d=0;d<e.data.length;d++)o.x.push(e.data[d][0]),o.y.push(e.data[d][1]);this._stackData.push(e.data),this.series[i]._stackData=e.data,this._plotData.push(e.data),e._plotData=e.data,e._plotValues=o}for(i>0&&(e._prevPlotData=this.series[i-1]._plotData),e._sumy=0,e._sumx=0,d=e.data.length-1;d>-1;d--)e._sumy+=e.data[d][1],e._sumx+=e.data[d][0]}},this.populatePlotData=function(e,i){this._plotData=[],this._stackData=[],e._stackData=[],e._plotData=[];var n={x:[],y:[]};if(this.stackSeries&&!e.disableStack){e._stack=!0;for(var r,o,s,a,l="x"===e._stackAxis?0:1,h=t.extend(!0,[],e.data),u=t.extend(!0,[],e.data),c=0;c<i;c++)for(var d=this.series[c].data,p=0;p<d.length;p++)s=d[p],r=null!=s[0]?s[0]:0,o=null!=s[1]?s[1]:0,h[p][0]+=r,h[p][1]+=o,a=l?o:r,e.data[p][l]*a>=0&&(u[p][l]+=a);for(var f=0;f<u.length;f++)n.x.push(u[f][0]),n.y.push(u[f][1]);this._plotData.push(u),this._stackData.push(h),e._stackData=h,e._plotData=u,e._plotValues=n}else{for(var f=0;f<e.data.length;f++)n.x.push(e.data[f][0]),n.y.push(e.data[f][1]);this._stackData.push(e.data),this.series[i]._stackData=e.data,this._plotData.push(e.data),e._plotData=e.data,e._plotValues=n}for(i>0&&(e._prevPlotData=this.series[i-1]._plotData),e._sumy=0,e._sumx=0,f=e.data.length-1;f>-1;f--)e._sumy+=e.data[f][1],e._sumx+=e.data[f][0]},this.getNextSeriesColor=function(t){var e=0,i=t.seriesColors;return function(){return e<i.length?i[e++]:(e=0,i[e++])}}(this),this.parseOptions=function(e){for(var i=0;i<this.preParseOptionsHooks.hooks.length;i++)this.preParseOptionsHooks.hooks[i].call(this,e);for(var i=0;i<t.jqplot.preParseOptionsHooks.length;i++)t.jqplot.preParseOptionsHooks[i].call(this,e);this.options=t.extend(!0,{},this.defaults,e);var n=this.options;if(this.animate=n.animate,this.animateReplot=n.animateReplot,this.stackSeries=n.stackSeries,t.isPlainObject(n.fillBetween))for(var o,s=["series1","series2","color","baseSeries","fill"],i=0,a=s.length;i<a;i++)o=s[i],null!=n.fillBetween[o]&&(this.fillBetween[o]=n.fillBetween[o]);n.seriesColors&&(this.seriesColors=n.seriesColors),n.negativeSeriesColors&&(this.negativeSeriesColors=n.negativeSeriesColors),n.captureRightClick&&(this.captureRightClick=n.captureRightClick),this.defaultAxisStart=e&&null!=e.defaultAxisStart?e.defaultAxisStart:this.defaultAxisStart,this.colorGenerator.setColors(this.seriesColors),this.negativeColorGenerator.setColors(this.negativeSeriesColors),t.extend(!0,this._gridPadding,n.gridPadding),this.sortData=null!=n.sortData?n.sortData:this.sortData;for(var i=0;i<12;i++){var l=E[i],h=this.axes[l];h._options=t.extend(!0,{},n.axesDefaults,n.axes[l]),t.extend(!0,h,n.axesDefaults,n.axes[l]),h._plotWidth=this._width,h._plotHeight=this._height}this.series=[];for(var i=0;i<this.data.length;i++){for(var u=t.extend(!0,{index:i},{seriesColors:this.seriesColors,negativeSeriesColors:this.negativeSeriesColors},this.options.seriesDefaults,this.options.series[i],{rendererOptions:{animation:{show:this.animate}}}),s=new r(u),c=0;c<t.jqplot.preParseSeriesOptionsHooks.length;c++)t.jqplot.preParseSeriesOptionsHooks[c].call(s,this.options.seriesDefaults,this.options.series[i]);for(var c=0;c<this.preParseSeriesOptionsHooks.hooks.length;c++)this.preParseSeriesOptionsHooks.hooks[c].call(s,this.options.seriesDefaults,this.options.series[i]);t.extend(!0,s,u);var d="vertical";switch(s.renderer===t.jqplot.BarRenderer&&s.rendererOptions&&"horizontal"==s.rendererOptions.barDirection&&(d="horizontal",s._stackAxis="x",s._primaryAxis="_yaxis"),s.data=function(e,i,n){var r,o,s=[];if(i=i||"vertical",t.isArray(e[0]))t.extend(!0,s,e);else for(r=0,o=e.length;r<o;r++)"vertical"==i?s.push([n+r,e[r]]):s.push([e[r],n+r]);return s}(this.data[i],d,this.defaultAxisStart),s.xaxis){case"xaxis":s._xaxis=this.axes.xaxis;break;case"x2axis":s._xaxis=this.axes.x2axis}s._yaxis=this.axes[s.yaxis],s._xaxis._series.push(s),s._yaxis._series.push(s),s.show?(s._xaxis.show=!0,s._yaxis.show=!0):(s._xaxis.scaleToHiddenSeries&&(s._xaxis.show=!0),s._yaxis.scaleToHiddenSeries&&(s._yaxis.show=!0)),s.label||(s.label="Series "+(i+1).toString()),this.series.push(s);for(var c=0;c<t.jqplot.postParseSeriesOptionsHooks.length;c++)t.jqplot.postParseSeriesOptionsHooks[c].call(this.series[i],this.options.seriesDefaults,this.options.series[i]);for(var c=0;c<this.postParseSeriesOptionsHooks.hooks.length;c++)this.postParseSeriesOptionsHooks.hooks[c].call(this.series[i],this.options.seriesDefaults,this.options.series[i])}t.extend(!0,this.grid,this.options.grid);for(var i=0,a=E.length;i<a;i++){var l=E[i],h=this.axes[l];null==h.borderWidth&&(h.borderWidth=this.grid.borderWidth)}"string"==typeof this.options.title?this.title.text=this.options.title:"object"==typeof this.options.title&&t.extend(!0,this.title,this.options.title),this.title._plotWidth=this._width,this.legend.setOptions(this.options.legend);for(var i=0;i<t.jqplot.postParseOptionsHooks.length;i++)t.jqplot.postParseOptionsHooks[i].call(this,e);for(var i=0;i<this.postParseOptionsHooks.hooks.length;i++)this.postParseOptionsHooks.hooks[i].call(this,e)},this.destroy=function(){this.canvasManager.freeAllCanvases(),this.eventCanvas&&this.eventCanvas._elem&&this.eventCanvas._elem.unbind(),this.target.empty(),this.target[0].innerHTML=""},this.replot=function(e){var i=e||{},n=i.data||null,r=!1!==i.clear,o=i.resetAxes||!1;delete i.data,delete i.clear,delete i.resetAxes,this.target.trigger("jqplotPreReplot"),r&&this.destroy(),n||!t.isEmptyObject(i)?this.reInitialize(n,i):this.quickInit(),o&&this.resetAxesScale(o,i.axes),this.draw(),this.target.trigger("jqplotPostReplot")},this.redraw=function(t){t=null==t||t,this.target.trigger("jqplotPreRedraw"),t&&(this.canvasManager.freeAllCanvases(),this.eventCanvas._elem.unbind(),this.target.empty());for(var e in this.axes)this.axes[e]._ticks=[];this.computePlotData(),this._sumy=0,this._sumx=0;for(var i=0,n=this.series.length;i<n;i++)this._sumy+=this.series[i]._sumy,this._sumx+=this.series[i]._sumx;this.draw(),this.target.trigger("jqplotPostRedraw")},this.draw=function(){if(this.drawIfHidden||this.target.is(":visible")){this.target.trigger("jqplotPreDraw")
;var e,i,n;for(e=0,n=t.jqplot.preDrawHooks.length;e<n;e++)t.jqplot.preDrawHooks[e].call(this);for(e=0,n=this.preDrawHooks.hooks.length;e<n;e++)this.preDrawHooks.hooks[e].apply(this,this.preDrawSeriesHooks.args[e]);this.target.append(this.baseCanvas.createElement({left:0,right:0,top:0,bottom:0},"jqplot-base-canvas",null,this)),this.baseCanvas.setContext(),this.target.append(this.title.draw()),this.title.pack({top:0,left:0});var r=this.legend.draw({},this),o={top:0,left:0,bottom:0,right:0};if("outsideGrid"==this.legend.placement){switch(this.target.append(r),this.legend.location){case"n":o.top+=this.legend.getHeight();break;case"s":o.bottom+=this.legend.getHeight();break;case"ne":case"e":case"se":o.right+=this.legend.getWidth();break;case"nw":case"w":case"sw":o.left+=this.legend.getWidth();break;default:o.right+=this.legend.getWidth()}r=r.detach()}var s,a=this.axes;for(e=0;e<12;e++)s=E[e],this.target.append(a[s].draw(this.baseCanvas._ctx,this)),a[s].set();a.yaxis.show&&(o.left+=a.yaxis.getWidth());var l,h=["y2axis","y3axis","y4axis","y5axis","y6axis","y7axis","y8axis","y9axis"],u=[0,0,0,0,0,0,0,0],c=0;for(l=0;l<8;l++)a[h[l]].show&&(c+=a[h[l]].getWidth(),u[l]=c);if(o.right+=c,a.x2axis.show&&(o.top+=a.x2axis.getHeight()),this.title.show&&(o.top+=this.title.getHeight()),a.xaxis.show&&(o.bottom+=a.xaxis.getHeight()),this.options.gridDimensions&&t.isPlainObject(this.options.gridDimensions)){var d=parseInt(this.options.gridDimensions.width,10)||0,p=parseInt(this.options.gridDimensions.height,10)||0,f=(this._width-o.left-o.right-d)/2,g=(this._height-o.top-o.bottom-p)/2;g>=0&&f>=0&&(o.top+=g,o.bottom+=g,o.left+=f,o.right+=f)}var m=["top","bottom","left","right"];for(var l in m)null==this._gridPadding[m[l]]&&o[m[l]]>0?this._gridPadding[m[l]]=o[m[l]]:null==this._gridPadding[m[l]]&&(this._gridPadding[m[l]]=this._defaultGridPadding[m[l]]);var v=this._gridPadding;for("outsideGrid"===this.legend.placement&&(v={top:this.title.getHeight(),left:0,right:0,bottom:0},"s"===this.legend.location&&(v.left=this._gridPadding.left,v.right=this._gridPadding.right)),a.xaxis.pack({position:"absolute",bottom:this._gridPadding.bottom-a.xaxis.getHeight(),left:0,width:this._width},{min:this._gridPadding.left,max:this._width-this._gridPadding.right}),a.yaxis.pack({position:"absolute",top:0,left:this._gridPadding.left-a.yaxis.getWidth(),height:this._height},{min:this._height-this._gridPadding.bottom,max:this._gridPadding.top}),a.x2axis.pack({position:"absolute",top:this._gridPadding.top-a.x2axis.getHeight(),left:0,width:this._width},{min:this._gridPadding.left,max:this._width-this._gridPadding.right}),e=8;e>0;e--)a[h[e-1]].pack({position:"absolute",top:0,right:this._gridPadding.right-u[e-1]},{min:this._height-this._gridPadding.bottom,max:this._gridPadding.top});var y=(this._width-this._gridPadding.left-this._gridPadding.right)/2+this._gridPadding.left-a.yMidAxis.getWidth()/2;a.yMidAxis.pack({position:"absolute",top:0,left:y,zIndex:9,textAlign:"center"},{min:this._height-this._gridPadding.bottom,max:this._gridPadding.top}),this.target.append(this.grid.createElement(this._gridPadding,this)),this.grid.draw();var _=this.series,x=_.length;for(e=0,n=x;e<n;e++)i=this.seriesStack[e],this.target.append(_[i].shadowCanvas.createElement(this._gridPadding,"jqplot-series-shadowCanvas",null,this)),_[i].shadowCanvas.setContext(),_[i].shadowCanvas._elem.data("seriesIndex",i);for(e=0,n=x;e<n;e++)i=this.seriesStack[e],this.target.append(_[i].canvas.createElement(this._gridPadding,"jqplot-series-canvas",null,this)),_[i].canvas.setContext(),_[i].canvas._elem.data("seriesIndex",i);this.target.append(this.eventCanvas.createElement(this._gridPadding,"jqplot-event-canvas",null,this)),this.eventCanvas.setContext(),this.eventCanvas._ctx.fillStyle="rgba(0,0,0,0)",this.eventCanvas._ctx.fillRect(0,0,this.eventCanvas._ctx.canvas.width,this.eventCanvas._ctx.canvas.height),this.bindCustomEvents(),this.legend.preDraw?(this.eventCanvas._elem.before(r),this.legend.pack(v),this.legend._elem?this.drawSeries({legendInfo:{location:this.legend.location,placement:this.legend.placement,width:this.legend.getWidth(),height:this.legend.getHeight(),xoffset:this.legend.xoffset,yoffset:this.legend.yoffset}}):this.drawSeries()):(this.drawSeries(),x&&t(_[x-1].canvas._elem).after(r),this.legend.pack(v));for(var e=0,n=t.jqplot.eventListenerHooks.length;e<n;e++)this.eventCanvas._elem.bind(t.jqplot.eventListenerHooks[e][0],{plot:this},t.jqplot.eventListenerHooks[e][1]);for(var e=0,n=this.eventListenerHooks.hooks.length;e<n;e++)this.eventCanvas._elem.bind(this.eventListenerHooks.hooks[e][0],{plot:this},this.eventListenerHooks.hooks[e][1]);var b=this.fillBetween;b.fill&&b.series1!==b.series2&&b.series1<x&&b.series2<x&&"line"===_[b.series1]._type&&"line"===_[b.series2]._type&&this.doFillBetweenLines();for(var e=0,n=t.jqplot.postDrawHooks.length;e<n;e++)t.jqplot.postDrawHooks[e].call(this);for(var e=0,n=this.postDrawHooks.hooks.length;e<n;e++)this.postDrawHooks.hooks[e].apply(this,this.postDrawHooks.args[e]);this.target.is(":visible")&&(this._drawCount+=1);var w,k,C,T;for(e=0,n=x;e<n;e++)w=_[e],k=w.renderer,C=".jqplot-point-label.jqplot-series-"+e,k.animation&&k.animation._supported&&k.animation.show&&(this._drawCount<2||this.animateReplot)&&(T=this.target.find(C),T.stop(!0,!0).hide(),w.canvas._elem.stop(!0,!0).hide(),w.shadowCanvas._elem.stop(!0,!0).hide(),w.canvas._elem.jqplotEffect("blind",{mode:"show",direction:k.animation.direction},k.animation.speed),w.shadowCanvas._elem.jqplotEffect("blind",{mode:"show",direction:k.animation.direction},k.animation.speed),T.fadeIn(.8*k.animation.speed));T=null,this.target.trigger("jqplotPostDraw",[this])}},s.prototype.doFillBetweenLines=function(){var t=this.fillBetween,e=t.series1,i=t.series2,n=e<i?e:i,r=i>e?i:e,o=this.series[n],s=this.series[r];if(s.renderer.smooth)var a=s.renderer._smoothedData.slice(0).reverse();else var a=s.gridData.slice(0).reverse();if(o.renderer.smooth)var l=o.renderer._smoothedData.concat(a);else var l=o.gridData.concat(a);var h=null!==t.color?t.color:this.series[e].fillColor,u=null!==t.baseSeries?t.baseSeries:n,c=this.series[u].renderer.shapeRenderer,d={fillStyle:h,fill:!0,closePath:!0};c.draw(o.shadowCanvas._ctx,l,d)},this.bindCustomEvents=function(){this.eventCanvas._elem.bind("click",{plot:this},this.onClick),this.eventCanvas._elem.bind("dblclick",{plot:this},this.onDblClick),this.eventCanvas._elem.bind("mousedown",{plot:this},this.onMouseDown),this.eventCanvas._elem.bind("mousemove",{plot:this},this.onMouseMove),this.eventCanvas._elem.bind("mouseenter",{plot:this},this.onMouseEnter),this.eventCanvas._elem.bind("mouseleave",{plot:this},this.onMouseLeave),this.captureRightClick?(this.eventCanvas._elem.bind("mouseup",{plot:this},this.onRightClick),this.eventCanvas._elem.get(0).oncontextmenu=function(){return!1}):this.eventCanvas._elem.bind("mouseup",{plot:this},this.onMouseUp)},this.onClick=function(e){var i=l(e),n=e.data.plot,r=h(i.gridPos,n),o=t.Event("jqplotClick");o.pageX=e.pageX,o.pageY=e.pageY,t(this).trigger(o,[i.gridPos,i.dataPos,r,n])},this.onDblClick=function(e){var i=l(e),n=e.data.plot,r=h(i.gridPos,n),o=t.Event("jqplotDblClick");o.pageX=e.pageX,o.pageY=e.pageY,t(this).trigger(o,[i.gridPos,i.dataPos,r,n])},this.onMouseDown=function(e){var i=l(e),n=e.data.plot,r=h(i.gridPos,n),o=t.Event("jqplotMouseDown");o.pageX=e.pageX,o.pageY=e.pageY,t(this).trigger(o,[i.gridPos,i.dataPos,r,n])},this.onMouseUp=function(e){var i=l(e),n=t.Event("jqplotMouseUp");n.pageX=e.pageX,n.pageY=e.pageY,t(this).trigger(n,[i.gridPos,i.dataPos,null,e.data.plot])},this.onRightClick=function(e){var i=l(e),n=e.data.plot,r=h(i.gridPos,n);if(n.captureRightClick)if(3==e.which){var o=t.Event("jqplotRightClick");o.pageX=e.pageX,o.pageY=e.pageY,t(this).trigger(o,[i.gridPos,i.dataPos,r,n])}else{var o=t.Event("jqplotMouseUp");o.pageX=e.pageX,o.pageY=e.pageY,t(this).trigger(o,[i.gridPos,i.dataPos,r,n])}},this.onMouseMove=function(e){var i=l(e),n=e.data.plot,r=h(i.gridPos,n),o=t.Event("jqplotMouseMove");o.pageX=e.pageX,o.pageY=e.pageY,t(this).trigger(o,[i.gridPos,i.dataPos,r,n])},this.onMouseEnter=function(e){var i=l(e),n=e.data.plot,r=t.Event("jqplotMouseEnter");r.pageX=e.pageX,r.pageY=e.pageY,r.relatedTarget=e.relatedTarget,t(this).trigger(r,[i.gridPos,i.dataPos,null,n])},this.onMouseLeave=function(e){var i=l(e),n=e.data.plot,r=t.Event("jqplotMouseLeave");r.pageX=e.pageX,r.pageY=e.pageY,r.relatedTarget=e.relatedTarget,t(this).trigger(r,[i.gridPos,i.dataPos,null,n])},this.drawSeries=function(e,i){var n,r,o;if(i="number"==typeof e&&null==i?e:i,e="object"==typeof e?e:{},i!=L)r=this.series[i],o=r.shadowCanvas._ctx,o.clearRect(0,0,o.canvas.width,o.canvas.height),r.drawShadow(o,e,this),o=r.canvas._ctx,o.clearRect(0,0,o.canvas.width,o.canvas.height),r.draw(o,e,this),r.renderer.constructor==t.jqplot.BezierCurveRenderer&&i<this.series.length-1&&this.drawSeries(i+1);else for(n=0;n<this.series.length;n++)r=this.series[n],o=r.shadowCanvas._ctx,o.clearRect(0,0,o.canvas.width,o.canvas.height),r.drawShadow(o,e,this),o=r.canvas._ctx,o.clearRect(0,0,o.canvas.width,o.canvas.height),r.draw(o,e,this);e=i=n=r=o=null},this.moveSeriesToFront=function(e){e=parseInt(e,10);var i=t.inArray(e,this.seriesStack);if(-1!=i){if(i==this.seriesStack.length-1)return void(this.previousSeriesStack=this.seriesStack.slice(0));var n=this.seriesStack[this.seriesStack.length-1],r=this.series[e].canvas._elem.detach(),o=this.series[e].shadowCanvas._elem.detach();this.series[n].shadowCanvas._elem.after(o),this.series[n].canvas._elem.after(r),this.previousSeriesStack=this.seriesStack.slice(0),this.seriesStack.splice(i,1),this.seriesStack.push(e)}},this.moveSeriesToBack=function(e){e=parseInt(e,10);var i=t.inArray(e,this.seriesStack);if(0!=i&&-1!=i){var n=this.seriesStack[0],r=this.series[e].canvas._elem.detach(),o=this.series[e].shadowCanvas._elem.detach();this.series[n].shadowCanvas._elem.before(o),this.series[n].canvas._elem.before(r),this.previousSeriesStack=this.seriesStack.slice(0),this.seriesStack.splice(i,1),this.seriesStack.unshift(e)}},this.restorePreviousSeriesOrder=function(){var t,e,i,n,r,o;if(this.seriesStack!=this.previousSeriesStack){for(t=1;t<this.previousSeriesStack.length;t++)r=this.previousSeriesStack[t],o=this.previousSeriesStack[t-1],e=this.series[r].canvas._elem.detach(),i=this.series[r].shadowCanvas._elem.detach(),this.series[o].shadowCanvas._elem.after(i),this.series[o].canvas._elem.after(e);n=this.seriesStack.slice(0),this.seriesStack=this.previousSeriesStack.slice(0),this.previousSeriesStack=n}},this.restoreOriginalSeriesOrder=function(){var t,e,i,n=[];for(t=0;t<this.series.length;t++)n.push(t);if(this.seriesStack!=n)for(this.previousSeriesStack=this.seriesStack.slice(0),this.seriesStack=n,t=1;t<this.seriesStack.length;t++)e=this.series[t].canvas._elem.detach(),i=this.series[t].shadowCanvas._elem.detach(),this.series[t-1].shadowCanvas._elem.after(i),this.series[t-1].canvas._elem.after(e)},this.activateTheme=function(t){this.themeEngine.activate(this,t)}}function a(t,e){return(3.4182054+e)*Math.pow(t,-.3534992)}function l(t){return(Math.exp(2*t)-1)/(Math.exp(2*t)+1)}function h(t){function e(t,e){return t-e==0?Math.pow(10,10):t-e}var i=this.renderer.smooth,n=this.canvas.getWidth(),r=this._xaxis.series_p2u,o=this._yaxis.series_p2u,s=null,l=t.length/n,h=[],u=[];s=isNaN(parseFloat(i))?a(l,.5):parseFloat(i);for(var c=[],d=[],p=0,f=t.length;p<f;p++)c.push(t[p][1]),d.push(t[p][0]);for(var g,m,v,y,_=t.length-1,x=1,b=t.length;x<b;x++){for(var w=[],k=[],C=0;C<2;C++){var p=x-1+C;0==p||p==_?w[C]=Math.pow(10,10):c[p+1]-c[p]==0||c[p]-c[p-1]==0?w[C]=0:(d[p+1]-d[p])/(c[p+1]-c[p])+(d[p]-d[p-1])/(c[p]-c[p-1])==0?w[C]=0:(c[p+1]-c[p])*(c[p]-c[p-1])<0?w[C]=0:w[C]=2/(e(d[p+1],d[p])/(c[p+1]-c[p])+e(d[p],d[p-1])/(c[p]-c[p-1]))}1==x?w[0]=1.5*(c[1]-c[0])/e(d[1],d[0])-w[1]/2:x==_&&(w[1]=1.5*(c[_]-c[_-1])/e(d[_],d[_-1])-w[0]/2),k[0]=-2*(w[1]+2*w[0])/e(d[x],d[x-1])+6*(c[x]-c[x-1])/Math.pow(e(d[x],d[x-1]),2),k[1]=2*(2*w[1]+w[0])/e(d[x],d[x-1])-6*(c[x]-c[x-1])/Math.pow(e(d[x],d[x-1]),2),y=1/6*(k[1]-k[0])/e(d[x],d[x-1]),v=.5*(d[x]*k[0]-d[x-1]*k[1])/e(d[x],d[x-1]),m=(c[x]-c[x-1]-v*(Math.pow(d[x],2)-Math.pow(d[x-1],2))-y*(Math.pow(d[x],3)-Math.pow(d[x-1],3)))/e(d[x],d[x-1]),g=c[x-1]-m*d[x-1]-v*Math.pow(d[x-1],2)-y*Math.pow(d[x-1],3);for(var T,S,D=(d[x]-d[x-1])/s,C=0,f=s;C<f;C++)T=[],S=d[x-1]+C*D,T.push(S),T.push(g+m*S+v*Math.pow(S,2)+y*Math.pow(S,3)),h.push(T),u.push([r(T[0]),o(T[1])])}return h.push(t[p]),u.push([r(t[p][0]),o(t[p][1])]),[h,u]}function u(t){var e,i,n,r,o,s,h,u,c,d,p,f,g,m,v,y,_,x,b=this.renderer.smooth,w=this.renderer.tension,k=this.canvas.getWidth(),C=this._xaxis.series_p2u,T=this._yaxis.series_p2u,S=null,D=null,M=null,A=null,P=null,L=null,E=null,q=t.length/k,I=[],j=[];S=isNaN(parseFloat(b))?a(q,.5):parseFloat(b),isNaN(parseFloat(w))||(w=parseFloat(w));for(var O=0,R=t.length-1;O<R;O++)for(null===w?(P=Math.abs((t[O+1][1]-t[O][1])/(t[O+1][0]-t[O][0])),m=.3,v=.6,y=(v-m)/2,_=2.5,x=-1.4,E=P/_+x,M=y*l(E)-y*l(x)+m,O>0&&(L=Math.abs((t[O][1]-t[O-1][1])/(t[O][0]-t[O-1][0]))),E=L/_+x,A=y*l(E)-y*l(x)+m,D=(M+A)/2):D=w,e=0;e<S;e++)i=e/S,n=(1+2*i)*Math.pow(1-i,2),r=i*Math.pow(1-i,2),o=Math.pow(i,2)*(3-2*i),s=Math.pow(i,2)*(i-1),t[O-1]?(h=D*(t[O+1][0]-t[O-1][0]),u=D*(t[O+1][1]-t[O-1][1])):(h=D*(t[O+1][0]-t[O][0]),u=D*(t[O+1][1]-t[O][1])),t[O+2]?(c=D*(t[O+2][0]-t[O][0]),d=D*(t[O+2][1]-t[O][1])):(c=D*(t[O+1][0]-t[O][0]),d=D*(t[O+1][1]-t[O][1])),p=n*t[O][0]+o*t[O+1][0]+r*h+s*c,f=n*t[O][1]+o*t[O+1][1]+r*u+s*d,g=[p,f],I.push(g),j.push([C(p),T(f)]);return I.push(t[R]),j.push([C(t[R][0]),T(t[R][1])]),[I,j]}function c(e,i,n){for(var r=0;r<this.series.length;r++)this.series[r].renderer.constructor==t.jqplot.LineRenderer&&this.series[r].highlightMouseOver&&(this.series[r].highlightMouseDown=!1)}function d(){this.plugins.lineRenderer&&this.plugins.lineRenderer.highlightCanvas&&(this.plugins.lineRenderer.highlightCanvas.resetCanvas(),this.plugins.lineRenderer.highlightCanvas=null),this.plugins.lineRenderer.highlightedSeriesIndex=null,this.plugins.lineRenderer.highlightCanvas=new t.jqplot.GenericCanvas,this.eventCanvas._elem.before(this.plugins.lineRenderer.highlightCanvas.createElement(this._gridPadding,"jqplot-lineRenderer-highlight-canvas",this._plotDimensions,this)),this.plugins.lineRenderer.highlightCanvas.setContext(),this.eventCanvas._elem.bind("mouseleave",{plot:this},function(t){f(t.data.plot)})}function p(t,e,i,n){var r=t.series[e],o=t.plugins.lineRenderer.highlightCanvas;o._ctx.clearRect(0,0,o._ctx.canvas.width,o._ctx.canvas.height),r._highlightedPoint=i,t.plugins.lineRenderer.highlightedSeriesIndex=e;var s={fillStyle:r.highlightColor};"line"===r.type&&r.renderer.bands.show&&(s.fill=!0,s.closePath=!0),r.renderer.shapeRenderer.draw(o._ctx,n,s),o=null}function f(t){var e=t.plugins.lineRenderer.highlightCanvas;e._ctx.clearRect(0,0,e._ctx.canvas.width,e._ctx.canvas.height);for(var i=0;i<t.series.length;i++)t.series[i]._highlightedPoint=null;t.plugins.lineRenderer.highlightedSeriesIndex=null,t.target.trigger("jqplotDataUnhighlight"),e=null}function g(t,e,i,n,r){if(n){var o=[n.seriesIndex,n.pointIndex,n.data],s=jQuery.Event("jqplotDataMouseOver");if(s.pageX=t.pageX,s.pageY=t.pageY,r.target.trigger(s,o),r.series[o[0]].highlightMouseOver&&o[0]!=r.plugins.lineRenderer.highlightedSeriesIndex){var a=jQuery.Event("jqplotDataHighlight");a.which=t.which,a.pageX=t.pageX,a.pageY=t.pageY,r.target.trigger(a,o),p(r,n.seriesIndex,n.pointIndex,n.points)}}else null==n&&f(r)}function m(t,e,i,n,r){if(n){var o=[n.seriesIndex,n.pointIndex,n.data];if(r.series[o[0]].highlightMouseDown&&o[0]!=r.plugins.lineRenderer.highlightedSeriesIndex){var s=jQuery.Event("jqplotDataHighlight");s.which=t.which,s.pageX=t.pageX,s.pageY=t.pageY,r.target.trigger(s,o),p(r,n.seriesIndex,n.pointIndex,n.points)}}else null==n&&f(r)}function v(t,e,i,n,r){var o=r.plugins.lineRenderer.highlightedSeriesIndex;null!=o&&r.series[o].highlightMouseDown&&f(r)}function y(t,e,i,n,r){if(n){var o=[n.seriesIndex,n.pointIndex,n.data],s=jQuery.Event("jqplotDataClick");s.which=t.which,s.pageX=t.pageX,s.pageY=t.pageY,r.target.trigger(s,o)}}function _(t,e,i,n,r){if(n){var o=[n.seriesIndex,n.pointIndex,n.data],s=r.plugins.lineRenderer.highlightedSeriesIndex;null!=s&&r.series[s].highlightMouseDown&&f(r);var a=jQuery.Event("jqplotDataRightClick");a.which=t.which,a.pageX=t.pageX,a.pageY=t.pageY,r.target.trigger(a,o)}}function x(t){var e;if((t=Math.abs(t))>=10)e="%d";else if(t>1)e=t===parseInt(t,10)?"%d":"%.1f";else{var i=-Math.floor(Math.log(t)/Math.LN10);e="%."+i+"f"}return e}function b(e,i,n){for(var r,o,s,a,l,h,u,c=Math.floor(n/2),d=Math.ceil(1.5*n),p=Number.MAX_VALUE,f=i-e,g=t.jqplot.getSignificantFigures,m=0,v=d-c+1;m<v;m++)h=c+m,r=f/(h-1),o=g(r),r=Math.abs(n-h)+o.digitsRight,r<p?(p=r,s=h,u=o.digitsRight):r===p&&o.digitsRight<u&&(s=h,u=o.digitsRight);return a=Math.max(u,Math.max(g(e).digitsRight,g(i).digitsRight)),l=0===a?"%d":"%."+a+"f",r=f/(s-1),[e,i,s,l,r]}function w(t,e){e=e||7;var i=t/(e-1),n=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),r=i/n;return n<1?r>5?10*n:r>2?5*n:r>1?2*n:n:r>5?10*n:r>4?5*n:r>3?4*n:r>2?3*n:r>1?2*n:n}function k(t,e){e=e||1;var i=Math.floor(Math.log(t)/Math.LN10),n=Math.pow(10,i),r=t/n;return r/=e,(r<=.38?.1:r<=1.6?.2:r<=4?.5:r<=8?1:r<=16?2:5)*n}function C(t,e){var i,n,r=Math.floor(Math.log(t)/Math.LN10),o=Math.pow(10,r),s=t/o;return s/=e,n=s<=.38?.1:s<=1.6?.2:s<=4?.5:s<=8?1:s<=16?2:5,i=n*o,[i,n,o]}function T(t,e){return t-e}function S(t){if(null==t||"object"!=typeof t)return t;var e=new t.constructor;for(var i in t)e[i]=S(t[i]);return e}function D(t,e){if(null!=e&&"object"==typeof e)for(var i in e)"highlightColors"==i&&(t[i]=S(e[i])),null!=e[i]&&"object"==typeof e[i]?(t.hasOwnProperty(i)||(t[i]={}),D(t[i],e[i])):t[i]=e[i]}function M(t,e){if(e.indexOf)return e.indexOf(t);for(var i=0,n=e.length;i<n;i++)if(e[i]===t)return i;return-1}function A(t){return null===t?"[object Null]":Object.prototype.toString.call(t)}function P(e,i,n,r){return t.isPlainObject(e)?e:(e={effect:e},i===L&&(i={}),t.isFunction(i)&&(r=i,n=null,i={}),("number"===t.type(i)||t.fx.speeds[i])&&(r=n,n=i,i={}),t.isFunction(n)&&(r=n,n=null),i&&t.extend(e,i),n=n||i.duration,e.duration=t.fx.off?0:"number"==typeof n?n:n in t.fx.speeds?t.fx.speeds[n]:t.fx.speeds._default,e.complete=r||i.complete,e)}var L;t.fn.emptyForce=function(){for(var e,i=0;null!=(e=t(this)[i]);i++){if(1===e.nodeType&&t.cleanData(e.getElementsByTagName("*")),t.jqplot.use_excanvas)e.outerHTML="";else for(;e.firstChild;)e.removeChild(e.firstChild);e=null}return t(this)},t.fn.removeChildForce=function(t){for(;t.firstChild;)this.removeChildForce(t.firstChild),t.removeChild(t.firstChild)},t.fn.jqplot=function(){for(var e=[],i=[],n=0,r=arguments.length;n<r;n++)t.isArray(arguments[n])?e.push(arguments[n]):t.isPlainObject(arguments[n])&&i.push(arguments[n]);return this.each(function(n){var r,o,s,a,l=t(this),h=e.length,u=i.length;s=n<h?e[n]:h?e[h-1]:null,a=n<u?i[n]:u?i[u-1]:null,r=l.attr("id"),r===L&&(r="jqplot_target_"+t.jqplot.targetCounter++,l.attr("id",r)),o=t.jqplot(r,s,a),l.data("jqplot",o)})},t.jqplot=function(e,i,n){var r=null,o=null;3===arguments.length?(r=i,o=n):2===arguments.length&&(t.isArray(i)?r=i:t.isPlainObject(i)&&(o=i)),null===r&&null!==o&&o.data&&(r=o.data);var a=new s;if(t("#"+e).removeClass("jqplot-error"),!t.jqplot.config.catchErrors)return a.init(e,r,o),a.draw(),a.themeEngine.init.call(a),a;try{return a.init(e,r,o),a.draw(),a.themeEngine.init.call(a),a}catch(i){var l=t.jqplot.config.errorMessage||i.message;t("#"+e).append('<div class="jqplot-error-message">'+l+"</div>"),t("#"+e).addClass("jqplot-error"),document.getElementById(e).style.background=t.jqplot.config.errorBackground,document.getElementById(e).style.border=t.jqplot.config.errorBorder,document.getElementById(e).style.fontFamily=t.jqplot.config.errorFontFamily,document.getElementById(e).style.fontSize=t.jqplot.config.errorFontSize,document.getElementById(e).style.fontStyle=t.jqplot.config.errorFontStyle,document.getElementById(e).style.fontWeight=t.jqplot.config.errorFontWeight}},t.jqplot.version="1.0.8",t.jqplot.revision="1250",t.jqplot.targetCounter=1,t.jqplot.CanvasManager=function(){void 0===t.jqplot.CanvasManager.canvases&&(t.jqplot.CanvasManager.canvases=[],t.jqplot.CanvasManager.free=[]);var e=[];this.getCanvas=function(){var i,n=!0;if(!t.jqplot.use_excanvas)for(var r=0,o=t.jqplot.CanvasManager.canvases.length;r<o;r++)if(!0===t.jqplot.CanvasManager.free[r]){n=!1,i=t.jqplot.CanvasManager.canvases[r],t.jqplot.CanvasManager.free[r]=!1,e.push(r);break}return n&&(i=document.createElement("canvas"),e.push(t.jqplot.CanvasManager.canvases.length),t.jqplot.CanvasManager.canvases.push(i),t.jqplot.CanvasManager.free.push(!1)),i},this.initCanvas=function(e){return t.jqplot.use_excanvas?window.G_vmlCanvasManager.initElement(e):e},this.freeAllCanvases=function(){for(var t=0,i=e.length;t<i;t++)this.freeCanvas(e[t]);e=[]},this.freeCanvas=function(e){if(t.jqplot.use_excanvas&&window.G_vmlCanvasManager.uninitElement!==L)window.G_vmlCanvasManager.uninitElement(t.jqplot.CanvasManager.canvases[e]),t.jqplot.CanvasManager.canvases[e]=null;else{var i=t.jqplot.CanvasManager.canvases[e];i.getContext("2d").clearRect(0,0,i.width,i.height),t(i).unbind().removeAttr("class").removeAttr("style"),t(i).css({left:"",top:"",position:""}),i.width=0,i.height=0,t.jqplot.CanvasManager.free[e]=!0}}},t.jqplot.log=function(){window.console&&window.console.log.apply(window.console,arguments)},t.jqplot.config={addDomReference:!1,enablePlugins:!1,defaultHeight:300,defaultWidth:400,UTCAdjust:!1,timezoneOffset:new Date(6e4*(new Date).getTimezoneOffset()),errorMessage:"",errorBackground:"",errorBorder:"",errorFontFamily:"",errorFontSize:"",errorFontStyle:"",errorFontWeight:"",catchErrors:!1,defaultTickFormatString:"%.1f",defaultColors:["#4bb2c5","#EAA228","#c5b47f","#579575","#839557","#958c12","#953579","#4b5de4","#d8b83f","#ff5800","#0085cc","#c747a3","#cddf54","#FBD178","#26B4E3","#bd70c7"],defaultNegativeColors:["#498991","#C08840","#9F9274","#546D61","#646C4A","#6F6621","#6E3F5F","#4F64B0","#A89050","#C45923","#187399","#945381","#959E5C","#C7AF7B","#478396","#907294"],dashLength:4,gapLength:4,dotGapLength:2.5,srcLocation:"jqplot/src/",pluginLocation:"jqplot/src/plugins/"},t.jqplot.arrayMax=function(t){return Math.max.apply(Math,t)},t.jqplot.arrayMin=function(t){return Math.min.apply(Math,t)},t.jqplot.enablePlugins=t.jqplot.config.enablePlugins,t.jqplot.support_canvas=function(){return void 0===t.jqplot.support_canvas.result&&(t.jqplot.support_canvas.result=!!document.createElement("canvas").getContext),t.jqplot.support_canvas.result},t.jqplot.support_canvas_text=function(){return void 0===t.jqplot.support_canvas_text.result&&(window.G_vmlCanvasManager!==L&&window.G_vmlCanvasManager._version>887?t.jqplot.support_canvas_text.result=!0:t.jqplot.support_canvas_text.result=!(!document.createElement("canvas").getContext||"function"!=typeof document.createElement("canvas").getContext("2d").fillText)),t.jqplot.support_canvas_text.result},t.jqplot.use_excanvas=!(t.support.boxModel&&t.support.objectAll&&$support.leadingWhitespace||t.jqplot.support_canvas()),t.jqplot.preInitHooks=[],t.jqplot.postInitHooks=[],t.jqplot.preParseOptionsHooks=[],t.jqplot.postParseOptionsHooks=[],t.jqplot.preDrawHooks=[],t.jqplot.postDrawHooks=[],t.jqplot.preDrawSeriesHooks=[],t.jqplot.postDrawSeriesHooks=[],t.jqplot.preDrawLegendHooks=[],t.jqplot.addLegendRowHooks=[],t.jqplot.preSeriesInitHooks=[],t.jqplot.postSeriesInitHooks=[],t.jqplot.preParseSeriesOptionsHooks=[],t.jqplot.postParseSeriesOptionsHooks=[],t.jqplot.eventListenerHooks=[],t.jqplot.preDrawSeriesShadowHooks=[],t.jqplot.postDrawSeriesShadowHooks=[],t.jqplot.ElemContainer=function(){this._elem,this._plotWidth,this._plotHeight,this._plotDimensions={height:null,width:null}},t.jqplot.ElemContainer.prototype.createElement=function(e,i,n,r,o){this._offsets=i;var s=n||"jqplot",a=document.createElement(e);return this._elem=t(a),this._elem.addClass(s),this._elem.css(r),this._elem.attr(o),a=null,this._elem},t.jqplot.ElemContainer.prototype.getWidth=function(){return this._elem?this._elem.outerWidth(!0):null},t.jqplot.ElemContainer.prototype.getHeight=function(){return this._elem?this._elem.outerHeight(!0):null},t.jqplot.ElemContainer.prototype.getPosition=function(){return this._elem?this._elem.position():{top:null,left:null,bottom:null,right:null}},t.jqplot.ElemContainer.prototype.getTop=function(){return this.getPosition().top},t.jqplot.ElemContainer.prototype.getLeft=function(){return this.getPosition().left},t.jqplot.ElemContainer.prototype.getBottom=function(){return this._elem.css("bottom")},t.jqplot.ElemContainer.prototype.getRight=function(){return this._elem.css("right")},e.prototype=new t.jqplot.ElemContainer,e.prototype.constructor=e,e.prototype.init=function(){t.isFunction(this.renderer)&&(this.renderer=new this.renderer),this.tickOptions.axis=this.name,null==this.tickOptions.showMark&&(this.tickOptions.showMark=this.showTicks),null==this.tickOptions.showMark&&(this.tickOptions.showMark=this.showTickMarks),null==this.tickOptions.showLabel&&(this.tickOptions.showLabel=this.showTicks),null==this.label||""==this.label?this.showLabel=!1:this.labelOptions.label=this.label,0==this.showLabel&&(this.labelOptions.show=!1),0==this.pad&&(this.pad=1),0==this.padMax&&(this.padMax=1),0==this.padMin&&(this.padMin=1),null==this.padMax&&(this.padMax=(this.pad-1)/2+1),null==this.padMin&&(this.padMin=(this.pad-1)/2+1),this.pad=this.padMax+this.padMin-1,null==this.min&&null==this.max||(this.autoscale=!1),null==this.syncTicks&&this.name.indexOf("y")>-1?this.syncTicks=!0:null==this.syncTicks&&(this.syncTicks=!1),this.renderer.init.call(this,this.rendererOptions)},e.prototype.draw=function(t,e){return this.__ticks&&(this.__ticks=null),this.renderer.draw.call(this,t,e)},e.prototype.set=function(){this.renderer.set.call(this)},e.prototype.pack=function(t,e){this.show&&this.renderer.pack.call(this,t,e),null==this._min&&(this._min=this.min,this._max=this.max,this._tickInterval=this.tickInterval,this._numberTicks=this.numberTicks,this.__ticks=this._ticks)},e.prototype.reset=function(){this.renderer.reset.call(this)},e.prototype.resetScale=function(e){t.extend(!0,this,{min:null,max:null,numberTicks:null,tickInterval:null,_ticks:[],ticks:[]},e),this.resetDataBounds()},e.prototype.resetDataBounds=function(){var e=this._dataBounds;e.min=null,e.max=null;for(var i,n,r,o=!!this.show,s=0;s<this._series.length;s++)if(n=this._series[s],n.show||this.scaleToHiddenSeries){r=n._plotData,"line"===n._type&&n.renderer.bands.show&&"x"!==this.name.charAt(0)&&(r=[[0,n.renderer.bands._min],[1,n.renderer.bands._max]]);var a=1,l=1;null!=n._type&&"ohlc"==n._type&&(a=3,l=2);for(var h=0,i=r.length;h<i;h++)"xaxis"==this.name||"x2axis"==this.name?((null!=r[h][0]&&r[h][0]<e.min||null==e.min)&&(e.min=r[h][0]),(null!=r[h][0]&&r[h][0]>e.max||null==e.max)&&(e.max=r[h][0])):((null!=r[h][a]&&r[h][a]<e.min||null==e.min)&&(e.min=r[h][a]),(null!=r[h][l]&&r[h][l]>e.max||null==e.max)&&(e.max=r[h][l]));o&&n.renderer.constructor!==t.jqplot.BarRenderer?o=!1:o&&this._options.hasOwnProperty("forceTickAt0")&&0==this._options.forceTickAt0?o=!1:o&&n.renderer.constructor===t.jqplot.BarRenderer&&("vertical"==n.barDirection&&"xaxis"!=this.name&&"x2axis"!=this.name?null==this._options.pad&&null==this._options.padMin||(o=!1):"horizontal"!=n.barDirection||"xaxis"!=this.name&&"x2axis"!=this.name||null==this._options.pad&&null==this._options.padMin||(o=!1))}o&&this.renderer.constructor===t.jqplot.LinearAxisRenderer&&e.min>=0&&(this.padMin=1,this.forceTickAt0=!0)},i.prototype=new t.jqplot.ElemContainer,i.prototype.constructor=i,i.prototype.setOptions=function(e){if(t.extend(!0,this,e),"inside"==this.placement&&(this.placement="insideGrid"),this.xoffset>0){if("insideGrid"==this.placement)switch(this.location){case"nw":case"w":case"sw":null==this.marginLeft&&(this.marginLeft=this.xoffset+"px"),this.marginRight="0px";break;case"ne":case"e":case"se":default:null==this.marginRight&&(this.marginRight=this.xoffset+"px"),this.marginLeft="0px"}else if("outside"==this.placement)switch(this.location){case"nw":case"w":case"sw":null==this.marginRight&&(this.marginRight=this.xoffset+"px"),this.marginLeft="0px";break;case"ne":case"e":case"se":default:null==this.marginLeft&&(this.marginLeft=this.xoffset+"px"),this.marginRight="0px"}this.xoffset=0}if(this.yoffset>0){if("outside"==this.placement)switch(this.location){case"sw":case"s":case"se":null==this.marginTop&&(this.marginTop=this.yoffset+"px"),this.marginBottom="0px";break;case"ne":case"n":case"nw":default:null==this.marginBottom&&(this.marginBottom=this.yoffset+"px"),this.marginTop="0px"}else if("insideGrid"==this.placement)switch(this.location){case"sw":case"s":case"se":null==this.marginBottom&&(this.marginBottom=this.yoffset+"px"),this.marginTop="0px";break;case"ne":case"n":case"nw":default:null==this.marginTop&&(this.marginTop=this.yoffset+"px"),this.marginBottom="0px"}this.yoffset=0}},i.prototype.init=function(){t.isFunction(this.renderer)&&(this.renderer=new this.renderer),this.renderer.init.call(this,this.rendererOptions)},i.prototype.draw=function(e,i){for(var n=0;n<t.jqplot.preDrawLegendHooks.length;n++)t.jqplot.preDrawLegendHooks[n].call(this,e);return this.renderer.draw.call(this,e,i)},i.prototype.pack=function(t){this.renderer.pack.call(this,t)},n.prototype=new t.jqplot.ElemContainer,n.prototype.constructor=n,n.prototype.init=function(){t.isFunction(this.renderer)&&(this.renderer=new this.renderer),this.renderer.init.call(this,this.rendererOptions)},n.prototype.draw=function(t){return this.renderer.draw.call(this,t)},n.prototype.pack=function(){this.renderer.pack.call(this)},r.prototype=new t.jqplot.ElemContainer,r.prototype.constructor=r,r.prototype.init=function(e,i,n){this.index=e,this.gridBorderWidth=i;var r,o,s=this.data,a=[];for(r=0,o=s.length;r<o;r++)if(this.breakOnNull)a.push(s[r]);else{if(null==s[r]||null==s[r][0]||null==s[r][1])continue;a.push(s[r])}if(this.data=a,this.color||(this.color=n.colorGenerator.get(this.index)),this.negativeColor||(this.negativeColor=n.negativeColorGenerator.get(this.index)),this.fillColor||(this.fillColor=this.color),this.fillAlpha){var l=t.jqplot.normalize2rgb(this.fillColor),l=t.jqplot.getColorComponents(l);this.fillColor="rgba("+l[0]+","+l[1]+","+l[2]+","+this.fillAlpha+")"}t.isFunction(this.renderer)&&(this.renderer=new this.renderer),this.renderer.init.call(this,this.rendererOptions,n),this.markerRenderer=new this.markerRenderer,this.markerOptions.color||(this.markerOptions.color=this.color),null==this.markerOptions.show&&(this.markerOptions.show=this.showMarker),this.showMarker=this.markerOptions.show,this.markerRenderer.init(this.markerOptions)},r.prototype.draw=function(e,i,n){var r=i==L?{}:i;e=e==L?this.canvas._ctx:e;var o,s,a;for(o=0;o<t.jqplot.preDrawSeriesHooks.length;o++)t.jqplot.preDrawSeriesHooks[o].call(this,e,r);for(this.show&&(this.renderer.setGridData.call(this,n),r.preventJqPlotSeriesDrawTrigger||t(e.canvas).trigger("jqplotSeriesDraw",[this.data,this.gridData]),s=[],s=r.data?r.data:this._stack?this._plotData:this.data,a=r.gridData||this.renderer.makeGridData.call(this,s,n),"line"===this._type&&this.renderer.smooth&&this.renderer._smoothedData.length&&(a=this.renderer._smoothedData),this.renderer.draw.call(this,e,a,r,n)),o=0;o<t.jqplot.postDrawSeriesHooks.length;o++)t.jqplot.postDrawSeriesHooks[o].call(this,e,r,n);e=i=n=o=s=a=null},r.prototype.drawShadow=function(e,i,n){var r=i==L?{}:i;e=e==L?this.shadowCanvas._ctx:e;var o,s,a;for(o=0;o<t.jqplot.preDrawSeriesShadowHooks.length;o++)t.jqplot.preDrawSeriesShadowHooks[o].call(this,e,r);for(this.shadow&&(this.renderer.setGridData.call(this,n),s=[],s=r.data?r.data:this._stack?this._plotData:this.data,a=r.gridData||this.renderer.makeGridData.call(this,s,n),this.renderer.drawShadow.call(this,e,a,r,n)),o=0;o<t.jqplot.postDrawSeriesShadowHooks.length;o++)t.jqplot.postDrawSeriesShadowHooks[o].call(this,e,r);e=i=n=o=s=a=null},r.prototype.toggleDisplay=function(t,e){var i,n
;i=t.data.series?t.data.series:this,t.data.speed&&(n=t.data.speed),n?i.canvas._elem.is(":hidden")||!i.show?(i.show=!0,i.canvas._elem.removeClass("jqplot-series-hidden"),i.shadowCanvas._elem&&i.shadowCanvas._elem.fadeIn(n),i.canvas._elem.fadeIn(n,e),i.canvas._elem.nextAll(".jqplot-point-label.jqplot-series-"+i.index).fadeIn(n)):(i.show=!1,i.canvas._elem.addClass("jqplot-series-hidden"),i.shadowCanvas._elem&&i.shadowCanvas._elem.fadeOut(n),i.canvas._elem.fadeOut(n,e),i.canvas._elem.nextAll(".jqplot-point-label.jqplot-series-"+i.index).fadeOut(n)):i.canvas._elem.is(":hidden")||!i.show?(i.show=!0,i.canvas._elem.removeClass("jqplot-series-hidden"),i.shadowCanvas._elem&&i.shadowCanvas._elem.show(),i.canvas._elem.show(0,e),i.canvas._elem.nextAll(".jqplot-point-label.jqplot-series-"+i.index).show()):(i.show=!1,i.canvas._elem.addClass("jqplot-series-hidden"),i.shadowCanvas._elem&&i.shadowCanvas._elem.hide(),i.canvas._elem.hide(0,e),i.canvas._elem.nextAll(".jqplot-point-label.jqplot-series-"+i.index).hide())},o.prototype=new t.jqplot.ElemContainer,o.prototype.constructor=o,o.prototype.init=function(){t.isFunction(this.renderer)&&(this.renderer=new this.renderer),this.renderer.init.call(this,this.rendererOptions)},o.prototype.createElement=function(t,e){return this._offsets=t,this.renderer.createElement.call(this,e)},o.prototype.draw=function(){this.renderer.draw.call(this)},t.jqplot.GenericCanvas=function(){t.jqplot.ElemContainer.call(this),this._ctx},t.jqplot.GenericCanvas.prototype=new t.jqplot.ElemContainer,t.jqplot.GenericCanvas.prototype.constructor=t.jqplot.GenericCanvas,t.jqplot.GenericCanvas.prototype.createElement=function(e,i,n,r){this._offsets=e;var o="jqplot";i!=L&&(o=i);var s;return s=r.canvasManager.getCanvas(),null!=n&&(this._plotDimensions=n),s.width=this._plotDimensions.width-this._offsets.left-this._offsets.right,s.height=this._plotDimensions.height-this._offsets.top-this._offsets.bottom,this._elem=t(s),this._elem.css({position:"absolute",left:this._offsets.left,top:this._offsets.top}),this._elem.addClass(o),s=r.canvasManager.initCanvas(s),s=null,this._elem},t.jqplot.GenericCanvas.prototype.setContext=function(){return this._ctx=this._elem.get(0).getContext("2d"),this._ctx},t.jqplot.GenericCanvas.prototype.resetCanvas=function(){this._elem&&(t.jqplot.use_excanvas&&window.G_vmlCanvasManager.uninitElement!==L&&window.G_vmlCanvasManager.uninitElement(this._elem.get(0)),this._elem.emptyForce()),this._ctx=null},t.jqplot.HooksManager=function(){this.hooks=[],this.args=[]},t.jqplot.HooksManager.prototype.addOnce=function(t,e){e=e||[];for(var i=!1,n=0,r=this.hooks.length;n<r;n++)this.hooks[n]==t&&(i=!0);i||(this.hooks.push(t),this.args.push(e))},t.jqplot.HooksManager.prototype.add=function(t,e){e=e||[],this.hooks.push(t),this.args.push(e)},t.jqplot.EventListenerManager=function(){this.hooks=[]},t.jqplot.EventListenerManager.prototype.addOnce=function(t,e){for(var i,n,r=!1,n=0,o=this.hooks.length;n<o;n++)i=this.hooks[n],i[0]==t&&i[1]==e&&(r=!0);r||this.hooks.push([t,e])},t.jqplot.EventListenerManager.prototype.add=function(t,e){this.hooks.push([t,e])};var E=["yMidAxis","xaxis","yaxis","x2axis","y2axis","y3axis","y4axis","y5axis","y6axis","y7axis","y8axis","y9axis"];t.jqplot.computeHighlightColors=function(e){var i;if(t.isArray(e)){i=[];for(var n=0;n<e.length;n++){for(var r=t.jqplot.getColorComponents(e[n]),o=[r[0],r[1],r[2]],s=o[0]+o[1]+o[2],a=0;a<3;a++)o[a]=s>660?.85*o[a]:.73*o[a]+90,o[a]=parseInt(o[a],10),o[a]>255||o[a];o[3]=.3+.35*r[3],i.push("rgba("+o[0]+","+o[1]+","+o[2]+","+o[3]+")")}}else{for(var r=t.jqplot.getColorComponents(e),o=[r[0],r[1],r[2]],s=o[0]+o[1]+o[2],a=0;a<3;a++)o[a]=s>660?.85*o[a]:.73*o[a]+90,o[a]=parseInt(o[a],10),o[a]>255||o[a];o[3]=.3+.35*r[3],i="rgba("+o[0]+","+o[1]+","+o[2]+","+o[3]+")"}return i},t.jqplot.ColorGenerator=function(e){e=e||t.jqplot.config.defaultColors;var i=0;this.next=function(){return i<e.length?e[i++]:(i=0,e[i++])},this.previous=function(){return i>0?e[i--]:(i=e.length-1,e[i])},this.get=function(t){var i=t-e.length*Math.floor(t/e.length);return e[i]},this.setColors=function(t){e=t},this.reset=function(){i=0},this.getIndex=function(){return i},this.setIndex=function(t){i=t}},t.jqplot.hex2rgb=function(t,e){t=t.replace("#",""),3==t.length&&(t=t.charAt(0)+t.charAt(0)+t.charAt(1)+t.charAt(1)+t.charAt(2)+t.charAt(2));var i;return i="rgba("+parseInt(t.slice(0,2),16)+", "+parseInt(t.slice(2,4),16)+", "+parseInt(t.slice(4,6),16),e&&(i+=", "+e),i+=")"},t.jqplot.rgb2hex=function(t){for(var e=/rgba?\( *([0-9]{1,3}\.?[0-9]*%?) *, *([0-9]{1,3}\.?[0-9]*%?) *, *([0-9]{1,3}\.?[0-9]*%?) *(?:, *[0-9.]*)?\)/,i=t.match(e),n="#",r=1;r<4;r++){var o;-1!=i[r].search(/%/)?(o=parseInt(255*i[r]/100,10).toString(16),1==o.length&&(o="0"+o)):(o=parseInt(i[r],10).toString(16),1==o.length&&(o="0"+o)),n+=o}return n},t.jqplot.normalize2rgb=function(e,i){if(-1!=e.search(/^ *rgba?\(/))return e;if(-1!=e.search(/^ *#?[0-9a-fA-F]?[0-9a-fA-F]/))return t.jqplot.hex2rgb(e,i);throw new Error("Invalid color spec")},t.jqplot.getColorComponents=function(e){e=t.jqplot.colorKeywordMap[e]||e;for(var i=t.jqplot.normalize2rgb(e),n=/rgba?\( *([0-9]{1,3}\.?[0-9]*%?) *, *([0-9]{1,3}\.?[0-9]*%?) *, *([0-9]{1,3}\.?[0-9]*%?) *,? *([0-9.]* *)?\)/,r=i.match(n),o=[],s=1;s<4;s++)-1!=r[s].search(/%/)?o[s-1]=parseInt(255*r[s]/100,10):o[s-1]=parseInt(r[s],10);return o[3]=parseFloat(r[4])?parseFloat(r[4]):1,o},t.jqplot.colorKeywordMap={aliceblue:"rgb(240, 248, 255)",antiquewhite:"rgb(250, 235, 215)",aqua:"rgb( 0, 255, 255)",aquamarine:"rgb(127, 255, 212)",azure:"rgb(240, 255, 255)",beige:"rgb(245, 245, 220)",bisque:"rgb(255, 228, 196)",black:"rgb( 0, 0, 0)",blanchedalmond:"rgb(255, 235, 205)",blue:"rgb( 0, 0, 255)",blueviolet:"rgb(138, 43, 226)",brown:"rgb(165, 42, 42)",burlywood:"rgb(222, 184, 135)",cadetblue:"rgb( 95, 158, 160)",chartreuse:"rgb(127, 255, 0)",chocolate:"rgb(210, 105, 30)",coral:"rgb(255, 127, 80)",cornflowerblue:"rgb(100, 149, 237)",cornsilk:"rgb(255, 248, 220)",crimson:"rgb(220, 20, 60)",cyan:"rgb( 0, 255, 255)",darkblue:"rgb( 0, 0, 139)",darkcyan:"rgb( 0, 139, 139)",darkgoldenrod:"rgb(184, 134, 11)",darkgray:"rgb(169, 169, 169)",darkgreen:"rgb( 0, 100, 0)",darkgrey:"rgb(169, 169, 169)",darkkhaki:"rgb(189, 183, 107)",darkmagenta:"rgb(139, 0, 139)",darkolivegreen:"rgb( 85, 107, 47)",darkorange:"rgb(255, 140, 0)",darkorchid:"rgb(153, 50, 204)",darkred:"rgb(139, 0, 0)",darksalmon:"rgb(233, 150, 122)",darkseagreen:"rgb(143, 188, 143)",darkslateblue:"rgb( 72, 61, 139)",darkslategray:"rgb( 47, 79, 79)",darkslategrey:"rgb( 47, 79, 79)",darkturquoise:"rgb( 0, 206, 209)",darkviolet:"rgb(148, 0, 211)",deeppink:"rgb(255, 20, 147)",deepskyblue:"rgb( 0, 191, 255)",dimgray:"rgb(105, 105, 105)",dimgrey:"rgb(105, 105, 105)",dodgerblue:"rgb( 30, 144, 255)",firebrick:"rgb(178, 34, 34)",floralwhite:"rgb(255, 250, 240)",forestgreen:"rgb( 34, 139, 34)",fuchsia:"rgb(255, 0, 255)",gainsboro:"rgb(220, 220, 220)",ghostwhite:"rgb(248, 248, 255)",gold:"rgb(255, 215, 0)",goldenrod:"rgb(218, 165, 32)",gray:"rgb(128, 128, 128)",grey:"rgb(128, 128, 128)",green:"rgb( 0, 128, 0)",greenyellow:"rgb(173, 255, 47)",honeydew:"rgb(240, 255, 240)",hotpink:"rgb(255, 105, 180)",indianred:"rgb(205, 92, 92)",indigo:"rgb( 75, 0, 130)",ivory:"rgb(255, 255, 240)",khaki:"rgb(240, 230, 140)",lavender:"rgb(230, 230, 250)",lavenderblush:"rgb(255, 240, 245)",lawngreen:"rgb(124, 252, 0)",lemonchiffon:"rgb(255, 250, 205)",lightblue:"rgb(173, 216, 230)",lightcoral:"rgb(240, 128, 128)",lightcyan:"rgb(224, 255, 255)",lightgoldenrodyellow:"rgb(250, 250, 210)",lightgray:"rgb(211, 211, 211)",lightgreen:"rgb(144, 238, 144)",lightgrey:"rgb(211, 211, 211)",lightpink:"rgb(255, 182, 193)",lightsalmon:"rgb(255, 160, 122)",lightseagreen:"rgb( 32, 178, 170)",lightskyblue:"rgb(135, 206, 250)",lightslategray:"rgb(119, 136, 153)",lightslategrey:"rgb(119, 136, 153)",lightsteelblue:"rgb(176, 196, 222)",lightyellow:"rgb(255, 255, 224)",lime:"rgb( 0, 255, 0)",limegreen:"rgb( 50, 205, 50)",linen:"rgb(250, 240, 230)",magenta:"rgb(255, 0, 255)",maroon:"rgb(128, 0, 0)",mediumaquamarine:"rgb(102, 205, 170)",mediumblue:"rgb( 0, 0, 205)",mediumorchid:"rgb(186, 85, 211)",mediumpurple:"rgb(147, 112, 219)",mediumseagreen:"rgb( 60, 179, 113)",mediumslateblue:"rgb(123, 104, 238)",mediumspringgreen:"rgb( 0, 250, 154)",mediumturquoise:"rgb( 72, 209, 204)",mediumvioletred:"rgb(199, 21, 133)",midnightblue:"rgb( 25, 25, 112)",mintcream:"rgb(245, 255, 250)",mistyrose:"rgb(255, 228, 225)",moccasin:"rgb(255, 228, 181)",navajowhite:"rgb(255, 222, 173)",navy:"rgb( 0, 0, 128)",oldlace:"rgb(253, 245, 230)",olive:"rgb(128, 128, 0)",olivedrab:"rgb(107, 142, 35)",orange:"rgb(255, 165, 0)",orangered:"rgb(255, 69, 0)",orchid:"rgb(218, 112, 214)",palegoldenrod:"rgb(238, 232, 170)",palegreen:"rgb(152, 251, 152)",paleturquoise:"rgb(175, 238, 238)",palevioletred:"rgb(219, 112, 147)",papayawhip:"rgb(255, 239, 213)",peachpuff:"rgb(255, 218, 185)",peru:"rgb(205, 133, 63)",pink:"rgb(255, 192, 203)",plum:"rgb(221, 160, 221)",powderblue:"rgb(176, 224, 230)",purple:"rgb(128, 0, 128)",red:"rgb(255, 0, 0)",rosybrown:"rgb(188, 143, 143)",royalblue:"rgb( 65, 105, 225)",saddlebrown:"rgb(139, 69, 19)",salmon:"rgb(250, 128, 114)",sandybrown:"rgb(244, 164, 96)",seagreen:"rgb( 46, 139, 87)",seashell:"rgb(255, 245, 238)",sienna:"rgb(160, 82, 45)",silver:"rgb(192, 192, 192)",skyblue:"rgb(135, 206, 235)",slateblue:"rgb(106, 90, 205)",slategray:"rgb(112, 128, 144)",slategrey:"rgb(112, 128, 144)",snow:"rgb(255, 250, 250)",springgreen:"rgb( 0, 255, 127)",steelblue:"rgb( 70, 130, 180)",tan:"rgb(210, 180, 140)",teal:"rgb( 0, 128, 128)",thistle:"rgb(216, 191, 216)",tomato:"rgb(255, 99, 71)",turquoise:"rgb( 64, 224, 208)",violet:"rgb(238, 130, 238)",wheat:"rgb(245, 222, 179)",white:"rgb(255, 255, 255)",whitesmoke:"rgb(245, 245, 245)",yellow:"rgb(255, 255, 0)",yellowgreen:"rgb(154, 205, 50)"},t.jqplot.AxisLabelRenderer=function(e){t.jqplot.ElemContainer.call(this),this.axis,this.show=!0,this.label="",this.fontFamily=null,this.fontSize=null,this.textColor=null,this._elem,this.escapeHTML=!1,t.extend(!0,this,e)},t.jqplot.AxisLabelRenderer.prototype=new t.jqplot.ElemContainer,t.jqplot.AxisLabelRenderer.prototype.constructor=t.jqplot.AxisLabelRenderer,t.jqplot.AxisLabelRenderer.prototype.init=function(e){t.extend(!0,this,e)},t.jqplot.AxisLabelRenderer.prototype.draw=function(e,i){return this._elem&&(this._elem.emptyForce(),this._elem=null),this._elem=t('<div style="position:absolute;" class="jqplot-'+this.axis+'-label"></div>'),Number(this.label)&&this._elem.css("white-space","nowrap"),this.escapeHTML?this._elem.text(this.label):this._elem.html(this.label),this.fontFamily&&this._elem.css("font-family",this.fontFamily),this.fontSize&&this._elem.css("font-size",this.fontSize),this.textColor&&this._elem.css("color",this.textColor),this._elem},t.jqplot.AxisLabelRenderer.prototype.pack=function(){},t.jqplot.AxisTickRenderer=function(e){t.jqplot.ElemContainer.call(this),this.mark="outside",this.axis,this.showMark=!0,this.showGridline=!0,this.isMinorTick=!1,this.size=4,this.markSize=6,this.show=!0,this.showLabel=!0,this.label=null,this.value=null,this._styles={},this.formatter=t.jqplot.DefaultTickFormatter,this.prefix="",this.suffix="",this.formatString="",this.fontFamily,this.fontSize,this.textColor,this.escapeHTML=!1,this._elem,this._breakTick=!1,t.extend(!0,this,e)},t.jqplot.AxisTickRenderer.prototype.init=function(e){t.extend(!0,this,e)},t.jqplot.AxisTickRenderer.prototype=new t.jqplot.ElemContainer,t.jqplot.AxisTickRenderer.prototype.constructor=t.jqplot.AxisTickRenderer,t.jqplot.AxisTickRenderer.prototype.setTick=function(t,e,i){return this.value=t,this.axis=e,i&&(this.isMinorTick=!0),this},t.jqplot.AxisTickRenderer.prototype.draw=function(){null===this.label&&(this.label=this.prefix+this.formatter(this.formatString,this.value)+this.suffix);var e={position:"absolute"};Number(this.label)&&(e.whitSpace="nowrap"),this._elem&&(this._elem.emptyForce(),this._elem=null),this._elem=t(document.createElement("div")),this._elem.addClass("jqplot-"+this.axis+"-tick"),this.escapeHTML?this._elem.text(this.label):this._elem.html(this.label),this._elem.css(e);for(var i in this._styles)this._elem.css(i,this._styles[i]);return this.fontFamily&&this._elem.css("font-family",this.fontFamily),this.fontSize&&this._elem.css("font-size",this.fontSize),this.textColor&&this._elem.css("color",this.textColor),this._breakTick&&this._elem.addClass("jqplot-breakTick"),this._elem},t.jqplot.DefaultTickFormatter=function(e,i){return"number"==typeof i?(e||(e=t.jqplot.config.defaultTickFormatString),t.jqplot.sprintf(e,i)):String(i)},t.jqplot.PercentTickFormatter=function(e,i){return"number"==typeof i?(i*=100,e||(e=t.jqplot.config.defaultTickFormatString),t.jqplot.sprintf(e,i)):String(i)},t.jqplot.AxisTickRenderer.prototype.pack=function(){},t.jqplot.CanvasGridRenderer=function(){this.shadowRenderer=new t.jqplot.ShadowRenderer},t.jqplot.CanvasGridRenderer.prototype.init=function(e){this._ctx,t.extend(!0,this,e);var i={lineJoin:"miter",lineCap:"round",fill:!1,isarc:!1,angle:this.shadowAngle,offset:this.shadowOffset,alpha:this.shadowAlpha,depth:this.shadowDepth,lineWidth:this.shadowWidth,closePath:!1,strokeStyle:this.shadowColor};this.renderer.shadowRenderer.init(i)},t.jqplot.CanvasGridRenderer.prototype.createElement=function(e){var i;this._elem&&(t.jqplot.use_excanvas&&window.G_vmlCanvasManager.uninitElement!==L&&(i=this._elem.get(0),window.G_vmlCanvasManager.uninitElement(i),i=null),this._elem.emptyForce(),this._elem=null),i=e.canvasManager.getCanvas();var n=this._plotDimensions.width,r=this._plotDimensions.height;return i.width=n,i.height=r,this._elem=t(i),this._elem.addClass("jqplot-grid-canvas"),this._elem.css({position:"absolute",left:0,top:0}),i=e.canvasManager.initCanvas(i),this._top=this._offsets.top,this._bottom=r-this._offsets.bottom,this._left=this._offsets.left,this._right=n-this._offsets.right,this._width=this._right-this._left,this._height=this._bottom-this._top,i=null,this._elem},t.jqplot.CanvasGridRenderer.prototype.draw=function(){function e(e,n,r,o,s){i.save(),s=s||{},null!=s.lineWidth&&0==s.lineWidth||(t.extend(!0,i,s),i.beginPath(),i.moveTo(e,n),i.lineTo(r,o),i.stroke(),i.restore())}this._ctx=this._elem.get(0).getContext("2d");var i=this._ctx,n=this._axes;i.save(),i.clearRect(0,0,this._plotDimensions.width,this._plotDimensions.height),i.fillStyle=this.backgroundColor||this.background,i.fillRect(this._left,this._top,this._width,this._height),i.save(),i.lineJoin="miter",i.lineCap="butt",i.lineWidth=this.gridLineWidth,i.strokeStyle=this.gridLineColor;for(var r,o,s,a,l=["xaxis","yaxis","x2axis","y2axis"],h=4;h>0;h--){var u=l[h-1],c=n[u],d=c._ticks,p=d.length;if(c.show){if(c.drawBaseline){var f={};switch(null!==c.baselineWidth&&(f.lineWidth=c.baselineWidth),null!==c.baselineColor&&(f.strokeStyle=c.baselineColor),u){case"xaxis":e(this._left,this._bottom,this._right,this._bottom,f);break;case"yaxis":e(this._left,this._bottom,this._left,this._top,f);break;case"x2axis":e(this._left,this._bottom,this._right,this._bottom,f);break;case"y2axis":e(this._right,this._bottom,this._right,this._top,f)}}for(var g=p;g>0;g--){var m=d[g-1];if(m.show){var v=Math.round(c.u2p(m.value))+.5;switch(u){case"xaxis":if(m.showGridline&&this.drawGridlines&&(!m.isMinorTick&&c.drawMajorGridlines||m.isMinorTick&&c.drawMinorGridlines)&&e(v,this._top,v,this._bottom),m.showMark&&m.mark&&(!m.isMinorTick&&c.drawMajorTickMarks||m.isMinorTick&&c.drawMinorTickMarks)){s=m.markSize,a=m.mark;var v=Math.round(c.u2p(m.value))+.5;switch(a){case"outside":r=this._bottom,o=this._bottom+s;break;case"inside":r=this._bottom-s,o=this._bottom;break;case"cross":r=this._bottom-s,o=this._bottom+s;break;default:r=this._bottom,o=this._bottom+s}this.shadow&&this.renderer.shadowRenderer.draw(i,[[v,r],[v,o]],{lineCap:"butt",lineWidth:this.gridLineWidth,offset:.75*this.gridLineWidth,depth:2,fill:!1,closePath:!1}),e(v,r,v,o)}break;case"yaxis":if(m.showGridline&&this.drawGridlines&&(!m.isMinorTick&&c.drawMajorGridlines||m.isMinorTick&&c.drawMinorGridlines)&&e(this._right,v,this._left,v),m.showMark&&m.mark&&(!m.isMinorTick&&c.drawMajorTickMarks||m.isMinorTick&&c.drawMinorTickMarks)){s=m.markSize,a=m.mark;var v=Math.round(c.u2p(m.value))+.5;switch(a){case"outside":r=this._left-s,o=this._left;break;case"inside":r=this._left,o=this._left+s;break;case"cross":r=this._left-s,o=this._left+s;break;default:r=this._left-s,o=this._left}this.shadow&&this.renderer.shadowRenderer.draw(i,[[r,v],[o,v]],{lineCap:"butt",lineWidth:1.5*this.gridLineWidth,offset:.75*this.gridLineWidth,fill:!1,closePath:!1}),e(r,v,o,v,{strokeStyle:c.borderColor})}break;case"x2axis":if(m.showGridline&&this.drawGridlines&&(!m.isMinorTick&&c.drawMajorGridlines||m.isMinorTick&&c.drawMinorGridlines)&&e(v,this._bottom,v,this._top),m.showMark&&m.mark&&(!m.isMinorTick&&c.drawMajorTickMarks||m.isMinorTick&&c.drawMinorTickMarks)){s=m.markSize,a=m.mark;var v=Math.round(c.u2p(m.value))+.5;switch(a){case"outside":r=this._top-s,o=this._top;break;case"inside":r=this._top,o=this._top+s;break;case"cross":r=this._top-s,o=this._top+s;break;default:r=this._top-s,o=this._top}this.shadow&&this.renderer.shadowRenderer.draw(i,[[v,r],[v,o]],{lineCap:"butt",lineWidth:this.gridLineWidth,offset:.75*this.gridLineWidth,depth:2,fill:!1,closePath:!1}),e(v,r,v,o)}break;case"y2axis":if(m.showGridline&&this.drawGridlines&&(!m.isMinorTick&&c.drawMajorGridlines||m.isMinorTick&&c.drawMinorGridlines)&&e(this._left,v,this._right,v),m.showMark&&m.mark&&(!m.isMinorTick&&c.drawMajorTickMarks||m.isMinorTick&&c.drawMinorTickMarks)){s=m.markSize,a=m.mark;var v=Math.round(c.u2p(m.value))+.5;switch(a){case"outside":r=this._right,o=this._right+s;break;case"inside":r=this._right-s,o=this._right;break;case"cross":r=this._right-s,o=this._right+s;break;default:r=this._right,o=this._right+s}this.shadow&&this.renderer.shadowRenderer.draw(i,[[r,v],[o,v]],{lineCap:"butt",lineWidth:1.5*this.gridLineWidth,offset:.75*this.gridLineWidth,fill:!1,closePath:!1}),e(r,v,o,v,{strokeStyle:c.borderColor})}}}}m=null}c=null,d=null}l=["y3axis","y4axis","y5axis","y6axis","y7axis","y8axis","y9axis","yMidAxis"];for(var h=7;h>0;h--){var c=n[l[h-1]],d=c._ticks;if(c.show){var y=d[c.numberTicks-1],_=d[0],x=c.getLeft(),b=[[x,y.getTop()+y.getHeight()/2],[x,_.getTop()+_.getHeight()/2+1]];this.shadow&&this.renderer.shadowRenderer.draw(i,b,{lineCap:"butt",fill:!1,closePath:!1}),e(b[0][0],b[0][1],b[1][0],b[1][1],{lineCap:"butt",strokeStyle:c.borderColor,lineWidth:c.borderWidth});for(var g=d.length;g>0;g--){var m=d[g-1];s=m.markSize,a=m.mark;var v=Math.round(c.u2p(m.value))+.5;if(m.showMark&&m.mark){switch(a){case"outside":r=x,o=x+s;break;case"inside":r=x-s,o=x;break;case"cross":r=x-s,o=x+s;break;default:r=x,o=x+s}b=[[r,v],[o,v]],this.shadow&&this.renderer.shadowRenderer.draw(i,b,{lineCap:"butt",lineWidth:1.5*this.gridLineWidth,offset:.75*this.gridLineWidth,fill:!1,closePath:!1}),e(r,v,o,v,{strokeStyle:c.borderColor})}m=null}_=null}c=null,d=null}if(i.restore(),this.shadow){var b=[[this._left,this._bottom],[this._right,this._bottom],[this._right,this._top]];this.renderer.shadowRenderer.draw(i,b)}0!=this.borderWidth&&this.drawBorder&&(e(this._left,this._top,this._right,this._top,{lineCap:"round",strokeStyle:n.x2axis.borderColor,lineWidth:n.x2axis.borderWidth}),e(this._right,this._top,this._right,this._bottom,{lineCap:"round",strokeStyle:n.y2axis.borderColor,lineWidth:n.y2axis.borderWidth}),e(this._right,this._bottom,this._left,this._bottom,{lineCap:"round",strokeStyle:n.xaxis.borderColor,lineWidth:n.xaxis.borderWidth}),e(this._left,this._bottom,this._left,this._top,{lineCap:"round",strokeStyle:n.yaxis.borderColor,lineWidth:n.yaxis.borderWidth})),i.restore(),i=null,n=null},t.jqplot.DivTitleRenderer=function(){},t.jqplot.DivTitleRenderer.prototype.init=function(e){t.extend(!0,this,e)},t.jqplot.DivTitleRenderer.prototype.draw=function(){this._elem&&(this._elem.emptyForce(),this._elem=null);var e=(this.renderer,document.createElement("div"));if(this._elem=t(e),this._elem.addClass("jqplot-title"),this.text){if(this.text){var i;this.color?i=this.color:this.textColor&&(i=this.textColor);var n={position:"absolute",top:"0px",left:"0px"};this._plotWidth&&(n.width=this._plotWidth+"px"),this.fontSize&&(n.fontSize=this.fontSize),"string"==typeof this.textAlign?n.textAlign=this.textAlign:n.textAlign="center",i&&(n.color=i),this.paddingBottom&&(n.paddingBottom=this.paddingBottom),this.fontFamily&&(n.fontFamily=this.fontFamily),this._elem.css(n),this.escapeHtml?this._elem.text(this.text):this._elem.html(this.text)}}else this.show=!1,this._elem.height(0),this._elem.width(0);return e=null,this._elem},t.jqplot.DivTitleRenderer.prototype.pack=function(){};t.jqplot.LinePattern=function(e,i){var n={dotted:[.1,t.jqplot.config.dotGapLength],dashed:[t.jqplot.config.dashLength,t.jqplot.config.gapLength],solid:null};if("string"==typeof i)if("."===i[0]||"-"===i[0]){var r=i;i=[];for(var o=0,s=r.length;o<s;o++){if("."===r[o])i.push(.1);else{if("-"!==r[o])continue;i.push(t.jqplot.config.dashLength)}i.push(t.jqplot.config.gapLength)}}else i=n[i];if(!i||!i.length)return e;var a=0,l=i[0],h=0,u=0,c=0,d=0,p=function(t,i){e.moveTo(t,i),h=t,u=i,c=t,d=i},f=function(t,n){var r=e.lineWidth,o=t-h,s=n-u,c=Math.sqrt(o*o+s*s);if(c>0&&r>0)for(o/=c,s/=c;;){var d=r*l;if(!(d<c)){h=t,u=n,0==(1&a)?e.lineTo(h,u):e.moveTo(h,u),l-=c/r;break}h+=d*o,u+=d*s,0==(1&a)?e.lineTo(h,u):e.moveTo(h,u),c-=d,a++,a>=i.length&&(a=0),l=i[a]}};return{moveTo:p,lineTo:f,beginPath:function(){e.beginPath()},closePath:function(){f(c,d)}}},t.jqplot.LineRenderer=function(){this.shapeRenderer=new t.jqplot.ShapeRenderer,this.shadowRenderer=new t.jqplot.ShadowRenderer},t.jqplot.LineRenderer.prototype.init=function(e,i){e=e||{},this._type="line",this.renderer.animation={show:!1,direction:"left",speed:2500,_supported:!0},this.renderer.smooth=!1,this.renderer.tension=null,this.renderer.constrainSmoothing=!0,this.renderer._smoothedData=[],this.renderer._smoothedPlotData=[],this.renderer._hiBandGridData=[],this.renderer._lowBandGridData=[],this.renderer._hiBandSmoothedData=[],this.renderer._lowBandSmoothedData=[],this.renderer.bandData=[],this.renderer.bands={show:!1,hiData:[],lowData:[],color:this.color,showLines:!1,fill:!0,fillColor:null,_min:null,_max:null,interval:"3%"};var n={highlightMouseOver:e.highlightMouseOver,highlightMouseDown:e.highlightMouseDown,highlightColor:e.highlightColor};delete e.highlightMouseOver,delete e.highlightMouseDown,delete e.highlightColor,t.extend(!0,this.renderer,e),this.renderer.options=e,this.renderer.bandData.length>1&&(!e.bands||null==e.bands.show)?this.renderer.bands.show=!0:e.bands&&null==e.bands.show&&null!=e.bands.interval&&(this.renderer.bands.show=!0),this.fill&&(this.renderer.bands.show=!1),this.renderer.bands.show&&this.renderer.initBands.call(this,this.renderer.options,i),this._stack&&(this.renderer.smooth=!1);var r={lineJoin:this.lineJoin,lineCap:this.lineCap,fill:this.fill,isarc:!1,strokeStyle:this.color,fillStyle:this.fillColor,lineWidth:this.lineWidth,linePattern:this.linePattern,closePath:this.fill};this.renderer.shapeRenderer.init(r);var o=e.shadowOffset;null==o&&(o=this.lineWidth>2.5?1.25*(1+.6*(Math.atan(this.lineWidth/2.5)/.785398163-1)):1.25*Math.atan(this.lineWidth/2.5)/.785398163);var s={lineJoin:this.lineJoin,lineCap:this.lineCap,fill:this.fill,isarc:!1,angle:this.shadowAngle,offset:o,alpha:this.shadowAlpha,depth:this.shadowDepth,lineWidth:this.lineWidth,linePattern:this.linePattern,closePath:this.fill};if(this.renderer.shadowRenderer.init(s),this._areaPoints=[],this._boundingBox=[[],[]],!this.isTrendline&&this.fill||this.renderer.bands.show){if(this.highlightMouseOver=!0,this.highlightMouseDown=!1,this.highlightColor=null,n.highlightMouseDown&&null==n.highlightMouseOver&&(n.highlightMouseOver=!1),t.extend(!0,this,{highlightMouseOver:n.highlightMouseOver,highlightMouseDown:n.highlightMouseDown,highlightColor:n.highlightColor}),!this.highlightColor){var a=this.renderer.bands.show?this.renderer.bands.fillColor:this.fillColor;this.highlightColor=t.jqplot.computeHighlightColors(a)}this.highlighter&&(this.highlighter.show=!1)}!this.isTrendline&&i&&(i.plugins.lineRenderer={},i.postInitHooks.addOnce(c),i.postDrawHooks.addOnce(d),i.eventListenerHooks.addOnce("jqplotMouseMove",g),i.eventListenerHooks.addOnce("jqplotMouseDown",m),i.eventListenerHooks.addOnce("jqplotMouseUp",v),i.eventListenerHooks.addOnce("jqplotClick",y),i.eventListenerHooks.addOnce("jqplotRightClick",_))},t.jqplot.LineRenderer.prototype.initBands=function(e,i){var n=e.bandData||[],r=this.renderer.bands;r.hiData=[],r.lowData=[];var o=this.data;if(r._max=null,r._min=null,2==n.length)if(t.isArray(n[0][0])){for(var s,a=0,l=0,h=0,u=n[0].length;h<u;h++)s=n[0][h],(null!=s[1]&&s[1]>r._max||null==r._max)&&(r._max=s[1]),(null!=s[1]&&s[1]<r._min||null==r._min)&&(r._min=s[1]);for(var h=0,u=n[1].length;h<u;h++)s=n[1][h],(null!=s[1]&&s[1]>r._max||null==r._max)&&(r._max=s[1],l=1),(null!=s[1]&&s[1]<r._min||null==r._min)&&(r._min=s[1],a=1);l===a&&(r.show=!1),r.hiData=n[l],r.lowData=n[a]}else if(n[0].length===o.length&&n[1].length===o.length)for(var c=n[0][0]>n[1][0]?0:1,d=c?0:1,h=0,u=o.length;h<u;h++)r.hiData.push([o[h][0],n[c][h]]),r.lowData.push([o[h][0],n[d][h]]);else r.show=!1;else if(n.length>2&&!t.isArray(n[0][0]))for(var c=n[0][0]>n[0][1]?0:1,d=c?0:1,h=0,u=n.length;h<u;h++)r.hiData.push([o[h][0],n[h][c]]),r.lowData.push([o[h][0],n[h][d]]);else{var p=r.interval,f=null,g=null,m=null,v=null;if(t.isArray(p)?(f=p[0],g=p[1]):f=p,isNaN(f)?"%"===f.charAt(f.length-1)&&(m="multiply",f=parseFloat(f)/100+1):(f=parseFloat(f),m="add"),null!==g&&isNaN(g)?"%"===g.charAt(g.length-1)&&(v="multiply",g=parseFloat(g)/100+1):null!==g&&(g=parseFloat(g),v="add"),null!==f){if(null===g&&(g=-f,"multiply"===(v=m)&&(g+=2)),f<g){var y=f;f=g,g=y,y=m,m=v,v=y}for(var h=0,u=o.length;h<u;h++){switch(m){case"add":r.hiData.push([o[h][0],o[h][1]+f]);break;case"multiply":r.hiData.push([o[h][0],o[h][1]*f])}switch(v){case"add":r.lowData.push([o[h][0],o[h][1]+g]);break;case"multiply":r.lowData.push([o[h][0],o[h][1]*g])}}}else r.show=!1}for(var _=r.hiData,x=r.lowData,h=0,u=_.length;h<u;h++)(null!=_[h][1]&&_[h][1]>r._max||null==r._max)&&(r._max=_[h][1]);for(var h=0,u=x.length;h<u;h++)(null!=x[h][1]&&x[h][1]<r._min||null==r._min)&&(r._min=x[h][1]);if(null===r.fillColor){var b=t.jqplot.getColorComponents(r.color);b[3]=.5*b[3],r.fillColor="rgba("+b[0]+", "+b[1]+", "+b[2]+", "+b[3]+")"}},t.jqplot.LineRenderer.prototype.setGridData=function(t){var e=this._xaxis.series_u2p,i=this._yaxis.series_u2p,n=this._plotData,r=this._prevPlotData;this.gridData=[],this._prevGridData=[],this.renderer._smoothedData=[],this.renderer._smoothedPlotData=[],this.renderer._hiBandGridData=[],this.renderer._lowBandGridData=[],this.renderer._hiBandSmoothedData=[],this.renderer._lowBandSmoothedData=[];for(var o=this.renderer.bands,s=!1,a=0,l=n.length;a<l;a++)null!=n[a][0]&&null!=n[a][1]?this.gridData.push([e.call(this._xaxis,n[a][0]),i.call(this._yaxis,n[a][1])]):null==n[a][0]?(s=!0,this.gridData.push([null,i.call(this._yaxis,n[a][1])])):null==n[a][1]&&(s=!0,this.gridData.push([e.call(this._xaxis,n[a][0]),null])),null!=r[a]&&null!=r[a][0]&&null!=r[a][1]?this._prevGridData.push([e.call(this._xaxis,r[a][0]),i.call(this._yaxis,r[a][1])]):null!=r[a]&&null==r[a][0]?this._prevGridData.push([null,i.call(this._yaxis,r[a][1])]):null!=r[a]&&null!=r[a][0]&&null==r[a][1]&&this._prevGridData.push([e.call(this._xaxis,r[a][0]),null]);if(s&&(this.renderer.smooth=!1,"line"===this._type&&(o.show=!1)),"line"===this._type&&o.show){for(var a=0,l=o.hiData.length;a<l;a++)this.renderer._hiBandGridData.push([e.call(this._xaxis,o.hiData[a][0]),i.call(this._yaxis,o.hiData[a][1])]);for(var a=0,l=o.lowData.length;a<l;a++)this.renderer._lowBandGridData.push([e.call(this._xaxis,o.lowData[a][0]),i.call(this._yaxis,o.lowData[a][1])])}if("line"===this._type&&this.renderer.smooth&&this.gridData.length>2){var c;this.renderer.constrainSmoothing?(c=h.call(this,this.gridData),this.renderer._smoothedData=c[0],this.renderer._smoothedPlotData=c[1],o.show&&(c=h.call(this,this.renderer._hiBandGridData),this.renderer._hiBandSmoothedData=c[0],c=h.call(this,this.renderer._lowBandGridData),this.renderer._lowBandSmoothedData=c[0]),c=null):(c=u.call(this,this.gridData),this.renderer._smoothedData=c[0],this.renderer._smoothedPlotData=c[1],o.show&&(c=u.call(this,this.renderer._hiBandGridData),this.renderer._hiBandSmoothedData=c[0],c=u.call(this,this.renderer._lowBandGridData),this.renderer._lowBandSmoothedData=c[0]),c=null)}},t.jqplot.LineRenderer.prototype.makeGridData=function(t,e){var i=this._xaxis.series_u2p,n=this._yaxis.series_u2p,r=[];this.renderer._smoothedData=[],this.renderer._smoothedPlotData=[],this.renderer._hiBandGridData=[],this.renderer._lowBandGridData=[],this.renderer._hiBandSmoothedData=[],this.renderer._lowBandSmoothedData=[];for(var o=this.renderer.bands,s=!1,a=0;a<t.length;a++)null!=t[a][0]&&null!=t[a][1]?r.push([i.call(this._xaxis,t[a][0]),n.call(this._yaxis,t[a][1])]):null==t[a][0]?(s=!0,r.push([null,n.call(this._yaxis,t[a][1])])):null==t[a][1]&&(s=!0,r.push([i.call(this._xaxis,t[a][0]),null]));if(s&&(this.renderer.smooth=!1,"line"===this._type&&(o.show=!1)),"line"===this._type&&o.show){for(var a=0,l=o.hiData.length;a<l;a++)this.renderer._hiBandGridData.push([i.call(this._xaxis,o.hiData[a][0]),n.call(this._yaxis,o.hiData[a][1])]);for(var a=0,l=o.lowData.length;a<l;a++)this.renderer._lowBandGridData.push([i.call(this._xaxis,o.lowData[a][0]),n.call(this._yaxis,o.lowData[a][1])])}if("line"===this._type&&this.renderer.smooth&&r.length>2){var c;this.renderer.constrainSmoothing?(c=h.call(this,r),this.renderer._smoothedData=c[0],this.renderer._smoothedPlotData=c[1],o.show&&(c=h.call(this,this.renderer._hiBandGridData),this.renderer._hiBandSmoothedData=c[0],c=h.call(this,this.renderer._lowBandGridData),this.renderer._lowBandSmoothedData=c[0]),c=null):(c=u.call(this,r),this.renderer._smoothedData=c[0],this.renderer._smoothedPlotData=c[1],o.show&&(c=u.call(this,this.renderer._hiBandGridData),this.renderer._hiBandSmoothedData=c[0],c=u.call(this,this.renderer._lowBandGridData),this.renderer._lowBandSmoothedData=c[0]),c=null)}return r},t.jqplot.LineRenderer.prototype.draw=function(e,i,n,r){var o,s,a,l,h,u=t.extend(!0,{},n),c=u.shadow!=L?u.shadow:this.shadow,d=u.showLine!=L?u.showLine:this.showLine,p=u.fill!=L?u.fill:this.fill,f=u.fillAndStroke!=L?u.fillAndStroke:this.fillAndStroke;if(e.save(),i.length){if(d)if(p){if(this.fillToZero){var g=this.negativeColor;this.useNegativeColors||(g=u.fillStyle);var m=u.fillStyle;if(f)var v=i.slice(0);if(0!=this.index&&this._stack){for(var y=this._prevGridData,o=y.length;o>0;o--)i.push(y[o-1]);c&&this.renderer.shadowRenderer.draw(e,i,u),this._areaPoints=i,this.renderer.shapeRenderer.draw(e,i,u)}else{var _=[],x=this.renderer.smooth?this.renderer._smoothedPlotData:this._plotData;this._areaPoints=[];var b=this._yaxis.series_u2p(this.fillToValue);this._xaxis.series_u2p(this.fillToValue);if(u.closePath=!0,"y"==this.fillAxis){_.push([i[0][0],b]),this._areaPoints.push([i[0][0],b]);for(var o=0;o<i.length-1;o++)if(_.push(i[o]),this._areaPoints.push(i[o]),x[o][1]*x[o+1][1]<=0){x[o][1]<0?(!0,u.fillStyle=g):(!1,u.fillStyle=m);var w=i[o][0]+(i[o+1][0]-i[o][0])*(b-i[o][1])/(i[o+1][1]-i[o][1]);_.push([w,b]),this._areaPoints.push([w,b]),c&&this.renderer.shadowRenderer.draw(e,_,u),this.renderer.shapeRenderer.draw(e,_,u),_=[[w,b]]}x[i.length-1][1]<0?(!0,u.fillStyle=g):(!1,u.fillStyle=m),_.push(i[i.length-1]),this._areaPoints.push(i[i.length-1]),_.push([i[i.length-1][0],b]),this._areaPoints.push([i[i.length-1][0],b])}c&&this.renderer.shadowRenderer.draw(e,_,u),this.renderer.shapeRenderer.draw(e,_,u)}}else{if(f)var v=i.slice(0);if(0!=this.index&&this._stack)for(var y=this._prevGridData,o=y.length;o>0;o--)i.push(y[o-1]);else{var k=e.canvas.height;i.unshift([i[0][0],k]);var C=i.length;i.push([i[C-1][0],k])}this._areaPoints=i,c&&this.renderer.shadowRenderer.draw(e,i,u),this.renderer.shapeRenderer.draw(e,i,u)}
if(f){var T=t.extend(!0,{},u,{fill:!1,closePath:!1});if(this.renderer.shapeRenderer.draw(e,v,T),this.markerRenderer.show)for(this.renderer.smooth&&(v=this.gridData),o=0;o<v.length;o++)this.markerRenderer.draw(v[o][0],v[o][1],e,u.markerOptions)}}else{if(this.renderer.bands.show){var S,D=t.extend(!0,{},u);this.renderer.bands.showLines&&(S=this.renderer.smooth?this.renderer._hiBandSmoothedData:this.renderer._hiBandGridData,this.renderer.shapeRenderer.draw(e,S,u),S=this.renderer.smooth?this.renderer._lowBandSmoothedData:this.renderer._lowBandGridData,this.renderer.shapeRenderer.draw(e,S,D)),this.renderer.bands.fill&&(S=this.renderer.smooth?this.renderer._hiBandSmoothedData.concat(this.renderer._lowBandSmoothedData.reverse()):this.renderer._hiBandGridData.concat(this.renderer._lowBandGridData.reverse()),this._areaPoints=S,D.closePath=!0,D.fill=!0,D.fillStyle=this.renderer.bands.fillColor,this.renderer.shapeRenderer.draw(e,S,D))}c&&this.renderer.shadowRenderer.draw(e,i,u),this.renderer.shapeRenderer.draw(e,i,u)}var s=l=a=h=null;for(o=0;o<this._areaPoints.length;o++){var M=this._areaPoints[o];(s>M[0]||null==s)&&(s=M[0]),(h<M[1]||null==h)&&(h=M[1]),(l<M[0]||null==l)&&(l=M[0]),(a>M[1]||null==a)&&(a=M[1])}if("line"===this.type&&this.renderer.bands.show&&(h=this._yaxis.series_u2p(this.renderer.bands._min),a=this._yaxis.series_u2p(this.renderer.bands._max)),this._boundingBox=[[s,h],[l,a]],this.markerRenderer.show&&!p)for(this.renderer.smooth&&(i=this.gridData),o=0;o<i.length;o++)null!=i[o][0]&&null!=i[o][1]&&this.markerRenderer.draw(i[o][0],i[o][1],e,u.markerOptions)}e.restore()},t.jqplot.LineRenderer.prototype.drawShadow=function(t,e,i){},t.jqplot.LinearAxisRenderer=function(){},t.jqplot.LinearAxisRenderer.prototype.init=function(e){this.breakPoints=null,this.breakTickLabel="&asymp;",this.drawBaseline=!0,this.baselineWidth=null,this.baselineColor=null,this.forceTickAt0=!1,this.forceTickAt100=!1,this.tickInset=0,this.minorTicks=0,this.alignTicks=!1,this._autoFormatString="",this._overrideFormatString=!1,this._scalefact=1,t.extend(!0,this,e),this.breakPoints&&(t.isArray(this.breakPoints)?(this.breakPoints.length<2||this.breakPoints[1]<=this.breakPoints[0])&&(this.breakPoints=null):this.breakPoints=null),null!=this.numberTicks&&this.numberTicks<2&&(this.numberTicks=2),this.resetDataBounds()},t.jqplot.LinearAxisRenderer.prototype.draw=function(e,i){if(this.show){this.renderer.createTicks.call(this,i);if(this._elem&&(this._elem.emptyForce(),this._elem=null),this._elem=t(document.createElement("div")),this._elem.addClass("jqplot-axis jqplot-"+this.name),this._elem.css("position","absolute"),"xaxis"==this.name||"x2axis"==this.name?this._elem.width(this._plotDimensions.width):this._elem.height(this._plotDimensions.height),this.labelOptions.axis=this.name,this._label=new this.labelRenderer(this.labelOptions),this._label.show){var n=this._label.draw(e,i);n.appendTo(this._elem),n=null}for(var r,o=this._ticks,s=0;s<o.length;s++)r=o[s],r.show&&r.showLabel&&(!r.isMinorTick||this.showMinorTicks)&&this._elem.append(r.draw(e,i));r=null,o=null}return this._elem},t.jqplot.LinearAxisRenderer.prototype.reset=function(){this.min=this._options.min,this.max=this._options.max,this.tickInterval=this._options.tickInterval,this.numberTicks=this._options.numberTicks,this._autoFormatString="",this._overrideFormatString&&this.tickOptions&&this.tickOptions.formatString&&(this.tickOptions.formatString="")},t.jqplot.LinearAxisRenderer.prototype.set=function(){var e,i=0,n=0,r=0,o=null!=this._label&&this._label.show;if(this.show){for(var s,a=this._ticks,l=0;l<a.length;l++)s=a[l],s._breakTick||!s.show||!s.showLabel||s.isMinorTick&&!this.showMinorTicks||(e="xaxis"==this.name||"x2axis"==this.name?s._elem.outerHeight(!0):s._elem.outerWidth(!0))>i&&(i=e);s=null,a=null,o&&(n=this._label._elem.outerWidth(!0),r=this._label._elem.outerHeight(!0)),"xaxis"==this.name?(i+=r,this._elem.css({height:i+"px",left:"0px",bottom:"0px"})):"x2axis"==this.name?(i+=r,this._elem.css({height:i+"px",left:"0px",top:"0px"})):"yaxis"==this.name?(i+=n,this._elem.css({width:i+"px",left:"0px",top:"0px"}),o&&this._label.constructor==t.jqplot.AxisLabelRenderer&&this._label._elem.css("width",n+"px")):(i+=n,this._elem.css({width:i+"px",right:"0px",top:"0px"}),o&&this._label.constructor==t.jqplot.AxisLabelRenderer&&this._label._elem.css("width",n+"px"))}},t.jqplot.LinearAxisRenderer.prototype.createTicks=function(e){var i,n,r,o,s=(this._ticks,this.ticks),a=this.name,l=this._dataBounds,h="x"===this.name.charAt(0)?this._plotDimensions.width:this._plotDimensions.height,u=this.min,c=this.max,d=this.numberTicks,p=this.tickInterval;if(this._scalefact=(Math.max(h,31)-30)/300,s.length){for(o=0;o<s.length;o++){var f=s[o],g=new this.tickRenderer(this.tickOptions);t.isArray(f)?(g.value=f[0],this.breakPoints?f[0]==this.breakPoints[0]?(g.label=this.breakTickLabel,g._breakTick=!0,g.showGridline=!1,g.showMark=!1):f[0]>this.breakPoints[0]&&f[0]<=this.breakPoints[1]?(g.show=!1,g.showGridline=!1,g.label=f[1]):g.label=f[1]:g.label=f[1],g.setTick(f[0],this.name),this._ticks.push(g)):t.isPlainObject(f)?(t.extend(!0,g,f),g.axis=this.name,this._ticks.push(g)):(g.value=f,this.breakPoints&&(f==this.breakPoints[0]?(g.label=this.breakTickLabel,g._breakTick=!0,g.showGridline=!1,g.showMark=!1):f>this.breakPoints[0]&&f<=this.breakPoints[1]&&(g.show=!1,g.showGridline=!1)),g.setTick(f,this.name),this._ticks.push(g))}this.numberTicks=s.length,this.min=this._ticks[0].value,this.max=this._ticks[this.numberTicks-1].value,this.tickInterval=(this.max-this.min)/(this.numberTicks-1)}else{h="xaxis"==a||"x2axis"==a?this._plotDimensions.width:this._plotDimensions.height;var m=this.numberTicks;this.alignTicks&&("x2axis"===this.name&&e.axes.xaxis.show?m=e.axes.xaxis.numberTicks:"y"===this.name.charAt(0)&&"yaxis"!==this.name&&"yMidAxis"!==this.name&&e.axes.yaxis.show&&(m=e.axes.yaxis.numberTicks)),i=null!=this.min?this.min:l.min,n=null!=this.max?this.max:l.max;var v,y,_,x=n-i;if(null!=this.tickOptions&&this.tickOptions.formatString||(this._overrideFormatString=!0),null==this.min||null==this.max&&null==this.tickInterval&&!this.autoscale){this.forceTickAt0&&(i>0&&(i=0),n<0&&(n=0)),this.forceTickAt100&&(i>100&&(i=100),n<100&&(n=100));var b=!1,w=!1;null!=this.min?b=!0:null!=this.max&&(w=!0);var k=t.jqplot.LinearTickGenerator(i,n,this._scalefact,m,b,w),C=null!=this.min?i:i+x*(this.padMin-1),T=null!=this.max?n:n-x*(this.padMax-1);(i<C||n>T)&&(C=null!=this.min?i:i-x*(this.padMin-1),T=null!=this.max?n:n+x*(this.padMax-1),k=t.jqplot.LinearTickGenerator(C,T,this._scalefact,m,b,w)),this.min=k[0],this.max=k[1],this.numberTicks=k[2],this._autoFormatString=k[3],this.tickInterval=k[4]}else{if(i==n){var S=.05;i>0&&(S=Math.max(Math.log(i)/Math.LN10,.05)),i-=S,n+=S}if(this.autoscale&&null==this.min&&null==this.max){for(var D,M,A,P=!1,L=!1,o=0;o<this._series.length;o++){var E=this._series[o],q="x"==E.fillAxis?E._xaxis.name:E._yaxis.name;if(this.name==q){for(var I=E._plotValues[E.fillAxis],j=I[0],O=I[0],R=1;R<I.length;R++)I[R]<j?j=I[R]:I[R]>O&&(O=I[R]);var N=(O-j)/O;E.renderer.constructor==t.jqplot.BarRenderer?j>=0&&(E.fillToZero||N>.1)?P=!0:(P=!1,L=!!(E.fill&&E.fillToZero&&j<0&&O>0)):E.fill?j>=0&&(E.fillToZero||N>.1)?P=!0:j<0&&O>0&&E.fillToZero?(P=!1,L=!0):(P=!1,L=!1):j<0&&(P=!1)}}if(P)this.numberTicks=2+Math.ceil((h-(this.tickSpacing-1))/this.tickSpacing),this.min=0,u=0,M=n/(this.numberTicks-1),_=Math.pow(10,Math.abs(Math.floor(Math.log(M)/Math.LN10))),M/_==parseInt(M/_,10)&&(M+=_),this.tickInterval=Math.ceil(M/_)*_,this.max=this.tickInterval*(this.numberTicks-1);else if(L){this.numberTicks=2+Math.ceil((h-(this.tickSpacing-1))/this.tickSpacing);var F=Math.ceil(Math.abs(i)/x*(this.numberTicks-1)),z=this.numberTicks-1-F;M=Math.max(Math.abs(i/F),Math.abs(n/z)),_=Math.pow(10,Math.abs(Math.floor(Math.log(M)/Math.LN10))),this.tickInterval=Math.ceil(M/_)*_,this.max=this.tickInterval*z,this.min=-this.tickInterval*F}else null==this.numberTicks&&(this.tickInterval?this.numberTicks=3+Math.ceil(x/this.tickInterval):this.numberTicks=2+Math.ceil((h-(this.tickSpacing-1))/this.tickSpacing)),null==this.tickInterval?(M=x/(this.numberTicks-1),_=M<1?Math.pow(10,Math.abs(Math.floor(Math.log(M)/Math.LN10))):1,this.tickInterval=Math.ceil(M*_*this.pad)/_):_=1/this.tickInterval,D=this.tickInterval*(this.numberTicks-1),A=(D-x)/2,null==this.min&&(this.min=Math.floor(_*(i-A))/_),null==this.max&&(this.max=this.min+D);var B,H=t.jqplot.getSignificantFigures(this.tickInterval);if(H.digitsLeft>=H.significantDigits)B="%d";else{var _=Math.max(0,5-H.digitsLeft);_=Math.min(_,H.digitsRight),B="%."+_+"f"}this._autoFormatString=B}else{v=null!=this.min?this.min:i-x*(this.padMin-1),y=null!=this.max?this.max:n+x*(this.padMax-1),x=y-v,null==this.numberTicks&&(null!=this.tickInterval?this.numberTicks=Math.ceil((y-v)/this.tickInterval)+1:this.numberTicks=h>100?parseInt(3+(h-100)/75,10):2),null==this.tickInterval&&(this.tickInterval=x/(this.numberTicks-1)),null==this.max&&(y=v+this.tickInterval*(this.numberTicks-1)),null==this.min&&(v=y-this.tickInterval*(this.numberTicks-1));var B,H=t.jqplot.getSignificantFigures(this.tickInterval);if(H.digitsLeft>=H.significantDigits)B="%d";else{var _=Math.max(0,5-H.digitsLeft);_=Math.min(_,H.digitsRight),B="%."+_+"f"}this._autoFormatString=B,this.min=v,this.max=y}if(this.renderer.constructor==t.jqplot.LinearAxisRenderer&&""==this._autoFormatString){x=this.max-this.min;var W=new this.tickRenderer(this.tickOptions),U=W.formatString||t.jqplot.config.defaultTickFormatString,U=U.match(t.jqplot.sprintf.regex)[0],Y=0;if(U){if(U.search(/[fFeEgGpP]/)>-1){var X=U.match(/\%\.(\d{0,})?[eEfFgGpP]/);Y=X?parseInt(X[1],10):6}else U.search(/[di]/)>-1&&(Y=0);var G=Math.pow(10,-Y);if(this.tickInterval<G&&null==d&&null==p)if(this.tickInterval=G,null==c&&null==u){this.min=Math.floor(this._dataBounds.min/G)*G,this.min==this._dataBounds.min&&(this.min=this._dataBounds.min-this.tickInterval),this.max=Math.ceil(this._dataBounds.max/G)*G,this.max==this._dataBounds.max&&(this.max=this._dataBounds.max+this.tickInterval);var Z=(this.max-this.min)/this.tickInterval;Z=Z.toFixed(11),Z=Math.ceil(Z),this.numberTicks=Z+1}else if(null==c){var Z=(this._dataBounds.max-this.min)/this.tickInterval;Z=Z.toFixed(11),this.numberTicks=Math.ceil(Z)+2,this.max=this.min+this.tickInterval*(this.numberTicks-1)}else if(null==u){var Z=(this.max-this._dataBounds.min)/this.tickInterval;Z=Z.toFixed(11),this.numberTicks=Math.ceil(Z)+2,this.min=this.max-this.tickInterval*(this.numberTicks-1)}else this.numberTicks=Math.ceil((c-u)/this.tickInterval)+1,this.min=Math.floor(u*Math.pow(10,Y))/Math.pow(10,Y),this.max=Math.ceil(c*Math.pow(10,Y))/Math.pow(10,Y),this.numberTicks=Math.ceil((this.max-this.min)/this.tickInterval)+1}}}this._overrideFormatString&&""!=this._autoFormatString&&(this.tickOptions=this.tickOptions||{},this.tickOptions.formatString=this._autoFormatString);for(var g,V,o=0;o<this.numberTicks;o++){if(r=this.min+o*this.tickInterval,g=new this.tickRenderer(this.tickOptions),g.setTick(r,this.name),this._ticks.push(g),o<this.numberTicks-1)for(var R=0;R<this.minorTicks;R++)r+=this.tickInterval/(this.minorTicks+1),V=t.extend(!0,{},this.tickOptions,{name:this.name,value:r,label:"",isMinorTick:!0}),g=new this.tickRenderer(V),this._ticks.push(g);g=null}}this.tickInset&&(this.min=this.min-this.tickInset*this.tickInterval,this.max=this.max+this.tickInset*this.tickInterval)},t.jqplot.LinearAxisRenderer.prototype.resetTickValues=function(e){if(t.isArray(e)&&e.length==this._ticks.length){for(var i,n=0;n<e.length;n++)i=this._ticks[n],i.value=e[n],i.label=i.formatter(i.formatString,e[n]),i.label=i.prefix+i.label,i._elem.html(i.label);i=null,this.min=t.jqplot.arrayMin(e),this.max=t.jqplot.arrayMax(e),this.pack()}},t.jqplot.LinearAxisRenderer.prototype.pack=function(e,i){e=e||{},i=i||this._offsets;var n=this._ticks,r=this.max,o=this.min,s=i.max,a=i.min,l=null!=this._label&&this._label.show;for(var h in e)this._elem.css(h,e[h]);this._offsets=i;var u=s-a,c=r-o;if(this.breakPoints?(c=c-this.breakPoints[1]+this.breakPoints[0],this.p2u=function(t){return(t-a)*c/u+o},this.u2p=function(t){return t>this.breakPoints[0]&&t<this.breakPoints[1]&&(t=this.breakPoints[0]),t<=this.breakPoints[0]?(t-o)*u/c+a:(t-this.breakPoints[1]+this.breakPoints[0]-o)*u/c+a},"x"==this.name.charAt(0)?(this.series_u2p=function(t){return t>this.breakPoints[0]&&t<this.breakPoints[1]&&(t=this.breakPoints[0]),t<=this.breakPoints[0]?(t-o)*u/c:(t-this.breakPoints[1]+this.breakPoints[0]-o)*u/c},this.series_p2u=function(t){return t*c/u+o}):(this.series_u2p=function(t){return t>this.breakPoints[0]&&t<this.breakPoints[1]&&(t=this.breakPoints[0]),t>=this.breakPoints[1]?(t-r)*u/c:(t+this.breakPoints[1]-this.breakPoints[0]-r)*u/c},this.series_p2u=function(t){return t*c/u+r})):(this.p2u=function(t){return(t-a)*c/u+o},this.u2p=function(t){return(t-o)*u/c+a},"xaxis"==this.name||"x2axis"==this.name?(this.series_u2p=function(t){return(t-o)*u/c},this.series_p2u=function(t){return t*c/u+o}):(this.series_u2p=function(t){return(t-r)*u/c},this.series_p2u=function(t){return t*c/u+r})),this.show)if("xaxis"==this.name||"x2axis"==this.name){for(var d=0;d<n.length;d++){var p=n[d];if(p.show&&p.showLabel){var f;if(p.constructor==t.jqplot.CanvasAxisTickRenderer&&p.angle){var g="xaxis"==this.name?1:-1;switch(p.labelPosition){case"auto":f=g*p.angle<0?-p.getWidth()+p._textRenderer.height*Math.sin(-p._textRenderer.angle)/2:-p._textRenderer.height*Math.sin(p._textRenderer.angle)/2;break;case"end":f=-p.getWidth()+p._textRenderer.height*Math.sin(-p._textRenderer.angle)/2;break;case"start":f=-p._textRenderer.height*Math.sin(p._textRenderer.angle)/2;break;case"middle":default:f=-p.getWidth()/2+p._textRenderer.height*Math.sin(-p._textRenderer.angle)/2}}else f=-p.getWidth()/2;var m=this.u2p(p.value)+f+"px";p._elem.css("left",m),p.pack()}}if(l){var v=this._label._elem.outerWidth(!0);this._label._elem.css("left",a+u/2-v/2+"px"),"xaxis"==this.name?this._label._elem.css("bottom","0px"):this._label._elem.css("top","0px"),this._label.pack()}}else{for(var d=0;d<n.length;d++){var p=n[d];if(p.show&&p.showLabel){var f;if(p.constructor==t.jqplot.CanvasAxisTickRenderer&&p.angle){var g="yaxis"==this.name?1:-1;switch(p.labelPosition){case"auto":case"end":f=g*p.angle<0?-p._textRenderer.height*Math.cos(-p._textRenderer.angle)/2:-p.getHeight()+p._textRenderer.height*Math.cos(p._textRenderer.angle)/2;break;case"start":f=p.angle>0?-p._textRenderer.height*Math.cos(-p._textRenderer.angle)/2:-p.getHeight()+p._textRenderer.height*Math.cos(p._textRenderer.angle)/2;break;case"middle":default:f=-p.getHeight()/2}}else f=-p.getHeight()/2;var m=this.u2p(p.value)+f+"px";p._elem.css("top",m),p.pack()}}if(l){var y=this._label._elem.outerHeight(!0);this._label._elem.css("top",s-u/2-y/2+"px"),"yaxis"==this.name?this._label._elem.css("left","0px"):this._label._elem.css("right","0px"),this._label.pack()}}n=null};t.jqplot.LinearTickGenerator=function(e,i,n,r,o,s){if(o=null!==o&&o,s=null!==s&&!o&&s,e===i&&(i=i?0:1),n=n||1,i<e){var a=i;i=e,e=a}var l=[],h=k(i-e,n),u=t.jqplot.getSignificantFigures;if(null==r)if(o||s){if(o){l[0]=e,l[2]=Math.ceil((i-e)/h+1),l[1]=e+(l[2]-1)*h;var c=u(e).digitsRight,d=u(h).digitsRight;l[3]=c<d?x(h):"%."+c+"f",l[4]=h}else if(s){l[1]=i,l[2]=Math.ceil((i-e)/h+1),l[0]=i-(l[2]-1)*h;var p=u(i).digitsRight,d=u(h).digitsRight;l[3]=p<d?x(h):"%."+p+"f",l[4]=h}}else l[0]=Math.floor(e/h)*h,l[1]=Math.ceil(i/h)*h,l[2]=Math.round((l[1]-l[0])/h+1),l[3]=x(h),l[4]=h;else{var f=[];if(f[0]=Math.floor(e/h)*h,f[1]=Math.ceil(i/h)*h,f[2]=Math.round((f[1]-f[0])/h+1),f[3]=x(h),f[4]=h,f[2]===r)l=f;else{var g=w(f[1]-f[0],r);l[0]=f[0],l[2]=r,l[4]=g,l[3]=x(g),l[1]=l[0]+(l[2]-1)*l[4]}}return l},t.jqplot.LinearTickGenerator.bestLinearInterval=k,t.jqplot.LinearTickGenerator.bestInterval=w,t.jqplot.LinearTickGenerator.bestLinearComponents=C,t.jqplot.LinearTickGenerator.bestConstrainedInterval=b,t.jqplot.MarkerRenderer=function(e){this.show=!0,this.style="filledCircle",this.lineWidth=2,this.size=9,this.color="#666666",this.shadow=!0,this.shadowAngle=45,this.shadowOffset=1,this.shadowDepth=3,this.shadowAlpha="0.07",this.shadowRenderer=new t.jqplot.ShadowRenderer,this.shapeRenderer=new t.jqplot.ShapeRenderer,t.extend(!0,this,e)},t.jqplot.MarkerRenderer.prototype.init=function(e){t.extend(!0,this,e);var i={angle:this.shadowAngle,offset:this.shadowOffset,alpha:this.shadowAlpha,lineWidth:this.lineWidth,depth:this.shadowDepth,closePath:!0};-1!=this.style.indexOf("filled")&&(i.fill=!0),-1!=this.style.indexOf("ircle")&&(i.isarc=!0,i.closePath=!1),this.shadowRenderer.init(i);var n={fill:!1,isarc:!1,strokeStyle:this.color,fillStyle:this.color,lineWidth:this.lineWidth,closePath:!0};-1!=this.style.indexOf("filled")&&(n.fill=!0),-1!=this.style.indexOf("ircle")&&(n.isarc=!0,n.closePath=!1),this.shapeRenderer.init(n)},t.jqplot.MarkerRenderer.prototype.drawDiamond=function(t,e,i,n,r){var o=this.size/2/1.2,s=this.size/2*1.2,a=[[t-o,e],[t,e+s],[t+o,e],[t,e-s]];this.shadow&&this.shadowRenderer.draw(i,a),this.shapeRenderer.draw(i,a,r)},t.jqplot.MarkerRenderer.prototype.drawPlus=function(e,i,n,r,o){var s=this.size/2*1,a=this.size/2*1,l=[[e,i-a],[e,i+a]],h=[[e+s,i],[e-s,i]],u=t.extend(!0,{},this.options,{closePath:!1});this.shadow&&(this.shadowRenderer.draw(n,l,{closePath:!1}),this.shadowRenderer.draw(n,h,{closePath:!1})),this.shapeRenderer.draw(n,l,u),this.shapeRenderer.draw(n,h,u)},t.jqplot.MarkerRenderer.prototype.drawX=function(e,i,n,r,o){var s=this.size/2*1,a=this.size/2*1,l=t.extend(!0,{},this.options,{closePath:!1}),h=[[e-s,i-a],[e+s,i+a]],u=[[e-s,i+a],[e+s,i-a]];this.shadow&&(this.shadowRenderer.draw(n,h,{closePath:!1}),this.shadowRenderer.draw(n,u,{closePath:!1})),this.shapeRenderer.draw(n,h,l),this.shapeRenderer.draw(n,u,l)},t.jqplot.MarkerRenderer.prototype.drawDash=function(t,e,i,n,r){var o=this.size/2*1,s=(this.size,[[t-o,e],[t+o,e]]);this.shadow&&this.shadowRenderer.draw(i,s),this.shapeRenderer.draw(i,s,r)},t.jqplot.MarkerRenderer.prototype.drawLine=function(t,e,i,n,r){var o=[t,e];this.shadow&&this.shadowRenderer.draw(i,o),this.shapeRenderer.draw(i,o,r)},t.jqplot.MarkerRenderer.prototype.drawSquare=function(t,e,i,n,r){var o=this.size/2/1,s=this.size/2*1,a=[[t-o,e-s],[t-o,e+s],[t+o,e+s],[t+o,e-s]];this.shadow&&this.shadowRenderer.draw(i,a),this.shapeRenderer.draw(i,a,r)},t.jqplot.MarkerRenderer.prototype.drawCircle=function(t,e,i,n,r){var o=this.size/2,s=2*Math.PI,a=[t,e,o,0,s,!0];this.shadow&&this.shadowRenderer.draw(i,a),this.shapeRenderer.draw(i,a,r)},t.jqplot.MarkerRenderer.prototype.draw=function(t,e,i,n){if(n=n||{},null==n.show||0!=n.show)switch(n.color&&!n.fillStyle&&(n.fillStyle=n.color),n.color&&!n.strokeStyle&&(n.strokeStyle=n.color),this.style){case"diamond":this.drawDiamond(t,e,i,!1,n);break;case"filledDiamond":this.drawDiamond(t,e,i,!0,n);break;case"circle":this.drawCircle(t,e,i,!1,n);break;case"filledCircle":this.drawCircle(t,e,i,!0,n);break;case"square":this.drawSquare(t,e,i,!1,n);break;case"filledSquare":this.drawSquare(t,e,i,!0,n);break;case"x":this.drawX(t,e,i,!0,n);break;case"plus":this.drawPlus(t,e,i,!0,n);break;case"dash":this.drawDash(t,e,i,!0,n);break;case"line":this.drawLine(t,e,i,!1,n);break;default:this.drawDiamond(t,e,i,!1,n)}},t.jqplot.ShadowRenderer=function(e){this.angle=45,this.offset=1,this.alpha=.07,this.lineWidth=1.5,this.lineJoin="miter",this.lineCap="round",this.closePath=!1,this.fill=!1,this.depth=3,this.strokeStyle="rgba(0,0,0,0.1)",this.isarc=!1,t.extend(!0,this,e)},t.jqplot.ShadowRenderer.prototype.init=function(e){t.extend(!0,this,e)},t.jqplot.ShadowRenderer.prototype.draw=function(e,i,n){e.save();var r=null!=n?n:{},o=null!=r.fill?r.fill:this.fill,s=null!=r.fillRect?r.fillRect:this.fillRect,a=null!=r.closePath?r.closePath:this.closePath,l=null!=r.offset?r.offset:this.offset,h=null!=r.alpha?r.alpha:this.alpha,u=null!=r.depth?r.depth:this.depth,c=null!=r.isarc?r.isarc:this.isarc,d=null!=r.linePattern?r.linePattern:this.linePattern;e.lineWidth=null!=r.lineWidth?r.lineWidth:this.lineWidth,e.lineJoin=null!=r.lineJoin?r.lineJoin:this.lineJoin,e.lineCap=null!=r.lineCap?r.lineCap:this.lineCap,e.strokeStyle=r.strokeStyle||this.strokeStyle||"rgba(0,0,0,"+h+")",e.fillStyle=r.fillStyle||this.fillStyle||"rgba(0,0,0,"+h+")";for(var p=0;p<u;p++){var f=t.jqplot.LinePattern(e,d);if(e.translate(Math.cos(this.angle*Math.PI/180)*l,Math.sin(this.angle*Math.PI/180)*l),f.beginPath(),c)e.arc(i[0],i[1],i[2],i[3],i[4],!0);else if(s)s&&e.fillRect(i[0],i[1],i[2],i[3]);else if(i&&i.length)for(var g=!0,m=0;m<i.length;m++)null!=i[m][0]&&null!=i[m][1]?g?(f.moveTo(i[m][0],i[m][1]),g=!1):f.lineTo(i[m][0],i[m][1]):g=!0;a&&f.closePath(),o?e.fill():e.stroke()}e.restore()},t.jqplot.ShapeRenderer=function(e){this.lineWidth=1.5,this.linePattern="solid",this.lineJoin="miter",this.lineCap="round",this.closePath=!1,this.fill=!1,this.isarc=!1,this.fillRect=!1,this.strokeRect=!1,this.clearRect=!1,this.strokeStyle="#999999",this.fillStyle="#999999",t.extend(!0,this,e)},t.jqplot.ShapeRenderer.prototype.init=function(e){t.extend(!0,this,e)},t.jqplot.ShapeRenderer.prototype.draw=function(e,i,n){e.save();var r=null!=n?n:{},o=null!=r.fill?r.fill:this.fill,s=null!=r.closePath?r.closePath:this.closePath,a=null!=r.fillRect?r.fillRect:this.fillRect,l=null!=r.strokeRect?r.strokeRect:this.strokeRect,h=null!=r.clearRect?r.clearRect:this.clearRect,u=null!=r.isarc?r.isarc:this.isarc,c=null!=r.linePattern?r.linePattern:this.linePattern,d=t.jqplot.LinePattern(e,c);if(e.lineWidth=r.lineWidth||this.lineWidth,e.lineJoin=r.lineJoin||this.lineJoin,e.lineCap=r.lineCap||this.lineCap,e.strokeStyle=r.strokeStyle||r.color||this.strokeStyle,e.fillStyle=r.fillStyle||this.fillStyle,e.beginPath(),u)return e.arc(i[0],i[1],i[2],i[3],i[4],!0),s&&e.closePath(),o?e.fill():e.stroke(),void e.restore();if(h)return e.clearRect(i[0],i[1],i[2],i[3]),void e.restore();if(a||l){if(a&&e.fillRect(i[0],i[1],i[2],i[3]),l)return e.strokeRect(i[0],i[1],i[2],i[3]),void e.restore()}else if(i&&i.length){for(var p=!0,f=0;f<i.length;f++)null!=i[f][0]&&null!=i[f][1]?p?(d.moveTo(i[f][0],i[f][1]),p=!1):d.lineTo(i[f][0],i[f][1]):p=!0;s&&d.closePath(),o?e.fill():e.stroke()}e.restore()},t.jqplot.TableLegendRenderer=function(){},t.jqplot.TableLegendRenderer.prototype.init=function(e){t.extend(!0,this,e)},t.jqplot.TableLegendRenderer.prototype.addrow=function(e,i,n,r){var o,s,a,l,h,u=n?this.rowSpacing+"px":"0px";a=document.createElement("tr"),o=t(a),o.addClass("jqplot-table-legend"),a=null,r?o.prependTo(this._elem):o.appendTo(this._elem),this.showSwatches&&(s=t(document.createElement("td")),s.addClass("jqplot-table-legend jqplot-table-legend-swatch"),s.css({textAlign:"center",paddingTop:u}),l=t(document.createElement("div")),l.addClass("jqplot-table-legend-swatch-outline"),h=t(document.createElement("div")),h.addClass("jqplot-table-legend-swatch"),h.css({backgroundColor:i,borderColor:i}),o.append(s.append(l.append(h)))),this.showLabels&&(s=t(document.createElement("td")),s.addClass("jqplot-table-legend jqplot-table-legend-label"),s.css("paddingTop",u),o.append(s),this.escapeHtml?s.text(e):s.html(e)),s=null,l=null,h=null,o=null,a=null},t.jqplot.TableLegendRenderer.prototype.draw=function(){if(this._elem&&(this._elem.emptyForce(),this._elem=null),this.show){var e=this._series,i=document.createElement("table");this._elem=t(i),this._elem.addClass("jqplot-table-legend");var n={position:"absolute"};this.background&&(n.background=this.background),this.border&&(n.border=this.border),this.fontSize&&(n.fontSize=this.fontSize),this.fontFamily&&(n.fontFamily=this.fontFamily),this.textColor&&(n.textColor=this.textColor),null!=this.marginTop&&(n.marginTop=this.marginTop),null!=this.marginBottom&&(n.marginBottom=this.marginBottom),null!=this.marginLeft&&(n.marginLeft=this.marginLeft),null!=this.marginRight&&(n.marginRight=this.marginRight);for(var r,o=!1,s=!1,a=0;a<e.length;a++)if(r=e[a],(r._stack||r.renderer.constructor==t.jqplot.BezierCurveRenderer)&&(s=!0),r.show&&r.showLabel){var l=this.labels[a]||r.label.toString();if(l){var h=r.color;s&&a<e.length-1?o=!0:s&&a==e.length-1&&(o=!1),this.renderer.addrow.call(this,l,h,o,s),o=!0}for(var u=0;u<t.jqplot.addLegendRowHooks.length;u++){var c=t.jqplot.addLegendRowHooks[u].call(this,r);c&&(this.renderer.addrow.call(this,c.label,c.color,o),o=!0)}l=null}}return this._elem},t.jqplot.TableLegendRenderer.prototype.pack=function(t){if(this.show)if("insideGrid"==this.placement)switch(this.location){case"nw":var e=t.left,i=t.top;this._elem.css("left",e),this._elem.css("top",i);break;case"n":var e=(t.left+(this._plotDimensions.width-t.right))/2-this.getWidth()/2,i=t.top;this._elem.css("left",e),this._elem.css("top",i);break;case"ne":var e=t.right,i=t.top;this._elem.css({right:e,top:i});break;case"e":var e=t.right,i=(t.top+(this._plotDimensions.height-t.bottom))/2-this.getHeight()/2;this._elem.css({right:e,top:i});break;case"se":var e=t.right,i=t.bottom;this._elem.css({right:e,bottom:i});break;case"s":var e=(t.left+(this._plotDimensions.width-t.right))/2-this.getWidth()/2,i=t.bottom;this._elem.css({left:e,bottom:i});break;case"sw":var e=t.left,i=t.bottom;this._elem.css({left:e,bottom:i});break;case"w":var e=t.left,i=(t.top+(this._plotDimensions.height-t.bottom))/2-this.getHeight()/2;this._elem.css({left:e,top:i});break;default:var e=t.right,i=t.bottom;this._elem.css({right:e,bottom:i})}else if("outside"==this.placement)switch(this.location){case"nw":var e=this._plotDimensions.width-t.left,i=t.top;this._elem.css("right",e),this._elem.css("top",i);break;case"n":var e=(t.left+(this._plotDimensions.width-t.right))/2-this.getWidth()/2,i=this._plotDimensions.height-t.top;this._elem.css("left",e),this._elem.css("bottom",i);break;case"ne":var e=this._plotDimensions.width-t.right,i=t.top;this._elem.css({left:e,top:i});break;case"e":var e=this._plotDimensions.width-t.right,i=(t.top+(this._plotDimensions.height-t.bottom))/2-this.getHeight()/2;this._elem.css({left:e,top:i});break;case"se":var e=this._plotDimensions.width-t.right,i=t.bottom;this._elem.css({left:e,bottom:i});break;case"s":var e=(t.left+(this._plotDimensions.width-t.right))/2-this.getWidth()/2,i=this._plotDimensions.height-t.bottom;this._elem.css({left:e,top:i});break;case"sw":var e=this._plotDimensions.width-t.left,i=t.bottom;this._elem.css({right:e,bottom:i});break;case"w":var e=this._plotDimensions.width-t.left,i=(t.top+(this._plotDimensions.height-t.bottom))/2-this.getHeight()/2;this._elem.css({right:e,top:i});break;default:var e=t.right,i=t.bottom;this._elem.css({right:e,bottom:i})}else switch(this.location){case"nw":this._elem.css({left:0,top:t.top});break;case"n":var e=(t.left+(this._plotDimensions.width-t.right))/2-this.getWidth()/2;this._elem.css({left:e,top:t.top});break;case"ne":this._elem.css({right:0,top:t.top});break;case"e":var i=(t.top+(this._plotDimensions.height-t.bottom))/2-this.getHeight()/2;this._elem.css({right:t.right,top:i});break;case"se":this._elem.css({right:t.right,bottom:t.bottom});break;case"s":var e=(t.left+(this._plotDimensions.width-t.right))/2-this.getWidth()/2;this._elem.css({left:e,bottom:t.bottom});break;case"sw":this._elem.css({left:t.left,bottom:t.bottom});break;case"w":var i=(t.top+(this._plotDimensions.height-t.bottom))/2-this.getHeight()/2;this._elem.css({left:t.left,top:i});break;default:this._elem.css({right:t.right,bottom:t.bottom})}},t.jqplot.ThemeEngine=function(){this.themes={},this.activeTheme=null},t.jqplot.ThemeEngine.prototype.init=function(){var e,i,n,r=new t.jqplot.Theme({_name:"Default"});for(e in r.target)r.target[e]="textColor"==e?this.target.css("color"):this.target.css(e);if(this.title.show&&this.title._elem)for(e in r.title)r.title[e]="textColor"==e?this.title._elem.css("color"):this.title._elem.css(e);for(e in r.grid)r.grid[e]=this.grid[e];if(null==r.grid.backgroundColor&&null!=this.grid.background&&(r.grid.backgroundColor=this.grid.background),this.legend.show&&this.legend._elem)for(e in r.legend)r.legend[e]="textColor"==e?this.legend._elem.css("color"):this.legend._elem.css(e);var o;for(i=0;i<this.series.length;i++){o=this.series[i],o.renderer.constructor==t.jqplot.LineRenderer?r.series.push(new O):o.renderer.constructor==t.jqplot.BarRenderer?r.series.push(new N):o.renderer.constructor==t.jqplot.PieRenderer?r.series.push(new F):o.renderer.constructor==t.jqplot.DonutRenderer?r.series.push(new z):o.renderer.constructor==t.jqplot.FunnelRenderer?r.series.push(new B):o.renderer.constructor==t.jqplot.MeterGaugeRenderer?r.series.push(new H):r.series.push({});for(e in r.series[i])r.series[i][e]=o[e]}var s,a;for(e in this.axes){if(a=this.axes[e],s=r.axes[e]=new q,s.borderColor=a.borderColor,s.borderWidth=a.borderWidth,a._ticks&&a._ticks[0])for(n in s.ticks)a._ticks[0].hasOwnProperty(n)?s.ticks[n]=a._ticks[0][n]:a._ticks[0]._elem&&(s.ticks[n]=a._ticks[0]._elem.css(n));if(a._label&&a._label.show)for(n in s.label)a._label[n]?s.label[n]=a._label[n]:a._label._elem&&(s.label[n]="textColor"==n?a._label._elem.css("color"):a._label._elem.css(n))}this.themeEngine._add(r),this.themeEngine.activeTheme=this.themeEngine.themes[r._name]},t.jqplot.ThemeEngine.prototype.get=function(t){return t?this.themes[t]:this.activeTheme},t.jqplot.ThemeEngine.prototype.getThemeNames=function(){var t=[];for(var e in this.themes)t.push(e);return t.sort(T)},t.jqplot.ThemeEngine.prototype.getThemes=function(){var t=[],e=[];for(var i in this.themes)t.push(i);t.sort(T);for(var n=0;n<t.length;n++)e.push(this.themes[t[n]]);return e},t.jqplot.ThemeEngine.prototype.activate=function(e,i){var n=!1;if(!i&&this.activeTheme&&this.activeTheme._name&&(i=this.activeTheme._name),!this.themes.hasOwnProperty(i))throw new Error("No theme of that name");var r=this.themes[i];this.activeTheme=r;var o,s=["xaxis","x2axis","yaxis","y2axis"];for(g=0;g<s.length;g++){var a=s[g];null!=r.axesStyles.borderColor&&(e.axes[a].borderColor=r.axesStyles.borderColor),null!=r.axesStyles.borderWidth&&(e.axes[a].borderWidth=r.axesStyles.borderWidth)}for(var l in e.axes){var h=e.axes[l];if(h.show){var u=r.axes[l]||{},c=r.axesStyles,d=t.jqplot.extend(!0,{},u,c);if(o=null!=r.axesStyles.borderColor?r.axesStyles.borderColor:d.borderColor,null!=d.borderColor&&(h.borderColor=d.borderColor,n=!0),o=null!=r.axesStyles.borderWidth?r.axesStyles.borderWidth:d.borderWidth,null!=d.borderWidth&&(h.borderWidth=d.borderWidth,n=!0),h._ticks&&h._ticks[0])for(var p in d.ticks)null!=(o=d.ticks[p])&&(h.tickOptions[p]=o,h._ticks=[],n=!0);if(h._label&&h._label.show)for(var p in d.label)null!=(o=d.label[p])&&(h.labelOptions[p]=o,n=!0)}}for(var f in r.grid)null!=r.grid[f]&&(e.grid[f]=r.grid[f]);if(n||e.grid.draw(),e.legend.show)for(f in r.legend)null!=r.legend[f]&&(e.legend[f]=r.legend[f]);if(e.title.show)for(f in r.title)null!=r.title[f]&&(e.title[f]=r.title[f]);var g;for(g=0;g<r.series.length;g++){var m={};for(f in r.series[g])null!=(o=null!=r.seriesStyles[f]?r.seriesStyles[f]:r.series[g][f])&&(m[f]=o,"color"==f?(e.series[g].renderer.shapeRenderer.fillStyle=o,e.series[g].renderer.shapeRenderer.strokeStyle=o,e.series[g][f]=o):"lineWidth"==f||"linePattern"==f?(e.series[g].renderer.shapeRenderer[f]=o,e.series[g][f]=o):"markerOptions"==f?(D(e.series[g].markerOptions,o),D(e.series[g].markerRenderer,o)):e.series[g][f]=o,n=!0)}n&&(e.target.empty(),e.draw());for(f in r.target)null!=r.target[f]&&e.target.css(f,r.target[f])},t.jqplot.ThemeEngine.prototype._add=function(t,e){if(e&&(t._name=e),t._name||(t._name=Date.parse(new Date)),this.themes.hasOwnProperty(t._name))throw new Error("jqplot.ThemeEngine Error: Theme already in use");this.themes[t._name]=t},t.jqplot.ThemeEngine.prototype.remove=function(t){return"Default"!=t&&delete this.themes[t]},t.jqplot.ThemeEngine.prototype.newTheme=function(e,i){"object"==typeof e&&(i=i||e,e=null),e=i&&i._name?i._name:e||Date.parse(new Date);var n=this.copy(this.themes.Default._name,e);return t.jqplot.extend(n,i),n},t.jqplot.clone=S,t.jqplot.merge=D,t.jqplot.extend=function(){var e,i=arguments[0]||{},n=1,r=arguments.length,o=!1;for("boolean"==typeof i&&(o=i,i=arguments[1]||{},n=2),
"object"!=typeof i&&"[object Function]"===!toString.call(i)&&(i={});n<r;n++)if(null!=(e=arguments[n]))for(var s in e){var a=i[s],l=e[s];i!==l&&(o&&l&&"object"==typeof l&&!l.nodeType?i[s]=t.jqplot.extend(o,a||(null!=l.length?[]:{}),l):l!==L&&(i[s]=l))}return i},t.jqplot.ThemeEngine.prototype.rename=function(t,e){if("Default"==t||"Default"==e)throw new Error("jqplot.ThemeEngine Error: Cannot rename from/to Default");if(this.themes.hasOwnProperty(e))throw new Error("jqplot.ThemeEngine Error: New name already in use.");if(this.themes.hasOwnProperty(t)){var i=this.copy(t,e);return this.remove(t),i}throw new Error("jqplot.ThemeEngine Error: Old name or new name invalid")},t.jqplot.ThemeEngine.prototype.copy=function(e,i,n){if("Default"==i)throw new Error("jqplot.ThemeEngine Error: Cannot copy over Default theme");if(!this.themes.hasOwnProperty(e)){var r="jqplot.ThemeEngine Error: Source name invalid";throw new Error(r)}if(this.themes.hasOwnProperty(i)){var r="jqplot.ThemeEngine Error: Target name invalid";throw new Error(r)}var o=S(this.themes[e]);return o._name=i,t.jqplot.extend(!0,o,n),this._add(o),o},t.jqplot.Theme=function(e,i){"object"==typeof e&&(i=i||e,e=null),e=e||Date.parse(new Date),this._name=e,this.target={backgroundColor:null},this.legend={textColor:null,fontFamily:null,fontSize:null,border:null,background:null},this.title={textColor:null,fontFamily:null,fontSize:null,textAlign:null},this.seriesStyles={},this.series=[],this.grid={drawGridlines:null,gridLineColor:null,gridLineWidth:null,backgroundColor:null,borderColor:null,borderWidth:null,shadow:null},this.axesStyles={label:{},ticks:{}},this.axes={},"string"==typeof i?this._name=i:"object"==typeof i&&t.jqplot.extend(!0,this,i)};var q=function(){this.borderColor=null,this.borderWidth=null,this.ticks=new I,this.label=new j},I=function(){this.show=null,this.showGridline=null,this.showLabel=null,this.showMark=null,this.size=null,this.textColor=null,this.whiteSpace=null,this.fontSize=null,this.fontFamily=null},j=function(){this.textColor=null,this.whiteSpace=null,this.fontSize=null,this.fontFamily=null,this.fontWeight=null},O=function(){this.color=null,this.lineWidth=null,this.linePattern=null,this.shadow=null,this.fillColor=null,this.showMarker=null,this.markerOptions=new R},R=function(){this.show=null,this.style=null,this.lineWidth=null,this.size=null,this.color=null,this.shadow=null},N=function(){this.color=null,this.seriesColors=null,this.lineWidth=null,this.shadow=null,this.barPadding=null,this.barMargin=null,this.barWidth=null,this.highlightColors=null},F=function(){this.seriesColors=null,this.padding=null,this.sliceMargin=null,this.fill=null,this.shadow=null,this.startAngle=null,this.lineWidth=null,this.highlightColors=null},z=function(){this.seriesColors=null,this.padding=null,this.sliceMargin=null,this.fill=null,this.shadow=null,this.startAngle=null,this.lineWidth=null,this.innerDiameter=null,this.thickness=null,this.ringMargin=null,this.highlightColors=null},B=function(){this.color=null,this.lineWidth=null,this.shadow=null,this.padding=null,this.sectionMargin=null,this.seriesColors=null,this.highlightColors=null},H=function(){this.padding=null,this.backgroundColor=null,this.ringColor=null,this.tickColor=null,this.ringWidth=null,this.intervalColors=null,this.intervalInnerRadius=null,this.intervalOuterRadius=null,this.hubRadius=null,this.needleThickness=null,this.needlePad=null};t.fn.jqplotChildText=function(){return t(this).contents().filter(function(){return 3==this.nodeType}).text()},t.fn.jqplotGetComputedFontStyle=function(){for(var t=window.getComputedStyle?window.getComputedStyle(this[0],""):this[0].currentStyle,e=t["font-style"]?["font-style","font-weight","font-size","font-family"]:["fontStyle","fontWeight","fontSize","fontFamily"],i=[],n=0;n<e.length;++n){var r=String(t[e[n]]);r&&"normal"!=r&&i.push(r)}return i.join(" ")},t.fn.jqplotToImageCanvas=function(e){function i(e){var i=parseInt(t(e).css("line-height"),10);return isNaN(i)&&(i=1.2*parseInt(t(e).css("font-size"),10)),i}function n(e,n,r,o,s,a){for(var l=i(e),h=t(e).innerWidth(),u=(t(e).innerHeight(),r.split(/\s+/)),c=u.length,d="",p=[],f=s,g=o,m=0;m<c;m++)d+=u[m],n.measureText(d).width>h&&(p.push(m),d="",m--);if(0===p.length)"center"===t(e).css("textAlign")&&(g=o+(a-n.measureText(d).width)/2-y),n.fillText(r,g,s);else{d=u.slice(0,p[0]).join(" "),"center"===t(e).css("textAlign")&&(g=o+(a-n.measureText(d).width)/2-y),n.fillText(d,g,f),f+=l;for(var m=1,v=p.length;m<v;m++)d=u.slice(p[m-1],p[m]).join(" "),"center"===t(e).css("textAlign")&&(g=o+(a-n.measureText(d).width)/2-y),n.fillText(d,g,f),f+=l;d=u.slice(p[m-1],u.length).join(" "),"center"===t(e).css("textAlign")&&(g=o+(a-n.measureText(d).width)/2-y),n.fillText(d,g,f)}}function r(e,i,o){var s=e.tagName.toLowerCase(),a=t(e).position(),l=window.getComputedStyle?window.getComputedStyle(e,""):e.currentStyle,h=i+a.left+parseInt(l.marginLeft,10)+parseInt(l.borderLeftWidth,10)+parseInt(l.paddingLeft,10),u=o+a.top+parseInt(l.marginTop,10)+parseInt(l.borderTopWidth,10)+parseInt(l.paddingTop,10),c=d.width;if("div"!=s&&"span"!=s||t(e).hasClass("jqplot-highlighter-tooltip"))if("table"===s&&t(e).hasClass("jqplot-table-legend")){w.strokeStyle=t(e).css("border-top-color"),w.fillStyle=t(e).css("background-color"),w.fillRect(h,u,t(e).innerWidth(),t(e).innerHeight()),parseInt(t(e).css("border-top-width"),10)>0&&w.strokeRect(h,u,t(e).innerWidth(),t(e).innerHeight()),t(e).find("div.jqplot-table-legend-swatch-outline").each(function(){var e=t(this);w.strokeStyle=e.css("border-top-color");var i=h+e.position().left,n=u+e.position().top;w.strokeRect(i,n,e.innerWidth(),e.innerHeight()),i+=parseInt(e.css("padding-left"),10),n+=parseInt(e.css("padding-top"),10);var r=e.innerHeight()-2*parseInt(e.css("padding-top"),10),o=e.innerWidth()-2*parseInt(e.css("padding-left"),10),s=e.children("div.jqplot-table-legend-swatch");w.fillStyle=s.css("background-color"),w.fillRect(i,n,o,r)}),t(e).find("td.jqplot-table-legend-label").each(function(){var e=t(this),i=h+e.position().left,r=u+e.position().top+parseInt(e.css("padding-top"),10);w.font=e.jqplotGetComputedFontStyle(),w.fillStyle=e.css("color"),n(e,w,e.text(),i,r,c)})}else"canvas"==s&&w.drawImage(e,h,u);else{t(e).children().each(function(){r(this,h,u)});var p=t(e).jqplotChildText();p&&(w.font=t(e).jqplotGetComputedFontStyle(),w.fillStyle=t(e).css("color"),n(e,w,p,h,u,c))}}e=e||{};var o=null==e.x_offset?0:e.x_offset,s=null==e.y_offset?0:e.y_offset,a=null==e.backgroundColor?"rgb(255,255,255)":e.backgroundColor;if(0==t(this).width()||0==t(this).height())return null;if(t.jqplot.use_excanvas)return null;for(var l,h,u,c,d=document.createElement("canvas"),p=t(this).outerHeight(!0),f=t(this).outerWidth(!0),g=t(this).offset(),m=g.left,v=g.top,y=0,_=0,x=["jqplot-table-legend","jqplot-xaxis-tick","jqplot-x2axis-tick","jqplot-yaxis-tick","jqplot-y2axis-tick","jqplot-y3axis-tick","jqplot-y4axis-tick","jqplot-y5axis-tick","jqplot-y6axis-tick","jqplot-y7axis-tick","jqplot-y8axis-tick","jqplot-y9axis-tick","jqplot-xaxis-label","jqplot-x2axis-label","jqplot-yaxis-label","jqplot-y2axis-label","jqplot-y3axis-label","jqplot-y4axis-label","jqplot-y5axis-label","jqplot-y6axis-label","jqplot-y7axis-label","jqplot-y8axis-label","jqplot-y9axis-label"],b=0;b<x.length;b++)t(this).find("."+x[b]).each(function(){l=t(this).offset().top-v,h=t(this).offset().left-m,c=h+t(this).outerWidth(!0)+y,u=l+t(this).outerHeight(!0)+_,h<-y&&(f=f-y-h,y=-h),l<-_&&(p=p-_-l,_=-l),c>f&&(f=c),u>p&&(p=u)});d.width=f+Number(o),d.height=p+Number(s);var w=d.getContext("2d");return w.save(),w.fillStyle=a,w.fillRect(0,0,d.width,d.height),w.restore(),w.translate(y,_),w.textAlign="left",w.textBaseline="top",t(this).children().each(function(){r(this,o,s)}),d},t.fn.jqplotToImageStr=function(e){var i=t(this).jqplotToImageCanvas(e);return i?i.toDataURL("image/png"):null},t.fn.jqplotToImageElem=function(e){var i=document.createElement("img"),n=t(this).jqplotToImageStr(e);return i.src=n,i},t.fn.jqplotToImageElemStr=function(e){return"<img src="+t(this).jqplotToImageStr(e)+" />"},t.fn.jqplotSaveImage=function(){var e=t(this).jqplotToImageStr({});e&&(window.location.href=e.replace("image/png","image/octet-stream"))},t.fn.jqplotViewImage=function(){var e=t(this).jqplotToImageElemStr({});t(this).jqplotToImageStr({});if(e){var i=window.open("");i.document.open("image/png"),i.document.write(e),i.document.close(),i=null}};var W=function(){switch(this.syntax=W.config.syntax,this._type="jsDate",this.proxy=new Date,this.options={},this.locale=W.regional.getLocale(),this.formatString="",this.defaultCentury=W.config.defaultCentury,arguments.length){case 0:break;case 1:if("[object Object]"==A(arguments[0])&&"jsDate"!=arguments[0]._type){var t=this.options=arguments[0];this.syntax=t.syntax||this.syntax,this.defaultCentury=t.defaultCentury||this.defaultCentury,this.proxy=W.createDate(t.date)}else this.proxy=W.createDate(arguments[0]);break;default:for(var e=[],i=0;i<arguments.length;i++)e.push(arguments[i]);this.proxy=new Date,this.proxy.setFullYear.apply(this.proxy,e.slice(0,3)),e.slice(3).length&&this.proxy.setHours.apply(this.proxy,e.slice(3))}};W.config={defaultLocale:"en",syntax:"perl",defaultCentury:1900},W.prototype.add=function(t,e){var i=Y[e]||Y.day;return"number"==typeof i?this.proxy.setTime(this.proxy.getTime()+i*t):i.add(this,t),this},W.prototype.clone=function(){return new W(this.proxy.getTime())},W.prototype.getUtcOffset=function(){return 6e4*this.proxy.getTimezoneOffset()},W.prototype.diff=function(t,e,i){if(null===(t=new W(t)))return null;var n=Y[e]||Y.day;if("number"==typeof n)var r=(this.proxy.getTime()-t.proxy.getTime())/n;else var r=n.diff(this.proxy,t.proxy);return i?r:Math[r>0?"floor":"ceil"](r)},W.prototype.getAbbrDayName=function(){return W.regional[this.locale].dayNamesShort[this.proxy.getDay()]},W.prototype.getAbbrMonthName=function(){return W.regional[this.locale].monthNamesShort[this.proxy.getMonth()]},W.prototype.getAMPM=function(){return this.proxy.getHours()>=12?"PM":"AM"},W.prototype.getAmPm=function(){return this.proxy.getHours()>=12?"pm":"am"},W.prototype.getCentury=function(){return parseInt(this.proxy.getFullYear()/100,10)},W.prototype.getDate=function(){return this.proxy.getDate()},W.prototype.getDay=function(){return this.proxy.getDay()},W.prototype.getDayOfWeek=function(){var t=this.proxy.getDay();return 0===t?7:t},W.prototype.getDayOfYear=function(){var t=this.proxy,e=t-new Date(t.getFullYear()+"/1/1 GMT");return e+=6e4*t.getTimezoneOffset(),t=null,parseInt(e/6e4/60/24,10)+1},W.prototype.getDayName=function(){return W.regional[this.locale].dayNames[this.proxy.getDay()]},W.prototype.getFullWeekOfYear=function(){var t=this.proxy,e=this.getDayOfYear(),i=6-t.getDay();return parseInt((e+i)/7,10)},W.prototype.getFullYear=function(){return this.proxy.getFullYear()},W.prototype.getGmtOffset=function(){var t=this.proxy.getTimezoneOffset()/60,e=t<0?"+":"-";return t=Math.abs(t),e+U(Math.floor(t),2)+":"+U(t%1*60,2)},W.prototype.getHours=function(){return this.proxy.getHours()},W.prototype.getHours12=function(){var t=this.proxy.getHours();return t>12?t-12:0==t?12:t},W.prototype.getIsoWeek=function(){var t=this.proxy,e=this.getWeekOfYear(),i=new Date(t.getFullYear()+"/1/1").getDay(),n=e+(i>4||i<=1?0:1);return 53==n&&new Date(t.getFullYear()+"/12/31").getDay()<4?n=1:0===n&&(t=new W(new Date(t.getFullYear()-1+"/12/31")),n=t.getIsoWeek()),t=null,n},W.prototype.getMilliseconds=function(){return this.proxy.getMilliseconds()},W.prototype.getMinutes=function(){return this.proxy.getMinutes()},W.prototype.getMonth=function(){return this.proxy.getMonth()},W.prototype.getMonthName=function(){return W.regional[this.locale].monthNames[this.proxy.getMonth()]},W.prototype.getMonthNumber=function(){return this.proxy.getMonth()+1},W.prototype.getSeconds=function(){return this.proxy.getSeconds()},W.prototype.getShortYear=function(){return this.proxy.getYear()%100},W.prototype.getTime=function(){return this.proxy.getTime()},W.prototype.getTimezoneAbbr=function(){return this.proxy.toString().replace(/^.*\(([^)]+)\)$/,"$1")},W.prototype.getTimezoneName=function(){var t=/(?:\((.+)\)$| ([A-Z]{3}) )/.exec(this.toString());return t[1]||t[2]||"GMT"+this.getGmtOffset()},W.prototype.getTimezoneOffset=function(){return this.proxy.getTimezoneOffset()},W.prototype.getWeekOfYear=function(){var t=this.getDayOfYear(),e=7-this.getDayOfWeek();return parseInt((t+e)/7,10)},W.prototype.getUnix=function(){return Math.round(this.proxy.getTime()/1e3,0)},W.prototype.getYear=function(){return this.proxy.getYear()},W.prototype.next=function(t){return t=t||"day",this.clone().add(1,t)},W.prototype.set=function(){switch(arguments.length){case 0:this.proxy=new Date;break;case 1:if("[object Object]"==A(arguments[0])&&"jsDate"!=arguments[0]._type){var t=this.options=arguments[0];this.syntax=t.syntax||this.syntax,this.defaultCentury=t.defaultCentury||this.defaultCentury,this.proxy=W.createDate(t.date)}else this.proxy=W.createDate(arguments[0]);break;default:for(var e=[],i=0;i<arguments.length;i++)e.push(arguments[i]);this.proxy=new Date,this.proxy.setFullYear.apply(this.proxy,e.slice(0,3)),e.slice(3).length&&this.proxy.setHours.apply(this.proxy,e.slice(3))}return this},W.prototype.setDate=function(t){return this.proxy.setDate(t),this},W.prototype.setFullYear=function(){return this.proxy.setFullYear.apply(this.proxy,arguments),this},W.prototype.setHours=function(){return this.proxy.setHours.apply(this.proxy,arguments),this},W.prototype.setMilliseconds=function(t){return this.proxy.setMilliseconds(t),this},W.prototype.setMinutes=function(){return this.proxy.setMinutes.apply(this.proxy,arguments),this},W.prototype.setMonth=function(){return this.proxy.setMonth.apply(this.proxy,arguments),this},W.prototype.setSeconds=function(){return this.proxy.setSeconds.apply(this.proxy,arguments),this},W.prototype.setTime=function(t){return this.proxy.setTime(t),this},W.prototype.setYear=function(){return this.proxy.setYear.apply(this.proxy,arguments),this},W.prototype.strftime=function(t){return t=t||this.formatString||W.regional[this.locale].formatString,W.strftime(this,t,this.syntax)},W.prototype.toString=function(){return this.proxy.toString()},W.prototype.toYmdInt=function(){return 1e4*this.proxy.getFullYear()+100*this.getMonthNumber()+this.proxy.getDate()},W.regional={en:{monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],formatString:"%Y-%m-%d %H:%M:%S"},fr:{monthNames:["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"],monthNamesShort:["Jan","Fév","Mar","Avr","Mai","Jun","Jul","Aoû","Sep","Oct","Nov","Déc"],dayNames:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],dayNamesShort:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"],formatString:"%Y-%m-%d %H:%M:%S"},de:{monthNames:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],monthNamesShort:["Jan","Feb","Mär","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],dayNames:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],dayNamesShort:["So","Mo","Di","Mi","Do","Fr","Sa"],formatString:"%Y-%m-%d %H:%M:%S"},es:{monthNames:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],monthNamesShort:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],dayNames:["Domingo","Lunes","Martes","Mi&eacute;rcoles","Jueves","Viernes","S&aacute;bado"],dayNamesShort:["Dom","Lun","Mar","Mi&eacute;","Juv","Vie","S&aacute;b"],formatString:"%Y-%m-%d %H:%M:%S"},ru:{monthNames:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],monthNamesShort:["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],dayNames:["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"],dayNamesShort:["вск","пнд","втр","срд","чтв","птн","сбт"],formatString:"%Y-%m-%d %H:%M:%S"},ar:{monthNames:["كانون الثاني","شباط","آذار","نيسان","آذار","حزيران","تموز","آب","أيلول","تشرين الأول","تشرين الثاني","كانون الأول"],monthNamesShort:["1","2","3","4","5","6","7","8","9","10","11","12"],dayNames:["السبت","الأحد","الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة"],dayNamesShort:["سبت","أحد","اثنين","ثلاثاء","أربعاء","خميس","جمعة"],formatString:"%Y-%m-%d %H:%M:%S"},pt:{monthNames:["Janeiro","Fevereiro","Mar&ccedil;o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthNamesShort:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],dayNames:["Domingo","Segunda-feira","Ter&ccedil;a-feira","Quarta-feira","Quinta-feira","Sexta-feira","S&aacute;bado"],dayNamesShort:["Dom","Seg","Ter","Qua","Qui","Sex","S&aacute;b"],formatString:"%Y-%m-%d %H:%M:%S"},"pt-BR":{monthNames:["Janeiro","Fevereiro","Mar&ccedil;o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthNamesShort:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],dayNames:["Domingo","Segunda-feira","Ter&ccedil;a-feira","Quarta-feira","Quinta-feira","Sexta-feira","S&aacute;bado"],dayNamesShort:["Dom","Seg","Ter","Qua","Qui","Sex","S&aacute;b"],formatString:"%Y-%m-%d %H:%M:%S"},pl:{monthNames:["Styczeń","Luty","Marzec","Kwiecień","Maj","Czerwiec","Lipiec","Sierpień","Wrzesień","Październik","Listopad","Grudzień"],monthNamesShort:["Sty","Lut","Mar","Kwi","Maj","Cze","Lip","Sie","Wrz","Paź","Lis","Gru"],dayNames:["Niedziela","Poniedziałek","Wtorek","Środa","Czwartek","Piątek","Sobota"],dayNamesShort:["Ni","Pn","Wt","Śr","Cz","Pt","Sb"],formatString:"%Y-%m-%d %H:%M:%S"},nl:{monthNames:["Januari","Februari","Maart","April","Mei","Juni","July","Augustus","September","Oktober","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],dayNames:",".Zaterdag,dayNamesShort:["Zo","Ma","Di","Wo","Do","Vr","Za"],formatString:"%Y-%m-%d %H:%M:%S"},sv:{monthNames:["januari","februari","mars","april","maj","juni","juli","augusti","september","oktober","november","december"],monthNamesShort:["jan","feb","mar","apr","maj","jun","jul","aug","sep","okt","nov","dec"],dayNames:["söndag","måndag","tisdag","onsdag","torsdag","fredag","lördag"],dayNamesShort:["sön","mån","tis","ons","tor","fre","lör"],formatString:"%Y-%m-%d %H:%M:%S"}},W.regional["en-US"]=W.regional["en-GB"]=W.regional.en,W.regional.getLocale=function(){var t=W.config.defaultLocale;return document&&document.getElementsByTagName("html")&&document.getElementsByTagName("html")[0].lang&&(t=document.getElementsByTagName("html")[0].lang,W.regional.hasOwnProperty(t)||(t=W.config.defaultLocale)),t};var U=function(t,e){t=String(t);var i=e-t.length;return String(Math.pow(10,i)).slice(1).concat(t)},Y={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:{add:function(t,e){Y.year.add(t,Math[e>0?"floor":"ceil"](e/12));var i=t.getMonth()+e%12;12==i?(i=0,t.setYear(t.getFullYear()+1)):-1==i&&(i=11,t.setYear(t.getFullYear()-1)),t.setMonth(i)},diff:function(t,e){var i=t.getFullYear()-e.getFullYear();return t.getMonth()-e.getMonth()+12*i+(t.getDate()-e.getDate())/30}},year:{add:function(t,e){t.setYear(t.getFullYear()+Math[e>0?"floor":"ceil"](e))},diff:function(t,e){return Y.month.diff(t,e)/12}}};for(var X in Y)"s"!=X.substring(X.length-1)&&(Y[X+"s"]=Y[X]);var G=function(t,e,i){if(W.formats[i].shortcuts[e])return W.strftime(t,W.formats[i].shortcuts[e],i);var n=(W.formats[i].codes[e]||"").split("."),r=t["get"+n[0]]?t["get"+n[0]]():"";return n[1]&&(r=U(r,n[1])),r};W.strftime=function(t,e,i,n){var r="perl",o=W.regional.getLocale();i&&W.formats.hasOwnProperty(i)?r=i:i&&W.regional.hasOwnProperty(i)&&(o=i),n&&W.formats.hasOwnProperty(n)?r=n:n&&W.regional.hasOwnProperty(n)&&(o=n),"[object Object]"==A(t)&&"jsDate"==t._type||(t=new W(t),t.locale=o),e||(e=t.formatString||W.regional[o].formatString);for(var s,a=e||"%Y-%m-%d",l="";a.length>0;)(s=a.match(W.formats[r].codes.matcher))?(l+=a.slice(0,s.index),l+=(s[1]||"")+G(t,s[2],r),a=a.slice(s.index+s[0].length)):(l+=a,a="");return l},W.formats={ISO:"%Y-%m-%dT%H:%M:%S.%N%G",SQL:"%Y-%m-%d %H:%M:%S"},W.formats.perl={codes:{matcher:/()%(#?(%|[a-z]))/i,Y:"FullYear",y:"ShortYear.2",m:"MonthNumber.2","#m":"MonthNumber",B:"MonthName",b:"AbbrMonthName",d:"Date.2","#d":"Date",e:"Date",A:"DayName",a:"AbbrDayName",w:"Day",H:"Hours.2","#H":"Hours",I:"Hours12.2","#I":"Hours12",p:"AMPM",M:"Minutes.2","#M":"Minutes",S:"Seconds.2","#S":"Seconds",s:"Unix",N:"Milliseconds.3","#N":"Milliseconds",O:"TimezoneOffset",Z:"TimezoneName",G:"GmtOffset"},shortcuts:{F:"%Y-%m-%d",T:"%H:%M:%S",X:"%H:%M:%S",x:"%m/%d/%y",D:"%m/%d/%y","#c":"%a %b %e %H:%M:%S %Y",v:"%e-%b-%Y",R:"%H:%M",r:"%I:%M:%S %p",t:"\t",n:"\n","%":"%"}},W.formats.php={codes:{matcher:/()%((%|[a-z]))/i,a:"AbbrDayName",A:"DayName",d:"Date.2",e:"Date",j:"DayOfYear.3",u:"DayOfWeek",w:"Day",U:"FullWeekOfYear.2",V:"IsoWeek.2",W:"WeekOfYear.2",b:"AbbrMonthName",B:"MonthName",m:"MonthNumber.2",h:"AbbrMonthName",C:"Century.2",y:"ShortYear.2",Y:"FullYear",H:"Hours.2",I:"Hours12.2",l:"Hours12",p:"AMPM",P:"AmPm",M:"Minutes.2",S:"Seconds.2",s:"Unix",O:"TimezoneOffset",z:"GmtOffset",Z:"TimezoneAbbr"},shortcuts:{D:"%m/%d/%y",F:"%Y-%m-%d",T:"%H:%M:%S",X:"%H:%M:%S",x:"%m/%d/%y",R:"%H:%M",r:"%I:%M:%S %p",t:"\t",n:"\n","%":"%"}},W.createDate=function(t){function e(t,e){var i,n,r,o,s=parseFloat(e[1]),a=parseFloat(e[2]),l=parseFloat(e[3]),h=W.config.defaultCentury;return s>31?(n=l,r=a,i=h+s):(n=a,r=s,i=h+l),o=r+"/"+n+"/"+i,t.replace(/^([0-9]{1,2})[-\/]([0-9]{1,2})[-\/]([0-9]{1,2})/,o)}if(null==t)return new Date;if(t instanceof Date)return t;if("number"==typeof t)return new Date(t);var i=String(t).replace(/^\s*(.+)\s*$/g,"$1");i=i.replace(/^([0-9]{1,4})-([0-9]{1,2})-([0-9]{1,4})/,"$1/$2/$3"),i=i.replace(/^(3[01]|[0-2]?\d)[-\/]([a-z]{3,})[-\/](\d{4})/i,"$1 $2 $3");var n=i.match(/^(3[01]|[0-2]?\d)[-\/]([a-z]{3,})[-\/](\d{2})\D*/i);if(n&&n.length>3){var r=parseFloat(n[3]),o=W.config.defaultCentury+r;o=String(o),i=i.replace(/^(3[01]|[0-2]?\d)[-\/]([a-z]{3,})[-\/](\d{2})\D*/i,n[1]+" "+n[2]+" "+o)}(n=i.match(/^([0-9]{1,2})[-\/]([0-9]{1,2})[-\/]([0-9]{1,2})[^0-9]/))&&n.length>3&&(i=e(i,n));var n=i.match(/^([0-9]{1,2})[-\/]([0-9]{1,2})[-\/]([0-9]{1,2})$/);n&&n.length>3&&(i=e(i,n));for(var s,a,l,h=0,u=W.matchers.length,c=i;h<u;){if(a=Date.parse(c),!isNaN(a))return new Date(a);if("function"==typeof(s=W.matchers[h])){if((l=s.call(W,c))instanceof Date)return l}else c=i.replace(s[0],s[1]);h++}return NaN},W.daysInMonth=function(t,e){return 2==e?29==new Date(t,1,29).getDate()?29:28:[L,31,L,31,30,31,30,31,31,30,31,30,31][e]},W.matchers=[[/(3[01]|[0-2]\d)\s*\.\s*(1[0-2]|0\d)\s*\.\s*([1-9]\d{3})/,"$2/$1/$3"],[/([1-9]\d{3})\s*-\s*(1[0-2]|0\d)\s*-\s*(3[01]|[0-2]\d)/,"$2/$3/$1"],function(t){var e=t.match(/^(?:(.+)\s+)?([012]?\d)(?:\s*\:\s*(\d\d))?(?:\s*\:\s*(\d\d(\.\d*)?))?\s*(am|pm)?\s*$/i);if(e){if(e[1]){var i=this.createDate(e[1]);if(isNaN(i))return}else{var i=new Date;i.setMilliseconds(0)}var n=parseFloat(e[2]);return e[6]&&(n="am"==e[6].toLowerCase()?12==n?0:n:12==n?12:n+12),i.setHours(n,parseInt(e[3]||0,10),parseInt(e[4]||0,10),1e3*(parseFloat(e[5]||0)||0)),i}return t},function(t){var e=t.match(/^(?:(.+))[T|\s+]([012]\d)(?:\:(\d\d))(?:\:(\d\d))(?:\.\d+)([\+\-]\d\d\:\d\d)$/i);if(e){if(e[1]){var i=this.createDate(e[1]);if(isNaN(i))return}else{var i=new Date;i.setMilliseconds(0)}var n=parseFloat(e[2]);return i.setHours(n,parseInt(e[3],10),parseInt(e[4],10),1e3*parseFloat(e[5])),i}return t},function(t){var e=t.match(/^([0-3]?\d)\s*[-\/.\s]{1}\s*([a-zA-Z]{3,9})\s*[-\/.\s]{1}\s*([0-3]?\d)$/);if(e){var i,n,r,o=new Date,s=W.config.defaultCentury,a=parseFloat(e[1]),l=parseFloat(e[3]);a>31?(n=l,i=s+a):(n=a,i=s+l);var r=M(e[2],W.regional[W.regional.getLocale()].monthNamesShort);return-1==r&&(r=M(e[2],W.regional[W.regional.getLocale()].monthNames)),o.setFullYear(i,r,n),o.setHours(0,0,0,0),o}return t}],t.jsDate=W,t.jqplot.sprintf=function(){function e(t,e,i,n){var r=t.length>=e?"":Array(1+e-t.length>>>0).join(i);return n?t+r:r+t}function i(e){for(var i=new String(e),n=10;n>0&&i!=(i=i.replace(/^(\d+)(\d{3})/,"$1"+t.jqplot.sprintf.thousandsSeparator+"$2"));n--);return i}function n(t,i,n,r,o,s){var a=r-t.length;if(a>0){var l=" ";s&&(l="&nbsp;"),t=n||!o?e(t,r,l,n):t.slice(0,i.length)+e("",a,"0",!0)+t.slice(i.length)}return t}function r(t,i,r,o,s,a,l,h){var u=t>>>0;return r=r&&u&&{2:"0b",8:"0",16:"0x"}[i]||"",t=r+e(u.toString(i),a||0,"0",!1),n(t,r,o,s,l,h)}function o(t,e,i,r,o,s){return null!=r&&(t=t.slice(0,r)),n(t,"",e,i,o,s)}var s=arguments,a=0;return s[a++].replace(t.jqplot.sprintf.regex,function(l,h,u,c,d,p,f){if("%%"==l)return"%";for(var g=!1,m="",v=!1,y=!1,_=!1,x=!1,b=0;u&&b<u.length;b++)switch(u.charAt(b)){case" ":m=" ";break;case"+":m="+";break;case"-":g=!0;break;case"0":v=!0;break;case"#":y=!0;break;case"&":_=!0;break;case"'":x=!0}if(c=c?"*"==c?+s[a++]:"*"==c.charAt(0)?+s[c.slice(1,-1)]:+c:0,c<0&&(c=-c,g=!0),!isFinite(c))throw new Error("$.jqplot.sprintf: (minimum-)width must be finite");p=p?"*"==p?+s[a++]:"*"==p.charAt(0)?+s[p.slice(1,-1)]:+p:"fFeE".indexOf(f)>-1?6:"d"==f?0:void 0;var w=h?s[h.slice(0,-1)]:s[a++];switch(f){case"s":return null==w?"":o(String(w),g,c,p,v,_);case"c":return o(String.fromCharCode(+w),g,c,p,v,_);case"b":return r(w,2,y,g,c,p,v,_);case"o":return r(w,8,y,g,c,p,v,_);case"x":return r(w,16,y,g,c,p,v,_);case"X":return r(w,16,y,g,c,p,v,_).toUpperCase();case"u":return r(w,10,y,g,c,p,v,_);case"i":var k=parseInt(+w,10);if(isNaN(k))return"";var C=k<0?"-":m,T=x?i(String(Math.abs(k))):String(Math.abs(k));return w=C+e(T,p,"0",!1),n(w,C,g,c,v,_);case"d":var k=Math.round(+w);if(isNaN(k))return"";var C=k<0?"-":m,T=x?i(String(Math.abs(k))):String(Math.abs(k));return w=C+e(T,p,"0",!1),n(w,C,g,c,v,_);case"e":case"E":case"f":case"F":case"g":case"G":var k=+w;if(isNaN(k))return"";var C=k<0?"-":m,S=["toExponential","toFixed","toPrecision"]["efg".indexOf(f.toLowerCase())],D=["toString","toUpperCase"]["eEfFgG".indexOf(f)%2],T=Math.abs(k)[S](p),M=T.toString().split(".");return M[0]=x?i(M[0]):M[0],T=M.join(t.jqplot.sprintf.decimalMark),w=C+T,n(w,C,g,c,v,_)[D]();case"p":case"P":var k=+w;if(isNaN(k))return"";var C=k<0?"-":m,M=String(Number(Math.abs(k)).toExponential()).split(/e|E/),A=-1!=M[0].indexOf(".")?M[0].length-1:String(k).length,P=M[1]<0?-M[1]-1:0;if(Math.abs(k)<1)w=A+P<=p?C+Math.abs(k).toPrecision(A):A<=p-1?C+Math.abs(k).toExponential(A-1):C+Math.abs(k).toExponential(p-1);else{var L=A<=p?A:p;w=C+Math.abs(k).toPrecision(L)}var D=["toString","toUpperCase"]["pP".indexOf(f)%2];return n(w,C,g,c,v,_)[D]();case"n":return"";default:return l}})},t.jqplot.sprintf.thousandsSeparator=",",t.jqplot.sprintf.decimalMark=".",t.jqplot.sprintf.regex=/%%|%(\d+\$)?([-+#0&\' ]*)(\*\d+\$|\*|\d+)?(\.(\*\d+\$|\*|\d+))?([nAscboxXuidfegpEGP])/g,t.jqplot.getSignificantFigures=function(t){var e=String(Number(Math.abs(t)).toExponential()).split(/e|E/),i=-1!=e[0].indexOf(".")?e[0].length-1:e[0].length,n=e[1]<0?-e[1]-1:0,r=parseInt(e[1],10),o=r+1>0?r+1:0;return{significantDigits:i,digitsLeft:o,digitsRight:i<=o?0:i-r-1,zeros:n,exponent:r}},t.jqplot.getPrecision=function(e){return t.jqplot.getSignificantFigures(e).digitsRight};var Z=!1!==t.uiBackCompat;t.jqplot.effects={effect:{}};t.extend(t.jqplot.effects,{version:"1.9pre",save:function(t,e){for(var i=0;i<e.length;i++)null!==e[i]&&t.data("jqplot.storage."+e[i],t[0].style[e[i]])},restore:function(t,e){for(var i=0;i<e.length;i++)null!==e[i]&&t.css(e[i],t.data("jqplot.storage."+e[i]))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var i={width:e.outerWidth(!0),height:e.outerHeight(!0),float:e.css("float")},n=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),r={width:e.width(),height:e.height()},o=document.activeElement;return e.wrap(n),(e[0]===o||t.contains(e[0],o))&&t(o).focus(),n=e.parent(),"static"===e.css("position")?(n.css({position:"relative"}),e.css({position:"relative"})):(t.extend(i,{position:e.css("position"),zIndex:e.css("z-index")}),t.each(["top","left","bottom","right"],function(t,n){i[n]=e.css(n),isNaN(parseInt(i[n],10))&&(i[n]="auto")}),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),e.css(r),n.css(i).show()},removeWrapper:function(e){var i=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===i||t.contains(e[0],i))&&t(i).focus()),e}}),t.fn.extend({jqplotEffect:function(e,i,n,r){function o(e){function i(){t.isFunction(r)&&r.call(n[0]),t.isFunction(e)&&e()}var n=t(this),r=s.complete,o=s.mode;(n.is(":hidden")?"hide"===o:"show"===o)?i():h.call(n[0],s,i)}var s=P.apply(this,arguments),a=s.mode,l=s.queue,h=t.jqplot.effects.effect[s.effect],u=!h&&Z&&t.jqplot.effects[s.effect];return t.fx.off||!h&&!u?a?this[a](s.duration,s.complete):this.each(function(){s.complete&&s.complete.call(this)}):h?!1===l?this.each(o):this.queue(l||"fx",o):u.call(this,{options:s,duration:s.duration,callback:s.complete,mode:s.mode})}});var V=/up|down|vertical/,$=/up|left|vertical|horizontal/;t.jqplot.effects.effect.blind=function(e,i){var n,r,o,s=t(this),a=["position","top","bottom","left","right","height","width"],l=t.jqplot.effects.setMode(s,e.mode||"hide"),h=e.direction||"up",u=V.test(h),c=u?"height":"width",d=u?"top":"left",p=$.test(h),f={},g="show"===l;s.parent().is(".ui-effects-wrapper")?t.jqplot.effects.save(s.parent(),a):t.jqplot.effects.save(s,a),s.show(),o=parseInt(s.css("top"),10),n=t.jqplot.effects.createWrapper(s).css({overflow:"hidden"}),r=u?n[c]()+o:n[c](),f[c]=g?String(r):"0",p||(s.css(u?"bottom":"right",0).css(u?"top":"left","").css({position:"absolute"}),f[d]=g?"0":String(r)),g&&(n.css(c,0),p||n.css(d,r)),n.animate(f,{duration:e.duration,easing:e.easing,queue:!1,complete:function(){"hide"===l&&s.hide(),t.jqplot.effects.restore(s,a),t.jqplot.effects.removeWrapper(s),i()}})}}(jQuery),define("jqplot.core",function(){}),function(t){function e(){this.uid=null,this.type=null,this.gridStart=null,this.gridStop=null,this.tooltipWidthFactor=0,this.options={name:null,show:!0,lineWidth:2,lineCap:"round",color:"#666666",shadow:!0,shadowAngle:45,shadowOffset:1,shadowDepth:3,shadowAlpha:"0.07",xaxis:"xaxis",yaxis:"yaxis",showTooltip:!1,showTooltipPrecision:.6,tooltipLocation:"nw",fadeTooltip:!0,tooltipFadeSpeed:"fast",tooltipOffset:4,tooltipFormatString:"%d, %d",label:null,showLabel:!1,labelLocation:"nw",labelOffset:4,labelAnchor:"end",labelOffsetX:0,labelOffsetY:0}}function i(i){e.call(this),this.type="rectangle";var n={xmin:null,xmax:null,xOffset:"6px",xminOffset:null,xmaxOffset:null,ymin:null,ymax:null,yOffset:"6px",yminOffset:null,ymaxOffset:null};t.extend(!0,this.options,n,i),this.options.showTooltipPrecision<.01&&(this.options.showTooltipPrecision=.01)}function n(i){e.call(this),this.type="line";var n={start:[],stop:[]};t.extend(!0,this.options,n,i),this.options.showTooltipPrecision<.01&&(this.options.showTooltipPrecision=.01)}function r(i){e.call(this),this.type="horizontalLine";var n={y:null,xmin:null,xmax:null,xOffset:"6px",xminOffset:null,xmaxOffset:null};t.extend(!0,this.options,n,i),this.options.showTooltipPrecision<.01&&(this.options.showTooltipPrecision=.01)}function o(i){e.call(this),this.type="dashedHorizontalLine";var n={y:null,xmin:null,xmax:null,xOffset:"6px",xminOffset:null,xmaxOffset:null,dashPattern:[8,8]};t.extend(!0,this.options,n,i),this.options.showTooltipPrecision<.01&&(this.options.showTooltipPrecision=.01)}function s(i){e.call(this),this.type="verticalLine";var n={x:null,ymin:null,ymax:null,yOffset:"6px",
yminOffset:null,ymaxOffset:null};t.extend(!0,this.options,n,i),this.options.showTooltipPrecision<.01&&(this.options.showTooltipPrecision=.01)}function a(i){e.call(this),this.type="dashedVerticalLine",this.start=null,this.stop=null;var n={x:null,ymin:null,ymax:null,yOffset:"6px",yminOffset:null,ymaxOffset:null,dashPattern:[8,8]};t.extend(!0,this.options,n,i),this.options.showTooltipPrecision<.01&&(this.options.showTooltipPrecision=.01)}function l(e,i){var n,r,o=t("<div/>");o.addClass("jqplot-canvasOverlay-label"),o.css({position:"absolute",display:"none"}),o.text(i.options.label),o.appendTo(e.targetId),n="start"===i.options.labelAnchor?i.gridStart:i.gridStop,r=o.outerHeight(!0),h(o,i,n,e),r!==o.outerHeight(!0)&&h(o,i,n,e),o.css("display","block")}function h(t,e,i,n){var r=c(t,e.options.labelLocation,e.options.labelOffset,i,n);t.css("left",r.x+e.options.labelOffsetX),t.css("top",r.y+e.options.labelOffsetY)}function u(e,i,n,r){var o,s=e.plugins.canvasOverlay,a=s._tooltipElem,l=i.options;a.html(t.jqplot.sprintf(l.tooltipFormatString,r[0],r[1])),o=c(a,l.tooltipLocation,l.tooltipOffset,n,e),a.css("left",o.x),a.css("top",o.y),l.fadeTooltip?a.stop(!0,!0).fadeIn(l.tooltipFadeSpeed):a.show(),a=null}function c(t,e,i,n,r){var o,s;switch(e){case"nw":o=n[0]+r._gridPadding.left-t.outerWidth(!0)-i,s=n[1]+r._gridPadding.top-i-t.outerHeight(!0);break;case"n":o=n[0]+r._gridPadding.left-t.outerWidth(!0)/2,s=n[1]+r._gridPadding.top-i-t.outerHeight(!0);break;case"ne":o=n[0]+r._gridPadding.left+i,s=n[1]+r._gridPadding.top-i-t.outerHeight(!0);break;case"e":o=n[0]+r._gridPadding.left+i,s=n[1]+r._gridPadding.top-t.outerHeight(!0)/2;break;case"se":o=n[0]+r._gridPadding.left+i,s=n[1]+r._gridPadding.top+i;break;case"s":o=n[0]+r._gridPadding.left-t.outerWidth(!0)/2,s=n[1]+r._gridPadding.top+i;break;case"sw":o=n[0]+r._gridPadding.left-t.outerWidth(!0)-i,s=n[1]+r._gridPadding.top+i;break;case"w":o=n[0]+r._gridPadding.left-t.outerWidth(!0)-i,s=n[1]+r._gridPadding.top-t.outerHeight(!0)/2;break;default:o=n[0]+r._gridPadding.left-t.outerWidth(!0)-i,s=n[1]+r._gridPadding.top-i-t.outerHeight(!0)}return{x:o,y:s}}function d(t,e,i,n){var r=t[0],o=t[1],s=Math.round(i[0]),a=Math.round(i[1]),l=Math.round(e[0]),h=Math.round(e[1]),u=Math.sqrt(Math.pow(s-l,2)+Math.pow(a-h,2)),c=n*u;return Math.abs((l-s)*(o-a)-(h-a)*(r-s))<c}function p(t,e,i,n){var r,o=t[0],s=t[1],a=Math.round(i[0]),l=Math.round(i[1]),h=Math.round(e[0]),u=Math.round(e[1]);return a>h&&(r=a,a=h,h=r),l>u&&(r=l,l=u,u=r),o>=a&&o<=h&&s>=l&&s<=u}function f(t,e,i,n,r){for(var o,s,a=r.plugins.canvasOverlay,l=a.objects,h=l.length,c=!1,f=0;f<h;f++)if(o=l[f],o.options.showTooltip){var g;if(g="rectangle"===o.type?p([e.x,e.y],o.gridStart,o.gridStop,o.tooltipWidthFactor):d([e.x,e.y],o.gridStart,o.gridStop,o.tooltipWidthFactor),i=[r.axes[o.options.xaxis].series_p2u(e.x),r.axes[o.options.yaxis].series_p2u(e.y)],g&&null==a.highlightObjectIndex){switch(o.type){case"line":u(r,o,[e.x,e.y],i);break;case"horizontalLine":case"dashedHorizontalLine":u(r,o,[e.x,o.gridStart[1]],[i[0],o.options.y]);break;case"verticalLine":case"dashedVerticalLine":case"rectangle":u(r,o,[o.gridStart[0],e.y],[o.options.x,i[1]])}a.highlightObjectIndex=f,c=!0;break}if(g&&a.highlightObjectIndex!==f){switch(s=a._tooltipElem,o.fadeTooltip?s.fadeOut(o.tooltipFadeSpeed):s.hide(),o.type){case"line":u(r,o,[e.x,e.y],i);break;case"horizontalLine":case"dashedHorizontalLine":u(r,o,[e.x,o.gridStart[1]],[i[0],o.options.y]);break;case"verticalLine":case"dashedVerticalLine":case"rectangle":u(r,o,[o.gridStart[0],e.y],[o.options.x,i[1]])}a.highlightObjectIndex=f,c=!0;break}if(g){switch(o.type){case"line":u(r,o,[e.x,e.y],i);break;case"horizontalLine":case"dashedHorizontalLine":u(r,o,[e.x,o.gridStart[1]],[i[0],o.options.y]);break;case"verticalLine":case"dashedVerticalLine":case"rectangle":u(r,o,[o.gridStart[0],e.y],[o.options.x,i[1]])}c=!0;break}}c||null===a.highlightObjectIndex||(s=a._tooltipElem,o=a.getObject(a.highlightObjectIndex),o.fadeTooltip?s.fadeOut(o.tooltipFadeSpeed):s.hide(),a.highlightObjectIndex=null)}var g=0;t.jqplot.CanvasOverlay=function(e){var i=e||{};if(this.options={show:t.jqplot.config.enablePlugins,deferDraw:!1},this.objects=[],this.objectNames=[],this.canvas=null,this.markerRenderer=new t.jqplot.MarkerRenderer({style:"line"}),this.markerRenderer.init(),this.highlightObjectIndex=null,i.objects)for(var n,r=i.objects,o=0;o<r.length;o++){n=r[o];for(var s in n)switch(s){case"line":this.addLine(n[s]);break;case"horizontalLine":this.addHorizontalLine(n[s]);break;case"dashedHorizontalLine":this.addDashedHorizontalLine(n[s]);break;case"verticalLine":this.addVerticalLine(n[s]);break;case"dashedVerticalLine":this.addDashedVerticalLine(n[s]);break;case"rectangle":this.addRectangle(n[s])}}t.extend(!0,this.options,i)},t.jqplot.CanvasOverlay.postPlotInit=function(e,i,n){var r=n||{};this.plugins.canvasOverlay=new t.jqplot.CanvasOverlay(r.canvasOverlay)},i.prototype=new e,i.prototype.constructor=i,n.prototype=new e,n.prototype.constructor=n,r.prototype=new e,r.prototype.constructor=r,o.prototype=new e,o.prototype.constructor=o,s.prototype=new e,s.prototype.constructor=s,a.prototype=new e,a.prototype.constructor=a,t.jqplot.CanvasOverlay.prototype.addLine=function(t){var e=new n(t);e.uid=g++,this.objects.push(e),this.objectNames.push(e.options.name)},t.jqplot.CanvasOverlay.prototype.addHorizontalLine=function(t){var e=new r(t);e.uid=g++,this.objects.push(e),this.objectNames.push(e.options.name)},t.jqplot.CanvasOverlay.prototype.addDashedHorizontalLine=function(t){var e=new o(t);e.uid=g++,this.objects.push(e),this.objectNames.push(e.options.name)},t.jqplot.CanvasOverlay.prototype.addVerticalLine=function(t){var e=new s(t);e.uid=g++,this.objects.push(e),this.objectNames.push(e.options.name)},t.jqplot.CanvasOverlay.prototype.addDashedVerticalLine=function(t){var e=new a(t);e.uid=g++,this.objects.push(e),this.objectNames.push(e.options.name)},t.jqplot.CanvasOverlay.prototype.addRectangle=function(t){var e=new i(t);e.uid=g++,this.objects.push(e),this.objectNames.push(e.options.name)},t.jqplot.CanvasOverlay.prototype.removeObject=function(e){if("number"==t.type(e))this.objects.splice(e,1),this.objectNames.splice(e,1);else{var i=t.inArray(e,this.objectNames);-1!=i&&(this.objects.splice(i,1),this.objectNames.splice(i,1))}},t.jqplot.CanvasOverlay.prototype.getObject=function(e){if("number"==t.type(e))return this.objects[e];var i=t.inArray(e,this.objectNames);return-1!=i?this.objects[i]:void 0},t.jqplot.CanvasOverlay.prototype.get=t.jqplot.CanvasOverlay.prototype.getObject,t.jqplot.CanvasOverlay.prototype.clear=function(t){this.canvas._ctx.clearRect(0,0,this.canvas.getWidth(),this.canvas.getHeight())},t.jqplot.CanvasOverlay.prototype.draw=function(e){var i,n,r,o=this.objects,s=this.markerRenderer;if(this.options.show){this.canvas._ctx.clearRect(0,0,this.canvas.getWidth(),this.canvas.getHeight());for(var a=0;a<o.length;a++){i=o[a];var h=t.extend(!0,{},i.options);if(i.options.show){switch(s.shadow=i.options.shadow,i.tooltipWidthFactor=i.options.lineWidth/i.options.showTooltipPrecision,i.type){case"line":s.style="line",h.closePath=!1,n=[e.axes[i.options.xaxis].series_u2p(i.options.start[0]),e.axes[i.options.yaxis].series_u2p(i.options.start[1])],r=[e.axes[i.options.xaxis].series_u2p(i.options.stop[0]),e.axes[i.options.yaxis].series_u2p(i.options.stop[1])],i.gridStart=n,i.gridStop=r,s.draw(n,r,this.canvas._ctx,h);break;case"horizontalLine":if(null!=i.options.y){s.style="line",h.closePath=!1;var u,c,d=e.axes[i.options.xaxis],p=e.axes[i.options.yaxis].series_u2p(i.options.y),f=i.options.xminOffset||i.options.xOffset,g=i.options.xmaxOffset||i.options.xOffset;null!=i.options.xmin?u=d.series_u2p(i.options.xmin):null!=f&&("number"==t.type(f)?u=d.series_u2p(d.min+f):"string"==t.type(f)&&(u=d.series_u2p(d.min)+parseFloat(f))),null!=i.options.xmax?c=d.series_u2p(i.options.xmax):null!=g&&("number"==t.type(g)?c=d.series_u2p(d.max-g):"string"==t.type(g)&&(c=d.series_u2p(d.max)-parseFloat(g))),null!=c&&null!=u&&(i.gridStart=[u,p],i.gridStop=[c,p],s.draw([u,p],[c,p],this.canvas._ctx,h))}break;case"dashedHorizontalLine":for(var m=i.options.dashPattern,v=0,y=0;y<m.length;y++)v+=m[y];if(null!=i.options.y){s.style="line",h.closePath=!1;var u,c,d=e.axes[i.options.xaxis],p=e.axes[i.options.yaxis].series_u2p(i.options.y),f=i.options.xminOffset||i.options.xOffset,g=i.options.xmaxOffset||i.options.xOffset;if(null!=i.options.xmin?u=d.series_u2p(i.options.xmin):null!=f&&("number"==t.type(f)?u=d.series_u2p(d.min+f):"string"==t.type(f)&&(u=d.series_u2p(d.min)+parseFloat(f))),null!=i.options.xmax?c=d.series_u2p(i.options.xmax):null!=g&&("number"==t.type(g)?c=d.series_u2p(d.max-g):"string"==t.type(g)&&(c=d.series_u2p(d.max)-parseFloat(g))),null!=c&&null!=u){i.gridStart=[u,p],i.gridStop=[c,p];for(var _,x=Math.ceil((c-u)/v),b=u,y=0;y<x;y++)for(var w=0;w<m.length;w+=2)_=b+m[w],s.draw([b,p],[_,p],this.canvas._ctx,h),b+=m[w],w<m.length-1&&(b+=m[w+1])}}break;case"verticalLine":if(null!=i.options.x){s.style="line",h.closePath=!1;var k,C,T=e.axes[i.options.yaxis],S=e.axes[i.options.xaxis].series_u2p(i.options.x),D=i.options.yminOffset||i.options.yOffset,M=i.options.ymaxOffset||i.options.yOffset;null!=i.options.ymin?k=T.series_u2p(i.options.ymin):null!=D&&("number"==t.type(D)?k=T.series_u2p(T.min-D):"string"==t.type(D)&&(k=T.series_u2p(T.min)-parseFloat(D))),null!=i.options.ymax?C=T.series_u2p(i.options.ymax):null!=M&&("number"==t.type(M)?C=T.series_u2p(T.max+M):"string"==t.type(M)&&(C=T.series_u2p(T.max)+parseFloat(M))),null!=C&&null!=k&&(i.gridStart=[S,k],i.gridStop=[S,C],s.draw([S,k],[S,C],this.canvas._ctx,h))}break;case"dashedVerticalLine":for(var m=i.options.dashPattern,v=0,y=0;y<m.length;y++)v+=m[y];if(null!=i.options.x){s.style="line",h.closePath=!1;var k,C,T=e.axes[i.options.yaxis],S=e.axes[i.options.xaxis].series_u2p(i.options.x),D=i.options.yminOffset||i.options.yOffset,M=i.options.ymaxOffset||i.options.yOffset;if(null!=i.options.ymin?k=T.series_u2p(i.options.ymin):null!=D&&("number"==t.type(D)?k=T.series_u2p(T.min-D):"string"==t.type(D)&&(k=T.series_u2p(T.min)-parseFloat(D))),null!=i.options.ymax?C=T.series_u2p(i.options.ymax):null!=M&&("number"==t.type(M)?C=T.series_u2p(T.max+M):"string"==t.type(M)&&(C=T.series_u2p(T.max)+parseFloat(M))),null!=C&&null!=k){i.gridStart=[S,k],i.gridStop=[S,C];for(var _,x=Math.ceil((k-C)/v),b=k,y=0;y<x;y++)for(var w=0;w<m.length;w+=2)_=b-m[w],_<C&&(_=C),b<C&&(b=C),s.draw([S,b],[S,_],this.canvas._ctx,h),b-=m[w],w<m.length-1&&(b-=m[w+1])}}break;case"rectangle":s.style="line",h.closePath=!0;var u,c,d=e.axes[i.options.xaxis],p=e.axes[i.options.yaxis].series_u2p(i.options.y),f=i.options.xminOffset||i.options.xOffset,g=i.options.xmaxOffset||i.options.xOffset;null!=i.options.xmin?u=d.series_u2p(i.options.xmin):null!=f&&("number"==t.type(f)?u=d.series_u2p(d.min+f):"string"==t.type(f)&&(u=d.series_u2p(d.min)+parseFloat(f))),null!=i.options.xmax?c=d.series_u2p(i.options.xmax):null!=g&&("number"==t.type(g)?c=d.series_u2p(d.max-g):"string"==t.type(g)&&(c=d.series_u2p(d.max)-parseFloat(g)));var k,C,T=e.axes[i.options.yaxis],S=e.axes[i.options.xaxis].series_u2p(i.options.x),D=i.options.yminOffset||i.options.yOffset,M=i.options.ymaxOffset||i.options.yOffset;null!=i.options.ymin?k=T.series_u2p(i.options.ymin):null!=D&&("number"==t.type(D)?k=T.series_u2p(T.min-D):"string"==t.type(D)&&(k=T.series_u2p(T.min)-parseFloat(D))),null!=i.options.ymax?C=T.series_u2p(i.options.ymax):null!=M&&("number"==t.type(M)?C=T.series_u2p(T.max+M):"string"==t.type(M)&&(C=T.series_u2p(T.max)+parseFloat(M))),null!=c&&null!=u&&null!=C&&null!=k&&(i.gridStart=[u,k],i.gridStop=[c,C],this.canvas._ctx.fillStyle=i.options.color,this.canvas._ctx.fillRect(u,k,c-u,C-k))}i.options.showLabel&&l(e,i)}}}},t.jqplot.CanvasOverlay.postPlotDraw=function(){var e=this.plugins.canvasOverlay;e&&e.highlightCanvas&&(e.highlightCanvas.resetCanvas(),e.highlightCanvas=null),e.canvas=new t.jqplot.GenericCanvas,this.eventCanvas._elem.before(e.canvas.createElement(this._gridPadding,"jqplot-overlayCanvas-canvas",this._plotDimensions,this)),e.canvas.setContext(),e.deferDraw||e.draw(this);var i=document.createElement("div");e._tooltipElem=t(i),i=null,e._tooltipElem.addClass("jqplot-canvasOverlay-tooltip"),e._tooltipElem.css({position:"absolute",display:"none"}),this.eventCanvas._elem.before(e._tooltipElem),this.eventCanvas._elem.bind("mouseleave",{elem:e._tooltipElem},function(t){t.data.elem.hide()});var e=null},t.jqplot.postInitHooks.push(t.jqplot.CanvasOverlay.postPlotInit),t.jqplot.postDrawHooks.push(t.jqplot.CanvasOverlay.postPlotDraw),t.jqplot.eventListenerHooks.push(["jqplotMouseMove",f])}(jQuery),define("jqplot-plugins/jqplot.canvasOverlay",function(){}),function(t){function e(e,i,n,r,o){this.selection=new t.jqplot.Selection,r=r||{},t.extend(!0,this.selection,{selectedMarkerOptions:r.markerOptions},{selectedMarkerOptions:{color:this.color}},n.selection,r.selection),this.selection.renderer.init.call(this.selection,null),this.selection.markerRenderer.init.call(this.selection.markerRenderer,this.selection.selectedMarkerOptions)}function i(e,i){if(i=t.extend(!0,{},this.selection,i),i.show&&this.show){var n=this.data,r=t.map(i.selectedPoints,function(t){return[n[t]]}),o=this.renderer.makeGridData.call(this,r);this.selection.renderer.draw.call(this.selection,e,o,{})}}function n(e,i,n){this.target.bind("jqplotDataClick",t.proxy(r,this)),this.togglePoint=t.proxy(o,this),this.togglePointSilently=t.proxy(s,this)}function r(t,e,i,n){this.togglePoint(e,i)}function o(t,e,i){var n=this.series[t];if(!n.selection||!n.selection.show)return!1;var r=l(t,e),o=[t,e,r];if(r){if(n.selection.onDeselect&&!n.selection.onDeselect.apply(this,o)&&!i)return r}else if(n.selection.onSelect&&!n.selection.onSelect.apply(this,o)&&!i)return r;if(r=a.call(this,t,e),o=[t,e,r],r)return n.selection.onSelected&&n.selection.onSelected.apply(this,o),this.target.trigger("jqplotPointSelected",o),!0;var o=[t,e,!1];return n.selection.onDeselected&&n.selection.onDeselected.apply(this,o),this.target.trigger("jqplotPointDeselected",o),!1}function s(t,e){var i=this.series[t];return!(!i.selection||!i.selection.show)&&a.call(this,t,e)}function a(e,i){var n=this.series[e],r=t.inArray(i,n.selection.selectedPoints);return-1==r?(n.selection.selectedPoints.push(i),this.drawSeries({},e),!0):(n.selection.selectedPoints.splice(r,1),this.drawSeries({},e),!1)}function l(e,i){if(n&&this.series.length>e){var n=this.series[e];return t.inArray(i,n.selection.selectedPoints)>=0}return!1}t.jqplot.Selection=function(){this.show=t.jqplot.config.enablePlugins,this.renderer=new t.jqplot.LineRenderer,this.rendererOptions={showLine:!1,showMarker:!0},this.markerRenderer=new t.jqplot.MarkerRenderer,this.selectedMarkerOptions={size:15},this.selectedPoints=[],this.onSelect=null,this.onDeselect=null,this.onSelected=null,this.onDeselected=null},t.jqplot.postSeriesInitHooks.push(e),t.jqplot.postDrawSeriesHooks.push(i),t.jqplot.postInitHooks.push(n)}(jQuery),define("jqplot-plugins/jqplot.selection",function(){}),function(t){function e(t,e,i){for(var n,r,a,l=Number.MAX_VALUE,h=0,u=s.length;h<u;h++)(n=Math.abs(i-s[h]))<l&&(l=n,r=s[h],a=o[h]);return[r,a]}t.jqplot.DateAxisRenderer=function(){t.jqplot.LinearAxisRenderer.call(this),this.date=new t.jsDate};var i=864e5,n=30.4368499*i,r=365.242199*i,o=["%M:%S.%#N","%M:%S.%#N","%M:%S.%#N","%M:%S","%M:%S","%M:%S","%M:%S","%H:%M:%S","%H:%M:%S","%H:%M","%H:%M","%H:%M","%H:%M","%H:%M","%H:%M","%a %H:%M","%a %H:%M","%b %e %H:%M","%b %e %H:%M","%b %e %H:%M","%b %e %H:%M","%v","%v","%v","%v","%v","%v","%v"],s=[100,200,500,1e3,2e3,5e3,1e4,15e3,3e4,6e4,12e4,3e5,6e5,9e5,18e5,36e5,72e5,144e5,216e5,288e5,432e5,i,2*i,3*i,4*i,432e6,6048e5,12096e5];t.jqplot.DateAxisRenderer.prototype=new t.jqplot.LinearAxisRenderer,t.jqplot.DateAxisRenderer.prototype.constructor=t.jqplot.DateAxisRenderer,t.jqplot.DateTickFormatter=function(e,i){return e||(e="%Y/%m/%d"),t.jsDate.strftime(i,e)},t.jqplot.DateAxisRenderer.prototype.init=function(e){this.tickOptions.formatter=t.jqplot.DateTickFormatter,this.tickInset=0,this.drawBaseline=!0,this.baselineWidth=null,this.baselineColor=null,this.daTickInterval=null,this._daTickInterval=null,t.extend(!0,this,e);for(var i,n,r,o,s,a,l,h=this._dataBounds,u=0;u<this._series.length;u++){i={intervals:[],frequencies:{},sortedIntervals:[],min:null,max:null,mean:null},n=0,r=this._series[u],o=r.data,s=r._plotData,a=r._stackData,l=0;for(var c=0;c<o.length;c++)"xaxis"==this.name||"x2axis"==this.name?(o[c][0]=new t.jsDate(o[c][0]).getTime(),s[c][0]=new t.jsDate(o[c][0]).getTime(),a[c][0]=new t.jsDate(o[c][0]).getTime(),(null!=o[c][0]&&o[c][0]<h.min||null==h.min)&&(h.min=o[c][0]),(null!=o[c][0]&&o[c][0]>h.max||null==h.max)&&(h.max=o[c][0]),c>0&&(l=Math.abs(o[c][0]-o[c-1][0]),i.intervals.push(l),i.frequencies.hasOwnProperty(l)?i.frequencies[l]+=1:i.frequencies[l]=1),n+=l):(o[c][1]=new t.jsDate(o[c][1]).getTime(),s[c][1]=new t.jsDate(o[c][1]).getTime(),a[c][1]=new t.jsDate(o[c][1]).getTime(),(null!=o[c][1]&&o[c][1]<h.min||null==h.min)&&(h.min=o[c][1]),(null!=o[c][1]&&o[c][1]>h.max||null==h.max)&&(h.max=o[c][1]),c>0&&(l=Math.abs(o[c][1]-o[c-1][1]),i.intervals.push(l),i.frequencies.hasOwnProperty(l)?i.frequencies[l]+=1:i.frequencies[l]=1)),n+=l;if(r.renderer.bands){if(r.renderer.bands.hiData.length)for(var d=r.renderer.bands.hiData,c=0,p=d.length;c<p;c++)"xaxis"===this.name||"x2axis"===this.name?(d[c][0]=new t.jsDate(d[c][0]).getTime(),(null!=d[c][0]&&d[c][0]>h.max||null==h.max)&&(h.max=d[c][0])):(d[c][1]=new t.jsDate(d[c][1]).getTime(),(null!=d[c][1]&&d[c][1]>h.max||null==h.max)&&(h.max=d[c][1]));if(r.renderer.bands.lowData.length)for(var d=r.renderer.bands.lowData,c=0,p=d.length;c<p;c++)"xaxis"===this.name||"x2axis"===this.name?(d[c][0]=new t.jsDate(d[c][0]).getTime(),(null!=d[c][0]&&d[c][0]<h.min||null==h.min)&&(h.min=d[c][0])):(d[c][1]=new t.jsDate(d[c][1]).getTime(),(null!=d[c][1]&&d[c][1]<h.min||null==h.min)&&(h.min=d[c][1]))}for(var f in i.frequencies)i.sortedIntervals.push({interval:f,frequency:i.frequencies[f]});i.sortedIntervals.sort(function(t,e){return e.frequency-t.frequency}),i.min=t.jqplot.arrayMin(i.intervals),i.max=t.jqplot.arrayMax(i.intervals),i.mean=n/o.length,this._intervalStats.push(i),i=n=r=o=s=a=null}h=null},t.jqplot.DateAxisRenderer.prototype.reset=function(){this.min=this._options.min,this.max=this._options.max,this.tickInterval=this._options.tickInterval,this.numberTicks=this._options.numberTicks,this._autoFormatString="",this._overrideFormatString&&this.tickOptions&&this.tickOptions.formatString&&(this.tickOptions.formatString=""),this.daTickInterval=this._daTickInterval},t.jqplot.DateAxisRenderer.prototype.createTicks=function(o){var s,a,l,h,u=(this._ticks,this.ticks),c=this.name,d=this._dataBounds,p=(this._intervalStats,"x"===this.name.charAt(0)?this._plotDimensions.width:this._plotDimensions.height),f=1,g=null;if(null!=this.tickInterval)if(Number(this.tickInterval))g=[Number(this.tickInterval),"seconds"];else if("string"==typeof this.tickInterval){var m=this.tickInterval.split(" ");1==m.length?g=[1,m[0]]:2==m.length&&(g=[m[0],m[1]])}this.tickInterval;s=new t.jsDate(null!=this.min?this.min:d.min).getTime(),a=new t.jsDate(null!=this.max?this.max:d.max).getTime();var v=o.plugins.cursor;v&&v._zoom&&v._zoom.zooming&&(this.min=null,this.max=null);var y=a-s;if(null!=this.tickOptions&&this.tickOptions.formatString||(this._overrideFormatString=!0),u.length){for(h=0;h<u.length;h++){var _=u[h],x=new this.tickRenderer(this.tickOptions);_.constructor==Array?(x.value=new t.jsDate(_[0]).getTime(),x.label=_[1],this.showTicks?this.showTickMarks||(x.showMark=!1):(x.showLabel=!1,x.showMark=!1),x.setTick(x.value,this.name),this._ticks.push(x)):(x.value=new t.jsDate(_).getTime(),this.showTicks?this.showTickMarks||(x.showMark=!1):(x.showLabel=!1,x.showMark=!1),x.setTick(x.value,this.name),this._ticks.push(x))}this.numberTicks=u.length,this.min=this._ticks[0].value,this.max=this._ticks[this.numberTicks-1].value,this.daTickInterval=[(this.max-this.min)/(this.numberTicks-1)/1e3,"seconds"]}else if(null==this.min&&null==this.max&&d.min==d.max){var b=t.extend(!0,{},this.tickOptions,{name:this.name,value:null});this.min=d.min-3e5,this.max=d.max+3e5,this.numberTicks=3;for(var h=this.min;h<=this.max;h+=3e5){b.value=h;var x=new this.tickRenderer(b);this._overrideFormatString&&""!=this._autoFormatString&&(x.formatString=this._autoFormatString),x.showLabel=!1,x.showMark=!1,this._ticks.push(x)}this.showTicks&&(this._ticks[1].showLabel=!0),this.showTickMarks&&(this._ticks[1].showTickMarks=!0)}else if(null==this.min&&null==this.max){var w,k,C=t.extend(!0,{},this.tickOptions,{name:this.name,value:null});if(this.tickInterval||this.numberTicks)this.tickInterval?k=new t.jsDate(0).add(g[0],g[1]).getTime():this.numberTicks&&(w=this.numberTicks,k=(a-s)/(w-1));else{var T=Math.max(p,31),S=115;this.tickRenderer===t.jqplot.CanvasAxisTickRenderer&&this.tickOptions.angle&&(S=115-40*Math.abs(Math.sin(this.tickOptions.angle/180*Math.PI))),w=Math.ceil((T-30)/S+1),k=(a-s)/(w-1)}if(k<=19*i){var D=e(s,a,k),M=D[0];this._autoFormatString=D[1],s=new t.jsDate(s),s=Math.floor((s.getTime()-s.getUtcOffset())/M)*M+s.getUtcOffset(),w=Math.ceil((a-s)/M)+1,this.min=s,this.max=s+(w-1)*M,this.max<a&&(this.max+=M,w+=1),this.tickInterval=M,this.numberTicks=w;for(var h=0;h<w;h++)C.value=this.min+h*M,x=new this.tickRenderer(C),this._overrideFormatString&&""!=this._autoFormatString&&(x.formatString=this._autoFormatString),this.showTicks?this.showTickMarks||(x.showMark=!1):(x.showLabel=!1,x.showMark=!1),this._ticks.push(x);f=this.tickInterval}else if(k<=9*n){this._autoFormatString="%v";var A=Math.round(k/n);A<1?A=1:A>6&&(A=6);var P=new t.jsDate(s).setDate(1).setHours(0,0,0,0),L=new t.jsDate(a),E=new t.jsDate(a).setDate(1).setHours(0,0,0,0);L.getTime()!==E.getTime()&&(E=E.add(1,"month"));var q=E.diff(P,"month");w=Math.ceil(q/A)+1,this.min=P.getTime(),this.max=P.clone().add((w-1)*A,"month").getTime(),this.numberTicks=w;for(var h=0;h<w;h++)C.value=0===h?P.getTime():P.add(A,"month").getTime(),x=new this.tickRenderer(C),this._overrideFormatString&&""!=this._autoFormatString&&(x.formatString=this._autoFormatString),this.showTicks?this.showTickMarks||(x.showMark=!1):(x.showLabel=!1,x.showMark=!1),this._ticks.push(x);f=A*n}else{this._autoFormatString="%v";var A=Math.round(k/r);A<1&&(A=1);var P=new t.jsDate(s).setMonth(0,1).setHours(0,0,0,0),E=new t.jsDate(a).add(1,"year").setMonth(0,1).setHours(0,0,0,0),I=E.diff(P,"year");w=Math.ceil(I/A)+1,this.min=P.getTime(),this.max=P.clone().add((w-1)*A,"year").getTime(),this.numberTicks=w;for(var h=0;h<w;h++)C.value=0===h?P.getTime():P.add(A,"year").getTime(),x=new this.tickRenderer(C),this._overrideFormatString&&""!=this._autoFormatString&&(x.formatString=this._autoFormatString),this.showTicks?this.showTickMarks||(x.showMark=!1):(x.showLabel=!1,x.showMark=!1),this._ticks.push(x);f=A*r}}else{if(p="xaxis"==c||"x2axis"==c?this._plotDimensions.width:this._plotDimensions.height,null!=this.min&&null!=this.max&&null!=this.numberTicks&&(this.tickInterval=null),null!=this.tickInterval&&null!=g&&(this.daTickInterval=g),s==a){s-=432e5,a+=432e5}y=a-s;var j,O;parseInt(Math.max(0,p-100)/100,10);if(j=null!=this.min?new t.jsDate(this.min).getTime():s-y/2*(this.padMin-1),O=null!=this.max?new t.jsDate(this.max).getTime():a+y/2*(this.padMax-1),this.min=j,this.max=O,y=this.max-this.min,null==this.numberTicks)if(null!=this.daTickInterval){var R=new t.jsDate(this.max).diff(this.min,this.daTickInterval[1],!0);this.numberTicks=Math.ceil(R/this.daTickInterval[0])+1,this.max=new t.jsDate(this.min).add((this.numberTicks-1)*this.daTickInterval[0],this.daTickInterval[1]).getTime()}else this.numberTicks=p>200?parseInt(3+(p-200)/100,10):2;f=y/(this.numberTicks-1)/1e3,null==this.daTickInterval&&(this.daTickInterval=[f,"seconds"]);for(var h=0;h<this.numberTicks;h++){var s=new t.jsDate(this.min);l=s.add(h*this.daTickInterval[0],this.daTickInterval[1]).getTime();var x=new this.tickRenderer(this.tickOptions);this.showTicks?this.showTickMarks||(x.showMark=!1):(x.showLabel=!1,x.showMark=!1),x.setTick(l,this.name),this._ticks.push(x)}}this.tickInset&&(this.min=this.min-this.tickInset*f,this.max=this.max+this.tickInset*f),null==this._daTickInterval&&(this._daTickInterval=this.daTickInterval)}}(jQuery),define("jqplot/plugins/jqplot.dateAxisRenderer",function(){}),function(t){t.jqplot.EnhancedLegendRenderer=function(){t.jqplot.TableLegendRenderer.call(this)},t.jqplot.EnhancedLegendRenderer.prototype=new t.jqplot.TableLegendRenderer,t.jqplot.EnhancedLegendRenderer.prototype.constructor=t.jqplot.EnhancedLegendRenderer,t.jqplot.EnhancedLegendRenderer.prototype.init=function(e){this.numberRows=null,this.numberColumns=null,this.seriesToggle="normal",this.seriesToggleReplot=!1,this.disableIEFading=!0,t.extend(!0,this,e),this.seriesToggle&&t.jqplot.postDrawHooks.push(i)},t.jqplot.EnhancedLegendRenderer.prototype.draw=function(i,n){if(this.show){var r,o=this._series,s="position:absolute;";s+=this.background?"background:"+this.background+";":"",s+=this.border?"border:"+this.border+";":"",s+=this.fontSize?"font-size:"+this.fontSize+";":"",s+=this.fontFamily?"font-family:"+this.fontFamily+";":"",s+=this.textColor?"color:"+this.textColor+";":"",s+=null!=this.marginTop?"margin-top:"+this.marginTop+";":"",s+=null!=this.marginBottom?"margin-bottom:"+this.marginBottom+";":"",s+=null!=this.marginLeft?"margin-left:"+this.marginLeft+";":"",s+=null!=this.marginRight?"margin-right:"+this.marginRight+";":"",this._elem=t('<table class="jqplot-table-legend" style="'+s+'"></table>'),this.seriesToggle&&this._elem.css("z-index","3");var a,l,h=!1,u=!1;this.numberRows?(a=this.numberRows,l=this.numberColumns?this.numberColumns:Math.ceil(o.length/a)):this.numberColumns?(l=this.numberColumns,a=Math.ceil(o.length/this.numberColumns)):(a=o.length,l=1);var c,d,p,f,g,m,v,y,_,x=0;for(c=o.length-1;c>=0;c--)(1==l&&o[c]._stack||o[c].renderer.constructor==t.jqplot.BezierCurveRenderer)&&(u=!0);for(c=0;c<a;c++){for(p=t(document.createElement("tr")),p.addClass("jqplot-table-legend"),u?p.prependTo(this._elem):p.appendTo(this._elem),d=0;d<l;d++){if(x<o.length&&(o[x].show||o[x].showLabel)&&(r=o[x],m=this.labels[x]||r.label.toString())){var b=r.color;if(h=u?c!=a-1:c>0,v=h?this.rowSpacing:"0",f=t(document.createElement("td")),f.addClass("jqplot-table-legend jqplot-table-legend-swatch"),f.css({textAlign:"center",paddingTop:v}),y=t(document.createElement("div")),y.addClass("jqplot-table-legend-swatch-outline"),_=t(document.createElement("div")),_.addClass("jqplot-table-legend-swatch"),_.css({backgroundColor:b,borderColor:b}),f.append(y.append(_)),g=t(document.createElement("td")),g.addClass("jqplot-table-legend jqplot-table-legend-label"),g.css("paddingTop",v),this.escapeHtml?g.text(m):g.html(m),u?(this.showLabels&&g.prependTo(p),this.showSwatches&&f.prependTo(p)):(this.showSwatches&&f.appendTo(p),this.showLabels&&g.appendTo(p)),this.seriesToggle){var w;"string"!=typeof this.seriesToggle&&"number"!=typeof this.seriesToggle||t.jqplot.use_excanvas&&this.disableIEFading||(w=this.seriesToggle),this.showSwatches&&(f.bind("click",{series:r,speed:w,plot:n,replot:this.seriesToggleReplot},e),f.addClass("jqplot-seriesToggle")),this.showLabels&&(g.bind("click",{series:r,speed:w,plot:n,replot:this.seriesToggleReplot},e),g.addClass("jqplot-seriesToggle")),!r.show&&r.showLabel&&(f.addClass("jqplot-series-hidden"),g.addClass("jqplot-series-hidden"))}h=!0}x++}f=g=y=_=null}}return this._elem};var e=function(e){var i=e.data,n=i.series,r=i.replot,o=i.plot,s=i.speed,a=n.index,l=!1;!n.canvas._elem.is(":hidden")&&n.show||(l=!0);var h=function(){if(r){var e={};if(t.isPlainObject(r)&&t.extend(!0,e,r),o.replot(e),l&&s){var i=o.series[a];i.shadowCanvas._elem&&i.shadowCanvas._elem.hide().fadeIn(s),i.canvas._elem.hide().fadeIn(s),i.canvas._elem.nextAll(".jqplot-point-label.jqplot-series-"+i.index).hide().fadeIn(s)}}else{var i=o.series[a];i.canvas._elem.is(":hidden")||!i.show?(void 0!==o.options.legend.showSwatches&&!0!==o.options.legend.showSwatches||o.legend._elem.find("td").eq(2*a).addClass("jqplot-series-hidden"),void 0!==o.options.legend.showLabels&&!0!==o.options.legend.showLabels||o.legend._elem.find("td").eq(2*a+1).addClass("jqplot-series-hidden")):(void 0!==o.options.legend.showSwatches&&!0!==o.options.legend.showSwatches||o.legend._elem.find("td").eq(2*a).removeClass("jqplot-series-hidden"),void 0!==o.options.legend.showLabels&&!0!==o.options.legend.showLabels||o.legend._elem.find("td").eq(2*a+1).removeClass("jqplot-series-hidden"))}};n.toggleDisplay(e,h)},i=function(){if(this.legend.renderer.constructor==t.jqplot.EnhancedLegendRenderer&&this.legend.seriesToggle){var e=this.legend._elem.detach();this.eventCanvas._elem.after(e)}}}(jQuery),define("jqplot/plugins/jqplot.enhancedLegendRenderer",function(){}),function(t){function e(e,i){var n=e.plugins.highlighter,r=e.series[i.seriesIndex],o=r.markerRenderer,s=n.markerRenderer;s.style=o.style,s.lineWidth=o.lineWidth+n.lineWidthAdjust,s.size=o.size+n.sizeAdjust;var a=t.jqplot.getColorComponents(o.color),l=[a[0],a[1],a[2]],h=a[3]>=.6?.6*a[3]:a[3]*(2-a[3]);s.color="rgba("+l[0]+","+l[1]+","+l[2]+","+h+")",s.init(),s.draw(r.gridData[i.pointIndex][0],r.gridData[i.pointIndex][1],n.highlightCanvas._ctx)}function i(e,i,n){var a=e.plugins.highlighter,l=a._tooltipElem,h=i.highlighter||{},u=t.extend(!0,{},a,h);if(u.useAxesFormatters){for(var c,d=i._xaxis._ticks[0].formatter,p=i._yaxis._ticks[0].formatter,f=i._xaxis._ticks[0].formatString,g=i._yaxis._ticks[0].formatString,m=d(f,n.data[0]),v=[],y=1;y<u.yvalues+1;y++)v.push(p(g,n.data[y]));if("string"==typeof u.formatString)switch(u.tooltipAxes){case"both":case"xy":v.unshift(m),v.unshift(u.formatString),c=t.jqplot.sprintf.apply(t.jqplot.sprintf,v);break;case"yx":v.push(m),v.unshift(u.formatString),c=t.jqplot.sprintf.apply(t.jqplot.sprintf,v);break;case"x":c=t.jqplot.sprintf.apply(t.jqplot.sprintf,[u.formatString,m]);break;case"y":v.unshift(u.formatString),c=t.jqplot.sprintf.apply(t.jqplot.sprintf,v);break;default:v.unshift(m),v.unshift(u.formatString),c=t.jqplot.sprintf.apply(t.jqplot.sprintf,v)}else switch(u.tooltipAxes){case"both":case"xy":c=m;for(var y=0;y<v.length;y++)c+=u.tooltipSeparator+v[y];break;case"yx":c="";for(var y=0;y<v.length;y++)c+=v[y]+u.tooltipSeparator;c+=m;break;case"x":c=m;break;case"y":c=v.join(u.tooltipSeparator);break;default:c=m;for(var y=0;y<v.length;y++)c+=u.tooltipSeparator+v[y]}}else{var c;"string"==typeof u.formatString?c=t.jqplot.sprintf.apply(t.jqplot.sprintf,[u.formatString].concat(n.data)):"both"==u.tooltipAxes||"xy"==u.tooltipAxes?c=t.jqplot.sprintf(u.tooltipFormatString,n.data[0])+u.tooltipSeparator+t.jqplot.sprintf(u.tooltipFormatString,n.data[1]):"yx"==u.tooltipAxes?c=t.jqplot.sprintf(u.tooltipFormatString,n.data[1])+u.tooltipSeparator+t.jqplot.sprintf(u.tooltipFormatString,n.data[0]):"x"==u.tooltipAxes?c=t.jqplot.sprintf(u.tooltipFormatString,n.data[0]):"y"==u.tooltipAxes&&(c=t.jqplot.sprintf(u.tooltipFormatString,n.data[1]))}t.isFunction(u.tooltipContentEditor)&&(c=u.tooltipContentEditor(c,n.seriesIndex,n.pointIndex,e)),l.html(c);var _={x:n.gridData[0],y:n.gridData[1]},x=0;1==i.markerRenderer.show&&(x=(i.markerRenderer.size+u.sizeAdjust)/2);var b=r;switch(i.fillToZero&&i.fill&&n.data[1]<0&&(b=s),b[o[u.tooltipLocation]]){case"nw":var w=_.x+e._gridPadding.left-l.outerWidth(!0)-u.tooltipOffset-.707*x,k=_.y+e._gridPadding.top-u.tooltipOffset-l.outerHeight(!0)-.707*x;break;case"n":var w=_.x+e._gridPadding.left-l.outerWidth(!0)/2,k=_.y+e._gridPadding.top-u.tooltipOffset-l.outerHeight(!0)-x;break;case"ne":var w=_.x+e._gridPadding.left+u.tooltipOffset+.707*x,k=_.y+e._gridPadding.top-u.tooltipOffset-l.outerHeight(!0)-.707*x;break;case"e":var w=_.x+e._gridPadding.left+u.tooltipOffset+x,k=_.y+e._gridPadding.top-l.outerHeight(!0)/2;break;case"se":var w=_.x+e._gridPadding.left+u.tooltipOffset+.707*x,k=_.y+e._gridPadding.top+u.tooltipOffset+.707*x;break;case"s":var w=_.x+e._gridPadding.left-l.outerWidth(!0)/2,k=_.y+e._gridPadding.top+u.tooltipOffset+x;break
;case"sw":var w=_.x+e._gridPadding.left-l.outerWidth(!0)-u.tooltipOffset-.707*x,k=_.y+e._gridPadding.top+u.tooltipOffset+.707*x;break;case"w":var w=_.x+e._gridPadding.left-l.outerWidth(!0)-u.tooltipOffset-x,k=_.y+e._gridPadding.top-l.outerHeight(!0)/2;break;default:var w=_.x+e._gridPadding.left-l.outerWidth(!0)-u.tooltipOffset-.707*x,k=_.y+e._gridPadding.top-u.tooltipOffset-l.outerHeight(!0)-.707*x}l.css("left",w),l.css("top",k),u.fadeTooltip?l.stop(!0,!0).fadeIn(u.tooltipFadeSpeed):l.show(),l=null}function n(t,n,r,o,s){var a=s.plugins.highlighter,l=s.plugins.cursor;if(a.show)if(null==o&&a.isHighlighting){var h=jQuery.Event("jqplotHighlighterUnhighlight");s.target.trigger(h);var u=a.highlightCanvas._ctx;u.clearRect(0,0,u.canvas.width,u.canvas.height),a.fadeTooltip?a._tooltipElem.fadeOut(a.tooltipFadeSpeed):a._tooltipElem.hide(),a.bringSeriesToFront&&s.restorePreviousSeriesOrder(),a.isHighlighting=!1,a.currentNeighbor=null,u=null}else if(null!=o&&s.series[o.seriesIndex].showHighlight&&!a.isHighlighting){var h=jQuery.Event("jqplotHighlighterHighlight");h.which=t.which,h.pageX=t.pageX,h.pageY=t.pageY;var c=[o.seriesIndex,o.pointIndex,o.data,s];s.target.trigger(h,c),a.isHighlighting=!0,a.currentNeighbor=o,a.showMarker&&e(s,o),!s.series[o.seriesIndex].show||!a.showTooltip||l&&l._zoom.started||i(s,s.series[o.seriesIndex],o),a.bringSeriesToFront&&s.moveSeriesToFront(o.seriesIndex)}else if(null!=o&&a.isHighlighting&&a.currentNeighbor!=o&&s.series[o.seriesIndex].showHighlight){var u=a.highlightCanvas._ctx;u.clearRect(0,0,u.canvas.width,u.canvas.height),a.isHighlighting=!0,a.currentNeighbor=o,a.showMarker&&e(s,o),!s.series[o.seriesIndex].show||!a.showTooltip||l&&l._zoom.started||i(s,s.series[o.seriesIndex],o),a.bringSeriesToFront&&s.moveSeriesToFront(o.seriesIndex)}}t.jqplot.eventListenerHooks.push(["jqplotMouseMove",n]),t.jqplot.Highlighter=function(e){this.show=t.jqplot.config.enablePlugins,this.markerRenderer=new t.jqplot.MarkerRenderer({shadow:!1}),this.showMarker=!0,this.lineWidthAdjust=2.5,this.sizeAdjust=5,this.showTooltip=!0,this.tooltipLocation="nw",this.fadeTooltip=!0,this.tooltipFadeSpeed="fast",this.tooltipOffset=2,this.tooltipAxes="both",this.tooltipSeparator=", ",this.tooltipContentEditor=null,this.useAxesFormatters=!0,this.tooltipFormatString="%.5P",this.formatString=null,this.yvalues=1,this.bringSeriesToFront=!1,this._tooltipElem,this.isHighlighting=!1,this.currentNeighbor=null,t.extend(!0,this,e)};var r=["nw","n","ne","e","se","s","sw","w"],o={nw:0,n:1,ne:2,e:3,se:4,s:5,sw:6,w:7},s=["se","s","sw","w","nw","n","ne","e"];t.jqplot.Highlighter.init=function(e,i,n){var r=n||{};this.plugins.highlighter=new t.jqplot.Highlighter(r.highlighter)},t.jqplot.Highlighter.parseOptions=function(t,e){this.showHighlight=!0},t.jqplot.Highlighter.postPlotDraw=function(){this.plugins.highlighter&&this.plugins.highlighter.highlightCanvas&&(this.plugins.highlighter.highlightCanvas.resetCanvas(),this.plugins.highlighter.highlightCanvas=null),this.plugins.highlighter&&this.plugins.highlighter._tooltipElem&&(this.plugins.highlighter._tooltipElem.emptyForce(),this.plugins.highlighter._tooltipElem=null),this.plugins.highlighter.highlightCanvas=new t.jqplot.GenericCanvas,this.eventCanvas._elem.before(this.plugins.highlighter.highlightCanvas.createElement(this._gridPadding,"jqplot-highlight-canvas",this._plotDimensions,this)),this.plugins.highlighter.highlightCanvas.setContext();var e=document.createElement("div");this.plugins.highlighter._tooltipElem=t(e),e=null,this.plugins.highlighter._tooltipElem.addClass("jqplot-highlighter-tooltip"),this.plugins.highlighter._tooltipElem.css({position:"absolute",display:"none"}),this.eventCanvas._elem.before(this.plugins.highlighter._tooltipElem)},t.jqplot.preInitHooks.push(t.jqplot.Highlighter.init),t.jqplot.preParseSeriesOptionsHooks.push(t.jqplot.Highlighter.parseOptions),t.jqplot.postDrawHooks.push(t.jqplot.Highlighter.postPlotDraw)}(jQuery),define("jqplot/plugins/jqplot.highlighter",function(){}),function(t){function e(e,i,n,r){if("horizontal"==this.rendererOptions.barDirection&&(this._stackAxis="x",this._primaryAxis="_yaxis"),1==this.rendererOptions.waterfall){this._data=t.extend(!0,[],this.data);for(var o=0,s=this.rendererOptions.barDirection&&"vertical"!==this.rendererOptions.barDirection&&!1!==this.transposedData?0:1,a=0;a<this.data.length;a++)o+=this.data[a][s],a>0&&(this.data[a][s]+=this.data[a-1][s]);this.data[this.data.length]=1==s?[this.data.length+1,o]:[o,this.data.length+1],this._data[this._data.length]=1==s?[this._data.length+1,o]:[o,this._data.length+1]}if(this.rendererOptions.groups>1){this.breakOnNull=!0;for(var l=this.data.length,h=parseInt(l/this.rendererOptions.groups,10),u=0,a=h;a<l;a+=h)this.data.splice(a+u,0,[null,null]),this._plotData.splice(a+u,0,[null,null]),this._stackData.splice(a+u,0,[null,null]),u++;for(a=0;a<this.data.length;a++)"_xaxis"==this._primaryAxis?(this.data[a][0]=a+1,this._plotData[a][0]=a+1,this._stackData[a][0]=a+1):(this.data[a][1]=a+1,this._plotData[a][1]=a+1,this._stackData[a][1]=a+1)}}function i(t,e,n,r,o){var s,a,l=t,h=t-1,u="x"===o?0:1;return l>0?(a=r.series[h]._plotData[e][u],s=n*a<0?i(h,e,n,r,o):r.series[h].gridData[e][u]):s=0===u?r.series[l]._xaxis.series_u2p(0):r.series[l]._yaxis.series_u2p(0),s}function n(e,i,n){for(var r=0;r<this.series.length;r++)this.series[r].renderer.constructor==t.jqplot.BarRenderer&&this.series[r].highlightMouseOver&&(this.series[r].highlightMouseDown=!1)}function r(){this.plugins.barRenderer&&this.plugins.barRenderer.highlightCanvas&&(this.plugins.barRenderer.highlightCanvas.resetCanvas(),this.plugins.barRenderer.highlightCanvas=null),this.plugins.barRenderer={highlightedSeriesIndex:null},this.plugins.barRenderer.highlightCanvas=new t.jqplot.GenericCanvas,this.eventCanvas._elem.before(this.plugins.barRenderer.highlightCanvas.createElement(this._gridPadding,"jqplot-barRenderer-highlight-canvas",this._plotDimensions,this)),this.plugins.barRenderer.highlightCanvas.setContext(),this.eventCanvas._elem.bind("mouseleave",{plot:this},function(t){s(t.data.plot)})}function o(t,e,i,n){var r=t.series[e],o=t.plugins.barRenderer.highlightCanvas;o._ctx.clearRect(0,0,o._ctx.canvas.width,o._ctx.canvas.height),r._highlightedPoint=i,t.plugins.barRenderer.highlightedSeriesIndex=e;var s={fillStyle:r.highlightColors[i]};r.renderer.shapeRenderer.draw(o._ctx,n,s),o=null}function s(t){var e=t.plugins.barRenderer.highlightCanvas;e._ctx.clearRect(0,0,e._ctx.canvas.width,e._ctx.canvas.height);for(var i=0;i<t.series.length;i++)t.series[i]._highlightedPoint=null;t.plugins.barRenderer.highlightedSeriesIndex=null,t.target.trigger("jqplotDataUnhighlight"),e=null}function a(t,e,i,n,r){if(n){var a=[n.seriesIndex,n.pointIndex,n.data],l=jQuery.Event("jqplotDataMouseOver");if(l.pageX=t.pageX,l.pageY=t.pageY,r.target.trigger(l,a),r.series[a[0]].show&&r.series[a[0]].highlightMouseOver&&(a[0]!=r.plugins.barRenderer.highlightedSeriesIndex||a[1]!=r.series[a[0]]._highlightedPoint)){var h=jQuery.Event("jqplotDataHighlight");h.which=t.which,h.pageX=t.pageX,h.pageY=t.pageY,r.target.trigger(h,a),o(r,n.seriesIndex,n.pointIndex,n.points)}}else null==n&&s(r)}function l(t,e,i,n,r){if(n){var a=[n.seriesIndex,n.pointIndex,n.data];if(r.series[a[0]].highlightMouseDown&&(a[0]!=r.plugins.barRenderer.highlightedSeriesIndex||a[1]!=r.series[a[0]]._highlightedPoint)){var l=jQuery.Event("jqplotDataHighlight");l.which=t.which,l.pageX=t.pageX,l.pageY=t.pageY,r.target.trigger(l,a),o(r,n.seriesIndex,n.pointIndex,n.points)}}else null==n&&s(r)}function h(t,e,i,n,r){var o=r.plugins.barRenderer.highlightedSeriesIndex;null!=o&&r.series[o].highlightMouseDown&&s(r)}function u(t,e,i,n,r){if(n){var o=[n.seriesIndex,n.pointIndex,n.data],s=jQuery.Event("jqplotDataClick");s.which=t.which,s.pageX=t.pageX,s.pageY=t.pageY,r.target.trigger(s,o)}}function c(t,e,i,n,r){if(n){var o=[n.seriesIndex,n.pointIndex,n.data],a=r.plugins.barRenderer.highlightedSeriesIndex;null!=a&&r.series[a].highlightMouseDown&&s(r);var l=jQuery.Event("jqplotDataRightClick");l.which=t.which,l.pageX=t.pageX,l.pageY=t.pageY,r.target.trigger(l,o)}}t.jqplot.BarRenderer=function(){t.jqplot.LineRenderer.call(this)},t.jqplot.BarRenderer.prototype=new t.jqplot.LineRenderer,t.jqplot.BarRenderer.prototype.constructor=t.jqplot.BarRenderer,t.jqplot.BarRenderer.prototype.init=function(e,i){this.barPadding=8,this.barMargin=10,this.barDirection="vertical",this.barWidth=null,this.shadowOffset=2,this.shadowDepth=5,this.shadowAlpha=.08,this.waterfall=!1,this.groups=1,this.varyBarColor=!1,this.highlightMouseOver=!0,this.highlightMouseDown=!1,this.highlightColors=[],this.transposedData=!0,this.renderer.animation={show:!1,direction:"down",speed:3e3,_supported:!0},this._type="bar",e.highlightMouseDown&&null==e.highlightMouseOver&&(e.highlightMouseOver=!1),t.extend(!0,this,e),t.extend(!0,this.renderer,e),this.fill=!0,"horizontal"===this.barDirection&&this.rendererOptions.animation&&null==this.rendererOptions.animation.direction&&(this.renderer.animation.direction="left"),this.waterfall&&(this.fillToZero=!1,this.disableStack=!0),"vertical"==this.barDirection?(this._primaryAxis="_xaxis",this._stackAxis="y",this.fillAxis="y"):(this._primaryAxis="_yaxis",this._stackAxis="x",this.fillAxis="x"),this._highlightedPoint=null,this._plotSeriesInfo=null,this._dataColors=[],this._barPoints=[];var o={lineJoin:"miter",lineCap:"round",fill:!0,isarc:!1,strokeStyle:this.color,fillStyle:this.color,closePath:this.fill};this.renderer.shapeRenderer.init(o);var s={lineJoin:"miter",lineCap:"round",fill:!0,isarc:!1,angle:this.shadowAngle,offset:this.shadowOffset,alpha:this.shadowAlpha,depth:this.shadowDepth,closePath:this.fill};this.renderer.shadowRenderer.init(s),i.postInitHooks.addOnce(n),i.postDrawHooks.addOnce(r),i.eventListenerHooks.addOnce("jqplotMouseMove",a),i.eventListenerHooks.addOnce("jqplotMouseDown",l),i.eventListenerHooks.addOnce("jqplotMouseUp",h),i.eventListenerHooks.addOnce("jqplotClick",u),i.eventListenerHooks.addOnce("jqplotRightClick",c)},t.jqplot.preSeriesInitHooks.push(e),t.jqplot.BarRenderer.prototype.calcSeriesNumbers=function(){for(var e,i,n=0,r=0,o=this[this._primaryAxis],s=0;s<o._series.length;s++)e=o._series[s],e===this&&(i=s),e.renderer.constructor==t.jqplot.BarRenderer&&(n+=e.data.length,r+=1);return[n,r,i]},t.jqplot.BarRenderer.prototype.setBarWidth=function(){var t=0,e=0,i=this[this._primaryAxis],n=this._plotSeriesInfo=this.renderer.calcSeriesNumbers.call(this);t=n[0],e=n[1];var r=i.numberTicks,o=(r-1)/2;return"xaxis"==i.name||"x2axis"==i.name?this._stack?this.barWidth=(i._offsets.max-i._offsets.min)/t*e-this.barMargin:this.barWidth=((i._offsets.max-i._offsets.min)/o-this.barPadding*(e-1)-2*this.barMargin)/e:this._stack?this.barWidth=(i._offsets.min-i._offsets.max)/t*e-this.barMargin:this.barWidth=((i._offsets.min-i._offsets.max)/o-this.barPadding*(e-1)-2*this.barMargin)/e,[t,e]},t.jqplot.BarRenderer.prototype.draw=function(e,n,r,o){var s,a=t.extend({},r),l=void 0!=a.shadow?a.shadow:this.shadow,h=void 0!=a.showLine?a.showLine:this.showLine;void 0!=a.fill?a.fill:this.fill,this.xaxis,this.yaxis,this._xaxis.series_u2p,this._yaxis.series_u2p;this._dataColors=[],this._barPoints=[],null==this.barWidth&&this.renderer.setBarWidth.call(this);var u=this._plotSeriesInfo=this.renderer.calcSeriesNumbers.call(this),c=(u[0],u[1]),d=u[2],p=[];if(this._stack?this._barNudge=0:this._barNudge=(-Math.abs(c/2-.5)+d)*(this.barWidth+this.barPadding),h){var f=new t.jqplot.ColorGenerator(this.negativeSeriesColors),g=new t.jqplot.ColorGenerator(this.seriesColors),m=f.get(this.index);this.useNegativeColors||(m=a.fillStyle);var v,y,_,x=a.fillStyle;if("vertical"==this.barDirection){for(var s=0;s<n.length;s++)if(this._stack||null!=this.data[s][1]){if(p=[],v=n[s][0]+this._barNudge,_=this._stack&&this._prevGridData.length?i(this.index,s,this._plotData[s][1],o,"y"):this.fillToZero?this._yaxis.series_u2p(0):this.waterfall&&s>0&&s<this.gridData.length-1?this.gridData[s-1][1]:this.waterfall&&0==s&&s<this.gridData.length-1?this._yaxis.min<=0&&this._yaxis.max>=0?this._yaxis.series_u2p(0):this._yaxis.min>0?e.canvas.height:0:this.waterfall&&s==this.gridData.length-1?this._yaxis.min<=0&&this._yaxis.max>=0?this._yaxis.series_u2p(0):this._yaxis.min>0?e.canvas.height:0:e.canvas.height,this.fillToZero&&this._plotData[s][1]<0||this.waterfall&&this._data[s][1]<0?this.varyBarColor&&!this._stack?this.useNegativeColors?a.fillStyle=f.next():a.fillStyle=g.next():a.fillStyle=m:this.varyBarColor&&!this._stack?a.fillStyle=g.next():a.fillStyle=x,!this.fillToZero||this._plotData[s][1]>=0?(p.push([v-this.barWidth/2,_]),p.push([v-this.barWidth/2,n[s][1]]),p.push([v+this.barWidth/2,n[s][1]]),p.push([v+this.barWidth/2,_])):(p.push([v-this.barWidth/2,n[s][1]]),p.push([v-this.barWidth/2,_]),p.push([v+this.barWidth/2,_]),p.push([v+this.barWidth/2,n[s][1]])),this._barPoints.push(p),l&&!this._stack){var b=t.extend(!0,{},a);delete b.fillStyle,this.renderer.shadowRenderer.draw(e,p,b)}var w=a.fillStyle||this.color;this._dataColors.push(w),this.renderer.shapeRenderer.draw(e,p,a)}}else if("horizontal"==this.barDirection)for(var s=0;s<n.length;s++)if(this._stack||null!=this.data[s][0]){if(p=[],v=n[s][1]-this._barNudge,y=this._stack&&this._prevGridData.length?i(this.index,s,this._plotData[s][0],o,"x"):this.fillToZero?this._xaxis.series_u2p(0):this.waterfall&&s>0&&s<this.gridData.length-1?this.gridData[s-1][0]:this.waterfall&&0==s&&s<this.gridData.length-1?this._xaxis.min<=0&&this._xaxis.max>=0?this._xaxis.series_u2p(0):(this._xaxis.min,0):this.waterfall&&s==this.gridData.length-1?this._xaxis.min<=0&&this._xaxis.max>=0?this._xaxis.series_u2p(0):this._xaxis.min>0?0:e.canvas.width:0,this.fillToZero&&this._plotData[s][0]<0||this.waterfall&&this._data[s][0]<0?this.varyBarColor&&!this._stack?this.useNegativeColors?a.fillStyle=f.next():a.fillStyle=g.next():a.fillStyle=m:this.varyBarColor&&!this._stack?a.fillStyle=g.next():a.fillStyle=x,!this.fillToZero||this._plotData[s][0]>=0?(p.push([y,v+this.barWidth/2]),p.push([y,v-this.barWidth/2]),p.push([n[s][0],v-this.barWidth/2]),p.push([n[s][0],v+this.barWidth/2])):(p.push([n[s][0],v+this.barWidth/2]),p.push([n[s][0],v-this.barWidth/2]),p.push([y,v-this.barWidth/2]),p.push([y,v+this.barWidth/2])),this._barPoints.push(p),l&&!this._stack){var b=t.extend(!0,{},a);delete b.fillStyle,this.renderer.shadowRenderer.draw(e,p,b)}var w=a.fillStyle||this.color;this._dataColors.push(w),this.renderer.shapeRenderer.draw(e,p,a)}}if(0==this.highlightColors.length)this.highlightColors=t.jqplot.computeHighlightColors(this._dataColors);else if("string"==typeof this.highlightColors){var u=this.highlightColors;this.highlightColors=[];for(var s=0;s<this._dataColors.length;s++)this.highlightColors.push(u)}},t.jqplot.BarRenderer.prototype.drawShadow=function(t,e,n,r){var o,s,a,l,h=void 0!=n?n:{},u=(void 0!=h.shadow?h.shadow:this.shadow,void 0!=h.showLine?h.showLine:this.showLine);void 0!=h.fill?h.fill:this.fill,this.xaxis,this.yaxis,this._xaxis.series_u2p,this._yaxis.series_u2p;if(this._stack&&this.shadow){null==this.barWidth&&this.renderer.setBarWidth.call(this);var c=this._plotSeriesInfo=this.renderer.calcSeriesNumbers.call(this);if(c[0],a=c[1],l=c[2],this._stack?this._barNudge=0:this._barNudge=(-Math.abs(a/2-.5)+l)*(this.barWidth+this.barPadding),u)if("vertical"==this.barDirection){for(var o=0;o<e.length;o++)if(null!=this.data[o][1]){s=[];var d,p=e[o][0]+this._barNudge;d=this._stack&&this._prevGridData.length?i(this.index,o,this._plotData[o][1],r,"y"):this.fillToZero?this._yaxis.series_u2p(0):t.canvas.height,s.push([p-this.barWidth/2,d]),s.push([p-this.barWidth/2,e[o][1]]),s.push([p+this.barWidth/2,e[o][1]]),s.push([p+this.barWidth/2,d]),this.renderer.shadowRenderer.draw(t,s,h)}}else if("horizontal"==this.barDirection)for(var o=0;o<e.length;o++)if(null!=this.data[o][0]){s=[];var f,p=e[o][1]-this._barNudge;f=this._stack&&this._prevGridData.length?i(this.index,o,this._plotData[o][0],r,"x"):this.fillToZero?this._xaxis.series_u2p(0):0,s.push([f,p+this.barWidth/2]),s.push([e[o][0],p+this.barWidth/2]),s.push([e[o][0],p-this.barWidth/2]),s.push([f,p-this.barWidth/2]),this.renderer.shadowRenderer.draw(t,s,h)}}}}(jQuery),define("jqplot/plugins/jqplot.barRenderer",function(){}),function(t){function e(e,i,r){var o=r.plugins.cursor,s="",a=!1;if(o.showTooltipGridPosition&&(s=e.x+", "+e.y,a=!0),o.showTooltipUnitPosition)for(var l,h=0;h<o.tooltipAxisGroups.length;h++){if(l=o.tooltipAxisGroups[h],a&&(s+="<br />"),o.useAxesFormatters)for(var u=0;u<l.length;u++){u&&(s+=", ");var c=r.axes[l[u]]._ticks[0].formatter,d=r.axes[l[u]]._ticks[0].formatString;s+=c(d,i[l[u]])}else s+=t.jqplot.sprintf(o.tooltipFormatString,i[l[0]],i[l[1]]);a=!0}if(o.showTooltipDataPosition)for(var p=r.series,f=n(r,e.x,e.y),a=!1,h=0;h<p.length;h++)if(p[h].show){var g=p[h].index,m=p[h].label.toString(),v=t.inArray(g,f.indices),y=void 0,_=void 0;if(-1!=v){var x=f.data[v].data;if(o.useAxesFormatters){var b=p[h]._xaxis._ticks[0].formatter,w=p[h]._yaxis._ticks[0].formatter,k=p[h]._xaxis._ticks[0].formatString,C=p[h]._yaxis._ticks[0].formatString;y=b(k,x[0]),_=w(C,x[1])}else y=x[0],_=x[1];a&&(s+="<br />"),s+=t.jqplot.sprintf(o.tooltipFormatString,m,y,_),a=!0}}o._tooltipElem.html(s)}function i(e,i){var r=i.plugins.cursor,o=r.cursorCanvas._ctx;o.clearRect(0,0,o.canvas.width,o.canvas.height),r.showVerticalLine&&r.shapeRenderer.draw(o,[[e.x,0],[e.x,o.canvas.height]]),r.showHorizontalLine&&r.shapeRenderer.draw(o,[[0,e.y],[o.canvas.width,e.y]]);var s=n(i,e.x,e.y);if(r.showCursorLegend)for(var a=t(i.targetId+" td.jqplot-cursor-legend-label"),l=0;l<a.length;l++){var h=t(a[l]).data("seriesIndex"),u=i.series[h],c=u.label.toString(),d=t.inArray(h,s.indices),p=void 0,f=void 0;if(-1!=d){var g=s.data[d].data;if(r.useAxesFormatters){var m=u._xaxis._ticks[0].formatter,v=u._yaxis._ticks[0].formatter,y=u._xaxis._ticks[0].formatString,_=u._yaxis._ticks[0].formatString;p=m(y,g[0]),f=v(_,g[1])}else p=g[0],f=g[1]}i.legend.escapeHtml?t(a[l]).text(t.jqplot.sprintf(r.cursorLegendFormatString,c,p,f)):t(a[l]).html(t.jqplot.sprintf(r.cursorLegendFormatString,c,p,f))}o=null}function n(t,e,i){for(var n,r,o,s,a,l={indices:[],data:[]},h=t.plugins.cursor,r=0;r<t.series.length;r++)if(n=t.series[r],n.renderer,n.show){a=h.intersectionThreshold,n.showMarker&&(a+=n.markerRenderer.size/2);for(var o=0;o<n.gridData.length;o++)s=n.gridData[o],h.showVerticalLine&&Math.abs(e-s[0])<=a&&(l.indices.push(r),l.data.push({seriesIndex:r,pointIndex:o,gridData:s,data:n.data[o]}))}return l}function r(t,e){var i=e.plugins.cursor,n=i._tooltipElem;switch(i.tooltipLocation){case"nw":var r=t.x+e._gridPadding.left-n.outerWidth(!0)-i.tooltipOffset,o=t.y+e._gridPadding.top-i.tooltipOffset-n.outerHeight(!0);break;case"n":var r=t.x+e._gridPadding.left-n.outerWidth(!0)/2,o=t.y+e._gridPadding.top-i.tooltipOffset-n.outerHeight(!0);break;case"ne":var r=t.x+e._gridPadding.left+i.tooltipOffset,o=t.y+e._gridPadding.top-i.tooltipOffset-n.outerHeight(!0);break;case"e":var r=t.x+e._gridPadding.left+i.tooltipOffset,o=t.y+e._gridPadding.top-n.outerHeight(!0)/2;break;case"se":var r=t.x+e._gridPadding.left+i.tooltipOffset,o=t.y+e._gridPadding.top+i.tooltipOffset;break;case"s":var r=t.x+e._gridPadding.left-n.outerWidth(!0)/2,o=t.y+e._gridPadding.top+i.tooltipOffset;break;case"sw":var r=t.x+e._gridPadding.left-n.outerWidth(!0)-i.tooltipOffset,o=t.y+e._gridPadding.top+i.tooltipOffset;break;case"w":var r=t.x+e._gridPadding.left-n.outerWidth(!0)-i.tooltipOffset,o=t.y+e._gridPadding.top-n.outerHeight(!0)/2;break;default:var r=t.x+e._gridPadding.left+i.tooltipOffset,o=t.y+e._gridPadding.top+i.tooltipOffset}n.css("left",r),n.css("top",o),n=null}function o(t){var e=t._gridPadding,i=t.plugins.cursor,n=i._tooltipElem;switch(i.tooltipLocation){case"nw":var r=e.left+i.tooltipOffset,o=e.top+i.tooltipOffset;n.css("left",r),n.css("top",o);break;case"n":var r=(e.left+(t._plotDimensions.width-e.right))/2-n.outerWidth(!0)/2,o=e.top+i.tooltipOffset;n.css("left",r),n.css("top",o);break;case"ne":var r=e.right+i.tooltipOffset,o=e.top+i.tooltipOffset;n.css({right:r,top:o});break;case"e":var r=e.right+i.tooltipOffset,o=(e.top+(t._plotDimensions.height-e.bottom))/2-n.outerHeight(!0)/2;n.css({right:r,top:o});break;case"se":var r=e.right+i.tooltipOffset,o=e.bottom+i.tooltipOffset;n.css({right:r,bottom:o});break;case"s":var r=(e.left+(t._plotDimensions.width-e.right))/2-n.outerWidth(!0)/2,o=e.bottom+i.tooltipOffset;n.css({left:r,bottom:o});break;case"sw":var r=e.left+i.tooltipOffset,o=e.bottom+i.tooltipOffset;n.css({left:r,bottom:o});break;case"w":var r=e.left+i.tooltipOffset,o=(e.top+(t._plotDimensions.height-e.bottom))/2-n.outerHeight(!0)/2;n.css({left:r,top:o});break;default:var r=e.right-i.tooltipOffset,o=e.bottom+i.tooltipOffset;n.css({right:r,bottom:o})}n=null}function s(t,e,i,n,r){t.preventDefault(),t.stopImmediatePropagation();var o=r.plugins.cursor;o.clickReset&&o.resetZoom(r,o);var s=window.getSelection;return document.selection&&document.selection.empty?document.selection.empty():s&&!s().isCollapsed&&s().collapse(),!1}function a(t,e,i,n,r){t.preventDefault(),t.stopImmediatePropagation();var o=r.plugins.cursor;o.dblClickReset&&o.resetZoom(r,o);var s=window.getSelection;return document.selection&&document.selection.empty?document.selection.empty():s&&!s().isCollapsed&&s().collapse(),!1}function l(e,i,n,r,o){var s=o.plugins.cursor;if(s.onGrid=!1,s.show){if(t(e.target).css("cursor",s.previousCursor),!s.showTooltip||s._zoom.zooming&&s.showTooltipOutsideZoom&&!s.constrainOutsideZoom||(s._tooltipElem.empty(),s._tooltipElem.hide()),s.zoom&&(s._zoom.gridpos=i,s._zoom.datapos=n),s.showVerticalLine||s.showHorizontalLine){var a=s.cursorCanvas._ctx;a.clearRect(0,0,a.canvas.width,a.canvas.height),a=null}if(s.showCursorLegend)for(var l=t(o.targetId+" td.jqplot-cursor-legend-label"),h=0;h<l.length;h++){var u=t(l[h]).data("seriesIndex"),c=o.series[u],d=c.label.toString();o.legend.escapeHtml?t(l[h]).text(t.jqplot.sprintf(s.cursorLegendFormatString,d,void 0,void 0)):t(l[h]).html(t.jqplot.sprintf(s.cursorLegendFormatString,d,void 0,void 0))}}}function h(t,n,s,a,l){var h=l.plugins.cursor;h.onGrid=!0,h.show&&(h.previousCursor=t.target.style.cursor,t.target.style.cursor=h.style,h.showTooltip&&(e(n,s,l),h.followMouse?r(n,l):o(l),h._tooltipElem.show()),(h.showVerticalLine||h.showHorizontalLine)&&i(n,l))}function u(t,n,o,s,a){var l=a.plugins.cursor;l.show&&(l.showTooltip&&(e(n,o,a),l.followMouse&&r(n,a)),(l.showVerticalLine||l.showHorizontalLine)&&i(n,a))}function c(t){var e,i,n=t.data.plot,r=n.eventCanvas._elem.offset(),o={x:t.pageX-r.left,y:t.pageY-r.top},s={xaxis:null,yaxis:null,x2axis:null,y2axis:null,y3axis:null,y4axis:null,y5axis:null,y6axis:null,y7axis:null,y8axis:null,y9axis:null,yMidAxis:null},a=["xaxis","yaxis","x2axis","y2axis","y3axis","y4axis","y5axis","y6axis","y7axis","y8axis","y9axis","yMidAxis"],l=n.axes;for(e=11;e>0;e--)i=a[e-1],l[i].show&&(s[i]=l[i].series_p2u(o[i.charAt(0)]));return{offsets:r,gridPos:o,dataPos:s}}function d(t){var i=t.data.plot,n=i.plugins.cursor;if(n.show&&n.zoom&&n._zoom.started&&!n.zoomTarget){t.preventDefault();var o=n.zoomCanvas._ctx,s=c(t),a=s.gridPos,l=s.dataPos;n._zoom.gridpos=a,n._zoom.datapos=l,n._zoom.zooming=!0;var h=a.x,u=a.y,d=o.canvas.height,p=o.canvas.width;n.showTooltip&&!n.onGrid&&n.showTooltipOutsideZoom&&(e(a,l,i),n.followMouse&&r(a,i)),"x"==n.constrainZoomTo?n._zoom.end=[h,d]:"y"==n.constrainZoomTo?n._zoom.end=[p,u]:n._zoom.end=[h,u];var f=window.getSelection;document.selection&&document.selection.empty?document.selection.empty():f&&!f().isCollapsed&&f().collapse(),g.call(n),o=null}}function p(e,i,n,r,o){var s=o.plugins.cursor;o.plugins.mobile?t(document).one("vmouseup.jqplot_cursor",{plot:o},f):t(document).one("mouseup.jqplot_cursor",{plot:o},f);o.axes;if(void 0!=document.onselectstart&&(s._oldHandlers.onselectstart=document.onselectstart,document.onselectstart=function(){return!1}),void 0!=document.ondrag&&(s._oldHandlers.ondrag=document.ondrag,document.ondrag=function(){return!1}),void 0!=document.onmousedown&&(s._oldHandlers.onmousedown=document.onmousedown,document.onmousedown=function(){return!1}),s.zoom){if(!s.zoomProxy){var a=s.zoomCanvas._ctx;a.clearRect(0,0,a.canvas.width,a.canvas.height),a=null}"x"==s.constrainZoomTo?s._zoom.start=[i.x,0]:"y"==s.constrainZoomTo?s._zoom.start=[0,i.y]:s._zoom.start=[i.x,i.y],s._zoom.started=!0;for(var l in n)s._zoom.axes.start[l]=n[l];o.plugins.mobile?t(document).bind("vmousemove.jqplotCursor",{plot:o},d):t(document).bind("mousemove.jqplotCursor",{plot:o},d)}}function f(e){var i=e.data.plot,n=i.plugins.cursor;if(n.zoom&&n._zoom.zooming&&!n.zoomTarget){var r=n._zoom.gridpos.x,o=n._zoom.gridpos.y,s=n._zoom.datapos,a=n.zoomCanvas._ctx.canvas.height,l=n.zoomCanvas._ctx.canvas.width,h=i.axes;if(n.constrainOutsideZoom&&!n.onGrid){r<0?r=0:r>l&&(r=l),o<0?o=0:o>a&&(o=a);for(var u in s)s[u]&&("x"==u.charAt(0)?s[u]=h[u].series_p2u(r):s[u]=h[u].series_p2u(o))}"x"==n.constrainZoomTo?o=a:"y"==n.constrainZoomTo&&(r=l),n._zoom.end=[r,o],n._zoom.gridpos={x:r,y:o},n.doZoom(n._zoom.gridpos,s,i,n)}n._zoom.started=!1,n._zoom.zooming=!1,t(document).unbind("mousemove.jqplotCursor",d),void 0!=document.onselectstart&&null!=n._oldHandlers.onselectstart&&(document.onselectstart=n._oldHandlers.onselectstart,n._oldHandlers.onselectstart=null),void 0!=document.ondrag&&null!=n._oldHandlers.ondrag&&(document.ondrag=n._oldHandlers.ondrag,n._oldHandlers.ondrag=null),void 0!=document.onmousedown&&null!=n._oldHandlers.onmousedown&&(document.onmousedown=n._oldHandlers.onmousedown,n._oldHandlers.onmousedown=null)}function g(){var t,e,i,n,r=this._zoom.start,o=this._zoom.end,s=this.zoomCanvas._ctx;o[0]>r[0]?(t=r[0],n=o[0]-r[0]):(t=o[0],n=r[0]-o[0]),o[1]>r[1]?(e=r[1],i=o[1]-r[1]):(e=o[1],i=r[1]-o[1]),s.fillStyle="rgba(0,0,0,0.2)",s.strokeStyle="#999999",s.lineWidth=1,s.clearRect(0,0,s.canvas.width,s.canvas.height),s.fillRect(0,0,s.canvas.width,s.canvas.height),s.clearRect(t,e,n,i),s.strokeRect(t,e,n,i),s=null}t.jqplot.Cursor=function(e){this.style="crosshair",this.previousCursor="auto",this.show=t.jqplot.config.enablePlugins,this.showTooltip=!0,this.followMouse=!1,this.tooltipLocation="se",this.tooltipOffset=6,this.showTooltipGridPosition=!1,this.showTooltipUnitPosition=!0,this.showTooltipDataPosition=!1,this.tooltipFormatString="%.4P, %.4P",this.useAxesFormatters=!0,this.tooltipAxisGroups=[],this.zoom=!1,this.zoomProxy=!1,this.zoomTarget=!1,this.looseZoom=!0,this.clickReset=!1,this.dblClickReset=!0,this.showVerticalLine=!1,this.showHorizontalLine=!1,this.constrainZoomTo="none",this.shapeRenderer=new t.jqplot.ShapeRenderer,this._zoom={start:[],end:[],started:!1,zooming:!1,isZoomed:!1,axes:{start:{},end:{}},gridpos:{},datapos:{}},this._tooltipElem,this.zoomCanvas,this.cursorCanvas,this.intersectionThreshold=2,this.showCursorLegend=!1,this.cursorLegendFormatString=t.jqplot.Cursor.cursorLegendFormatString,this._oldHandlers={onselectstart:null,ondrag:null,onmousedown:null},this.constrainOutsideZoom=!0,this.showTooltipOutsideZoom=!1,this.onGrid=!1,t.extend(!0,this,e)},t.jqplot.Cursor.cursorLegendFormatString="%s x:%s, y:%s",t.jqplot.Cursor.init=function(e,i,n){var r=n||{};this.plugins.cursor=new t.jqplot.Cursor(r.cursor);var o=this.plugins.cursor;o.show&&(t.jqplot.eventListenerHooks.push(["jqplotMouseEnter",h]),t.jqplot.eventListenerHooks.push(["jqplotMouseLeave",l]),t.jqplot.eventListenerHooks.push(["jqplotMouseMove",u]),o.showCursorLegend&&(n.legend=n.legend||{},n.legend.renderer=t.jqplot.CursorLegendRenderer,n.legend.formatString=this.plugins.cursor.cursorLegendFormatString,n.legend.show=!0),o.zoom&&(t.jqplot.eventListenerHooks.push(["jqplotMouseDown",p]),o.clickReset&&t.jqplot.eventListenerHooks.push(["jqplotClick",s]),o.dblClickReset&&t.jqplot.eventListenerHooks.push(["jqplotDblClick",a])),this.resetZoom=function(){var t=this.axes;if(o.zoomProxy){var e=this.plugins.cursor.zoomCanvas._ctx;e.clearRect(0,0,e.canvas.width,e.canvas.height),e=null}else{for(var i in t)t[i].reset(),t[i]._ticks=[],void 0!==o._zoom.axes[i]&&(t[i]._autoFormatString=o._zoom.axes[i].tickFormatString);this.redraw()}this.plugins.cursor._zoom.isZoomed=!1,this.target.trigger("jqplotResetZoom",[this,this.plugins.cursor])},o.showTooltipDataPosition&&(o.showTooltipUnitPosition=!1,o.showTooltipGridPosition=!1,void 0==r.cursor.tooltipFormatString&&(o.tooltipFormatString=t.jqplot.Cursor.cursorLegendFormatString)))},t.jqplot.Cursor.postDraw=function(){var e=this.plugins.cursor;e.zoomCanvas&&(e.zoomCanvas.resetCanvas(),e.zoomCanvas=null),e.cursorCanvas&&(e.cursorCanvas.resetCanvas(),e.cursorCanvas=null),e._tooltipElem&&(e._tooltipElem.emptyForce(),e._tooltipElem=null),e.zoom&&(e.zoomCanvas=new t.jqplot.GenericCanvas,this.eventCanvas._elem.before(e.zoomCanvas.createElement(this._gridPadding,"jqplot-zoom-canvas",this._plotDimensions,this)),e.zoomCanvas.setContext());var i=document.createElement("div");if(e._tooltipElem=t(i),i=null,e._tooltipElem.addClass("jqplot-cursor-tooltip"),e._tooltipElem.css({position:"absolute",display:"none"}),e.zoomCanvas?e.zoomCanvas._elem.before(e._tooltipElem):this.eventCanvas._elem.before(e._tooltipElem),(e.showVerticalLine||e.showHorizontalLine)&&(e.cursorCanvas=new t.jqplot.GenericCanvas,this.eventCanvas._elem.before(e.cursorCanvas.createElement(this._gridPadding,"jqplot-cursor-canvas",this._plotDimensions,this)),e.cursorCanvas.setContext()),e.showTooltipUnitPosition&&0===e.tooltipAxisGroups.length){for(var n,r=this.series,o=[],s=0;s<r.length;s++){n=r[s];var a=n.xaxis+","+n.yaxis;-1==t.inArray(a,o)&&o.push(a)}for(var s=0;s<o.length;s++)e.tooltipAxisGroups.push(o[s].split(","))}},t.jqplot.Cursor.zoomProxy=function(t,e){function i(e,i,n,o,s){r.doZoom(i,n,t,s)}function n(e,i,n){t.resetZoom()}var r=t.plugins.cursor,o=e.plugins.cursor;r.zoomTarget=!0,r.zoom=!0,r.style="auto",r.dblClickReset=!1,o.zoom=!0,o.zoomProxy=!0,e.target.bind("jqplotZoom",i),e.target.bind("jqplotResetZoom",n)},t.jqplot.Cursor.prototype.resetZoom=function(t,e){var i=t.axes,n=e._zoom.axes;if(!t.plugins.cursor.zoomProxy&&e._zoom.isZoomed){for(var r in i)i[r].reset(),i[r]._ticks=[],i[r]._autoFormatString=n[r].tickFormatString;t.redraw(),e._zoom.isZoomed=!1}else{var o=e.zoomCanvas._ctx;o.clearRect(0,0,o.canvas.width,o.canvas.height),o=null}t.target.trigger("jqplotResetZoom",[t,e])},t.jqplot.Cursor.resetZoom=function(t){t.resetZoom()},t.jqplot.Cursor.prototype.doZoom=function(e,i,n,r){var o,s,a,l,h,u,c=r,d=n.axes,p=c._zoom.axes,f=p.start,g=(p.end,n.plugins.cursor.zoomCanvas._ctx);if("none"==c.constrainZoomTo&&Math.abs(e.x-c._zoom.start[0])>6&&Math.abs(e.y-c._zoom.start[1])>6||"x"==c.constrainZoomTo&&Math.abs(e.x-c._zoom.start[0])>6||"y"==c.constrainZoomTo&&Math.abs(e.y-c._zoom.start[1])>6){if(!n.plugins.cursor.zoomProxy){for(var m in i)void 0==c._zoom.axes[m]&&(c._zoom.axes[m]={},c._zoom.axes[m].numberTicks=d[m].numberTicks,c._zoom.axes[m].tickInterval=d[m].tickInterval,c._zoom.axes[m].daTickInterval=d[m].daTickInterval,c._zoom.axes[m].min=d[m].min,c._zoom.axes[m].max=d[m].max,c._zoom.axes[m].tickFormatString=null!=d[m].tickOptions?d[m].tickOptions.formatString:""),("none"==c.constrainZoomTo||"x"==c.constrainZoomTo&&"x"==m.charAt(0)||"y"==c.constrainZoomTo&&"y"==m.charAt(0))&&null!=(o=i[m])&&(o>f[m]?(s=f[m],a=o):(f[m]-o,s=o,a=f[m]),l=d[m],h=null,l.alignTicks&&("x2axis"===l.name&&n.axes.xaxis.show?h=n.axes.xaxis.numberTicks:"y"===l.name.charAt(0)&&"yaxis"!==l.name&&"yMidAxis"!==l.name&&n.axes.yaxis.show&&(h=n.axes.yaxis.numberTicks)),!this.looseZoom||d[m].renderer.constructor!==t.jqplot.LinearAxisRenderer&&d[m].renderer.constructor!==t.jqplot.LogAxisRenderer?(d[m].min=s,d[m].max=a,d[m].tickInterval=null,d[m].numberTicks=null,d[m].daTickInterval=null):(u=t.jqplot.LinearTickGenerator(s,a,l._scalefact,h),d[m].tickInset&&u[0]<d[m].min+d[m].tickInset*d[m].tickInterval&&(u[0]+=u[4],u[2]-=1),d[m].tickInset&&u[1]>d[m].max-d[m].tickInset*d[m].tickInterval&&(u[1]-=u[4],u[2]-=1),d[m].renderer.constructor===t.jqplot.LogAxisRenderer&&u[0]<d[m].min&&(u[0]+=u[4],u[2]-=1),d[m].min=u[0],d[m].max=u[1],d[m]._autoFormatString=u[3],
d[m].numberTicks=u[2],d[m].tickInterval=u[4],d[m].daTickInterval=[u[4]/1e3,"seconds"]),d[m]._ticks=[]);g.clearRect(0,0,g.canvas.width,g.canvas.height),n.redraw(),c._zoom.isZoomed=!0,g=null}n.target.trigger("jqplotZoom",[e,i,n,r])}},t.jqplot.preInitHooks.push(t.jqplot.Cursor.init),t.jqplot.postDrawHooks.push(t.jqplot.Cursor.postDraw),t.jqplot.CursorLegendRenderer=function(e){t.jqplot.TableLegendRenderer.call(this,e),this.formatString="%s"},t.jqplot.CursorLegendRenderer.prototype=new t.jqplot.TableLegendRenderer,t.jqplot.CursorLegendRenderer.prototype.constructor=t.jqplot.CursorLegendRenderer,t.jqplot.CursorLegendRenderer.prototype.draw=function(){function e(e,i,n,r){var o=n?this.rowSpacing:"0",s=t('<tr class="jqplot-legend jqplot-cursor-legend"></tr>').appendTo(this._elem);s.data("seriesIndex",r),t('<td class="jqplot-legend jqplot-cursor-legend-swatch" style="padding-top:'+o+';"><div style="border:1px solid #cccccc;padding:0.2em;"><div class="jqplot-cursor-legend-swatch" style="background-color:'+i+';"></div></div></td>').appendTo(s);var a=t('<td class="jqplot-legend jqplot-cursor-legend-label" style="vertical-align:middle;padding-top:'+o+';"></td>');a.appendTo(s),a.data("seriesIndex",r),this.escapeHtml?a.text(e):a.html(e),s=null,a=null}if(this._elem&&(this._elem.emptyForce(),this._elem=null),this.show){var i,n=this._series,r=document.createElement("table");this._elem=t(r),r=null,this._elem.addClass("jqplot-legend jqplot-cursor-legend"),this._elem.css("position","absolute");for(var o=!1,s=0;s<n.length;s++)if(i=n[s],i.show&&i.showLabel){var a=t.jqplot.sprintf(this.formatString,i.label.toString());if(a){var l=i.color;i._stack&&!i.fill&&(l=""),e.call(this,a,l,o,s),o=!0}for(var h=0;h<t.jqplot.addLegendRowHooks.length;h++){var u=t.jqplot.addLegendRowHooks[h].call(this,i);u&&(e.call(this,u.label,u.color,o),o=!0)}}n=i=null,delete n,delete i}return this._elem}}(jQuery),define("jqplot/plugins/jqplot.cursor",function(){}),define("jqplot-with-modules",["jquery","jqplot-plugins/jqplot.canvasOverlay","jqplot-plugins/jqplot.selection","jqplot/plugins/jqplot.dateAxisRenderer","jqplot/plugins/jqplot.enhancedLegendRenderer","jqplot/plugins/jqplot.highlighter","jqplot/plugins/jqplot.barRenderer","jqplot/plugins/jqplot.cursor"],function(t){return t.jqplot}),JqChart.prototype.setRange=function(t,e){},JqChart.prototype.focusCountry=function(t){},JqChart.prototype.unfocusCountry=function(t){},JqChart.prototype.loadCountry=function(t,e,i){if(void 0!==$.jqplot&&(index=$.inArray(t,this.countries),index>=0&&e>=0)){var n=this.isShownCountry(t),r=!1===n||n===e,o=this.jqPlots.series[e].label;this.jqPlots.data[e]=this.series[index],this.jqPlots.series[e].data=this.series[index],this.jqPlots.series[e].label=t+"_GDP_GC",this.jqPlots.options.series[e].label=t+"_GDP_GC",this.jqPlots.series[e].show=r,this.jqPlots.series[e].showLabel=r,this.jqPlots.options.series[e].show=r,this.jqPlots.options.series[e].showLabel=r,this.showCountryWithLabel(o),this.loadCountryRegions(t,!1,i),i&&this.jqPlots.drawSeries({},e)}},JqChart.prototype.unloadCountry=function(t,e){if(void 0!==$.jqplot){var i=$.inArray(t,this.countryInSeries);i>=0&&(this.countryInSeries=this.countryInSeries.splice(i,1),this.jqPlots.data=this.jqPlots.data.splice(i,1),this.jqPlots.options.series=this.jqPlots.options.series.splice(i,1),e&&this.jqPlots.drawSeries({}))}},JqChart.prototype.loadCountryLines=function(t,e){if(void 0!==$.jqplot){for(var i=this.dataSetInfo[t].label,n=0;n<i.length;n++)this.setVerticalLine(toDate(i[n].value).getTime(),null,i[n].text);e&&this.drawCanvasOverlay()}},JqChart.prototype.setVerticalLine=function(t,e,i,n){if(void 0!==$.jqplot){(e?this.jqPlots.plugins.canvasOverlay.getObject(e):null)?this.jqPlots.plugins.canvasOverlay.getObject(e).options.x=t:this.jqPlots.plugins.canvasOverlay.addVerticalLine({name:e,x:t,lineWidth:1,color:"rgba(80, 80, 80,0.5)",shadow:!1,showLabel:void 0!==i&&i,label:i,labelLocation:"s",labelAnchor:"end",labelOffset:10,labelOffsetX:-8,labelOffsetY:15}),n&&this.drawCanvasOverlay()}},JqChart.prototype.loadCountryRegions=function(t,e,i){if(void 0!==$.jqplot){this.clearRegions();for(var n=bcc.getRegions(t),r=[],o=0;o<n.length;o++){var s=n[o];if(s.start&&s.end){var a=s.start?toDate(s.start):this.xMin,l=s.end?toDate(s.end):this.xMax;"crise2"==s.class?r.push({color:"#C7E0F1",start:new Date(a.getTime()),end:new Date(l.getTime())}):this.addRegion(a,l,"#DCE9F5")}}for(var o=0;o<r.length;o++)this.addRegion(r[o].start,r[o].end,r[o].color);e||this.loadCountryLines(t),i&&this.drawCanvasOverlay()}},JqChart.prototype.addRegion=function(t,e,i,n,r){void 0!==$.jqplot&&(this.jqPlots.plugins.canvasOverlay.addRectangle({xmin:t,xmax:e,xminOffset:"0px",xmaxOffset:"0px",yminOffset:"2px",ymaxOffset:"2px",color:i,shadow:!1,showTooltip:!1,name:n}),r&&this.drawCanvasOverlay())},JqChart.prototype.clearRegions=function(t){void 0!==$.jqplot&&this.cleanOverlay(t)},JqChart.prototype.cleanOverlay=function(t){void 0!==$.jqplot&&(this.jqPlots.plugins.canvasOverlay.clear(this.jqPlots),this.jqPlots.plugins.canvasOverlay.objects=[],this.jqPlots.plugins.canvasOverlay.objectNames=[],t&&this.drawCanvasOverlay())},JqChart.prototype.selectPointAllSeries=function(t){if(void 0!==$.jqplot){for(var e=!1,i=0;i<this.jqPlots.series.length;i++)this.jqPlots.series[i].selection.selectedPoints=[],this.jqPlots.series[i].data.length>t&&(this.jqPlots.togglePoint(i,t,!0),e=!0);return e}},JqChart.prototype.selectPoint=function(t,e,i){void 0!==$.jqplot&&this.selectPointAllSeries(e)},JqChart.prototype.isShownCountry=function(t){if(void 0!==$.jqplot){for(var e=0;e<this.jqPlots.series.length;e++)if(this.jqPlots.series[e].show&&this.jqPlots.series[e].label==t+"_GDP_GC")return e;return!1}},JqChart.prototype.showCountryWithLabel=function(t){if(void 0!==$.jqplot)for(var e=0;e<this.jqPlots.series.length;e++)if(!this.jqPlots.series[e].show&&this.jqPlots.series[e].label==t)return this.jqPlots.series[e].show=!0,e},JqChart.prototype.reDraw=function(t){void 0!==$.jqplot&&this.jqPlots.redraw(t)},JqChart.prototype.removeOverlayByName=function(t,e){void 0!==$.jqplot&&(this.jqPlots.plugins.canvasOverlay.removeObject(t),e&&this.drawCanvasOverlay())},JqChart.prototype.drawCanvasOverlay=function(){void 0!==$.jqplot&&($(".jqplot-canvasOverlay-label").remove(),this.jqPlots.plugins.canvasOverlay.draw(this.jqPlots))},JqChart.prototype.drawSeries=function(){void 0!==$.jqplot&&this.jqPlots.drawSeries({})},JqChart.prototype.getSingleCanvas=function(t){if(void 0!==$.jqplot){var e=$("#"+this.id+" canvas.jqplot-grid-canvas"),i=$("#"+this.id+" canvas.jqplot-overlayCanvas-canvas"),n=$("#"+this.id+" canvas.jqplot-series-canvas"),r=$("#"+this.id+" canvas.jqplot-base-canvas"),o=document.createElement("canvas");o.height=r.attr("height"),o.width=r.attr("width");var s=o.getContext("2d");t&&(s.fillStyle=t,s.fillRect(0,0,o.width,o.height)),s.fillStyle="#000000",s.drawImage(e[0],0,0);var a=i.css("top").replace(/[^\d.-]/g,""),l=i.css("left").replace(/[^\d.-]/g,"");s.drawImage(i[0],l,a);for(var h=0;h<n.length;h++)s.drawImage(n[h],l,a);return this.addXTickLabelsOnCanvas(s,parseInt(a)+i.height()+20,0),this.addYTickLabelsOnCanvas(s,0,9),this.addCanvasOverlayLabels(s,5,-5),o}},JqChart.prototype.addCanvasOverlayLabels=function(t,e,i){for(var n=$("#"+this.id+" .jqplot-canvasOverlay-label"),r=0;r<n.length;r++){var o=$(n[r]),s=o.text(),a=o[0].offsetLeft+o[0].offsetWidth/2,l=o[0].offsetTop;t.save(),t.textAlign="right",t.translate(a,l),t.rotate(-Math.PI/2),t.fillText(s,-i,e),t.restore()}},JqChart.prototype.addXTickLabelsOnCanvas=function(t,e,i){for(var n=0;n<this.jqPlots.axes.xaxis._ticks.length;n++){var r=this.jqPlots.axes.xaxis._ticks[n];if(r.label&&r.label.length>0){var o=r._elem[0].offsetLeft;t.fillText(r.label,o+i,e)}}},JqChart.prototype.addYTickLabelsOnCanvas=function(t,e,i){for(var n=0;n<this.jqPlots.axes.yaxis._ticks.length;n++){var r=this.jqPlots.axes.yaxis._ticks[n];if(r.label&&r.label.length>0){var o=r._elem[0].offsetTop;t.fillText(r.label,e,o+i)}}},"function"==typeof define&&define.amd?define("jqChart",["jquery","jqplot-with-modules"],function(t,e){return JqChart}):"undefined"!=typeof exports&&"undefined"!=typeof module&&(module.exports=JqChart),PdfGenerator.prototype.downloadReport=function(t,e){this.generateReport(t,e).output("save",this.fileName)},PdfGenerator.prototype.generateReport=function(t,e){var i=new jsPDF;this.initDoc(i),this.initPage(i);var n=this.addLinearChart(i,t,e),r=this.getCountryColors(t,n);this.addChartLegends(i,r),i.text(32,130,$.i18n.t("slowdown")),i.text(32,136,$.i18n.t("recession"));var o=hexToRgb("#DCE9F5");i.setFillColor(o.r,o.g,o.b),i.rect(25,127,4,4,"FD"),o=hexToRgb("#C7E0F1"),i.setFillColor(o.r,o.g,o.b),i.rect(25,133,4,4,"FD"),i.setFontType("bold"),i.setFontSize(14),i.setTextColor(128,128,128),i.text(25,157,$.i18n.t("data_on")+" "+formatQuarter(this.clockDate,"dd/MM/yyyy","/"));for(var s=169,a=0,l=0;l<t.length;l++)(8===l||l>8&&(l-8)%16==0)&&(this.initNewPage(i),a=l,s=50),this.addClock(i,t[l],l-a,s,r[t[l]]);return t.length>4?(this.initNewPage(i),this.addDefinitions(i,50)):this.addDefinitions(i,s+60),i},PdfGenerator.prototype.addDefinitions=function(t,e){t.setFontType("normal"),t.setFontSize(10),t.setTextColor(0,0,0),t.text(38,e,$.i18n.t("report_def_aA_1")),t.text(38,e+5,$.i18n.t("report_def_aA_2")),t.text(38,e+10,$.i18n.t("report_def_AB_1")),t.text(38,e+15,$.i18n.t("report_def_AB_2")),t.text(38,e+20,$.i18n.t("report_def_Bb_1")),t.text(38,e+25,$.i18n.t("report_def_Bb_2")),t.text(38,e+30,$.i18n.t("report_def_bC_1")),t.text(38,e+35,$.i18n.t("report_def_bC_2")),t.text(38,e+40,$.i18n.t("report_def_CD_1")),t.text(38,e+45,$.i18n.t("report_def_CD_2")),t.text(38,e+50,$.i18n.t("report_def_Da_1")),t.text(38,e+55,$.i18n.t("report_def_Da_2")),t.setFontType("bold"),t.text(24,e,"alpha-A : "),t.text(24,e+10,"A-B : "),t.text(24,e+20,"B-beta : "),t.text(24,e+30,"beta-C : "),t.text(24,e+40,"C-D : "),t.text(24,e+50,"D-alpha : ")},PdfGenerator.prototype.addChartLegends=function(t,e){var i=2,n=0;t.setFontType("normal"),t.setFontSize(10),t.setTextColor(0,0,0),t.text(23,120,$.i18n.t("countries")+":"),t.setFontSize(8);for(cc in e)rgbColor=hexToRgb(e[cc]),t.setFillColor(rgbColor.r,rgbColor.g,rgbColor.b),t.circle(23+10*i,121+5*n-1.7,1.5,"F"),t.text(25+10*i,120+5*n,"GB"===cc?"UK":"GR"===cc?"EL":cc),++i>=15&&(i=2,n++)},PdfGenerator.prototype.addLinearChart=function(t,e,i){var n=this.initTempLinearChart(e,i,180,75),r=n.getSingleCanvas("#FFFFFF");return document.body.removeChild($("#"+n.id)[0]),t.addImage(r.toDataURL("image/jpeg",1),"JPEG",15,50,r.width/this.screenPdfSizeFactor,r.height/this.screenPdfSizeFactor),t.setFontType("normal"),t.setFontSize(10),t.setTextColor(0,0,0),t.text(15,45,$.i18n.t("chart_gdp_gc_title")),n},PdfGenerator.prototype.getCountryColors=function(t,e){for(var i={},n=0;n<e.jqPlots.series.length;n++){var r=e.jqPlots.series[n],o=$.inArray(r.label.substring(0,2),t);o>=0&&void 0==i[t[o]]&&(i[t[o]]=r.fillColor)}return i},PdfGenerator.prototype.initTempLinearChart=function(t,e,i,n){var r=document.createElement("div");r.id="tempChartDiv",r.style.width=i*this.screenPdfSizeFactor+"px",r.style.height=n*this.screenPdfSizeFactor+"px",document.body.appendChild(r);for(var o=initJqChart("tempChartDiv",this.bcc,this.dataSet,this.dataSetInfo,void 0,this.from,2===this.to.getMonth()?new Date(this.to.setMonth(this.to.getMonth()+3)):this.to),s=0;s<t.length;s++)o.loadCountry(t[s],s,!0);return void 0!==e&&e?o.loadCountryRegions(e,!1,!0):o.clearRegions(!0),o},PdfGenerator.prototype.initDoc=function(t){t.setProperties({title:"Business Cycle Clock",subject:"Business Cycle Clock",author:"Eurostat",keywords:"report, eurostat, business cycle clock, bcc",creator:"Eurostat"})},PdfGenerator.prototype.initNewPage=function(t){this.initPage(t,!0)},PdfGenerator.prototype.initPage=function(t,e){!0===e&&(t.addPage(),this.page++),t.setFontSize(24),t.setFontType("bold"),t.setTextColor(128,128,128),t.text(30,25,"Business Cycle Clock"),t.addImage(this.eurostatLogo,"JPEG",145,16,60,10),t.setFontType("normal"),t.setFontSize(10),t.setTextColor(0,0,0),t.text(20,295,$.i18n.t("doc_generated_from")+" "+document.location.protocol+"//"+document.location.host+document.location.pathname+" "+$.i18n.t("on_date")+" "+$.datepicker.formatDate("d MM yy",this.genDate,$.datepicker.regional[$.i18n.language])+"."),t.text(190,288,$.i18n.t("page")+" "+this.page)},PdfGenerator.prototype.getCountryData=function(t){for(var e=0;e<this.dataSet.DataSet.Data.length;e++)if(this.dataSet.DataSet.Data[e].Country["@attributes"].code===t)return this.dataSet.DataSet.Data[e]},PdfGenerator.prototype.addClock=function(t,e,i,n,r){var o=this.getCountryData(e);if(void 0!==n&&n||(n=0),void 0!==o){var s=i%4,a=Math.floor(i/4);rgbColor=hexToRgb(r),t.setFillColor(rgbColor.r,rgbColor.g,rgbColor.b),t.setFontType("normal"),t.setFontSize(12),t.setTextColor(0,0,0),t.text(25+43*s,n+65*a,$.i18n.t("country:"+o.Country["@attributes"].code));var l=document.createElement("canvas");new CycleClock(l,{width:150,height:155,radius:45,backgroundColor:"#FFFFFF",crise1Color:"#FAA61A",crise1MirrorColor:"#FEDEB3",crise2Color:"#F26522",crise2MirrorColor:"#F89F6C",noCriseColor:"#8BD1D1",noCriseMirrorColor:"#3BBFBD"}).updateClock(this.dataSetInfo[e].angle[3*this.clockObservationIndex+this.thetaIndex]);var h=l.toDataURL("image/jpeg",1);t.addImage(h,"JPEG",20+43*s,n+1+65*a),t.setFontType("normal"),t.setFontSize(12),t.setTextColor(0,0,0),t.text(25+43*s,n+46+65*a,""+$.datepicker.formatDate("M yy",toDate(this.clockDate,"dd/MM/yyyy","/"),$.datepicker.regional[$.i18n.language]))}},"function"==typeof define&&define.amd?define("pdfGenerator",["jquery","jsPdf","jquery-ui","datepicker-de","datepicker-fr","jqChart"],function(){return PdfGenerator}):"undefined"!=typeof exports&&"undefined"!=typeof module&&(module.exports=PdfGenerator),require.config({paths:{monthPicker:"jquery/MonthPicker",jquery_maskedinput:"jquery/jquery.maskedinput.min","jqplot.core":"jqplot/jquery.jqplot","jqplot-with-modules":"jqplot/jquery-jqplot-module-with-plugins",jsPdf:"jsPDF/jspdf.min",swfObject:"jsPDF/swfobject.js",downloadify:"jsPDF/downloadify.min",jqChart:"jqChart",pdfGenerator:"pdfGenerator",timer:"timer",cycleClock:"cycleClock",jquery:"jquery/jquery-1.12.0",c3:"c3/c3.min",d3:"d3/d3.v3.min",i18next:"i18next/i18Next.min",i18nextBrowserLanguageDetector:"i18next/i18nextBrowserLanguageDetector.min",i18nextLocalStorageCache:"i18next/i18nextLocalStorageCache.min",i18nextXHRBackend:"i18next/i18nextXHRBackend.min",i18nextSprintfPostProcessor:"i18next/i18nextSprintfPostProcessor.min",jqueryI18next:"i18next/jquery-i18next.min","jquery-ui":"jquery/jquery-ui","datepicker-de":"jquery/jquery.ui.datepicker-de.min","datepicker-fr":"jquery/jquery.ui.datepicker-fr.min",bcc_commons:"bcc_commons",leaflet:"leaflet/leaflet"},shim:{"jqplot-core":{deps:["jquery"]},"jqplot-with-modules":{deps:["jqplot.core"]},"jquery-ui":{deps:["jquery"]},"datepicker-de":{deps:["jquery-ui"]},"datepicker-fr":{deps:["jquery-ui"]},jquery_maskedinput:{deps:["jquery-ui"]},monthPicker:{deps:["jquery","jquery_maskedinput","jquery-ui","datepicker-de","datepicker-fr"]},bcc_commons:{deps:["jquery"]}}});var bcc,bccMapApp,eaMembers,maxCountryNumber=6;require(["jquery","c3Chart","dataSetLoader","i18nextBCC","jquery-ui","bcc","timer","cycleClock","datepicker-de","datepicker-fr","monthPicker","bcc_commons","bcc_ui","bcc_map"],initBCCApp);var eventMatchers={HTMLEvents:/^(?:load|unload|abort|error|select|change|submit|reset|focus|blur|resize|scroll)$/,MouseEvents:/^(?:click|dblclick|mouse(?:down|up|over|move|out))$/},defaultOptions={pointerX:0,pointerY:0,button:0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,bubbles:!0,cancelable:!0};define("bcc_app",["jquery","c3Chart","dataSetLoader","i18nextBCC","jquery-ui","bcc","timer","cycleClock","datepicker-de","datepicker-fr","monthPicker","bcc_commons","bcc_ui","bcc_map"],function(){});