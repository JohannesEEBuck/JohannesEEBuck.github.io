function C3Chart(t,e,i,o,r,a,n,s,c,h){this.bcc=e,this.c3=C3Chart.prototype.c3,void 0===this.c3&&(this.c3=window.c3),void 0!==this.c3&&(this.c3Chart=this.c3.generate({bindto:t,data:{x:"x",xFormat:"%d/%m/%Y",columns:i},size:a,grid:{x:{lines:o}},axis:{x:{type:"timeseries",tick:{fit:!0,format:"%m-%Y",culling:{max:(toDate(s,c,h).getFullYear()-toDate(n,c,h).getFullYear()+1)/2}},min:toDate(n,c,h),max:toDate(s,c,h)},y:{tick:{format:d3.format(".0f")}}},regions:r,legend:{item:{onclick:function(t){return!1}}},tooltip:{format:{title:function(t){return formatQuarterHtml(t)},value:function(t,e,i){return t.toFixed(5)}}},color:{pattern:["#00989A","#F68B21","#E34A21","#3BBFBD","#7B9522","#C9CF5C"]}}),this.c3Chart.ygrids([{value:0}]),this.localizeNames())}C3Chart.prototype.localizeNames=function(){for(var t=this.bcc.navList.getShownCountries(),e={},i=0;i<t.length;i++)e[t[i]]=$.i18n.t("country:"+t[i]);this.c3Chart.data.names(e)},C3Chart.prototype.setRange=function(t,e,i,o){var r=toDate(t,i,o),a=toDate(e,i,o);this.c3Chart.axis.range({min:{x:r},max:{x:a}})},C3Chart.prototype.xAxisTicks=function(t,e,i,o){var r=[],a=toDate(t,i,o),n=toDate(e,i,o);if(NaN!=a.getTime()&&NaN!=n.getTime()&&a.getTime()<n.getTime()){var s=1e3*Math.abs(n-a)*60*60*24*365;if(s>=1){var c=Math.floor(s/7);r.push(a);var h=new Date(a.getTime());for(h.setMonth(0),h.setDate(1),h.setFullYear(h.getFullYear()+1+c);h.getFullYear()<=n.getFullYear()-1;)r.push(new Date(h.getTime())),h.setFullYear(h.getFullYear()+c);r.push(n)}}return r},C3Chart.prototype.focusCountry=function(t){if(void 0!==this.c3){var e=bcc.dataSetInfo[t].ser2[0];this.c3Chart.focus([e],!0)}},C3Chart.prototype.unfocusCountry=function(t){if(void 0!==this.c3)if(void 0===t)this.c3Chart.revert();else{var e=bcc.dataSetInfo[t].ser2[0];this.c3Chart.revert([e])}},C3Chart.prototype.loadCountry=function(t){if(void 0!==this.c3){var e=[];e.push(bcc.dataSetInfo[t].ser2),this.c3Chart.load({columns:e}),this.c3Chart.regions({}),this.c3Chart.xgrids({});var i={};i[t]=$.i18n.t("country:"+t),this.c3Chart.data.names(i)}},C3Chart.prototype.unloadCountry=function(t){if(void 0!==this.c3){var e=bcc.dataSetInfo[t];this.c3Chart.unload({ids:[e.ser2[0]]})}},C3Chart.prototype.cleanOverlay=function(){void 0!==this.c3&&(this.c3Chart.regions({}),this.c3Chart.xgrids({}))},C3Chart.prototype.drawCanvasOverlay=function(){},C3Chart.prototype.loadCountryLines=function(t){void 0!==this.c3&&this.c3Chart.xgrids(bcc.dataSetInfo[t].label)},C3Chart.prototype.loadCountryRegions=function(t,e){if(void 0!==this.c3){var i=bcc.getRegions(t);e||this.loadCountryLines(t),this.c3Chart.regions([]);var o=i;void 0!==this.regionsTimeout&&clearTimeout(this.regionsTimeout),this.regionsTimeout=setTimeout(function(){this.c3Chart.regions(o)}.bind(this),700)}},C3Chart.prototype.clearRegions=function(t){void 0!==this.c3&&(this.c3Chart.regions([]),t&&this.c3Chart.xgrids([]))},C3Chart.prototype.selectPointAllSeries=function(t){void 0!==this.c3&&this.c3Chart.select(void 0,[t],!0,!0)},C3Chart.prototype.selectPoint=function(t,e,i){void 0!==this.c3&&this.c3Chart.select(t,e,i,!0)},C3Chart.prototype.reDraw=function(t){},"function"==typeof define&&define.amd?define("c3Chart",["c3","bcc_commons"],function(t){return C3Chart.prototype.c3=t,C3Chart}):"undefined"!=typeof exports&&"undefined"!=typeof module&&(module.exports=C3Chart);