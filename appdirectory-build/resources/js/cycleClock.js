function CycleClock(t,i){this.fontSize=i.fontSize?i.fontSize:16,this.innerDist=void 0!==i.innerDist?i.innerDist:15,this.separatorsColor=i.separatorsColor?i.separatorsColor:"#FFFFFF",this.backgroundColor=i.backgroundColor,this.noCriseColor=i.noCriseColor,this.noCriseMirrorColor=i.noCriseMirrorColor?i.noCriseMirrorColor:this.noCriseColor,this.crise1Color=i.crise1Color?i.crise1Color:"#EEE9F5",this.crise1MirrorColor=i.crise1MirrorColor?i.crise1MirrorColor:this.crise1Color,this.crise2Color=i.crise2Color?i.crise2Color:"#d3c9e7",this.crise2MirrorColor=i.crise2MirrorColor?i.crise2MirrorColor:this.crise2Color,this.radius=i.radius?i.radius:70,this.bindToElem(t,i.width,i.height),"function"!=typeof this.canvas.getContext&&"undefined"!=typeof G_vmlCanvasManager&&G_vmlCanvasManager.initElement(this.canvas);var s=$(this.canvas);s.hasClass("clock_canvas")||s.addClass("clock_canvas"),i.width&&s.attr("width",i.width),i.height&&s.attr("height",i.height)}CycleClock.prototype.bindToElem=function(t,i,s,o){this.elem=$(t),!this.elem.is("canvas")&&this.elem.children("canvas.clock_canvas").length<=0&&this.elem.append("<canvas class='clock_canvas' width='"+(i||210)+"' height='"+(s||200)+"'/>"),this.elem.is("canvas")&&(this.elem.parent().length>0?this.elem=this.elem.parent():(this.canvas=this.elem[0],this.elem=void 0)),this.elem&&(this.canvas=this.elem.children("canvas.clock_canvas")[0]),o&&this.drawClock()},CycleClock.prototype.drawClock=function(){var t=this.canvas.getContext("2d"),i=this.radius,s=this.canvas.width/2,o=this.canvas.height/2;Math.TAU=2*Math.PI,t.clearRect(0,0,this.canvas.width,this.canvas.height),this.backgroundColor&&(t.fillStyle=this.backgroundColor,t.fillRect(0,0,this.canvas.width,this.canvas.height)),t.fillStyle="#9c9d9e",t.beginPath(),t.arc(s,o,1.1*i,0,Math.TAU),t.strokeStyle="#9c9d9e",t.lineWidth=2,t.stroke(),t.closePath(),t.font=this.fontSize+"px Georgia",this.drawCam(0,Math.PI/4,1.05*i,1,this.crise1Color),this.drawCam(Math.PI/4,Math.PI/2,1.05*i,1,this.crise2Color),this.drawCam(Math.PI/2,Math.PI-Math.PI/4,1.05*i,1,this.crise2MirrorColor),this.drawCam(Math.PI-Math.PI/4,Math.PI,1.05*i,1,this.crise1MirrorColor),this.noCriseColor&&this.drawCam(Math.TAU-Math.PI/2,Math.TAU,1.05*i,1,this.noCriseColor),this.noCriseMirrorColor&&this.drawCam(Math.PI,Math.TAU-Math.PI/2,1.05*i,1,this.noCriseMirrorColor),this.drawElt(-Math.PI/2,1,1.1,this.separatorsColor,"α"),this.drawElt(Math.PI/2,1,1.1,this.separatorsColor,"β"),this.drawElt(0,1,1.1,this.separatorsColor,"A"),this.drawElt(Math.PI/4,1,1.1,this.separatorsColor,"B"),this.drawElt(Math.PI-Math.PI/4,1,1.1,this.separatorsColor,"C"),this.drawElt(Math.PI,1,1.1,this.separatorsColor,"D")},CycleClock.prototype.updateClock=function(t){this.drawClock(),!isNaN(t)&&isFinite(t)&&this.drawArm(t,3,1,"#58595B")},CycleClock.prototype.drawArm=function(t,i,s,o){var r=this.canvas.getContext("2d"),a=this.radius,h=this.canvas.width/2,e=this.canvas.height/2,l=Math.TAU/4,n=t-l,c=s*a,C=h+Math.cos(n)*c,d=e+Math.sin(n)*c;r.lineWidth=i,r.strokeStyle=o,r.beginPath(),r.moveTo(h,e),r.lineTo(C,d),r.stroke()},CycleClock.prototype.drawArm2=function(t,i,s,o){var r=this.canvas.getContext("2d"),a=this.canvas.width/2,h=this.canvas.height/2;r.lineWidth=s,r.strokeStyle=o,r.beginPath(),r.moveTo(a,h),r.lineTo(t,i),r.stroke()},CycleClock.prototype.drawElt=function(t,i,s,o,r){var a=this.canvas.getContext("2d"),h=this.radius,e=this.canvas.width/2,l=this.canvas.height/2,n=t,c=Math.cos(n),C=Math.sin(n),d=0;n>3?d=this.fontSize*Math.TAU/10:n>2?d=.8*this.fontSize:n>1?d=this.fontSize*Math.TAU/10:n>0&&(d=this.fontSize/3);var v=h+this.innerDist,M=v+d,w=e+c*M,g=l+C*M;a.fillText(r,w,g);var m=s*h,p=e+c*m,f=l+C*m;this.drawArm2(p,f,i,o)},CycleClock.prototype.drawCam=function(t,i,s,o,r){var a=this.canvas.getContext("2d"),h=this.canvas.width/2,e=this.canvas.height/2,l=a.fillStyle,n=Math.cos(t),c=Math.sin(t),C=h+n*s,d=e+c*s;n=Math.cos(i),c=Math.sin(i),a.fillStyle=r,a.beginPath(),a.moveTo(h,e),a.lineTo(C,d),a.arc(h,e,s*o,t,i),a.lineTo(h,e),a.fill(),a.closePath(),a.fillStyle=l};