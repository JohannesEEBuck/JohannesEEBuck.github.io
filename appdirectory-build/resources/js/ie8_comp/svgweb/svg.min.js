!function(){function q(e,t){for(var n in t)e.prototype[n]=t[n]}function O(e,t){for(var n in t)e[n]=t[n]}function v(e,t,n,i){if(t||(t=e.documentElement),"undefined"!=typeof XPathEvaluator){var s=new XPathEvaluator;for(e=e.createNSResolver(t),n=s.evaluate(n,t,e,0,null),t=r();s=n.iterateNext();)t.push(s);return t}if(e.setProperty("SelectionLanguage","XPath"),i){var o="",a={};for(s=0;s<i.length;s++){var d=i[s],h=i["_"+d];a["_"+d]||(o+="xmlns"==h?'xmlns="'+d+'" ':"xmlns:"+h+'="'+d+'" ',a["_"+d]=d)}e.setProperty("SelectionNamespaces",o)}for(t=t.selectNodes(n),null!==t&&void 0!==t||(t=r()),n=r(),s=0;s<t.length;s++)n.push(t[s]);return n}function z(e,t){void 0===t&&(t=!1);var n=J[t+e];if(n)return n.cloneNode(!0);var i;if(P){n=new DOMParser;try{i=n.parseFromString(e,"application/xml")}catch(e){throw e}if(n=i.documentElement,"parsererror"==n.nodeName)throw Error("There is a bug in your SVG: "+(A?(new XMLSerializer).serializeToString(n):n.xml))}else{n=["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.3.0"];for(var s=0;s<n.length;s++)try{if(i=new ActiveXObject(n[s]))break}catch(e){}if(!i)throw Error("Unable to instantiate XML parser");try{if(i.preserveWhiteSpace=t,i.resolveExternals=!1,i.validateOnParse=!1,i.setProperty("ProhibitDTD",!1),i.async="false",!i.loadXML(e)||0!==i.parseError.errorCode)throw Error(i.parseError.reason)}catch(e){throw console.log(e.message),Error("Unable to parse SVG: "+e.message)}}try{J[t+e]=i.cloneNode(!0)}catch(e){}return i}function B(e,t){var n,i=e._nodeXML||e;if(A?n=(new XMLSerializer).serializeToString(i):i.xml?n=i.xml:"undefined"!=typeof XMLSerializer&&(n=(new XMLSerializer).serializeToString(i)),n=n.replace(/urn\:__fake__internal__namespace/g,svgns),i="",-1==n.indexOf("xmlns=")&&(i='xmlns="'+svgns+'" '),t)for(var s=0;s<t.length;s++){var r=t[s],o=t["_"+r];r==svgnsFake&&(r=svgns),r="xmlns"!=o?"xmlns:"+o+'="'+r+'"':'xmlns="'+r+'"',-1==n.indexOf(r)&&(i+=r+" ")}return n=n.replace(/<([^ ]+) /,"<$1 "+i)}function m(e,t){return"string"==typeof t&&(t=e[t]),function(){return t.apply(e,arguments.length?arguments:[])}}function ca(){if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if(ActiveXObject){var e,t=null;for(e=0;e<Q.length&&!t;++e)try{t=new ActiveXObject(Q[e])}catch(e){}if(!t)throw Error("XMLHttpRequest object not available on this platform");return t}}function R(){this._setXDomain(),this.libraryPath=this._getLibraryPath(),this.htcFilename=this._getHTCFilename(),j&&!Object.defineProperty&&l._prepareBehavior(this.libraryPath,this.htcFilename),this._interceptOnloadListeners(),this._initDOMContentLoaded()}function S(){if(this._forceFlash())console.log("Forcing Flash SVG viewer for this browser");else if(this.hasNativeSVG())return this.supported=!0,void(this.use="native");var e=new T;e.capable?e.isVersionOrAbove(10,0,0)?(this.supported=!0,this.use="flash"):(this.supported=!1,this.reason="Flash 10+ required"):(this.supported=!1,this.reason="Flash 10+ or a different browser required")}function T(){this._detectVersion()}function l(e){this.type=e.type,this._keyboardListeners=[],this._redrawManager=new U(this),"script"==this.type?(this.id=e.svgID,this._xml=e.xml,this._svgString=e.svgString,this._origSVG=e.origSVG,this._scriptNode=e.scriptNode):"object"==this.type&&(this.id=e.objID,this._objNode=e.objNode)}function o(e){this.type=e.type,this._xml=e.xml,"object"==this.type?(this.id=e.objID,this._objNode=e.objNode):"script"==this.type&&(this.id=e.svgID,this._svgString=e.svgString,this._scriptNode=e.scriptNode)}function U(e){this._handler=e,this._batch=[],this._nextID=1,this._ids=[],this._timeoutIDs={}}function V(){}function i(e,t,n,s,r,o){void 0===e&&void 0===t||(this.nodeName=e,this._nodeXML=r,this._handler=o,this._listeners={},this._detachedListeners=[],this.fake=!0,s==svgnsFake&&(s=svgns),t!=i.ELEMENT_NODE||this._nodeXML?t==i.DOCUMENT_FRAGMENT_NODE&&(r='<?xml version="1.0"?>\n<__document__fragment></__document__fragment>',this._nodeXML=z(r).documentElement):(r='<?xml version="1.0"?>\n',r+=s!=svgns||n?"<"+e+" xmlns:"+n+'="'+s+'"/>':"<"+e+' xmlns="'+svgnsFake+'" xmlns:xlink="http://www.w3.org/1999/xlink"/>',this._nodeXML=z(r).documentElement),t!=i.DOCUMENT_NODE&&this._nodeXML&&(this._nodeXML.getAttribute("__guid")||this._nodeXML.setAttribute("__guid","_"+K++),this._guid=this._nodeXML.getAttribute("__guid"),svgweb._guidLookup["_"+this._guid]=this),t==i.ELEMENT_NODE&&(this.localName=-1!=e.indexOf(":")?e.match(/^[^:]*:(.*)$/)[1]:e),this.nodeType=t||i.ELEMENT_NODE,t==i.ELEMENT_NODE||t==i.DOCUMENT_NODE||t==i.DOCUMENT_FRAGMENT_NODE?(this.prefix=n,this.namespaceURI=s,this._nodeValue=null):t==i.TEXT_NODE&&(this._nodeValue=this._nodeXML.firstChild.nodeValue,this.namespaceURI=this.prefix=null,void 0===this._nodeValue&&(this._nodeValue=null)),this.ownerDocument=document,this._handler&&"object"==this._handler.type&&(this.ownerDocument=this._handler.document),j&&this._createEmptyMethods(),this._childNodes=this._createChildNodes(),t==i.TEXT_NODE&&this._nodeXML.setAttribute("__fakeTextNode",!0),j?j&&this.nodeType!=i.DOCUMENT_NODE&&this._createHTC():this._defineNodeAccessors())}function t(e,t,n,r,o){void 0===e&&void 0===n&&void 0===r&&void 0===o||(i.apply(this,[e,i.ELEMENT_NODE,t,n,r,o]),this._attributes={},this._attributes._id="",this._importAttributes(this,this._nodeXML),j||this._defineAccessors(),this.namespaceURI==svgns&&(j&&this._attached&&this._handler&&"script"==this._handler.type&&"svg"==this.nodeName||(this.style=new s(this)),j&&this._attached&&this._handler&&"script"==this._handler.type&&"svg"==this.nodeName||j&&(this.style._ignoreStyleChanges=!1)))}function C(e){i.apply(this,["#document-fragment",i.DOCUMENT_FRAGMENT_NODE,null,null,null,null]),this.ownerDocument=e}function s(e){this._element=e,this._setup()}function W(e,t){this._handler=t,this._svgNode=e,this._scriptsToExec=[],this._htcLoaded=!!Object.defineProperty,this._swfLoaded=!1;for(var n=0;this._svgNode._onloadListeners&&n<this._svgNode._onloadListeners.length;n++){var i=function(e,t){return function(){t.apply(e.flash)}}(this._handler,this._svgNode._onloadListeners[n]);svgweb.addOnLoad(i)}j&&this._loadHTC(),this.url=this._svgNode.getAttribute("src"),this.url||(this.url=this._svgNode.getAttribute("data")),n=m(this,function(e){this._handler._origSVG=e,e=svgweb._cleanSVG(e,!0,!1),this._svgString=e.svg,this._xml=e.xml,this.document=new D(this._xml,this._handler),this._handler.document=this.document,this._savedParams=this._getPARAMs(this._svgNode),this._handler._inserter=new L("object",this._xml.documentElement,this._svgNode,this._handler)}),"data:"==this.url.substring(0,5)?n(this.url.substring(this.url.indexOf(",")+1)):this._fetchURL(this.url,n,m(this,this._fallback))}function X(e){this._handler=e,this.fake=!0,this.frameElement=this._handler.flash,this.location=this._createLocation(),this.alert=window.alert,this.top=this.parent=window,this._onloadListeners=[]}function L(e,t,n,i){this._embedType=e,this._nodeXML=t,this._replaceMe=n,this._handler=i,this._parentNode=n.parentNode,"object"==this._embedType&&(this._explicitWidth=this._replaceMe.getAttribute("width"),this._explicitHeight=this._replaceMe.getAttribute("height")),this._setupFlash()}function E(e,n,i,r){this._attached=!0,t.apply(this,["svg",null,svgns,e,r]),this._nodeXML=e,this._svgString=n,this._scriptNode=i,this._htcLoaded=!!Object.defineProperty,this._swfLoaded=!1,"script"==this._handler.type&&(this._handler.document._nodeById["_"+this._nodeXML.getAttribute("id")]=this),this._currentScale=1,this._currentTranslate=this._createCurrentTranslate(),j&&"script"==this._handler.type?(this._addRedrawMethods(),this.style=new s(this),this._readyStateListener=m(this,this._onHTCLoaded),this._htcNode.attachEvent("onreadystatechange",this._readyStateListener)):j&&"object"==this._handler.type&&this._addRedrawMethods(),"script"==this._handler.type&&(this._handler._inserter=new L("script",this._nodeXML,this._scriptNode,this._handler))}function D(e,t){i.apply(this,["#document",i.DOCUMENT_NODE,null,null,e,t],svgns),this._xml=e,this._handler=t,this._nodeById={},this._namespaces=this._getNamespaces(),this.implementation=new V,"script"==this._handler.type&&(this.defaultView=window)}function r(){var e=[];return e.item=function(e){return e>=this.length?null:this[e]},e}function F(e,t,n,i,s,r,o){this.a=e,this.b=t,this.c=n,this.d=i,this.e=s,this.f=r,this._handler=o}function G(e){this.value=e}function H(e){this.baseVal=e,this.animVal=void 0}function Y(e,t,n){this.type=e,this.matrix=t,this.angle=n}function I(e,t,n,i){void 0===n&&(n=!1),this._formalAccessors=n,this.x=e,this.y=t,n&&(this.setX=m(this,function(e){this.x=e,i("x",e)}),this.getX=m(this,function(){return this.x}),this.setY=m(this,function(e){this.y=e,i("y",e)}),this.getY=m(this,function(){return this.y}),this.setXY=m(this,function(e,t){this.x=e,this.y=t,i("xy",e,t)}))}function M(e,t,n,i){this.x=e,this.y=t,this.width=n,this.height=i}window.svgns="http://www.w3.org/2000/svg",window.xlinkns="http://www.w3.org/1999/xlink",svgnsFake="urn:__fake__internal__namespace";var w=!1,x=!1,Z=!1,j=!1,$=!1,N=!1,u=!1,aa=!1,P=!1,A=!1;!function(){var e=navigator,t=e.userAgent;e=e.appVersion;var n=parseFloat(e);t.indexOf("Opera")>=0&&(w=n);var i=Math.max(e.indexOf("WebKit"),e.indexOf("Safari"),0);i&&(x=parseFloat(e.split("Version/")[1])||parseFloat(e.substr(i+7))>419.3?3:2),t.indexOf("AdobeAIR"),(e.indexOf("Konqueror")>=0||x)&&($=n),t.indexOf("Gecko")>=0&&!$&&(Z=n),Z&&(N=parseFloat(t.split("Firefox/")[1])||void 0),document.all&&!w&&(j=parseFloat(e.split("MSIE ")[1])||void 0),t.indexOf("Chrome")>=0&&(aa=1),isStandardsMode=document.documentMode?document.documentMode>5:"CSS1Compat"==document.compatMode,"application/xhtml+xml"==document.contentType?u=!0:"undefined"!=typeof XMLDocument&&document.constructor==XMLDocument&&(u=!0),"undefined"!=typeof DOMParser&&"undefined"!=typeof XPathEvaluator&&"undefined"!=typeof XMLSerializer&&(A=P=!0)}();var da=function(){for(var e=!1,t=document.getElementsByTagName("script"),n=0;n<t.length;n++)/svg(?:\-uncompressed)?\.js/.test(t[n].src)&&(e=t[n].getAttribute("data-debug"),e="true"===e||!0===e);return e}();if("undefined"==typeof console||!console.log){var y=[];if(console={},da){if(console.log=function(e){var t=null,n=!1;try{t=document.getElementsByTagName("body")[0]}catch(e){n=!0}if(j)try{document.documentElement.doScroll("left")}catch(e){n=!0}if(n)y.push(e);else{for(;y.length;){var i=y.shift();n=document.createElement("p"),n.appendChild(document.createTextNode(i)),t.appendChild(n)}n=document.createElement("p"),n.appendChild(document.createTextNode(e)),t.appendChild(n)}},j)var ea=window.setInterval(function(){if("complete"==document.readyState){for(;y.length;){var e=y.shift();p=document.createElement("p"),p.appendChild(document.createTextNode(e)),document.body.appendChild(p)}window.clearTimeout(ea)}},50)}else console.log=function(){}}var J={},Q=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],K=0;q(R,{libraryPath:"./",config:null,pageLoaded:!1,handlers:[],totalLoaded:0,_guidLookup:[],_loadListeners:[],_removedNodes:[],_allSVGNamespaces:[],addOnLoad:function(e,t,n){if(t){var i;if(n.frameElement)i=n.frameElement;else{var s;for(s=0;s<this.handlers.length;s++)this.handlers[s]._objNode&&this.handlers[s]._objNode.contentDocument&&this.handlers[s]._objNode.contentDocument.defaultView==n&&(i=this.handlers[s]._objNode)}t&&"flash"==this.getHandlerType()?e.apply(n):i._svgHandler?i._svgHandler._onObjectLoad(e,n):(i._svgWindow=n,i._svgFunc=e)}else this._loadListeners.push(e);this.pageLoaded&&this._fireOnLoad()},getHandlerType:function(){return this.renderer==l?"flash":this.renderer==o?"native":void 0},appendChild:function(e,t){if("object"==e.nodeName.toLowerCase()&&"image/svg+xml"==e.getAttribute("type")){this.totalSVG++,this._svgObjects.push(e),"native"==this.getHandlerType()&&(e.onload=e.onsvgload,t.appendChild(e));var n=e;if("flash"==this.getHandlerType()){e.onsvgload&&e.addEventListener("SVGLoad",e.onsvgload,!1),n=document._createElement("div");for(var i=0;i<e.attributes.length;i++){var s=e.attributes[i],r=s.nodeValue;!r&&"true"!==r||n.setAttribute(s.nodeName,r)}t.appendChild(n),n._onloadListeners=e._onloadListeners,n=n}n=this._processSVGObject(n),e._objID=n}else if("svg"==e.nodeName.toLowerCase()){if(this.totalSVG++,e.onsvgload&&e.addEventListener("SVGLoad",e.onsvgload,!1),j&&e._fakeNode&&(e=e._fakeNode),n=B(e),i=document.createElement("script"),i.type="image/svg+xml",u)i.appendChild(document.createTextNode(n));else try{i.appendChild(document.createTextNode(n))}catch(e){i.text=n}this._svgScripts.push(i),t.appendChild(i),i._onloadListeners=e._detachedListeners||e._onloadListeners,this._processSVGScript(i)}},removeChild:function(e,t){var n,i=e.nodeName.toLowerCase();if("object"==i||"embed"==i||"svg"==i){this.totalSVG=0==this.totalSVG?0:this.totalSVG-1,this.totalLoaded=0==this.totalLoaded?0:this.totalLoaded-1,n=e.id,n=this.handlers[n];for(var s=[],r=0;r<this.handlers.length;r++){var o=this.handlers[r];o!=n&&(s[o.id]=o,s.push(o))}this.handlers=s}if("object"==i||"embed"==i){if("flash"==this.getHandlerType()&&n.document&&n.document.defaultView){var a=n.document.defaultView;if(a._intervalIDs)for(r=0;r<a._intervalIDs.length;r++)a.clearInterval(a._intervalIDs[r]);if(a._timeoutIDs)for(r=0;r<a._timeoutIDs.length;r++)a.clearTimeout(a._timeoutIDs[r]);for(r=0;r<n._keyboardListeners.length;r++)i=n._keyboardListeners[r],j?(document.detachEvent("onkeydown",i),document.detachEvent("onkeyup",i)):(document.removeEventListener("keydown",i,!0),document.removeEventListener("keydown",i,!1),document.removeEventListener("keyup",i,!0),document.removeEventListener("keyup",i,!1))}for(i=void 0!==e._objID?e._objID:void 0!==e.contentDocument?e.contentDocument._handler.id:e._handler.id,r=0;r<svgweb._svgObjects.length;r++)if(svgweb._svgObjects[r]._objID===i){svgweb._svgObjects.splice(r,1);break}if(t.removeChild(e),"flash"==this.getHandlerType()){if(i=document.getElementById("__htc_container"))for(r=0;r<i.childNodes.length;r++)s=i.childNodes[r],void 0!==s.ownerDocument&&s.ownerDocument==n._svgObject.document&&(void 0!==s._fakeNode&&void 0!==s._fakeNode._htcNode&&(s._fakeNode._htcNode=null),s._fakeNode=null,s._handler=null,i.removeChild(s));for(var d in svgweb._guidLookup)s=svgweb._guidLookup[d],s._fake&&s.ownerDocument===n.document&&delete svgweb._guidLookup[d];n.flash.contentDocument=null,n.flash=null,n._xml=null,n.window&&(n.window._scope=null,n.window=null),d=n._svgObject,r=d.document,r._nodeById=null,r._xml=null,r.defaultView=null,r.documentElement=null,r.rootElement=null,r=r.defaultView=null,d._svgNode=null,d._handler=null,a&&(a._setTimeout=null,a.setTimeout=null,a._setInterval=null,a.setInterval=null),a=n=d=n._svgObject=null}}else if("svg"==i){for(r=0;r<svgweb._svgScripts.length;r++)if(svgweb._svgScripts[r]==n._scriptNode){svgweb._svgScripts.splice(r,1);break}if(j&&"flash"==this.getHandlerType()&&e._fakeNode&&(e=e._fakeNode),a="native"==this.getHandlerType()?e:e._handler.flash,j?window.setTimeout(function(e,t){return function(){e.removeChild(t),t=e=null}}(t,a),1):t.removeChild(a),"flash"==this.getHandlerType()){e._setUnattached();for(d in svgweb._guidLookup)s=svgweb._guidLookup[d],s._fake&&s._getFakeNode()===n&&delete svgweb._guidLookup[d];n._scriptNode=null,n.flash.documentElement=null,n.flash=null,n=n._xml=null}}},_initDOMContentLoaded:function(){var e=this;if(document.addEventListener)document.addEventListener("DOMContentLoaded",function(){e._onDOMContentLoaded()},!1);else{document.write('<script id="__ie__svg__onload" defer src=//0><\/script>'),document.getElementById("__ie__svg__onload").onreadystatechange=function(){"complete"==this.readyState&&e._onDOMContentLoaded()};var t=function(){window.onload&&(e._saveWindowOnload(),document.detachEvent("onreadystatechange",t))};document.attachEvent("onreadystatechange",t)}},_setXDomain:function(){for(var e=document.getElementsByTagName("script"),t=0;t<e.length;t++)if(/svg(?:\-uncompressed)?\.js/.test(e[t].src)&&/^https?/.test(e[t].src)){var n=e[t].src.replace(/svg(?:\-uncompressed)?\.js/,""),i=n.match(/https?\:\/\/[^\/]*/)[0],s=window.location.protocol.replace(/:|\//g,"")+"://"+window.location.host;if(i!=s)return this.xDomainURL=n,void(this._isXDomain=!0)}this._isXDomain=!1},_getLibraryPath:function(){for(var e=null,t=document.getElementsByTagName("meta"),n=0;n<t.length;n++)"svg.config.data-path"==t[n].name&&t[n].content.length>0&&(e=t[n].content);for(t=document.getElementsByTagName("script"),n=0;n<t.length;n++)if(/svg(?:\-uncompressed)?\.js/.test(t[n].src)){t[n].getAttribute("data-path")?e=t[n].getAttribute("data-path"):null===e&&(e=t[n].getAttribute("src").split("/"),e.length-=1,e=e.join("/"));break}return null===e&&(e="./"),"/"!=e.charAt(e.length-1)&&(e+="/"),e},_getHTCFilename:function(){var e="svg.htc",t=window.location.toString();if(-1!=t.indexOf("svg.htcFilename=svg-htc.php"))return"svg-htc.php";if(-1!=t.indexOf("svg.htcFilename=svg-htc.jsp"))return"svg-htc.jsp";if(-1!=t.indexOf("svg.htcFilename=svg-htc.asp"))return"svg-htc.asp";t=document.getElementsByTagName("script");for(var n=0;n<t.length;n++)if(/svg(?:\-uncompressed)?\.js/.test(t[n].src)&&t[n].getAttribute("data-htc-filename")){e=t[n].getAttribute("data-htc-filename");break}return e},_onDOMContentLoaded:function(){if(!arguments.callee.done){arguments.callee.done=!0,this._startTime=(new Date).getTime();var e=document.getElementById("__ie__svg__onload");if(e&&(e.parentNode.removeChild(e),e.onreadystatechange=null),this._saveWindowOnload(),this.config=new S,j&&this._watchUnload(),this._svgScripts=this._getSVGScripts(),this._svgObjects=this._getSVGObjects(),this.totalSVG=this._svgScripts.length+this._svgObjects.length,this._cleanupSVGObjects(),this._handleHTMLTitleBug(),this.config.supported)if("flash"==this.config.use?this.renderer=l:"native"==this.config.use&&(this.renderer=o),this.renderer._patchBrowserObjects(window,document),this.renderer.documentRef=document,"flash"==this.config.use&&(this._createResizeListener(),this._attachResizeListener()),0===this.totalSVG)this._fireOnLoad();else{for(e=0;e<this._svgScripts.length;e++)this._processSVGScript(this._svgScripts[e]);for(e=0;e<this._svgObjects.length;e++){var t=this._processSVGObject(this._svgObjects[e]);this._svgObjects[e]._objID=t}}else this._displayNotSupported(this.config.reason),this._fireOnLoad()}},_createResizeListener:function(){this._resizeFunc=j?function(e){return function(){e._onWindowResize()}}(this):m(this,function(){this._onWindowResize()})},_attachResizeListener:function(){j?window.attachEvent("onresize",this._resizeFunc):window.addEventListener("resize",this._resizeFunc,!1)},_detachResizeListener:function(){j?window.detachEvent("onresize",this._resizeFunc):window.removeEventListener("resize",this._resizeFunc,!1)},_onWindowResize:function(){if(this.pageLoaded){this._detachResizeListener();for(var e=0;e<this.handlers.length;e++){var t=this.handlers[e];if(t._inserter&&t.flash&&t._loaded){var n=t._inserter._determineSize();t.flash.width=n.width,t.flash.height=n.height,t.sendToFlash("jsHandleResize",[n.pixelsWidth,n.pixelsHeight])}}this._attachResizeListener()}},_getSVGScripts:function(){for(var e=document.getElementsByTagName("script"),t=[],n=0;n<e.length;n++)"image/svg+xml"==e[n].type&&t.push(e[n]);return t},_getSVGObjects:function(){for(var e=document.getElementsByTagName("object"),t=[],n=0;n<e.length;n++)"image/svg+xml"==e[n].getAttribute("classid")?t.push(e[n]):"image/svg+xml"==e[n].getAttribute("type")&&t.push(e[n]);return t},_displayNotSupported:function(e){for(var t=0;t<this._svgObjects.length;t++){var n=this._svgObjects[t];if(!n.childNodes.length||1==n.childNodes.length&&3==n.childNodes[0].nodeType&&/^[ ]*$/m.test(n.childNodes[0].nodeValue)){var i=document.createElement("span");i.className="svg-noscript",i.appendChild(document.createTextNode(e)),n.parentNode.replaceChild(i,n)}}for(t=0;t<this._svgScripts.length;t++){n=this._svgScripts[t],i=document.createElement("span"),i.className="svg-noscript";for(var s=n.nextSibling;s&&1!=s.nodeType;)s=s.nextSibling;s&&"noscript"==s.nodeName.toLowerCase()?i.innerHTML=s.innerHTML:i.appendChild(document.createTextNode(e)),n.parentNode.insertBefore(i,n)}},_fireOnLoad:function(){if(!(this.handlers.length<this._svgObjects.length)){for(var e=!0,t=0;t<this.handlers.length;t++)if(!this.handlers[t]._loaded){e=!1;break}if(e&&(this.pageLoaded=!0,this._endTime=(new Date).getTime(),this._loadListeners.length)){var n=this;window.setTimeout(function(){var e=n._loadListeners;n._loadListeners=[];for(var t=this.totalLoaded=0;t<e.length;t++)try{e[t]()}catch(e){console.log("Error while firing onload: "+(e.message||e))}},1)}}},_cleanSVG:function(e,t,n){/^\s*<\!\[CDATA\[/.test(e)&&(e=e.replace(/^\s*<\!\[CDATA\[/,""),e=e.replace(/\]\]>\s*/,"")),RegExp.lastIndex=0;for(var i,s=/<!ENTITY\s+(\S+)\s+"([^"]*)"/g;null!=s.exec(e);){var r=RegExp.$2;e=e.split("&"+RegExp.$1+";").join(r)}if(t&&(0==/\<\?xml/m.test(e)&&(e='<?xml version="1.0"?>\n'+e),0==/xmlns:[^=]+=['"]http:\/\/www\.w3\.org\/1999\/xlink['"]/.test(e)&&(e=e.replace("<svg",'<svg xmlns:xlink="http://www.w3.org/1999/xlink"')),0==/xmlns\=['"]http:\/\/www\.w3\.org\/2000\/svg['"]/.test(e)&&(e=e.replace("<svg",'<svg xmlns="http://www.w3.org/2000/svg"'))),"<"!=e.charAt(0)&&(e=e.replace(/\s*<\?xml/,"<?xml")),n&&(e=e.replace(/\>\s+\</gm,"><")),this.renderer==l){if(e=e.replace(/<!\-\-[\s\S]*?\-\->/g,""),e=e.replace(/<svg/,"<SVGROOT"),e=e.replace(/<svg/g,"<NESTEDSVG"),e=e.replace(/<SVGROOT/,"<svg"),t=e.match(/<svg/)[0],s=e.split(/<svg/),e=-1!=s[1].indexOf("<![CDATA[")){RegExp.lastIndex=0;var o=/<\!\[CDATA\[/g;i=o.exec(s[1]);var a=[];for(r=0;i&&RegExp.rightContext;){var d=o.lastIndex-9,h=RegExp.rightContext;i=o.lastIndex+h.indexOf("]]>")+2,h=h.substring(0,h.indexOf("]]>")),h="<![CDATA["+h+"]]>",a.push(h),d=s[1].substring(0,d),i=s[1].substring(i+1,s[1].length),s[1]=d+"__SVG_CDATA_TOKEN_"+r+i,i=o.exec(s[1]),r++}}if(s[1]=s[1].replace(/>([^<]+)</g,"><__text>$1</__text><"),e)for(r=0;r<a.length;r++)s[1]=s[1].replace("__SVG_CDATA_TOKEN_"+r,a[r]);for(e=s[0]+t+s[1],r=2;r<s.length;r++)e+=s[r]}return e=e.replace(/<NESTEDSVG/g,"<svg"),this.renderer==l&&(e=l._encodeFlashData(e),e=e.replace(/xmlns(\:[^=]*)?=['"]http\:\/\/www\.w3\.org\/2000\/svg['"]/g,'xmlns$1="'+svgnsFake+'"')),n=this._addTracking(e,n),e=A?(new XMLSerializer).serializeToString(n):n.xml,this.renderer==l&&(e=e.replace(RegExp(svgnsFake,"g"),svgns)),{svg:e,xml:n}},_processSVGScript:function(e){var t;if(u){t="";for(var n=0;n<e.childNodes.length;n++)t+=e.childNodes[n].textContent}else t=e.innerHTML;var i=this._cleanSVG(t,!0,!0);n=i.svg;var s=i.xml;i=s.documentElement.getAttribute("id");var r=s.documentElement.getAttribute("onload");r&&(r=new Function('var evt = { target: document.getElementById("'+i+'") ,currentTarget: document.getElementById("'+i+'") ,preventDefault: function() { this.returnValue=false; }};'+r),this._loadListeners.push(function(e,t){return function(){var n=svgweb.handlers[t];return n="flash"==svgweb.getHandlerType()?n.document.documentElement._getProxyNode():document.getElementById(t),e.apply(n)}}(r,i))),e=new this.renderer({type:"script",svgID:i,xml:s,svgString:n,origSVG:t,scriptNode:e}),this.handlers[i]=e,this.handlers.push(e),e.start()},_processSVGObject:function(e){var t=e.getAttribute("id");return t||(e.setAttribute("id",svgweb._generateID("__svg__random__","__object")),t=e.getAttribute("id")),e=new this.renderer({type:"object",objID:t,objNode:e}),this.handlers[t]=e,this.handlers.push(e),e.start(),t},_generateID:function(e,t){return t||(t=""),e||(e=""),e+"_"+K+++t},_addTracking:function(e,t){var n=z(e,!t),s=n.documentElement;if(s&&!s.getAttribute("id")&&s.setAttribute("id",this._generateID("__svg__random__",null)),"flash"!=this.getHandlerType())return n;for(var r=s;r;){r.nodeType==i.ELEMENT_NODE&&r.setAttribute("__guid","_"+K++),r.nodeType==i.ELEMENT_NODE&&!r.getAttribute("id")&&r.setAttribute("id",svgweb._generateID("__svg__random__",null));var o=r.firstChild;if(o)r=o;else for(;r;){if(r!=s&&(o=r.nextSibling)){r=o;break}r==s?r=null:(r=r.parentNode,1!=r.nodeType&&(r=null))}}return n},_handleDone:function(e,t,n){if(this.totalLoaded++,"script"==t&&n._scriptNode._onloadListeners){for(e=0;e<n._scriptNode._onloadListeners.length;e++){var i=n._scriptNode._onloadListeners[e];"flash"==svgweb.getHandlerType()?i=i.listener:-1!=n._svgRoot.addEventListener.toString().indexOf("[native code]")&&o._patchAddEventListener(n._svgRoot);try{var s=document.getElementById(n.id);w?setTimeout(function(){i.apply(s),s=i=null},1):i.apply(s)}catch(e){console.log("Error while firing onload listener: "+e.message||e)}}n._scriptNode._onloadListeners=[]}this.totalLoaded>=this.totalSVG&&this._fireOnLoad()},_handleHTMLTitleBug:function(){var e=document.getElementsByTagName("head")[0],t=e.getElementsByTagName("title");0===t.length&&(t=document.createElement("title"),e.appendChild(t))},_fireFlashError:function(){},_exportID:function(e){e.__defineGetter__("id",function(){return e.getAttribute("id")}),e.__defineSetter__("id",function(t){return e.setAttribute("id",t)})},_watchUnload:function(){window.attachEvent("onunload",function(){window.detachEvent("onunload",arguments.callee),svgweb._fireUnload()})},_fireUnload:function(){if(j){for(var e=0;e<svgweb.handlers.length;e++)if("object"==svgweb.handlers[e].type){var t=svgweb.handlers[e].flash;t&&t.parentNode&&svgweb.removeChild(t,t.parentNode)}else svgweb.handlers[e].document.documentElement=null;if(t=document.getElementById("__htc_container")){for(e=0;e<t.childNodes.length;e++){var n=t.childNodes[e];1==n.nodeType&&n.namespaceURI==svgns&&(n.detachEvent("onpropertychange",n._fakeNode.style._changeListener),n.style.item=null,n.style.setProperty=null,n.style.getPropertyValue=null),n._fakeNode&&(n._fakeNode._htcNode=null),n._fakeNode=null,n._handler=null}t.parentNode.removeChild(t)}for(e=0;e<svgweb.handlers.length;e++)svgweb.handlers[e].flash=null;for(svgweb.handlers=null,e=0;e<svgweb._removedNodes.length;e++)t=svgweb._removedNodes[e],t._fakeNode&&(t._fakeNode._htcNode=null),t._fakeNode=null,t._handler=null;svgweb._removedNodes=null,document.getElementById=document._getElementById,document._getElementById=null,document.getElementsByTagNameNS=document._getElementsByTagNameNS,document._getElementsByTagNameNS=null,document.createElementNS=document._createElementNS,document._createElementNS=null,document.createElement=document._createElement,document._createElement=null,document.createTextNode=document._createTextNode,document._createTextNode=null,document._importNodeFunc=null,document.createDocumentFragment=document._createDocumentFragment,document._createDocumentFragment=null,window.addEventListener=null,window._addEventListener=null,window.attachEvent=window._attachEvent,J=window._attachEvent=null}},_cleanupSVGObjects:function(){if("flash"==this.config.use&&this.config.hasNativeSVG())for(var e=0;e<this._svgObjects.length;e++){for(var t=this._svgObjects[e],n=document.createElement("div"),i=0;i<t.attributes.length;i++){var s=t.attributes[i];n.setAttribute(s.nodeName,s.nodeValue)}n.innerHTML=t.innerHTML,t.parentNode.replaceChild(n,t),this._svgObjects[e]=n}for(e=0;e<this._svgObjects.length;e++)this._svgObjects[e].style.visibility="hidden"},_interceptOnloadListeners:function(){window.addEventListener?(window._addEventListener=window.addEventListener,window.addEventListener=function(e,t,n){if("svgload"!=e.toLowerCase())return window._addEventListener(e,t,n);svgweb.addOnLoad(t)}):window.addEventListener=function(e,t){if("svgload"==e.toLowerCase())svgweb.addOnLoad(t);else if(j&&window.attachEvent)return window.attachEvent("on"+e,t)},j&&window.attachEvent&&(window._attachEvent=window.attachEvent,window.attachEvent=function(e,t){if("onsvgload"!=e.toLowerCase())return window._attachEvent(e,t);svgweb.addOnLoad(t)})},_saveWindowOnload:function(){var a=window.onsvgload;if(document.getElementsByTagName("body")){var b=document.getElementsByTagName("body")[0];b.getAttribute("onsvgload")&&(callbackStr=b.getAttribute("onsvgload"),a=function(c){return function(){eval(c)}}(callbackStr))}a&&(j?this._loadListeners.splice(0,0,a):this._loadListeners.push(a),window.onsvgload=a=null)}}),q(S,{supported:!1,reason:null,use:null,_forceFlash:function(){for(var e=!1,t=!1,n=document.getElementsByTagName("meta"),i=0;i<n.length;i++)"svg.render.forceflash"==n[i].name&&"true"==n[i].content.toLowerCase()&&(t=e=!0);return-1!=window.location.search.indexOf("svg.render.forceflash=true")?e=!0:t&&-1!=window.location.search.indexOf("svg.render.forceflash=false")&&(e=!1),e},hasNativeSVG:function(){return!(!document.implementation||!document.implementation.hasFeature)&&document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}}),T.prototype={version:-1,versionMajor:-1,versionMinor:-1,versionRevision:-1,capable:!1,isVersionOrAbove:function(e,t,n){return n=parseFloat("."+n),this.versionMajor>=e&&this.versionMinor>=t&&this.versionRevision>=n},_detectVersion:function(){for(var e,t=25;t>0;t--){if(j){var n;try{n=t>6?new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+t):new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),"object"==typeof n&&(6==t&&(n.AllowScriptAccess="always"),e=n.GetVariable("$version"))}catch(e){continue}}else e=this._JSFlashInfo(t);if(-1==e){this.capable=!1;break}if(0!==e){e=j?e.split(" ")[1].split(","):e.split("."),this.versionMajor=e[0],this.versionMinor=e[1],this.versionRevision=e[2],this.version=parseFloat(this.versionMajor+"."+this.versionRevision),this.capable=!0;break}}},_JSFlashInfo:function(){if(null!==navigator.plugins&&navigator.plugins.length>0&&(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"])){var e=navigator.plugins["Shockwave Flash"+(navigator.plugins["Shockwave Flash 2.0"]?" 2.0":"")].description.split(" "),t=e[2].split("."),n=t[0];return t=t[1],e=(e[3]||e[4]).split("r"),n+"."+t+"."+(e[1]>0?e[1]:0)}return-1}},l._keyboardListeners=[],l._unattachedDoc=z('<?xml version="1.0"?>\n<svg xmlns="'+svgns+'"></svg>',!1),l._prepareBehavior=function(e,t){for(var n=null,i=0;i<document.namespaces.length;i++)if("svg"==document.namespaces.item(i).name){n=document.namespaces.item(i);break}null===n&&(n=document.namespaces.add("svg",svgns)),n.doImport(e+t)},l._getNode=function(e,n){var s;s=svgweb._guidLookup["_"+e.getAttribute("__guid")];var r=!1;if(s||"__text"!=e.nodeName||(r=!0),s||r||e.nodeType!=i.ELEMENT_NODE)if(s||e.nodeType!=i.TEXT_NODE&&!r){if(!s)throw Error("Unknown node type given to _getNode: "+e.nodeType)}else s=new i("#text",i.TEXT_NODE,null,null,e,n);else s=new t(e.nodeName,e.prefix,e.namespaceURI,e,n);return s._getProxyNode()},l._patchBrowserObjects=function(e,t){t._getElementById||(t._getElementById=t.getElementById,t.getElementById=l._getElementById,t._getElementsByTagNameNS=t.getElementsByTagNameNS,t.getElementsByTagNameNS=l._getElementsByTagNameNS,t._createElementNS=t.createElementNS,t.createElementNS=l._createElementNS,t._createElement=t.createElement,t.createElement=l._createElement,t._createTextNode=t.createTextNode,t.createTextNode=l._createTextNode,t._importNodeFunc=l._importNodeFunc,t._createDocumentFragment=t.createDocumentFragment,t.createDocumentFragment=l._createDocumentFragment,t._addEventListener=t.addEventListener,t.addEventListener=l._addEventListener)},l._patchFakeObjects=function(e,t){t._addEventListener=t.addEventListener,t.addEventListener=l._addEventListener},l._addEventListener=function(e,t,n){if("key"==e.substring(0,3)){var i=function(e){return function(t){t.preventDefault||(t.preventDefault=function(){this.returnValue=!1,t=null}),"object"==typeof e?e.handleEvent.call(e,t):e(t)}}(t);i.__type=e,i.__listener=t,i.__useCapture=n,this._handler?this._handler._keyboardListeners.push(i):l._keyboardListeners.push(i)}this._addEventListener?this._addEventListener(e,t,n):this.attachEvent&&this.attachEvent("on"+e,t)},l._getElementById=function(e){var t=document._getElementById(e);if(null!==t)return t;for(var n=0;n<svgweb.handlers.length;n++)if("script"==svgweb.handlers[n].type&&(t=svgweb.handlers[n].document.getElementById(e)),t)return t;return null},
l._getElementsByTagNameNS=function(e,t){var n=r();if(document._getElementsByTagNameNS)for(var i=document._getElementsByTagNameNS(e,t),s=0;s<i.length;s++)n.push(i[s]);for(var o=0;o<svgweb.handlers.length;o++)if("script"==svgweb.handlers[o].type)for(i=svgweb.handlers[o].document.getElementsByTagNameNS(e,t),s=0;s<i.length;s++)n.push(i[s]);return n},l._createElementNS=function(e,n,i){if(void 0===i&&(i=!1),null===e||"http://www.w3.org/1999/xhtml"==e)return j?document.createElement(n):document._createElementNS(e,n);var s=!1;if(e==svgns&&(e=svgnsFake,s=!0),!j&&!i){for(svgweb._allSVGNamespaces["_"+e]&&(s=!0),i=0;!s&&i<svgweb.handlers.length;i++)if("script"==svgweb.handlers[i].type&&svgweb.handlers[i].document._namespaces["_"+e]){s=!0;break}if(!s)return document._createElementNS(e,n)}var r;if(svgweb._allSVGNamespaces["_"+e])r=svgweb._allSVGNamespaces["_"+e];else for(i=0;i<svgweb.handlers.length&&("script"!=svgweb.handlers[i].type||!(r=svgweb.handlers[i].document._namespaces["_"+e]));i++);return"xmlns"!=r&&r||(r=-1!=n.indexOf(":")?n.substring(0,n.indexOf(":")):null),new t(n,r,e)._getProxyNode()},l._createElement=function(e,t){if(!t)return document._createElement(e);if(t&&"object"==e.toLowerCase()){var n=document._createElement("object");n._onloadListeners=[];var i=n.addEventListener;return function(e,t){e.addEventListener=function(e,n,s){"svgload"==e.toLowerCase()?this._onloadListeners.push(n):i?t(e,n,s):this.attachEvent("on"+e,n)}}(n,i),n}},l._createTextNode=function(e,t){if(t){var n,s=l._unattachedDoc;return n=j?s.createElement("__text"):s.createElementNS(svgnsFake,"__text"),n.appendChild(s.createTextNode(e)),s=new i("#text",i.TEXT_NODE,null,null,n),s._nodeValue=e,s.ownerDocument=document,s._getProxyNode()}return document._createTextNode(e)},l._importNodeFunc=function(e,t,n){switch(t.nodeType){case 1:var i=e.createElement(t.nodeName);if(t.attributes&&t.attributes.length>0)for(var s=0;s<t.attributes.length;s++){var r=t.attributes[s].nodeName,o=t.getAttribute(r);i.setAttribute(r,o)}if(n&&t.childNodes&&t.childNodes.length>0)for(s=0;s<t.childNodes.length;s++)i.appendChild(document._importNodeFunc(e,t.childNodes[s],n));return i;case 3:return e.createTextNode(t.nodeValue)}},l._createDocumentFragment=function(e){return e?new C(document)._getProxyNode():document._createDocumentFragment()},l._encodeFlashData=function(e){return e=e.toString().replace(/\\/g,"\\\\"),e=e.replace(/&/g,"__SVG__AMPERSAND")},q(l,{flashID:null,flash:null,start:function(){"script"==this.type?this._handleScript():"object"==this.type&&this._handleObject()},_stringToMsg:function(e){if(null==e||"string"!=typeof e)return e;var t={};e=e.split(/__SVG__DELIMIT/g);for(var n=0;n<e.length;n++){var i=e[n].indexOf(":"),s=e[n].substring(0,i);i=e[n].substring(i+1),"true"===i?i=!0:"false"===i?i=!1:"null"===i?i=null:"undefined"===i&&(i=void 0),t[s]=i}return t},debugMsg:function(e){if(void 0===e)return"undefined";if(null===e)return"null";var t,n=[];for(t in e)n.push(t+":"+e[t]);return"{"+(n=n.join(", "))+"}"},sendToFlash:function(e,t){var n=t.join("__SVG__DELIMIT");if(this._redrawManager.isSuspended())this._redrawManager.batch(e,n);else try{return void 0===this.flash[e]&&__flash__addCallback(this.flash,e),this.flash[e](n)}catch(t){console.log("Call to flash but flash is not present! "+e+": "+this.debugMsg(n)+": "+t)}},onMessage:function(e){e=this._stringToMsg(e),"event"==e.type?this._onEvent(e):"log"==e.type?this._onLog(e):"script"==e.type?this._onObjectScript(e):"viewsource"==e.type?this._onViewSource():"viewsourceDynamic"==e.type?this._onViewSourceDynamic(e):"error"==e.type&&this._onFlashError(e)},fireOnLoad:function(e,t){svgweb._handleDone(e,t,this)},_handleScript:function(){this.document=new D(this._xml,this),this.document.documentElement=new E(this._xml.documentElement,this._svgString,this._scriptNode,this)},_handleObject:function(){this._svgObject=new W(this._objNode,this),this._objNode=null},_onLog:function(e){console.log("FLASH: "+e.logString)},_onEvent:function(e){"mouse"==e.eventType.substr(0,5)||"click"==e.eventType?this._onMouseEvent(e):"key"==e.eventType.substr(0,3)?this._onKeyboardEvent(e):"onRenderingFinished"==e.eventType?"script"==this.type?this.document.documentElement._onRenderingFinished(e):"object"==this.type&&this._svgObject._onRenderingFinished(e):"onFlashLoaded"==e.eventType&&("script"==this.type?this.document.documentElement._onFlashLoaded(e):"object"==this.type&&this._svgObject._onFlashLoaded(e))},_onMouseEvent:function(e){var t=this._getElementByGuid(e.targetGUID),n=this._getElementByGuid(e.currentTargetGUID),i={target:t._getProxyNode(),currentTarget:n._getProxyNode(),type:e.eventType,clientX:Math.round(new Number(e.stageX)),clientY:Math.round(new Number(e.stageY)),screenX:Math.round(new Number(e.stageX)),screenY:Math.round(new Number(e.stageY)),altKey:e.altKey,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,button:0,preventDefault:function(){this.returnValue=!1},stopPropagation:function(){}},s=n._listeners[e.eventType];if(s)for(var r=0;r<s.length;r++){var o=s[r].listener;"object"==typeof o?o.handleEvent.call(o,i):o.call(i.currentTarget,i)}null!=e.scriptCode&&("object"==this.type?this.sandbox_eval(this._svgObject._sandboxedScript('var evt = { target: document.getElementById("'+t._getProxyNode().getAttribute("id")+'") ,\ncurrentTarget:document.getElementById("'+n._getProxyNode().getAttribute("id")+'") ,\ntype: "'+e.eventType+'",\nclientX: '+Math.round(new Number(e.stageX))+",\nclientY: "+Math.round(new Number(e.stageY))+",\nscreenX: "+Math.round(new Number(e.stageX))+",\nscreenY: "+Math.round(new Number(e.stageY))+",\naltKey: "+e.altKey+",\nctrlKey: "+e.ctrlKey+",\nshiftKey: "+e.shiftKey+",\nbutton: 0,\npreventDefault: function() { this.returnValue=false; },\nstopPropagation: function() { }\n};\n;(function (evt) { "+e.scriptCode+"; }).call(evt.currentTarget, evt);\n")):new Function(e.scriptCode).call(i.currentTarget,i))},_onKeyboardEvent:function(e){var t=this._getElementByGuid(e.targetGUID),n=this._getElementByGuid(e.currentTargetGUID);if(e={target:t._getProxyNode(),currentTarget:n._getProxyNode(),type:e.eventType,keyCode:Number(e.keyCode),altKey:e.altKey,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,preventDefault:function(){this.returnValue=!1},stopPropagation:function(){}},!N&&!aa||"transparent"!=this.flash.getAttribute("wmode")){if("script"==this.type)for(t=0;t<l._keyboardListeners.length;t++)n=l._keyboardListeners[t],n.__type==e.type&&n.call(e.currentTarget,e);var i=this._keyboardListeners;for(t=0;t<i.length;t++)n=i[t],n.__type==e.type&&n.call(e.currentTarget,e)}},addKeyboardListener:function(e,t,n){var i=function(e){return function(t){t.preventDefault||(t.preventDefault=function(){this.returnValue=!1,t=null}),"object"==typeof e?e.handleEvent.call(e,t):e(t)}}(t);i.__type=e,i.__listener=t,i.__useCapture=n,this._keyboardListeners.push(i)},_getElementByGuid:function(e){var t=svgweb._guidLookup["_"+e];if(t)return t;var n;return"script"==this.type?n=v(this._xml,null,'//*[@__guid="'+e+'"]'):"object"==this.type&&(n=v(this._svgObject._xml,null,'//*[@__guid="'+e+'"]')),n.length?(e=n[0],t=l._getNode(e,this),j&&t._fakeNode&&(t=t._fakeNode),t._attached=!0,t):null},_onFlashError:function(e){throw this._onLog(e),svgweb._fireFlashError("FLASH: "+e.logString),Error("FLASH: "+e.logString)},_onObjectScript:function(e){this._svgObject._scriptsToExec.push(e.script)},_onViewSource:function(){var e=this._origSVG;e||(e="SVG Source Not Available"),e=e.replace(/>/g,"&gt;").replace(/</g,"&lt;");var t=window.open("","_blank");t.document.write("<html><body><pre>"+e+"</pre></body></html>"),t.document.close()},_onViewSourceDynamic:function(e){-1==e.source.indexOf("<?xml")&&(e.source='<?xml version="1.0"?>\n'+e.source),e.source=e.source.replace(/<svg:([^ ]+) /g,"<$1 "),e.source=e.source.replace(/<\/svg:([^>]+)>/g,"</$1>"),e.source=e.source.replace(/\n\s*<__text[^\/]*\/>/gm,""),e.source=e.source.replace(/<__text[^>]*>([^<]*)<\/__text>/gm,"$1"),e.source=e.source.replace(/<__text[^>]*>/g,""),e.source=e.source.replace(/<\/__text>/g,""),e.source=e.source.replace(/\s*__guid="[^"]*"/g,""),e.source=e.source.replace(/ id="__svg__random__[^"]*"/g,""),e.source=e.source.replace(/>\n\n/g,">\n"),e.source=e.source.replace(/>/g,"&gt;"),e.source=e.source.replace(/</g,"&lt;");var t=window.open("","_blank");t.document.write("<body><pre>"+e.source+"</pre></body>"),t.document.close()}}),o._patchBrowserObjects=function(e,t){if(!t._getElementById){t._getElementById=t.getElementById,t.getElementById=function(e){var n=t._getElementById(e);return null!==n?null===n.parentNode?null:n:(n=v(t,null,'//*[@id="'+e+'"]'),n.length?(e=n[0],null!==e.namespaceURI&&e.namespaceURI!=svgns&&"http://www.w3.org/1999/xhtml"!=e.namespaceURI&&svgweb._exportID(e),e):null)},t._getElementsByTagNameNS=t.getElementsByTagNameNS,t.getElementsByTagNameNS=function(e,n){var i=t._getElementsByTagNameNS(e,n);if(null!==i&&0!==i.length){if(null!==e&&"http://www.w3.org/1999/xhtml"!=e&&e!=svgns){for(var s=0;s<i.length;s++){var o=i[s];svgweb._exportID(o)}return i}return i}null!==i&&0!==i.length||(i=r());var a;for(s=0;s<svgweb.handlers.length;s++)if(o=svgweb.handlers[s],"object"!=o.type&&(a=o._namespaces["_"+e])&&null!==(a=v(t,o._svgRoot,"xmlns"==a?"//*[namespace-uri()='"+svgns+"' and name()='"+n+"']":a?"//"+a+":"+n:"//"+n,o._namespaces))&&void 0!==a&&a.length>0){for(s=0;s<a.length;s++)o=a[s],null!==o.namespaceURI&&o.namespaceURI!=svgns&&"http://www.w3.org/1999/xhtml"!=o.namespaceURI&&svgweb._exportID(o),i.push(o);return i}return r()},t._createElementNS=t.createElementNS,t.createElementNS=function(e,n){if(e!=svgns||"svg"!=n)return t._createElementNS(e,n);var i=t._createElementNS(e,n);return i=o._patchAddEventListener(i)},t._createElement=t.createElement,t.createElement=function(e,n){if(!n)return t._createElement(e);if(n&&"object"==e){var i=t._createElement(e);return i=o._patchAddEventListener(i)}throw"Unknown createElement() call for SVG: "+e},o._patchCloneNode(),N&&o._patchStyleObject(e);var n=t.rootElement;n&&"svg"==n.localName&&n.namespaceURI==svgns&&o._patchSvgFileAddEventListener(e,t)}},o._patchCloneNode=function(){var e;e="undefined"!=typeof SVGSVGElement?SVGSVGElement.prototype:document.createElementNS(svgns,"svg").__proto__,e._cloneNode||(e._cloneNode=e.cloneNode,e.cloneNode=function(e){return e=this._cloneNode(e),o._patchAddEventListener(e),e})},o._patchAddEventListener=function(e){return"object"!=e.nodeName.toLowerCase()||o._objectAddEventListener||(o._objectAddEventListener=e.addEventListener),e._addEventListener="object"==e.nodeName.toLowerCase()?o._objectAddEventListener:e.addEventListener,e._onloadListeners=[],e.addEventListener=function(){return function(t,n,i){"svgload"==t.toLowerCase()?this._onloadListeners.push(n):e._addEventListener(t,n,i)}}(),e},o._patchStyleObject=function(e){var t=e.CSSStyleDeclaration;for(e=0;e<s._allStyles.length;e++){var n=s._allStyles[e],i=n.replace(/([A-Z])/g,"-$1").toLowerCase();!function(e,n){t.prototype.__defineSetter__(e,function(e){return this.setProperty(n,e,null)}),t.prototype.__defineGetter__(e,function(){return this.getPropertyValue(n)})}(n,i)}},o._patchSvgFileAddEventListener=function(e){var t=e.addEventListener;e.addEventListener=function(e,n,i){"svgload"!=e.toLowerCase()?t(e,n,i):"object"==typeof n?n.handleEvent.call(n,void 0):n()},Object.defineProperty?Object.defineProperty(e,"onsvgload",{get:function(){return this.__onsvgload},set:function(e){this.__onsvgload=e,this.addEventListener("SVGLoad",e,!1)}}):(e.__defineGetter__("onsvgload",function(){return this.__onsvgload}),e.__defineSetter__("onsvgload",function(e){this.__onsvgload=e,this.addEventListener("SVGLoad",e,!1)}))},q(o,{start:function(){"object"==this.type?this._handleObject():"script"==this.type&&this._handleScript()},_handleScript:function(){this._namespaces=this._getNamespaces(),this._processSVGScript(this._xml,this._svgString,this._scriptNode),this._loaded=!0,svgweb._handleDone(this.id,"script",this)},_handleObject:function(){if(this._objNode.style.overflow="hidden",this._objNode.style.visibility="visible",this._objNode._svgWindow)this._onObjectLoad(this._objNode._svgFunc,this._objNode._svgWindow);else{this._objNode._svgHandler=this;var e=this,t=function(){e._objNode.contentDocument&&e._onObjectLoad(e._objNode._svgFunc,e._objNode.contentDocument.defaultView)};if(this._objNode._addEventListener)this._objNode._addEventListener("load",t,!1);else if(w&&null==this._objNode.onload){var n=this._objNode.parentNode,i=this._objNode.nextSibling;n.removeChild(this._objNode),this._objNode.addEventListener("load",t,!1),i?n.insertBefore(this._objNode,i):n.appendChild(this._objNode)}else this._objNode.addEventListener("load",t,!1)}},_onObjectLoad:function(e,t){if(this._loaded)e&&e.apply(t);else{this._loaded=!0;var n=t.document;o._patchBrowserObjects(t,n);var i=n.rootElement;for(i&&this._patchCurrentTranslate(i),t.svgns=svgns,t.xlinkns=xlinkns,this._namespaces=this._getNamespaces(n),e&&e.apply(t),n=0;this._objNode._onloadListeners&&n<this._objNode._onloadListeners.length;n++)e=this._objNode._onloadListeners[n],e.apply(this._objNode);svgweb._fireOnLoad()}},_processSVGScript:function(e,t,n){var i;try{i=document.importNode(e.documentElement,!0)}catch(n){"undefined"!=typeof DOMParser&&(e=(new DOMParser).parseFromString(t,"application/xml"),i=document.adoptNode(e.documentElement,!0))}n.parentNode.replaceChild(i,n),this._svgRoot=i,this._patchCurrentTranslate(this._svgRoot)},_getNamespaces:function(e){var t=[];e=e?e.documentElement.attributes:this._xml.documentElement.attributes;for(var n=0;n<e.length;n++){var i=e[n];if(/^xmlns:?(.*)$/.test(i.nodeName)){var s=i.nodeName.match(/^xmlns:?(.*)$/);s=s[1]?s[1]:"xmlns",i=i.nodeValue,t["_"+s]||(t["_"+s]=i,t["_"+i]=s,t.push(i))}}return t},_patchCurrentTranslate:function(e){var t;"undefined"!=typeof SVGRoot?t=e.currentTranslate:void 0!==e.currentTranslate.__proto__?t=e.currentTranslate.__proto__:"undefined"!=typeof SVGPoint&&(t=SVGPoint.prototype),t.setX=function(e){return this.x=e},t.getX=function(){return this.x},t.setY=function(e){return this.y=e},t.getY=function(){return this.y},t.setXY=function(e,t){this.x=e,this.y=t}}}),q(U,{isSuspended:function(){return this._ids.length>0},batch:function(e,t){this._batch.push(e+":"+t)},suspendRedraw:function(e,t){if(void 0===e)throw"Not enough arguments to suspendRedraw";void 0===t&&(t=!0);var n=this._nextID;this._nextID++;var i=this,s=window.setTimeout(function(){i.unsuspendRedraw(n),delete i._timeoutIDs["_"+n]},e);if(this._ids.push(n),this._timeoutIDs["_"+n]=s,t)try{void 0===this._handler.flash.jsSuspendRedraw&&__flash__addCallback(this._handler.flash,"jsSuspendRedraw"),this._handler.flash.jsSuspendRedraw()}catch(e){console.log("suspendRedraw exception: "+e)}return n},unsuspendRedraw:function(e,t){void 0===t&&(t=!0);for(var n=-1,i=0;i<this._ids.length;i++)if(this._ids[i]==e){n=i;break}if(-1==n)throw"Unknown id passed to unsuspendRedraw: "+e;if(void 0!=this._timeoutIDs["_"+e]&&window.clearTimeout(this._timeoutIDs["_"+e]),this._ids.splice(n,1),delete this._timeoutIDs["_"+e],!this.isSuspended()&&(0!=this._batch.length||t)){n=this._batch.join("__SVG__METHOD__DELIMIT"),this._batch=[];try{void 0===this._handler.flash.jsUnsuspendRedrawAll&&__flash__addCallback(this._handler.flash,"jsUnsuspendRedrawAll"),this._handler.flash.jsUnsuspendRedrawAll(n)}catch(e){console.log("unsuspendRedraw exception: "+e)}}},unsuspendRedrawAll:function(){for(var e=0;e<this._ids.length;e++)this.unsuspendRedraw(this._ids[e])},forceRedraw:function(){}}),q(V,{hasFeature:function(){}}),O(i,{ELEMENT_NODE:1,TEXT_NODE:3,DOCUMENT_NODE:9,DOCUMENT_FRAGMENT_NODE:11}),q(i,{_listeners:null,_detachedListeners:null,insertBefore:function(e,t){if(this.nodeType!=i.ELEMENT_NODE&&this.nodeType!=i.DOCUMENT_FRAGMENT_NODE)throw"Not supported";e.parentNode&&e.parentNode.removeChild(e),e=this._getFakeNode(e),t=this._getFakeNode(t);var n,s=e.nodeType==i.DOCUMENT_FRAGMENT_NODE;if(s&&(n=e._getChildNodes(!0)),s&&0==n.length)return e._reset(),e._getProxyNode();var r=this._findChild(t);if(null===r)throw Error("Invalid child passed to insertBefore");r=r.position;var o=[];if(s)for(s=0;s<n.length;s++)o.push(n[s]);else o.push(e);for(s=0;s<o.length;s++)this._nodeXML.insertBefore(this._importNode(o[s],!1),t._nodeXML),this._processAppendedChildren(o[s],this,this._attached);if(this._attached&&this._passThrough&&(n=l._encodeFlashData(B(e,this._handler.document._namespaces)),this._handler.sendToFlash("jsInsertBefore",[t._guid,this._guid,r,n])),!j)for(s=0;s<o.length;s++)this._defineChildNodeAccessor(this._childNodes.length),this._childNodes.length++;return e.nodeType==i.DOCUMENT_FRAGMENT_NODE?e._reset():e._attached=this._attached,e._getProxyNode()},replaceChild:function(e,t){if(this.nodeType!=i.ELEMENT_NODE&&this.nodeType!=i.DOCUMENT_FRAGMENT_NODE)throw"Not supported";e.parentNode&&e.parentNode.removeChild(e),e=this._getFakeNode(e),t=this._getFakeNode(t);var n,s=e.nodeType==i.DOCUMENT_FRAGMENT_NODE;if(s&&(n=e._getChildNodes(!0)),s&&0==n.length)return e._reset(),e._getProxyNode();var r=this._findChild(t);if(null===r)throw Error("Invalid child passed to replaceChild");r=r.position,this.removeChild(t);var o=[];if(s)for(s=0;s<n.length;s++)o.push(n[s]);else o.push(e);if(!j)for(s=0;s<o.length;s++)this._defineChildNodeAccessor(this._childNodes.length),this._childNodes.length++;n=!1,r>=this._nodeXML.childNodes.length&&(n=!0);var a=r;for(s=0;s<o.length;s++){var d=this._importNode(o[s],!1);n?this._nodeXML.appendChild(d):(this._nodeXML.insertBefore(d,this._nodeXML.childNodes[a]),a++)}return this._attached&&this._passThrough&&(o=l._encodeFlashData(B(e,this._handler.document._namespaces)),this._handler.sendToFlash("jsAddChildAt",[this._guid,r,o])),this._processAppendedChildren(e,this,this._attached),t._setUnattached(),svgweb._removedNodes.push(t._getProxyNode()),e.nodeType==i.DOCUMENT_FRAGMENT_NODE?e._reset():e._attached=this._attached,t._getProxyNode()},removeChild:function(e){if(this.nodeType!=i.ELEMENT_NODE&&this.nodeType!=i.DOCUMENT_FRAGMENT_NODE)throw"Not supported";if(e.nodeType!=i.ELEMENT_NODE&&e.nodeType!=i.TEXT_NODE)throw"Not supported";e=this._getFakeNode(e);var t=this._findChild(e);if(null===t)throw Error("Invalid child passed to removeChild");var n=t.position;return this._nodeXML.removeChild(t.nodeXML),e.nodeType==i.ELEMENT_NODE&&(t=e._getId())&&this._attached&&(this._handler.document._nodeById["_"+t]=void 0),e._persistEventListeners(),j?this._childNodes.splice(n,1):(delete this._childNodes[this._childNodes.length-1],this._childNodes.length--),this._attached&&this._passThrough&&this._handler.sendToFlash("jsRemoveChild",[e._guid]),e._setUnattached(),svgweb._removedNodes.push(e._getProxyNode()),e._getProxyNode()},appendChild:function(e){if(this.nodeType!=i.ELEMENT_NODE&&this.nodeType!=i.DOCUMENT_FRAGMENT_NODE)throw"Not supported";e.parentNode&&e.parentNode.removeChild(e),e=this._getFakeNode(e);var t,n=e.nodeType==i.DOCUMENT_FRAGMENT_NODE;if(n&&(t=e._getChildNodes(!0)),n&&0==t.length)return e._reset(),e._getProxyNode();if(n)for(var s=0;s<t.length;s++)this._importNode(t[s]);else this._importNode(e);if(j)if(n)for(s=0;s<t.length;s++)this._childNodes.push(t[s]._htcNode);else this._childNodes.push(e._htcNode);else if(n)for(s=0;s<t.length;s++)this._defineChildNodeAccessor(this._childNodes.length),this._childNodes.length++;else this._defineChildNodeAccessor(this._childNodes.length),this._childNodes.length++;return this._attached&&this._passThrough&&this._handler.sendToFlash("jsAppendChild",[this._guid,l._encodeFlashData(B(e,this._handler.document._namespaces))]),this._processAppendedChildren(e,this,this._attached),e.nodeType==i.DOCUMENT_FRAGMENT_NODE?e._reset():e._attached=this._attached,e._getProxyNode()},hasChildNodes:function(){return this._getChildNodes().length>0},isSupported:function(e,t){return"2.0"==t&&("Core"==e||("Events"==e||"UIEvents"==e||"MouseEvents"==e||void 0))},hasAttributes:function(){if(this.nodeType==i.ELEMENT_NODE)for(var e in this._attributes)if(!/^_xmlns/i.test(e)&&("_id"!=e||!/^__svg__random__/.test(this._attributes[e]))&&("___guid"!=e||!/^__guid/.test(this._attributes[e]))&&("___fakeTextNode"!=e||!/^__fakeTextNode/.test(this._attributes[e]))&&/^_.*/.test(e)&&this._attributes.hasOwnProperty(e))return!0;return!1},addEventListener:function(e,t,n,s){if(this.nodeType!=i.ELEMENT_NODE&&this.nodeType!=i.TEXT_NODE&&(this.nodeType!=i.DOCUMENT_NODE||"key"!=e.substring(0,3)))throw"Not supported";s||this._attached?(void 0===this._listeners[e]&&(this._listeners[e]=[]),this._listeners[e].push({type:e,listener:t,useCapture:n}),this._listeners[e]["_"+t.toString()+":"+n]=t,"key"==e.substring(0,3)?this._handler.addKeyboardListener(e,t,n):this._handler.sendToFlash("jsAddEventListener",[this._guid,e])):this._detachedListeners.push({type:e,listener:t,useCapture:n})},removeEventListener:function(e,t,n){if(this.nodeType!=i.ELEMENT_NODE&&this.nodeType!=i.TEXT_NODE)throw"Not supported";var s;this._attached?(this._listeners[e]&&null!==(s=this._findListener(this._listeners[e],e,t,n))&&(this._listeners[e].splice(s,1),delete this._listeners[e]["_"+t.toString()+":"+n]),"key"==e.substring(0,3)&&null!==(s=this._findListener(this._keyboardListeners,e,t,n))&&this._keyboardListeners.splice(s,1),this._handler.sendToFlash("jsRemoveEventListener",[this._guid,e])):null!==(s=this._findListener(this._detachedListeners,e,t,n))&&this._detachedListeners.splice(s,1)},getScreenCTM:function(){if(this._handler){var e=this._handler.sendToFlash("jsGetScreenCTM",[this._guid]);return e=this._handler._stringToMsg(e),new F(new Number(e.a),new Number(e.b),new Number(e.c),new Number(e.d),new Number(e.e),new Number(e.f),this._handler)}return new F(1,0,0,1,0,0)},getCTM:function(){return this.getScreenCTM()},cloneNode:function(e){var n;if(this.nodeType==i.ELEMENT_NODE&&this.namespaceURI!=svgns)n=new t(this.nodeName,this.prefix,this.namespaceURI);else if(this.nodeType==i.ELEMENT_NODE)n=document.createElementNS(this.namespaceURI,this.nodeName);else if(this.nodeType==i.TEXT_NODE)n=document.createTextNode(this._nodeValue,!0);else{if(this.nodeType!=i.DOCUMENT_FRAGMENT_NODE)throw"cloneNode not supported for nodeType: "+this.nodeType;n=document.createDocumentFragment(!0)}n=this._getFakeNode(n);for(var s=this._nodeXML.attributes,r=0;r<s.length;r++){var o=s.item(r);o.name.match(/([^:]+):?(.*)/);var a=o.namespaceURI;if(x&&-1!=o.name.indexOf("xmlns"))n._nodeXML.setAttribute(o.name,o.nodeValue);else{var d=n._nodeXML.ownerDocument;a=j?d.createNode(2,o.name,a):d.createAttributeNS(a,o.name),a.nodeValue=o.nodeValue,j?n._nodeXML.setAttributeNode(a):n._nodeXML.setAttributeNodeNS(a)}}if(n._nodeXML.setAttribute("__guid",n._guid),j)for(s=this._htcNode.style,r=0;r<s.length;r++){o=s.item(r),a=s.getPropertyValue(o);try{n._htcNode.style.length++}catch(e){}n.style.length++,n.style._ignoreStyleChanges=!0,n._htcNode.style[o]=a,n.style._ignoreStyleChanges=!1}if(n.nodeType==i.ELEMENT_NODE&&n._importAttributes(n,n._nodeXML),e&&(n.nodeType==i.ELEMENT_NODE||n.nodeType==i.DOCUMENT_FRAGMENT_NODE))for(e=this._getChildNodes(),r=0;r<e.length;r++)s=e[r].cloneNode(!0),n.appendChild(s);return n.ownerDocument=this.ownerDocument,n._getProxyNode()},toString:function(){return this.namespaceURI==svgns?"[_SVG"+this.localName.charAt(0).toUpperCase()+this.localName.substring(1)+"]":this.prefix?"["+this.prefix+":"+this.localName+"]":this.localName?"["+this.localName+"]":"["+this.nodeName+"]"},_addEvent:function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&(e["e"+t+n]=n,e[t+n]=function(e,t,n){return function(){e["e"+t+n](window.event)}}(e,t,n),e.attachEvent("on"+t,e[t+n]))},nodeName:null,nodeType:null,ownerDocument:null,namespaceURI:null,localName:null,prefix:null,_getParentNode:function(){if(this.nodeType==i.DOCUMENT_NODE||this.nodeType==i.DOCUMENT_FRAGMENT_NODE)return null;if(this._attached&&this._handler&&this._getProxyNode()==this._handler.document.rootElement){if("script"==this._handler.type)return this._handler.flash.parentNode;if("object"==this._handler.type)return this._handler.document}var e=this._nodeXML.parentNode;return null===e||e.nodeType==i.DOCUMENT_NODE?null:(e=l._getNode(e,this._handler),this._getFakeNode(e)._attached=this._attached,e)},_getFirstChild:function(){if(this.nodeType==i.TEXT_NODE)return null;var e=this._nodeXML.firstChild;return null===e?null:(e=l._getNode(e,this._handler),this._getFakeNode(e)._attached=this._attached,e)},_getLastChild:function(){if(this.nodeType==i.TEXT_NODE)return null;var e=this._nodeXML.lastChild;return null===e?null:(e=l._getNode(e,this._handler),this._getFakeNode(e)._attached=this._attached,e)},_getPreviousSibling:function(){if(this.nodeType==i.DOCUMENT_NODE||this.nodeType==i.DOCUMENT_FRAGMENT_NODE)return null;if(this._attached&&this._handler&&this._getProxyNode()==this._handler.document.rootElement&&"script"==this._handler.type){var e=this._handler.flash.previousSibling;return e&&1==e.nodeType&&e.className&&-1!=e.className.indexOf("embedssvg")?(e=e.getAttribute("id").replace("_flash",""),e=svgweb.handlers[e].document.documentElement,e._getProxyNode()):e}return null===(e=this._nodeXML.previousSibling)||7==e.nodeType?null:(e=l._getNode(e,this._handler),this._getFakeNode(e)._attached=this._attached,e)},_getNextSibling:function(){if(this.nodeType==i.DOCUMENT_NODE||this.nodeType==i.DOCUMENT_FRAGMENT_NODE)return null;if(this._attached&&this._handler&&this._getProxyNode()==this._handler.document.rootElement&&"script"==this._handler.type){var e=this._handler.flash.nextSibling;return e&&1==e.nodeType&&e.className&&-1!=e.className.indexOf("embedssvg")?(e=this._handler.document._nodeById["_"+e.getAttribute("id").replace("_flash","")],e._getProxyNode()):e}return null===(e=this._nodeXML.nextSibling)?null:(e=l._getNode(e,this._handler),this._getFakeNode(e)._attached=this._attached,e)},_passThrough:!0,_attached:!1,_fake:!0,_defineNodeAccessors:function(){if(this.__defineGetter__("parentNode",m(this,this._getParentNode)),this.__defineGetter__("firstChild",m(this,this._getFirstChild)),this.__defineGetter__("lastChild",m(this,this._getLastChild)),this.__defineGetter__("previousSibling",m(this,this._getPreviousSibling)),this.__defineGetter__("nextSibling",m(this,this._getNextSibling)),this.__defineGetter__("childNodes",function(e){return function(){return e._childNodes}}(this)),"#text"==this.nodeName)this._childNodes.length=0;else{var e=this._nodeXML.childNodes;this._childNodes.length=e.length;for(var t=0;t<e.length;t++)this._defineChildNodeAccessor(t)}this.nodeType==i.TEXT_NODE?(this.__defineGetter__("data",function(e){return function(){return e._nodeValue}}(this)),this.__defineSetter__("data",function(e){return function(t){return e._setNodeValue(t)}}(this)),this.__defineGetter__("textContent",function(e){return function(){return e._nodeValue}}(this)),this.__defineSetter__("textContent",function(e){return function(t){return e._setNodeValue(t)}}(this))):this.__defineGetter__("textContent",function(){return function(){return""}}()),this.__defineGetter__("nodeValue",function(e){return function(){return e._nodeValue}}(this)),this.__defineSetter__("nodeValue",function(e){return function(t){return e._setNodeValue(t)}}(this))},_defineChildNodeAccessor:function(e){var t=this;this._childNodes.__defineGetter__(e,function(){var n=l._getNode(t._nodeXML.childNodes[e],t._handler);return n._attached=t._attached,n})},_getChildNodes:function(e){if(!j)return this._childNodes;void 0===e&&(e=!1);var t=r();if("#text"==this.nodeName)return t;if(this._nodeXML.childNodes.length!=this._childNodes.length||e){for(var n=0;n<this._nodeXML.childNodes.length;n++){var i=l._getNode(this._nodeXML.childNodes[n],this._handler);i._fakeNode._attached=this._attached,e&&(i=i._fakeNode),t.push(i)}return this._childNodes=t}return this._childNodes},_createHTC:function(){if(Object.defineProperty)this._htcNode=document.createElement("div"),this._htcNode.appendChild=function(e){return this._fakeNode.appendChild(e)},this._htcNode.addEventListener=function(e,t,n){return this._fakeNode.addEventListener(e,t,n)},this._htcNode.beginElement=function(){return this._fakeNode.beginElement()},this._htcNode.beginElementAt=function(e){return this._fakeNode.beginElementAt(e)},this._htcNode.endElement=function(){return this._fakeNode.endElement()},this._htcNode.endElementAt=function(e){return this._fakeNode.endElementAt(e)},this._htcNode._cloneNode=this._htcNode.cloneNode,this._htcNode.cloneNode=function(e){return this._fakeNode.cloneNode(e)},this._htcNode.createSVGPoint=function(){return this._fakeNode.createSVGPoint()},this._htcNode.createSVGRect=function(){return this._fakeNode.createSVGRect()},this._htcNode.getAttribute=function(e){return this._fakeNode.getAttribute(e)},this._htcNode.getAttributeNS=function(e,t){return this._fakeNode.getAttributeNS(e,t)},this._htcNode.getScreenCTM=function(){return this._fakeNode.getScreenCTM()},this._htcNode.getBBox=function(){return this._fakeNode.getBBox()},this._htcNode.getCTM=function(){return this._fakeNode.getCTM()},this._htcNode.getElementsByTagNameNS=function(e,t){return this._fakeNode.getElementsByTagNameNS(e,t)},this._htcNode.hasChildNodes=function(){return this._fakeNode.hasChildNodes()},this._htcNode.hasAttributes=function(){return this._fakeNode.hasAttributes()},this._htcNode.hasAttribute=function(e){return this._fakeNode.hasAttribute(e)},this._htcNode.hasAttributeNS=function(e,t){return this._fakeNode.hasAttributeNS(e,t)},this._htcNode.insertBefore=function(e,t){return this._fakeNode.insertBefore(e,t)},this._htcNode.isSupported=function(e,t){return this._fakeNode.isSupported(e,t)},this._htcNode.setAttribute=function(e,t){return this._fakeNode.setAttribute(e,t)},this._htcNode.setAttributeNS=function(e,t,n){return this._fakeNode.setAttributeNS(e,t,n)},this._htcNode.removeChild=function(e){return this._fakeNode.removeChild(e)},this._htcNode.replaceChild=function(e,t){return this._fakeNode.replaceChild(e,t)},this._htcNode.removeAttribute=function(e){return this._fakeNode.removeAttribute(e)},this._htcNode.removeAttributeNS=function(e,t){return this._fakeNode.removeAttributeNS(e,t)},this._htcNode.removeEventListener=function(e,t,n){return this._fakeNode.removeEventListener(e,t,n)},this._htcNode.get=function(e){return this._fakeNode.get(e)},this._htcNode.set=function(e,t){return this._fakeNode.set(e,t)},this._htcNode.create=function(e,t,n,i,s){return this._fakeNode.create(e,t,n,i,s)},this._htcNode.createChild=function(e,t,n,i,s){return this._fakeNode.createChild(e,t,n,i,s)},this._htcNode.addChild=function(e,t){return this._fakeNode.addChild(e,t)},this._htcNode._getNodeName=function(){return this._fakeNode.nodeName},this._htcNode._getNodeType=function(){return this._fakeNode.nodeType},this._htcNode._getLocalName=function(){return this._fakeNode.localName},this._htcNode._getPrefix=function(){return this._fakeNode.prefix},this._htcNode._getNamespaceURI=function(){return this._fakeNode.namespaceURI},this._htcNode._getChildNodes=function(){return this._fakeNode._getChildNodes()},this._htcNode._getParentNode=function(){return this._fakeNode._getParentNode()},this._htcNode._getFirstChild=function(){return this._fakeNode._getFirstChild()},this._htcNode._getLastChild=function(){return this._fakeNode._getLastChild()},this._htcNode._getPreviousSibling=function(){return this._fakeNode._getPreviousSibling()},this._htcNode._getNextSibling=function(){return this._fakeNode._getNextSibling()},this._htcNode._getNodeValue=function(){return this._fakeNode._nodeValue},this._htcNode._setNodeValue=function(e){return this._fakeNode._setNodeValue(e)},this._htcNode._getTextContent=function(){return this._fakeNode._getTextContent()},this._htcNode._setTextContent=function(e){return this._fakeNode._setTextContent(e)},this._htcNode._getData=function(){return this._fakeNode._getData()},this._htcNode._setData=function(e){return this._fakeNode._setData(e)},this._htcNode._getOwnerDocument=function(){return this._fakeNode.ownerDocument},this._htcNode._getId=function(){return this._fakeNode._getId()},this._htcNode._setId=function(e){return this._fakeNode._setId(e)},this._htcNode._getX=function(){
return this._fakeNode._getX()},this._htcNode._getY=function(){return this._fakeNode._getY()},this._htcNode._getWidth=function(){return this._fakeNode._getWidth()},this._htcNode._getHeight=function(){return this._fakeNode._getHeight()},this._htcNode._getCurrentScale=function(){return this._fakeNode._getCurrentScale()},this._htcNode._setCurrentScale=function(e){return this._fakeNode._setCurrentScale(e)},this._htcNode._getCurrentTranslate=function(){return this._fakeNode._getCurrentTranslate()},Object.defineProperty(this._htcNode,"currentScale",{get:function(){return this._getCurrentScale()},set:function(e){this._setCurrentScale(e)}}),Object.defineProperty(this._htcNode,"currentTranslate",{get:function(){return this._getCurrentTranslate()},set:function(){}}),Object.defineProperty(this._htcNode,"nodeName",{get:function(){return this._getNodeName()},set:function(){}}),Object.defineProperty(this._htcNode,"nodeType",{get:function(){return this._getNodeType()},set:function(){}}),Object.defineProperty(this._htcNode,"localName",{get:function(){return this._getLocalName()},set:function(){}}),Object.defineProperty(this._htcNode,"prefix",{get:function(){return this._getPrefix()},set:function(){}}),Object.defineProperty(this._htcNode,"namespaceURI",{get:function(){return this._getNamespaceURI()},set:function(){}}),Object.defineProperty(this._htcNode,"childNodes",{get:function(){return this._getChildNodes()},set:function(){}}),Object.defineProperty(this._htcNode,"parentNode",{get:function(){return this._getParentNode()},set:function(){}}),Object.defineProperty(this._htcNode,"firstChild",{get:function(){return this._getFirstChild()},set:function(){}}),Object.defineProperty(this._htcNode,"id",{get:function(){return this._getId()},set:function(e){this._setId(e)}}),Object.defineProperty(this._htcNode,"lastChild",{get:function(){return this._getLastChild()},set:function(){}}),Object.defineProperty(this._htcNode,"previousSibling",{get:function(){return this._getPreviousSibling()},set:function(){}}),Object.defineProperty(this._htcNode,"nextSibling",{get:function(){return this._getNextSibling()},set:function(){}}),Object.defineProperty(this._htcNode,"nodeValue",{get:function(){return this._getNodeValue()},set:function(e){this._setNodeValue(e)}}),Object.defineProperty(this._htcNode,"textContent",{get:function(){return this._getTextContent()},set:function(e){this._setTextContent(e)}}),Object.defineProperty(this._htcNode,"data",{get:function(){return this._getData()},set:function(e){this._setData(e)}}),Object.defineProperty(this._htcNode,"ownerDocument",{get:function(){return this._getOwnerDocument()},set:function(){}}),Object.defineProperty(this._htcNode,"x",{get:function(){return this._getX()},set:function(){}}),Object.defineProperty(this._htcNode,"y",{get:function(){return this._getY()},set:function(){}}),Object.defineProperty(this._htcNode,"width",{get:function(){return this._getWidth()},set:function(){}}),Object.defineProperty(this._htcNode,"height",{get:function(){return this._getHeight()},set:function(){}}),this._htcNode._fakeNode=this,this._htcNode._handler=this._handler;else{if(!this._htcContainer&&(this._htcContainer=document.getElementById("__htc_container"),!this._htcContainer)){var e=document.getElementsByTagName("body")[0],t=document.createElement("div");t.id="__htc_container",t.style.position="absolute",t.style.top="-5000px",t.style.left="-5000px",e.appendChild(t),this._htcContainer=t}this._htcNode=document.createElement("svg:"+this.nodeName),this._htcNode._fakeNode=this,this._htcNode._handler=this._handler,this._htcContainer.appendChild(this._htcNode)}},_setNodeValue:function(e){if(this.nodeType!=i.TEXT_NODE)return e;if(this._nodeValue=e,this._nodeXML.firstChild.nodeValue=e,this._attached&&this._passThrough){var t=l._encodeFlashData(e);this._handler.sendToFlash("jsSetText",[this._nodeXML.parentNode.getAttribute("__guid"),this._guid,t])}return e},_getFakeNode:function(e){return e||(e=this),j&&e._fakeNode&&(e=e._fakeNode),e},_processAppendedChildren:function(e,t,n){var s;for(t=e.nodeType==i.DOCUMENT_FRAGMENT_NODE?this._getFakeNode(e._getFirstChild()):e,n&&(s=this._handler._redrawManager.suspendRedraw(1e4,!1));t;){var r=t._nodeXML;if(t._handler=this._handler,r=r.getAttribute("id"),n&&t.nodeType==i.ELEMENT_NODE&&r&&(this._handler.document._nodeById["_"+r]=t),n){for("script"==this._handler.type?t.ownerDocument=document:"object"==this._handler.type&&(t.ownerDocument=this._handler.document),t._attached=!0,r=0;r<t._detachedListeners.length;r++){var o=t._detachedListeners[r];o&&t.addEventListener(o.type,o.listener,o.useCapture,!0)}t._detachedListeners=[]}for((r=(r=t._getChildNodes())&&r.length>0?r[0]:null)&&(t=r,j&&(t=t._fakeNode));!r&&t;){if(t!=e&&(r=t._getNextSibling())){t=r,j&&(t=t._fakeNode);break}t==e?t=null:((t=t._getParentNode())&&j&&(t=t._fakeNode),t&&(1!=t.nodeType||t._handler&&t._getProxyNode()==t._handler.document.rootElement)&&(t=null))}}n&&this._handler._redrawManager.unsuspendRedraw(s,!1)},_importNode:function(e,t){void 0===t&&(t=!0);var n;return n=this._attached?this._handler.document._xml:this._nodeXML.ownerDocument,n=void 0===n.importNode?document._importNodeFunc(n,e._nodeXML,!0):n.importNode(e._nodeXML,!0),t&&this._nodeXML.appendChild(n),e._importChildXML(n),n},_importChildXML:function(e){this._nodeXML=e,e=this._getChildNodes();for(var t=0;t<e.length;t++){var n=e[t];j&&n._fakeNode&&(n=n._fakeNode),n._nodeXML=this._nodeXML.childNodes[t],n._importChildXML(this._nodeXML.childNodes[t])}},_findChild:function(e,t){void 0===t&&(t=!1);for(var n={},s=0,r=0;r<this._nodeXML.childNodes.length;r++){var o=this._nodeXML.childNodes[r];if(!(o.nodeType!=i.ELEMENT_NODE&&o.nodeType!=i.TEXT_NODE||t&&(o.getAttribute("__fakeTextNode")||o.nodeType==i.TEXT_NODE)||(o.nodeType==i.ELEMENT_NODE&&s++,o.nodeType!=i.ELEMENT_NODE||o.getAttribute("__guid")!=e._guid)))return n.position=t?s:r,n.nodeXML=o,n}return null},_setUnattached:function(){for(var e=this._getChildNodes(),t=0;t<e.length;t++){var n=e[t];j&&(n=n._fakeNode),n._setUnattached()}this._attached=!1,this._handler=null},_getProxyNode:function(){return j?this._htcNode:this},_createChildNodes:function(){var e;return j?e=r():(e={},e.item=function(e){return e>=this.length?null:this[e]}),e},_getTextContent:function(){return this.nodeType==i.TEXT_NODE?this._nodeValue:""},_setTextContent:function(e){return this.nodeType==i.TEXT_NODE?this._setNodeValue(e):""},_getData:function(){if(this.nodeType==i.TEXT_NODE)return this._nodeValue},_setData:function(e){if(this.nodeType==i.TEXT_NODE)return this._setNodeValue(e)},_createEmptyMethods:function(){this.nodeType==i.TEXT_NODE&&(this.getAttribute=this.getAttributeNS=this.setAttribute=this.setAttributeNS=this.removeAttribute=this.removeAttributeNS=this.hasAttribute=this.hasAttributeNS=this.getElementsByTagNameNS=this._getId=this._setId=this._getX=this._getY=this._getWidth=this._getHeight=this._getCurrentScale=this._setCurrentScale=this._getCurrentTranslate=this.createSVGRect=this.createSVGPoint=function(){})},_persistEventListeners:function(){for(var e in this._listeners)for(var t=0;t<this._listeners[e].length;t++){var n=this._listeners[e][t];this._detachedListeners.push({type:n.type,listener:n.listener,useCapture:n.useCapture})}for(this._listeners=[],e=this._getChildNodes(),t=0;t<e.length;t++)n=e[t],n._fakeNode&&(n=n._fakeNode),n._persistEventListeners()},_findListener:function(e,t,n,i){for(var s=0;s<e.length;s++){var r=e[s];if(r.listener==n&&r.type==t&&r.useCapture==i)return s}return null}}),t.prototype=new i,q(t,{getAttribute:function(e){return this.getAttributeNS(null,e,!0)},getAttributeNS:function(e,t,n){var i;if(null==e&&"__guid"==t)return null;if(this._attached&&this._passThrough&&!this._handler._redrawManager.isSuspended())i=this._handler.sendToFlash("jsGetAttribute",[this._guid,!1,!1,e,t,!0]);else if(j){if(j)if(e)for(var s=0;s<this._nodeXML.attributes.length;s++){var r=this._nodeXML.attributes.item(s),o=new String(r.name).match(/[^:]*:?(.*)/)[1];if(r.namespaceURI&&r.namespaceURI==e&&o==t){i=r.nodeValue;break}}else i=this._nodeXML.getAttribute(t)}else i=this._nodeXML.getAttributeNS(e,t);return"null"!=e||"id"!=t||i?void 0===i||null===i||/^[ ]*$/.test(i)?n?null:"":i:""},removeAttribute:function(e){this.removeAttributeNS(null,e)},removeAttributeNS:function(e,t){if("id"==t&&this._attached&&this.namespaceURI==svgns){var n=this._handler.document,i=this._nodeXML.getAttribute("id");n._nodeById["_"+i]=void 0}var s;if(e)for(n=0;n<this._nodeXML.attributes.length;n++){i=this._nodeXML.attributes.item(n);var r,o=new String(i.name).match(/([^:]+:)?(.*)/);if(-1!=i.name.indexOf(":")?(r=o[1],o=o[2]):o=o[1],i.namespaceURI&&i.namespaceURI==e&&o==t){s=i;break}}else s=this._nodeXML.getAttributeNode(t);s?(this._nodeXML.removeAttributeNode(s),s=t,e&&(s=r+":"+t),this._attributes["_"+s]=void 0,this._attached&&this._passThrough&&this._handler.sendToFlash("jsRemoveAttribute",[this._guid,e,t])):console.log("No attribute node found for: "+t+" in the namespace: "+e)},setAttribute:function(e,t){this.setAttributeNS(null,e,t)},setAttributeNS:function(e,t,n){null!==n&&void 0!==n||(n="");var i=t;if(-1!=t.indexOf(":")&&(i=t.split(":")[1]),this._attached&&"id"==t){var s=this._handler.document,r=this._nodeXML.getAttribute("id");s._nodeById["_"+r]=void 0,(0===r||r)&&(s._nodeById["_"+n]=this)}x&&"style"==i&&null!==this._nodeXML.parentNode&&"clipPath"==this._nodeXML.parentNode.nodeName?(s=this._nodeXML.nextSibling,r=this._nodeXML.parentNode,this._nodeXML.parentNode.removeChild(this._nodeXML),this._nodeXML.setAttribute("style",n),s?r.insertBefore(this._nodeXML,s):r.appendChild(this._nodeXML)):e&&j?(s=this._nodeXML.ownerDocument.createNode(2,t,e),s.nodeValue=n,this._nodeXML.setAttributeNode(s)):j?this._nodeXML.setAttribute(t,n):this._nodeXML.setAttributeNS(e,t,n),/^xmlns:?(.*)$/.test(t)&&(s=t.match(/^xmlns:?(.*)$/),s=s[1]?s[1]:"xmlns",r=n,svgweb._allSVGNamespaces["_"+s]||(svgweb._allSVGNamespaces["_"+s]=r,svgweb._allSVGNamespaces["_"+r]=s)),this._attributes["_"+t]=n,this._attached&&this._passThrough&&(t=l._encodeFlashData(n),this._handler.sendToFlash("jsSetAttribute",[this._guid,!1,e,i,t])),this._handler&&"script"==this._handler.type&&this._attached&&this._getProxyNode()==this._handler.document.rootElement&&("width"==i||"height"==i)&&svgweb._onWindowResize()},hasAttribute:function(e){return this.hasAttributeNS(null,e)},hasAttributeNS:function(e,t){if(e||j){if(j){for(var n=null,i=0;i<this._nodeXML.attributes.length;i++){var s=this._nodeXML.attributes.item(i),r=new String(s.name).match(/(?:[^:]+:)?(.*)/)[1],o=s.namespaceURI;if(""==o&&(o=null),e==o&&r==t){n=s;break}}return null!=n}return this._nodeXML.hasAttributeNS(e,t)}return this._nodeXML.hasAttribute(t)},getElementsByTagNameNS:function(e,t){var n,s=r();if(""==e&&(e=null),e==svgns&&(e=svgnsFake),this._nodeXML.getElementsByTagNameNS)s=this._nodeXML.getElementsByTagNameNS(e,t);else{var o=null;if(this._attached&&(o=this._handler.document._namespaces),n="xmlns",e&&"*"!=e&&o&&void 0===(n=o["_"+e]))return r();if(null!==(n=v(this._nodeXML.ownerDocument,this._nodeXML,"*"==e&&"*"==t?"//*[ancestor::*[@__guid = '"+this._guid+"']]":"*"==e?"//*[namespace-uri()='*' and local-name()='"+t+"' and ancestor::*[@__guid = '"+this._guid+"']]":"*"==t?"//*[namespace-uri()='"+e+"' and ancestor::*[@__guid = '"+this._guid+"']]":"//"+t+"[ancestor::*[@__guid = '"+this._guid+"']]| //*[namespace-uri()='"+e+"' and local-name()='"+t+"' and ancestor::*[@__guid = '"+this._guid+"']]",o))&&void 0!==n&&n.length>0)for(o=0;o<n.length;o++)n[o]!==this._nodeXML&&s.push(n[o])}if(("*"==e||e==svgnsFake)&&"*"==t){for(n=[],o=0;o<s.length;o++)s[o].nodeType==i.ELEMENT_NODE&&"__text"!=s[o].nodeName&&n.push(s[o]);s=n}for(n=r(),o=0;o<s.length;o++){var a=l._getNode(s[o],this._handler);this._getFakeNode(a)._attached=this._attached,n.push(a)}return n},beginElement:function(){this.beginElementAt(0)},endElement:function(){this.endElementAt(0)},beginElementAt:function(e){this._attached&&this._passThrough&&this._handler.sendToFlash("jsBeginElementAt",[this._guid,e])},endElementAt:function(e){this._attached&&this._passThrough&&this._handler.sendToFlash("jsEndElementAt",[this._guid,e])},style:null,_setClassName:function(){},_getClassName:function(){},_setTransform:function(){},_getTransform:function(){},_getViewBox:function(){},_getId:function(){return this._attributes._id?this._attributes._id:""},_setId:function(e){return this.setAttribute("id",e)},ownerSVGElement:null,_getX:function(){var e=this._trimMeasurement(this.getAttribute("x"));return new H(new G(new Number(e)))},_getY:function(){var e=this._trimMeasurement(this.getAttribute("y"));return new H(new G(new Number(e)))},_getWidth:function(){var e=this._trimMeasurement(this.getAttribute("width"));return new H(new G(new Number(e)))},_getHeight:function(){var e=this._trimMeasurement(this.getAttribute("height"));return new H(new G(new Number(e)))},_getCurrentScale:function(){return this._currentScale},_setCurrentScale:function(e){return e!==this._currentScale&&(this._currentScale=e,this._handler.sendToFlash("jsSetCurrentScale",[e])),e},_getCurrentTranslate:function(){return this._currentTranslate},createSVGPoint:function(){return new I(0,0)},createSVGRect:function(){return new M(0,0,0,0)},getBBox:function(){if(this._handler){var e=this._handler.sendToFlash("jsGetBBox",[this._guid]);return e=this._handler._stringToMsg(e),new M(new Number(e.x),new Number(e.y),new Number(e.width),new Number(e.height))}return new M(0,0,0,0)},_trimMeasurement:function(e){return null!==e&&(e=e.replace(/[a-z]/gi,"")),e},_getInnerHTML:function(){},_setInnerHTML:function(){},_allEvents:["onfocusin","onfocusout","onactivate","onclick","onmousedown","onmouseup","onmouseover","onmousemove","onmouseout","onload","onunload","onabort","onerror","onresize","onscroll","onzoom","onbegin","onend","onrepeat"],_handleEvent:function(){},_prepareEvents:function(){},_attributes:null,_importAttributes:function(e,t){for(var n=0;n<t.attributes.length;n++){var i=t.attributes[n];this._attributes["_"+i.nodeName]=i.nodeValue}},_defineAccessors:function(){var e=this;"svg"!=this.nodeName&&"use"!=this.nodeName||(this.__defineGetter__("x",function(){return e._getX()}),this.__defineGetter__("y",function(){return e._getY()}),this.__defineGetter__("width",function(){return e._getWidth()}),this.__defineGetter__("height",function(){return e._getHeight()})),"svg"==this.nodeName&&(this.__defineGetter__("currentTranslate",function(){return e._getCurrentTranslate()}),this.__defineGetter__("currentScale",function(){return e._getCurrentScale()}),this.__defineSetter__("currentScale",function(t){return e._setCurrentScale(t)})),this.__defineGetter__("id",m(this,this._getId)),this.__defineSetter__("id",m(this,this._setId))},_defineAccessor:function(e,t){var n=this;this.__defineGetter__(e,function(){return n.getAttribute(e)}),t&&this.__defineSetter__(e,function(t){return n.setAttribute(e,t)})}}),C.prototype=new i,q(C,{_reset:function(){for(;this._nodeXML.firstChild;)this._nodeXML.removeChild(this._nodeXML.firstChild);this._childNodes=this._createChildNodes(),j||this._defineNodeAccessors()}}),s._allStyles=["font","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","direction","letterSpacing","textDecoration","unicodeBidi","wordSpacing","clip","color","cursor","display","overflow","visibility","clipPath","clipRule","mask","opacity","enableBackground","filter","floodColor","floodOpacity","lightingColor","stopColor","stopOpacity","pointerEvents","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","fill","fillOpacity","fillRule","imageRendering","marker","markerEnd","markerMid","markerStart","shapeRendering","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","textRendering","alignmentBaseline","baselineShift","dominantBaseline","glyphOrientationHorizontal","glyphOrientationVertical","kerning","textAnchor","writingMode"],s._allRootStyles=["border","verticalAlign","backgroundColor","top","right","bottom","left","position","width","height","margin","marginTop","marginBottom","marginRight","marginLeft","padding","paddingTop","paddingBottom","paddingLeft","paddingRight","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","borderTopStyle","borderRightStyle","borderBottomStyle","borderLeftStyle","zIndex","overflowX","overflowY","float","clear"],q(s,{_ignoreStyleChanges:!0,_setup:function(){if(this._normalizeStyle(),j){var e=this._element._htcNode.style,t=this._fromStyleString();for(i=0;i<t.length;i++){r=this._toCamelCase(t[i].styleName);var n=t[i].styleValue;try{e[r]=n}catch(e){console.log("The following exception occurred setting style."+r+" on IE: "+(e.message||e))}}try{e.length=0}catch(e){}if(this.length=0,e.item=m(this,this.item),e.setProperty=m(this,this.setProperty),e.getPropertyValue=m(this,this.getPropertyValue),this._changeListener=m(this,this._onPropertyChange),this._element._htcNode.attachEvent("onpropertychange",this._changeListener),j&&j>=8)return e.pixelBottom}else{for(var i=0;i<s._allStyles.length;i++){var r=s._allStyles[i];this._defineAccessor(r)}if(this._element._handler&&this._element._getProxyNode()==this._element._handler.document.rootElement)for(i=0;i<s._allRootStyles.length;i++)r=s._allRootStyles[i],this._defineAccessor(r);this.__defineGetter__("length",m(this,this._getLength))}},_defineAccessor:function(e){var t=this;this.__defineGetter__(e,function(){return t._getStyleAttribute(e)}),this.__defineSetter__(e,function(n){return t._setStyleAttribute(e,n)})},_setStyleAttribute:function(e,t){for(var n=this._fromCamelCase(e),i=this._fromStyleString(),s=!1,r=0;r<i.length;r++)if(i[r].styleName===n){i[r].styleValue=t,s=!0;break}if(s||i.push({styleName:n,styleValue:t}),i=this._toStyleString(i),this._element._nodeXML.setAttribute("style",i),this._element._attributes._style=i,j){if(i=this._element._htcNode.style,!s){try{i.length++}catch(e){}this.length++}this._ignoreStyleChanges=!0,i[e]=t,this._ignoreStyleChanges=!1}this._element._attached&&this._element._passThrough&&(s=l._encodeFlashData(t),this._element._handler.sendToFlash("jsSetAttribute",[this._element._guid,!0,null,n,s]))},_getStyleAttribute:function(e){if(e=this._fromCamelCase(e),this._element._attached&&this._element._passThrough&&!this._element._handler._redrawManager.isSuspended())return this._element._handler.sendToFlash("jsGetAttribute",[this._element._guid,!0,!1,null,e,!1]);for(var t=this._fromStyleString(),n=0;n<t.length;n++)if(t[n].styleName===e)return t[n].styleValue;return null},_fromStyleString:function(){var e=this._element._nodeXML.getAttribute("style");if(null===e||void 0===e)return[];-1==e.indexOf(";")?e=[e]:(e=e.split(/\s*;\s*/),e[e.length-1]||(e=e.slice(0,e.length-1)));for(var t=[],n=0;n<e.length;n++){var i=e[n].split(":");if(2==i.length){var s=i[0];i=i[1],s=s.replace(/^\s+/,""),i=i.replace(/^\s+/,""),t.push({styleName:s,styleValue:i})}}return t},_toStyleString:function(e){for(var t="",n=0;n<e.length;n++)t+=e[n].styleName+": ",t+=e[n].styleValue+";",n!=e.length-1&&(t+=" ");return t},_fromCamelCase:function(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()},_toCamelCase:function(e){if(-1==e.indexOf("-"))return e;var t="";e=e.split("-"),t+=e[0];for(var n=1;n<e.length;n++)t+=e[n].charAt(0).toUpperCase()+e[n].substring(1);return t},setProperty:function(e,t){return this._setStyleAttribute(this._toCamelCase(e),t),t},getPropertyValue:function(e){return this._getStyleAttribute(this._toCamelCase(e))},item:function(e){return this._fromStyleString()[e].styleName},_getLength:function(){return this._fromStyleString().length},_normalizeStyle:function(){if(this._element._nodeXML.getAttribute("style")&&/[A-Z]/.test(this._element._nodeXML.getAttribute("style"))){for(var e=this._fromStyleString(),t=0;t<e.length;t++)e[t].styleName=e[t].styleName.toLowerCase(),-1==e[t].styleValue.indexOf("url(")&&(e[t].styleValue=e[t].styleValue.toLowerCase());var n="";for(t=0;t<e.length;t++)n+=e[t].styleName+": "+e[t].styleValue+"; ";" "==n.charAt(n.length-1)&&(n=n.substring(0,n.length-1)),this._element._passThrough=!1,this._element.setAttribute("style",n),this._element._passThrough=!0}},_onPropertyChange:function(){if(!this._ignoreStyleChanges){var e=window.event.propertyName;e&&/^style\./.test(e)&&"style.length"!=e&&(e=e.match(/^style\.(.*)$/)[1],this._setStyleAttribute(e,this._element._htcNode.style[e]))}}}),q(W,{_scriptsToExec:null,_utf8encode:function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var i=e.charCodeAt(n);i<128?t+=String.fromCharCode(i):(i>127&&i<2048?t+=escape(String.fromCharCode(i>>6|192)):(t+=escape(String.fromCharCode(i>>12|224)),t+=escape(String.fromCharCode(i>>6&63|128))),t+=escape(String.fromCharCode(63&i|128)))}return t},_fetchURL:function(e,t,n){var i=ca();j&&(e=this._utf8encode(e),e+=-1==e.indexOf("?")?"?":"&",e+=(new Date).getTime()),i.onreadystatechange=function(){4==i.readyState&&(200==i.status?t(i.responseText):n(i.status+": "+i.statusText),i=null)},i.open("GET",e,!0),i.send(null)},_fallback:function(e){console.log("onError (fallback), error="+e)},_loadHTC:function(){this._dummyNode=document.createElement("svg:__force__load"),this._dummyNode._handler=this._handler,this._readyStateListener=m(this,this._onHTCLoaded),this._dummyNode.attachEvent("onreadystatechange",this._readyStateListener),document.getElementsByTagName("head")[0].appendChild(this._dummyNode)},_onFlashLoaded:function(e){document.getElementById(this._handler.flashID)?this._onFlashLoadedNow(e):setTimeout(function(e,t){return function(){e._onFlashLoaded(t)}}(this,e),1)},_onFlashLoadedNow:function(){if(this._handler.flash=document.getElementById(this._handler.flashID),this._savedParams.length){for(var e=0;e<this._savedParams.length;e++)this._handler.flash.appendChild(this._savedParams[e]);this._savedParams=null}this._handler.flash.top=this._handler.flash.parent=window,this._swfLoaded=!0,j&&!this._htcLoaded||this._onEverythingLoaded()},_onHTCLoaded:function(){document.getElementsByTagName("head")[0].removeChild(this._dummyNode),this._dummyNode.detachEvent("onreadystatechange",this._readyStateListener),this._dummyNode=null,this._htcLoaded=!0,this._swfLoaded&&this._onEverythingLoaded()},_onEverythingLoaded:function(){var e=this._handler._inserter._determineSize();this._handler.sendToFlash("jsHandleLoad",[this._getRelativeTo("object"),this._getRelativeTo("page"),e.pixelsWidth,e.pixelsHeight,!1,this._svgString])},_onRenderingFinished:function(){this._handler.flash.style.visibility="visible";var e=this._xml.documentElement,t=e.getAttribute("id"),n=new E(e,null,null,this._handler),i=this._handler.document;i._attached=!0,i.documentElement=n._getProxyNode(),i.rootElement=n._getProxyNode(),i._nodeById["_"+t]=n,j&&this._handler.flash.setAttribute("contentDocument",null);try{this._handler.flash.contentDocument=i}catch(e){try{this._handler.flash.__contentDocument=i;var s=this;Object.defineProperty(this._handler.flash,"contentDocument",{get:function(){return s._handler.flash.__contentDocument},set:function(e){s._handler.flash.__contentDocument=e}})}catch(e){console.log("This exception occurred setting object contentDocument: "+(e.message||e))}}for(this._handler.window=new X(this._handler),i.defaultView=this._handler.window,l._patchFakeObjects(i.defaultView,i),(e=e.getAttribute("onload"))&&(e=';(function(){var evt = { target: document.getElementById("'+n.getAttribute("id")+'") ,currentTarget: document.getElementById("'+n.getAttribute("id")+'") ,preventDefault: function() { this.returnValue=false; }};'+e+"}).apply(document.documentElement);",this._scriptsToExec.push(e)),n="",e=0;e<this._scriptsToExec.length;e++)n+=this._scriptsToExec[e]+"\n";this._executeScript(n),this._handler._loaded=!0,this._handler.fireOnLoad(this._handler.id,"object")},_getRelativeTo:function(e){var t="";return(e="object"==e?this.url.replace(/[^:]*:\/\/[^\/]*/).match(/\/?[^\?\#]*/)[0]:window.location.pathname.toString())&&e.length>0&&-1!=e.indexOf("/")&&(t=e.replace(/\/([^\/]*)$/,"/")),t},_executeScript:function(e){var t=document.createElement("iframe");t.setAttribute("src","about:blank"),t.style.position="absolute",t.style.top="-1000px",t.style.left="-1000px",document.getElementsByTagName("body")[0].appendChild(t);var n=t.contentDocument?t.contentDocument:t.contentWindow.document;t=t.contentWindow,this._handler.document.defaultView=t,e=this._sandboxedScript(e),e=e+";if (__svgHandler) __svgHandler.sandbox_eval = "+(j?"window.eval;":"function(scriptCode) { return window.eval(scriptCode) };"),w?setTimeout(function(e,t,n){return function(){t.eval.apply(t,[n]),e._fireOnload()}}(this._handler.window,t,e),1):(n.write("<script>"+e+"<\/script>"),n.close(),this._handler.window._fireOnload())},_sandboxedScript:function(e){var t="top.svgweb";return!top.svgweb&&self.frameElement&&(self.frameElement.id||(self.frameElement.id=svgweb._generateID("__svg__random__","__iframe")),t='top.document.getElementById("'+self.frameElement.id+'").contentWindow.svgweb'),e="var __svgHandler = "+t+'.handlers["'+this._handler.id+'"];\nwindow.svgns = "'+svgns+'";\nwindow.xlinkns = "'+xlinkns+'";\nwindow._timeoutIDs = [];\nwindow._setTimeout = window.setTimeout;\nwindow.setTimeout = \n       (function() {\n          return function(f, ms) {\n            var timeID = window._setTimeout(f, ms);\n            window._timeoutIDs.push(timeID);\n            return timeID;\n          };\n        })();\nwindow._intervalIDs = [];\nwindow._setInterval = window.setInterval;\nwindow.setInterval = \n       (function() {\n          return function(f, ms) {\n            var timeID = window._setInterval(f, ms);\n            window._intervalIDs.push(timeID);\n            return timeID;\n          };\n        })();\n\n\n'+e,e=e.replace(/top\.document/g,"top.DOCUMENT"),e=e.replace(/top\.window/g,"top.WINDOW"),e=e.replace(/(^|[^A-Za-z0-9_])document(\.|'|"|\,| |\))/g,"$1__svgHandler.document$2"),e=e.replace(/window\.(location|addEventListener|onload|frameElement)/g,"__svgHandler.window.$1"),e=e.replace(/top\.DOCUMENT/g,"top.document"),e=e.replace(/top\.WINDOW/g,"top.window")},_getPARAMs:function(e){for(var t=[],n=0;n<e.childNodes.length;n++){var i=e.childNodes[n];"PARAM"==i.nodeName.toUpperCase()&&t.push(i.cloneNode(!1))}return t}}),q(X,{addEventListener:function(e,t){"svgload"!=e.toLowerCase()&&"load"!=e.toLowerCase()||this._onloadListeners.push(t)},_fireOnload:function(){for(var e=0;e<this._onloadListeners.length;e++)try{this._onloadListeners[e]()}catch(e){console.log("The following exception occurred from an SVG onload listener: "+(e.message||e))}if(this.onload)try{this.onload()}catch(e){console.log("The following exception occurred from an SVG onload listener: "+(e.message||e))}},_createLocation:function(e){var t={},n=this._handler._svgObject.url;if(e=e||window.location,/^data:/.test(n))return t.href=n,t.toString=function(){return this.href},t;if(!/^http/.test(n))if("/"==n.charAt(0))n=e.protocol+"//"+e.host+n;else if(-1==e.pathname.indexOf("/"))n=e.protocol+"//"+e.host+"/"+n;else{for(var i=e.pathname,s=i.length-1;s>=0&&"/"!=i.charAt(s);s--)i=i.substring(0,s);n=e.protocol+"//"+e.host+i+n}return n=n.match(/^(https?:)\/\/([^\/:]*):?([0-9]*)([^\?#]*)([^#]*)(#.*)?$/),t.protocol=n[1]?n[1]:e.href,":"!=t.protocol.charAt(t.protocol.length-1)&&(t.protocol+=":"),t.hostname=n[2],t.port="",n[3]&&(t.port=n[3]),i=!0,(t.protocol!=e.protocol||t.hostname!=e.hostname||t.port&&t.port!=e.port)&&(i=!1),i&&!t.port&&(t.port=e.port),t.host=t.port?t.hostname+":"+t.port:t.hostname,t.pathname=n[4]?n[4]:"",t.search=n[5]?n[5]:"",t.hash=n[6]?n[6]:"",t.href=t.protocol+"//"+t.host+t.pathname+t.search+t.hash,t.toString=function(){return this.protocol+"//"+this.host+this.pathname+this.search+this.hash},t}}),q(L,{_setupFlash:function(){var e,t=this._determineSize(),n=this._determineBackground(),i=this._determineStyle(),s=this._determineClassName(),r=this._determineCustomAttrs();"script"==this._embedType?(e=this._nodeXML.getAttribute("id"),this._handler.flashID=e+"_flash"):"object"==this._embedType&&(e=this._replaceMe.getAttribute("id"),this._handler.flashID=e),this._insertFlash(this._createFlash(t,e,n,i,s,r))},_insertFlash:function(e){if(!j){var t;if(u)u&&(t=e);else{var n=document.createElement("div");for(n.innerHTML=e,t=n.childNodes[0],n.removeChild(t),n=0;n<t.childNodes.length;n++){var i=t.childNodes[n];if("EMBED"==i.nodeName.toUpperCase()){t=i;break}}}return this._replaceMe.parentNode.replaceChild(t,this._replaceMe),t}var s=this;window.setTimeout(function(){s._replaceMe.removeAttribute("id"),s._replaceMe.removeAttribute("name"),s._replaceMe.outerHTML=e,s=null},1)},_determineSize:function(){var e=this._parentNode.clientWidth,t=this._parentNode.clientHeight;return 0==t&&(this.invalidParentHeight=!0),0==e&&(e=this._parentNode.offsetWidth),x||(e-=this._getMargin(this._parentNode,"margin-left"),e-=this._getMargin(this._parentNode,"margin-right"),t-=this._getMargin(this._parentNode,"margin-top"),t-=this._getMargin(this._parentNode,"margin-bottom")),isStandardsMode?this._getStandardsSize(e,t):this._getQuirksSize(e,t)},_getQuirksSize:function(e,t){var n,i;if("script"==this._embedType)for(n=this._parentNode;n&&n.style&&"div"!=n.nodeName.toLowerCase();){if("body"==n.nodeName.toLowerCase()){this._nodeXML.getAttribute("style")&&-1!=this._nodeXML.getAttribute("style").indexOf("fixed")?(t=window.innerHeight&&window.innerHeight>0?window.innerHeight:document.documentElement&&document.documentElement.clientHeight&&document.documentElement.clientHeight>0?document.documentElement.clientHeight:document.body.clientHeight,this.invalidParentHeight=!1):(this.invalidParentHeight=!0,t=0);break}n=n.parentNode}var s=this._explicitWidth,r=this._explicitHeight,o=this._nodeXML.getAttribute("width");o&&-1==o.indexOf("%")&&(o=parseInt(o).toString());var a=this._nodeXML.getAttribute("height");return a&&-1==a.indexOf("%")&&(a=parseInt(a).toString()),s&&r?(n=-1!=s.indexOf("%")?e*parseInt(s)/100:s,-1!=r.indexOf("%")?t>0?i=t*parseInt(r)/100:console.log("SVGWeb: unhandled resize scenario."):i=r,{width:s,height:i,pixelsWidth:n,pixelsHeight:i,clipMode:this._nodeXML.getAttribute("viewBox")?"neither":"both"}):s?(n=-1!=s.indexOf("%")?e*parseInt(s)/100:s,this._nodeXML.getAttribute("viewBox")?(o&&-1==o.indexOf("%")&&a&&-1==a.indexOf("%")?r=n*(a/o):(a=this._nodeXML.getAttribute("viewBox").split(/\s+|,/),o=a[2],a=a[3],r=n*(a/o)),{width:s,height:r,pixelsWidth:n,pixelsHeight:r,clipMode:"neither"}):(r=o&&-1==o.indexOf("%")&&a&&-1==a.indexOf("%")?n*(a/o):a&&-1==a.indexOf("%")?a:150,{width:s,height:r,pixelsWidth:n,pixelsHeight:r,clipMode:"both"})):r?(i=-1!=r.indexOf("%")?t*parseInt(r)/100:r,this._nodeXML.getAttribute("viewBox")?(o&&-1==o.indexOf("%")&&a&&-1==a.indexOf("%")?s=i*(o/a):(a=this._nodeXML.getAttribute("viewBox").split(/\s+|,/),o=a[2],a=a[3],s=i*(o/a)),{width:s,height:r,pixelsWidth:s,pixelsHeight:i,clipMode:"neither"}):(o&&-1==o.indexOf("%")&&a&&-1==a.indexOf("%")?n=s=i*(o/a):(s=o||"100%",n=-1!=s.indexOf("%")?e*parseInt(s)/100:s),{width:s,height:r,pixelsWidth:n,pixelsHeight:i,clipMode:"both"})):(s=o||"100%",n=-1!=s.indexOf("%")?e*parseInt(s)/100:s,a&&-1==a.indexOf("%")?(r=a,{width:s,height:r,pixelsWidth:n,pixelsHeight:r,clipMode:this._nodeXML.getAttribute("viewBox")?"neither":"both"}):this._nodeXML.getAttribute("viewBox")?"script"!=this._embedType||null!=a&&-1==a.indexOf("%")||this.invalidParentHeight?(a=this._nodeXML.getAttribute("viewBox").split(/\s+|,/),o=a[2],a=a[3],r=n*(a/o),{width:s,height:r,pixelsWidth:n,pixelsHeight:r,clipMode:"neither"}):(null==a&&(a="100%"),i=t*parseInt(a)/100,{width:s,height:i,pixelsWidth:n,pixelsHeight:i,clipMode:"neither"}):(r=150,{width:s,height:r,pixelsWidth:n,pixelsHeight:r,clipMode:"both"}))},_getStandardsSize:function(e,t){var n,i,s=this._explicitWidth,r=this._explicitHeight,o=this._nodeXML.getAttribute("width");o&&-1==o.indexOf("%")&&(o=parseInt(o).toString());var a=this._nodeXML.getAttribute("height")
;return a&&-1==a.indexOf("%")&&(a=parseInt(a).toString()),s&&!r?this._getQuirksSize(e,t):s||r?!s&&r?(s=o||"100%",n=-1!=s.indexOf("%")?e*parseInt(s)/100:s,-1==r.indexOf("%")?(i=r,o&&-1==o.indexOf("%")&&a&&-1==a.indexOf("%")?n=s=r*(o/a):this._nodeXML.getAttribute("viewBox")&&(viewBox=this._nodeXML.getAttribute("viewBox").split(/\s+|,/),boxWidth=viewBox[2],boxHeight=viewBox[3],n=s=i*(boxWidth/boxHeight)),{width:s,height:r,pixelsWidth:n,pixelsHeight:r,clipMode:this._nodeXML.getAttribute("viewBox")?"neither":"both"}):(a&&-1==a.indexOf("%")?i=a:this._nodeXML.getAttribute("viewBox")?(viewBox=this._nodeXML.getAttribute("viewBox").split(/\s+|,/),boxWidth=viewBox[2],boxHeight=viewBox[3],i=n*(boxHeight/boxWidth)):i=150,{width:s,height:i,pixelsWidth:n,pixelsHeight:i,clipMode:this._nodeXML.getAttribute("viewBox")?"neither":"both"})):s&&r?(n=-1!=s.indexOf("%")?e*parseInt(s)/100:s,-1==r.indexOf("%")?{width:s,height:r,pixelsWidth:n,pixelsHeight:r,clipMode:this._nodeXML.getAttribute("viewBox")?"neither":"both"}:o&&-1==o.indexOf("%")&&a&&-1==a.indexOf("%")?(i=n*(a/o),{width:s,height:i,pixelsWidth:n,pixelsHeight:i,clipMode:"neither"}):this.invalidParentHeight?this._nodeXML.getAttribute("viewBox")?(viewBox=this._nodeXML.getAttribute("viewBox").split(/\s+|,/),boxWidth=viewBox[2],boxHeight=viewBox[3],r=n*(boxHeight/boxWidth),{width:s,height:r,pixelsWidth:n,pixelsHeight:r,clipMode:"neither"}):(i=a&&-1==a.indexOf("%")?a:150,{width:s,height:i,pixelsWidth:n,pixelsHeight:i,clipMode:"both"}):(i=t*parseInt(r)/100,{width:s,height:i,pixelsWidth:n,pixelsHeight:i,clipMode:"neither"})):void 0:this._getQuirksSize(e,t)},_getMargin:function(e,t){var n;return e.currentStyle?n=parseInt(e.currentStyle[t]):window.getComputedStyle&&(n=parseInt(document.defaultView.getComputedStyle(e,null).getPropertyValue(t))),n||0},_determineBackground:function(){var e=!1,t=null,n=this._nodeXML.getAttribute("style");return n&&-1!=n.indexOf("background-color")&&(n=n.match(/background\-color:\s*([^;]*)/))&&(t=n[1]),null===t&&(e=!0),{color:t,transparent:e}},_determineStyle:function(){var e=this._nodeXML.getAttribute("style");return e||(e=""),e.length>0&&";"!=e.charAt(e.length-1)&&(e+=";"),"script"==this._embedType&&-1==e.indexOf("display:")&&(e+="display: inline;"),"script"==this._embedType&&-1==e.indexOf("overflow:")&&(e+="overflow: hidden;"),e},_determineClassName:function(){var e=this._nodeXML.getAttribute("class");return e?e+" embedssvg":"embedssvg"},_determineCustomAttrs:function(){var e=[];if("object"==this._embedType)for(var t=this._replaceMe,n=document._createElement("object"),i=0;i<t.attributes.length;i++){var s=t.attributes[i],r=s.nodeName;s=s.nodeValue,!s&&"true"!==s||n.getAttribute(r)||/^(id|name|width|height|data|class|style|codebase|type|_listeners|addEventListener|onload)$/.test(r)||e.push({attrName:r.toString(),attrValue:s.toString()})}return e},_createFlash:function(e,t,n,i,s,r){t="uniqueId="+encodeURIComponent(t)+"&sourceType=string&clipMode="+e.clipMode+"&debug=true&svgId="+encodeURIComponent(t);var o;o=this._isXDomain?svgweb.xDomainURL+"svg.swf":svgweb.libraryPath+"svg.swf";var a=window.location.protocol;":"==a.charAt(a.length-1)&&(a=a.substring(0,a.length-1));var d;if(u){d=document.createElement("embed"),d.setAttribute("src",o),d.setAttribute("quality","high"),n.color&&d.setAttribute("bgcolor",n.color),n.transparent&&d.setAttribute("wmode","transparent"),d.setAttribute("width",e.width),d.setAttribute("height",e.height),d.setAttribute("id",this._handler.flashID),d.setAttribute("name",this._handler.flashID),d.setAttribute("swLiveConnect","true"),d.setAttribute("allowScriptAccess","always"),d.setAttribute("type","application/x-shockwave-flash"),d.setAttribute("FlashVars",t),d.setAttribute("pluginspage",a+"://www.macromedia.com/go/getflashplayer"),d.setAttribute("style",i),d.setAttribute("className",s);for(var h=0;h<r.length;h++)d.setAttribute(r[h].attrName,r[h].attrValue)}else{for(d="",h=0;h<r.length;h++)d+=" "+r[h].attrName+'="'+r[h].attrValue+'"';d='<object\n classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"\n codebase="'+a+'://fpdownload.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=10,0,0,0"\n width="'+e.width+'"\n height="'+e.height+'"\n id="'+this._handler.flashID+'"\n name="'+this._handler.flashID+'"\n style="'+i+'"\n class="'+s+'"\n '+d+'\n>\n <param name="allowScriptAccess" value="always"></param>\n <param name="movie" value="'+o+'"></param>\n <param name="quality" value="high"></param>\n <param name="FlashVars" value="'+t+'"></param>\n '+(n.color?'<param name="bgcolor" value="'+n.color+'"></param>\n ':"")+(n.transparent?'<param name="wmode" value="transparent"></param>\n ':"")+'<embed src="'+o+'" quality="high" '+(n.color?'bgcolor="'+n.color+'" \n':"")+(n.transparent?'wmode="transparent" \n':"")+'width="'+e.width+'" height="'+e.height+'" id="'+this._handler.flashID+'" name="'+this._handler.flashID+'" swLiveConnect="true" allowScriptAccess="always" type="application/x-shockwave-flash" FlashVars="'+t+'" pluginspage="'+a+'://www.macromedia.com/go/getflashplayer" style="'+i+'"\n class="'+s+'"\n '+d+"\n /></object>"}return d}}),E.prototype=new t,q(E,{suspendRedraw:function(e){return this._handler._redrawManager.suspendRedraw(e)},unsuspendRedraw:function(e){this._handler._redrawManager.unsuspendRedraw(e)},unsuspendRedrawAll:function(){this._handler._redrawManager.unsuspendRedrawAll()},forceRedraw:function(){},nearestViewportElement:null,farthestViewportElement:null,getTransformToElement:function(){},_onHTCLoaded:function(){this._htcNode.detachEvent("onreadystatechange",this._readyStateListener),this.style._ignoreStyleChanges=!1,this._htcLoaded=!0,this._swfLoaded&&this._onEverythingLoaded()},_onFlashLoaded:function(e){document.getElementById(this._handler.flashID)?this._onFlashLoadedNow(e):setTimeout(function(e,t){return function(){e._onFlashLoaded(t)}}(this,e),1)},_onFlashLoadedNow:function(){this._handler.flash=document.getElementById(this._handler.flashID),this._swfLoaded=!0,j&&!this._htcLoaded||this._onEverythingLoaded()},_onEverythingLoaded:function(){var e=this._handler._inserter._determineSize();this._handler.sendToFlash("jsHandleLoad",[this._getRelativeTo("object"),this._getRelativeTo("page"),e.pixelsWidth,e.pixelsHeight,!0,this._svgString])},_onRenderingFinished:function(){"script"==this._handler.type&&(this._handler.flash.documentElement=this._getProxyNode()),this._attached&&("script"==this._handler.type?this.ownerDocument=document:"object"==this._handler.type&&(this.ownerDocument=this._handler.document)),this._handler.document.rootElement=this._getProxyNode();var e=this._nodeXML.getAttribute("id");this._handler._loaded=!0,this._handler.fireOnLoad(e,"script")},_getRelativeTo:function(){var e="",t=window.location.pathname.toString();return t&&t.length>0&&-1!=t.indexOf("/")&&(e=t.replace(/\/([^\/]*)$/,"/")),e},_addRedrawMethods:function(){this._htcNode.suspendRedraw=function(){return function(e){return this._fakeNode.suspendRedraw(e)}}(),this._htcNode.unsuspendRedraw=function(){return function(e){return this._fakeNode.unsuspendRedraw(e)}}(),this._htcNode.unsuspendRedrawAll=function(){return function(){return this._fakeNode.unsuspendRedrawAll()}}(),this._htcNode.forceRedraw=function(){return function(){return this._fakeNode.forceRedraw()}}()},_createCurrentTranslate:function(){return new I(0,0,!0,m(this,this._updateCurrentTranslate))},_updateCurrentTranslate:function(e,t,n){"xy"==e?this._handler.sendToFlash("jsSetCurrentTranslate",["xy",t,n]):this._handler.sendToFlash("jsSetCurrentTranslate",[e,t])}}),D.prototype=new i,q(D,{_nodeById:null,implementation:null,documentElement:null,createElementNS:function(e,n){var i=this._namespaces["_"+e];return"xmlns"!=i&&i||(i=-1!=n.indexOf(":")?n.substring(0,n.indexOf(":")):null),new t(n,i,e,void 0,this._handler)._getProxyNode()},createTextNode:function(e){var t,n=l._unattachedDoc;return t=j?n.createElement("__text"):n.createElementNS(svgnsFake,"__text"),t.appendChild(n.createTextNode(e)),n=new i("#text",i.TEXT_NODE,null,null,t,this._handler),n._nodeValue=e,n.ownerDocument=this,n._getProxyNode()},createDocumentFragment:function(){return new C(this)._getProxyNode()},getElementById:function(e){return e=v(this._xml,null,'//*[@id="'+e+'"]'),e.length?(e=e[0],e=l._getNode(e,this._handler),this._getFakeNode(e)._attached=!0,e):null},getElementsByTagNameNS:function(e,t){if("script"==this._handler.type&&!this._handler._loaded)return[];var n=this.rootElement.getElementsByTagNameNS(e,t);if(e==svgns&&"svg"==t){if(void 0===n.push){var i=n;n=[];for(var s=0;s<i.length;s++)n.push(i[s])}n.push(this.rootElement)}return n},_getNamespaces:function(){for(var e=[],t=this._xml.documentElement.attributes,n=0;n<t.length;n++){var i=t[n];if(/^xmlns:?(.*)$/.test(i.nodeName)){var s=i.nodeName.match(/^xmlns:?(.*)$/);s=s[1]?s[1]:"xmlns",i=i.nodeValue,e["_"+s]||(e["_"+s]=i,e["_"+i]=s,e.push(i))}}return e}}),q(F,{multiply:function(){},inverse:function(){var e=this._handler.sendToFlash("jsMatrixInvert",[this.a,this.b,this.c,this.d,this.e,this.f]);return e=this._handler._stringToMsg(e),new F(new Number(e.a),new Number(e.b),new Number(e.c),new Number(e.d),new Number(e.e),new Number(e.f),this._handler)},translate:function(){},scale:function(){},scaleNonUniform:function(){},rotate:function(){},rotateFromVector:function(){},flipX:function(){},flipY:function(){},skewX:function(){},skewY:function(){}}),O(Y,{SVG_TRANSFORM_UNKNOWN:0,SVG_TRANSFORM_MATRIX:1,SVG_TRANSFORM_TRANSLATE:2,SVG_TRANSFORM_SCALE:3,SVG_TRANSFORM_ROTATE:4,SVG_TRANSFORM_SKEWX:5,SVG_TRANSFORM_SKEWY:6}),q(Y,{type:null,matrix:null,angle:null,setMatrix:function(){},setTranslate:function(){},setScale:function(){},setRotate:function(){},setSkewX:function(){},setSkewY:function(){}}),q(I,{matrixTransform:function(e){return new I(e.a*this.x+e.c*this.y+e.e,e.b*this.x+e.d*this.y+e.f,this._formalAccessors)}}),window.svgweb=new R}();